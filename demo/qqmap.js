TMap = window.TMap || {};
if (!TMap.__load) {
    TMap.__load = function (onLoad) {
        onLoad({
            "key": "OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77",
            "version": "1.0.4.15",
            "highQualityRender": false
        }, 1595133528750);
        delete TMap.__load;
    };
}

/*! @version 1.0.4.15 */
! function (t) {
    function e(i) {
        if (n[i]) return n[i].exports;
        var r = n[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return t[i].call(r.exports, r, r.exports, e), r.l = !0, r.exports
    }
    var n = {};
    e.m = t, e.c = n, e.i = function (t) {
        return t
    }, e.d = function (t, n, i) {
        e.o(t, n) || Object.defineProperty(t, n, {
            configurable: !1,
            enumerable: !0,
            get: i
        })
    }, e.n = function (t) {
        var n = t && t.__esModule ? function () {
            return t.default
        } : function () {
            return t
        };
        return e.d(n, "a", n), n
    }, e.o = function (t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, e.p = "", e(e.s = 474)
}([function (t, e, n) {
    "use strict";
    e.__esModule = !0, e.default = function (t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(106),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = function () {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), (0, r.default)(t, i.key, i)
            }
        }
        return function (e, n, i) {
            return n && t(e.prototype, n), i && t(e, i), e
        }
    }()
}, function (t, e, n) {
    t.exports = {
        default: n(264),
        __esModule: !0
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var r = n(250),
        o = i(r),
        a = n(204),
        s = i(a),
        l = n(37),
        u = i(l);
    e.default = function (t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : (0, u.default)(e)));
        t.prototype = (0, s.default)(e && e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), e && (o.default ? (0, o.default)(t, e) : t.__proto__ = e)
    }
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(37),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = function (t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" !== (void 0 === e ? "undefined" : (0, r.default)(e)) && "function" != typeof e ? t : e
    }
}, function (t, e, n) {
    var i = n(18),
        r = n(30),
        o = n(59),
        a = n(53),
        s = n(77),
        l = function (t, e, n) {
            var u, c, f, d, h = t & l.F,
                v = t & l.G,
                _ = t & l.S,
                p = t & l.P,
                m = t & l.B,
                y = v ? i : _ ? i[e] || (i[e] = {}) : (i[e] || {}).prototype,
                g = v ? r : r[e] || (r[e] = {}),
                x = g.prototype || (g.prototype = {});
            v && (n = e);
            for (u in n) c = !h && y && void 0 !== y[u], f = (c ? y : n)[u], d = m && c ? s(f, i) : p && "function" == typeof f ? s(Function.call, f) : f, y && a(y, u, f, t & l.U), g[u] != f && o(g, u, d), p && x[u] != f && (x[u] = f)
        };
    i.core = r, l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, l.U = 64, l.R = 128, t.exports = l
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        t && (0, d.default)(t).forEach(function (t) {
            e.apply(void 0, (0, c.default)(t))
        })
    }
    var o = n(10),
        a = i(o),
        s = n(37),
        l = i(s),
        u = n(32),
        c = i(u),
        f = n(205),
        d = i(f),
        h = n(21),
        v = i(h),
        _ = n(160),
        p = i(_),
        m = n(249),
        y = i(m),
        g = n(246);
    e.getMax = function (t) {
        for (var e = t.length, n = -1 / 0; e--;) n = t[e] > n ? t[e] : n;
        return n
    }, e.getMin = function (t) {
        for (var e = t.length, n = 1 / 0; e--;) n = t[e] < n ? t[e] : n;
        return n
    }, e.isInRange = function (t, e, n) {
        return t >= e && t <= n
    }, e.clamp = function (t, e, n) {
        return Math.min(n, Math.max(e, t))
    }, e.wrap = function (t, e, n) {
        var i = n - e,
            r = ((t - e) % i + i) % i + e;
        return r === e ? n : r
    }, e.round = function (t, e) {
        var n = Math.pow(10, e);
        return Math.round(t * n) / n
    }, e.degree_to_radian = p.default, e.radian_to_degree = y.default, e.extend = function (t) {
        for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++) n[i - 1] = arguments[i];
        var o = !0,
            a = !1,
            s = void 0;
        try {
            for (var l, u = (0, v.default)(n); !(o = (l = u.next()).done); o = !0) {
                r(l.value, function (e, n) {
                    t[e] = n
                })
            }
        } catch (t) {
            a = !0, s = t
        } finally {
            try {
                !o && u.return && u.return()
            } finally {
                if (a) throw s
            }
        }
        return t
    }, e.bindAll = function (t, e) {
        t.forEach(function (t) {
            e[t] && (e[t] = e[t].bind(e))
        })
    }, e.forIn = r, e.endsWith = function (t, e) {
        return -1 !== t.indexOf(e, t.length - e.length)
    }, e.isDefined = function (t) {
        return null !== t && void 0 !== t
    }, e.isUndefined = function (t) {
        return void 0 === t
    }, e.isString = function (t) {
        return "[object String]" === Object.prototype.toString.call(t)
    }, e.parseJson = function (t) {
        return !JSON || !JSON.stringify ? new Function("return " + t)() : JSON.parse(t)
    }, e.colorToRGBA = function (t) {
        if (t instanceof Array) return t;
        var e = t >> 0 & 255,
            n = t >> 8 & 255,
            i = t >> 16 & 255,
            r = t >> 24 & 255;
        return r /= 255, new Array(e, n, i, r)
    }, e.rgbaToGLColor = function (t) {
        t = String(t);
        var e = t.replace(/ /g, "").substring(t.indexOf("(") + 1, t.indexOf(")")).split(",");
        return 3 === e.length && (e[3] = 1), e = e.map(function (t, e) {
            return 3 === e ? Number(t) : Number(t) / 255
        })
    };
    Math.random();
    e.uniqueId = function () {
        var t, e = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
            n = new Array(36),
            i = 0;
        return function () {
            for (var r = 0; r < 36; r++) 8 === r || 13 === r || 18 === r || 23 === r ? n[r] = "-" : 14 === r ? n[r] = "4" : (i <= 2 && (i = 33554432 + 16777216 * Math.random() | 0), t = 15 & i, i >>= 4, n[r] = e[19 === r ? 3 & t | 8 : t]);
            return n.join("")
        }
    }(), e.objectClone = function (t) {
        var e = this;
        if ("object" !== (void 0 === t ? "undefined" : (0, l.default)(t)) || null === t) return t;
        if (t instanceof Array) return [].concat(t);
        var n = new Object;
        return r(t, function (t, i) {
            n[t] = e.objectClone(i)
        }), n
    }, e.keysDifference = function (t, e) {
        var n = [];
        return r(t, function (t) {
            t in e || n.push(t)
        }), n
    }, e.bezier = function (t, e, n, i) {
        var r = new g(t, e, n, i);
        return function (t) {
            return r.solve(t)
        }
    }, e.ease = e.bezier(.25, .1, .25, 1), e.linearEase = function (t) {
        return t
    }, e.asyncAll = function (t, e, n) {
        if (!t.length) return n(null, []);
        var i = t.length,
            r = new Array(t.length),
            o = null;
        t.forEach(function (t, a) {
            e(t, function (t, e) {
                t && (o = t), r[a] = e, 0 == --i && n(o, r)
            })
        })
    }, e.deepEqual = function (t, n) {
        if (Array.isArray(t)) {
            if (!Array.isArray(n) || t.length !== n.length) return !1;
            for (var i = 0; i < t.length; i++)
                if (!e.deepEqual(t[i], n[i])) return !1;
            return !0
        }
        if ("object" === (void 0 === t ? "undefined" : (0, l.default)(t)) && null !== t && null !== n) {
            if ("object" !== (void 0 === n ? "undefined" : (0, l.default)(n))) return !1;
            if ((0, a.default)(t).length !== (0, a.default)(n).length) return !1;
            for (var r in t)
                if (t.hasOwnProperty(r) && !e.deepEqual(t[r], n[r])) return !1;
            return !0
        }
        return t === n
    };
    var x = {};
    e.warnOnce = function (t) {
        x[t] || ("undefined" != typeof console && console.warn(t), x[t] = !0)
    }, e.clone = function (t) {
        if (null === t || "object" !== (void 0 === t ? "undefined" : (0, l.default)(t))) return t;
        if (t instanceof Date) {
            var e = new Date;
            return e.setTime(t.getTime()), e
        }
        if (t instanceof Array) {
            for (var n = [], i = 0, r = t.length; i < r; ++i) n[i] = this.clone(t[i]);
            return n
        }
        if (t instanceof Object) {
            var o = {};
            for (var a in t) t.hasOwnProperty(a) && (o[a] = this.clone(t[a]));
            return o
        }
        throw new Error("Unable to copy obj! Its type isn't supported.")
    }, e.insertSort = function (t, e) {
        for (var n = 1, i = n; i < t.length; n++, i++)
            for (var r = 0; r < n; r++)
                if (t[i][e] <= t[r][e]) {
                    t.splice(r, 0, t[i]), t.splice(i + 1, 1);
                    break
                }
    }, e.bubbleSort = function (t, e) {
        t.sort(function (t, n) {
            return t[e] - n[e]
        })
    }
}, function (t, e) {
    var n = t.exports = {
        version: "2.6.9"
    };
    "number" == typeof __e && (__e = n)
}, function (t, e, n) {
    var i = n(14),
        r = n(7),
        o = n(33),
        a = n(38),
        s = n(43),
        l = function (t, e, n) {
            var u, c, f, d = t & l.F,
                h = t & l.G,
                v = t & l.S,
                _ = t & l.P,
                p = t & l.B,
                m = t & l.W,
                y = h ? r : r[e] || (r[e] = {}),
                g = y.prototype,
                x = h ? i : v ? i[e] : (i[e] || {}).prototype;
            h && (n = e);
            for (u in n)(c = !d && x && void 0 !== x[u]) && s(y, u) || (f = c ? x[u] : n[u], y[u] = h && "function" != typeof x[u] ? n[u] : p && c ? o(f, i) : m && x[u] == f ? function (t) {
                var e = function (e, n, i) {
                    if (this instanceof t) {
                        switch (arguments.length) {
                            case 0:
                                return new t;
                            case 1:
                                return new t(e);
                            case 2:
                                return new t(e, n)
                        }
                        return new t(e, n, i)
                    }
                    return t.apply(this, arguments)
                };
                return e.prototype = t.prototype, e
            }(f) : _ && "function" == typeof f ? o(Function.call, f) : f, _ && ((y.virtual || (y.virtual = {}))[u] = f, t & l.R && g && !g[u] && a(g, u, f)))
        };
    l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, l.U = 64, l.R = 128, t.exports = l
}, function (t, e, n) {
    "use strict";
    var i = {
        batchRender: !0,
        highQualityRender: !1,
        type: "default",
        minZoom: 3,
        maxZoom: 20,
        maxDataZoom: 18,
        maxPitch: 80,
        minShowIndoorZoom: 17,
        tileSize: 256,
        checkKeySrc: "https://apikey.map.qq.com/mkey/index.php/mkey/check",
        prSrc: "https://pr.map.qq.com/pingd?appid=jsapi_v3",
        verSrc: "https://confinfo.map.qq.com/confinfo",
        iconSize: 16,
        iconSrc: "https://vectorsdk.map.qq.com/fileupdate/jsapi/icon?id={id}&type=img&version={version}",
        iconIndexSrc: "https://vectorsdk.map.qq.com/fileupdate/jsapi/icon?id={id}&type=json&version={version}",
        styleSrc: "https://vectorsdk.map.qq.com/fileupdate/jsapi/style?id={id}&version={version}",
        batchVectorSrc: ["https://rt0.map.gtimg.com/tile?styleid=0&tiles={tiles}&version={version}&style=100&compress=1&mapType=hybrid", "https://rt1.map.gtimg.com/tile?styleid=0&tiles={tiles}&version={version}&style=100&compress=1&mapType=hybrid", "https://rt2.map.gtimg.com/tile?styleid=0&tiles={tiles}&version={version}&style=100&compress=1&mapType=hybrid", "https://rt3.map.gtimg.com/tile?styleid=0&tiles={tiles}&version={version}&style=100&compress=1&mapType=hybrid"],
        vectorSrc: ["https://rt0.map.gtimg.com/tile?styleid=0&z={z}&x={x}&y={y}&version={version}&style=100&compress=1&mapType=hybrid", "https://rt1.map.gtimg.com/tile?styleid=0&z={z}&x={x}&y={y}&version={version}&style=100&compress=1&mapType=hybrid", "https://rt2.map.gtimg.com/tile?styleid=0&z={z}&x={x}&y={y}&version={version}&style=100&compress=1&mapType=hybrid", "https://rt3.map.gtimg.com/tile?styleid=0&z={z}&x={x}&y={y}&version={version}&style=100&compress=1&mapType=hybrid"],
        satelliteSrc: ["https://p0.map.gtimg.com/sateTiles", "https://p1.map.gtimg.com/sateTiles", "https://p2.map.gtimg.com/sateTiles", "https://p3.map.gtimg.com/sateTiles"],
        roadSrc: ["https://rt0.map.gtimg.com/tile", "https://rt1.map.gtimg.com/tile", "https://rt2.map.gtimg.com/tile", "https://rt3.map.gtimg.com/tile"],
        trafficSrc: ["https://rtt2.map.qq.com/rtt/", "https://rtt2a.map.qq.com/rtt/", "https://rtt2b.map.qq.com/rtt/", "https://rtt2c.map.qq.com/rtt/"],
        indoorBuildingSrc: "https://mapvectors.map.qq.com/indoormap",
        indoorStyleSrc: "https://mapvectors.map.qq.com/indoormap/style.js?version={version}",
        indoorIconSrc: "https://rt%$%.map.gtimg.com/icons/indoor/",
        dataVersion: {
            sat: 231,
            tile: 405
        }
    };
    t.exports = i
}, function (t, e, n) {
    t.exports = {
        default: n(265),
        __esModule: !0
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var r = n(2),
        o = i(r),
        a = n(206),
        s = i(a);
    e.default = function t(e, n, i) {
        null === e && (e = Function.prototype);
        var r = (0, s.default)(e, n);
        if (void 0 === r) {
            var a = (0, o.default)(e);
            return null === a ? void 0 : t(a, n, i)
        }
        if ("value" in r) return r.value;
        var l = r.get;
        if (void 0 !== l) return l.call(i)
    }
}, function (t, e, n) {
    t.exports = {
        default: n(259),
        __esModule: !0
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        if (e.includes(":")) {
            var i = n,
                r = e.split(":"),
                a = r[0].trim();
            e = r[1].trim(), n = function (t) {
                for (var e = !1, n = t.target; n && !(e = o(n, a));) n = n.parentNode;
                e && (t.selectorTarget = n, i(t))
            }
        }
        return "addEventListener" in t ? (t.addEventListener(e, n, !1), {
            remove: function () {
                t.removeEventListener(e, n, !1)
            }
        }) : "attachEvent" in t ? (t.attachEvent("on" + e, n), {
            remove: function () {
                t.detachEvent("on" + e, n)
            }
        }) : "on" in t ? (t.on(e, n), {
            remove: function () {
                t.off && t.off(e, n), t.removeListener && t.removeListener(e, n)
            }
        }) : void 0
    }

    function o(t, e) {
        var n = ["matches", "webkitMatchesSelector", "msMatchesSelector", "mozMatchesSelector", "oMatchesSelector"],
            i = !0,
            r = !1,
            o = void 0;
        try {
            for (var a, l = (0, s.default)(n); !(i = (a = l.next()).done); i = !0) {
                var u = a.value;
                if (t[u] && "function" == typeof t[u]) return t[u](e)
            }
        } catch (t) {
            r = !0, o = t
        } finally {
            try {
                !i && l.return && l.return()
            } finally {
                if (r) throw o
            }
        }
        return !1
    }
    var a = n(21),
        s = i(a),
        l = n(10),
        u = i(l),
        c = n(37),
        f = i(c),
        d = n(32),
        h = i(d);
    e.now = function () {
        return self.performance && self.performance.now ? self.performance.now.bind(self.performance) : Date.now.bind(Date)
    }();
    var v = self.requestAnimationFrame || self.mozRequestAnimationFrame || self.webkitRequestAnimationFrame || self.msRequestAnimationFrame;
    e.frame = function (t) {
        return v(t)
    };
    var _ = self.cancelAnimationFrame || self.mozCancelAnimationFrame || self.webkitCancelAnimationFrame || self.msCancelAnimationFrame;
    e.cancelFrame = function (t) {
        _(t)
    }, e.timed = function (n, i, r, o) {
        function a(i) {
            s || (i = t.exports.now(), i >= l + r ? n.call(o, 1) : (n.call(o, (i - l) / r), e.frame(a)))
        }
        if (!r) return n.call(o, 1), null;
        var s = !1,
            l = t.exports.now();
        return e.frame(a),
            function () {
                s = !0, i && i.call(o)
            }
    }, e.getImageData = function (t) {
        var e = self.document.createElement("canvas"),
            n = e.getContext("2d");
        return e.width = t.width, e.height = t.height, n.drawImage(t, 0, 0, t.width, t.height), n.getImageData(0, 0, t.width, t.height).data
    }, e.hardwareConcurrency = self.navigator.hardwareConcurrency || 4, Object.defineProperty(e, "devicePixelRatio", {
        get: function () {
            return Math.round(self.devicePixelRatio) || 1
        }
    }), e.isPC = function () {
        for (var t = self.navigator.userAgent, e = ["Android", "iPhone", "iPad", "iPod", "SymbianOS", "selfs Phone"], n = !0, i = 0; i < e.length; i++)
            if (t.indexOf(e[i]) > 0) {
                n = !1;
                break
            } return n
    }, e.isLowMobileDevice = function () {
        var t = self.navigator.userAgent;
        if (this.isPC()) return !1;
        if (t.includes("SymbianOS") || t.includes("selfs Phone")) return !0;
        var e = t.includes("Android") && parseFloat(t.match(/Android (\d+)/)[1]),
            n = (t.includes("iPhone") || t.includes("iPad") || t.includes("iPod")) && parseFloat(String(t.match(/OS ((\d+_?){2,3})\s/)[1]).replace("_", "."));
        return !!(e && e < 6 || n && n < 11)
    }, e.debounce = function (t, e, n) {
        var i = null;
        return function () {
            var n = arguments;
            i && clearTimeout(i), i = setTimeout(function () {
                t.apply(void 0, (0, h.default)(n))
            }, e)
        }
    }, e.throttle = function (t, e) {
        var n = 0;
        return function () {
            var i = +new Date;
            if (i - n > e) {
                n = i;
                for (var r = arguments.length, o = Array(r), a = 0; a < r; a++) o[a] = arguments[a];
                t.apply(this, o)
            }
        }
    }, e.throttleWithFrame = function (t) {
        var e = null;
        return function () {
            for (var n = this, i = arguments.length, r = Array(i), o = 0; o < i; o++) r[o] = arguments[o];
            e || (e = v(function () {
                t.apply(n, r), e = null
            }))
        }
    };
    var p = function t(e, n, i, o) {
            if (!e || !n) return void console.warn("arguments is invalid!", e, n, i);
            if ("object" === (void 0 === n ? "undefined" : (0, f.default)(n))) {
                var a = null;
                return a = "length" in n ? n.map(function (n) {
                    return t(e, n.trim(), i, o)
                }) : (0, u.default)(n).map(function (r) {
                    return t(e, r.trim(), n[r], i)
                }), {
                    remove: function () {
                        a.forEach(function (t) {
                            t && t.remove && t.remove()
                        })
                    }
                }
            }
            if (-1 !== n.indexOf(",")) {
                n = n.split(",");
                var s = n.map(function (n) {
                    return t(e, n.trim(), i, o)
                });
                return {
                    remove: function () {
                        s.forEach(function (t) {
                            t && t.remove && t.remove()
                        })
                    }
                }
            }
            return r(e, n, function (t) {
                return i.call(o || e, t)
            })
        },
        m = function (t, e, n, i) {
            var r = null,
                o = function (t) {
                    return function () {
                        return r && r.remove && r.remove(), t.apply(this, arguments)
                    }
                };
            return t && e ? ("object" === (void 0 === e ? "undefined" : (0, f.default)(e)) && ("length" in e ? n = o(n) : (0, u.default)(e).forEach(function (t) {
                e[t] = o(e[t])
            })), -1 !== e.indexOf(",") && (e = e.split(","), n = o(n)), r = p(t, e, n, i)) : void console.warn("arguments is invalid!", t, e, n)
        };
    e.on = p, e.once = m
}, function (t, e) {
    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}, function (t, e, n) {
    var i = n(119)("wks"),
        r = n(86),
        o = n(14).Symbol,
        a = "function" == typeof o;
    (t.exports = function (t) {
        return i[t] || (i[t] = a && o[t] || (a ? o : r)("Symbol." + t))
    }).store = i
}, function (t, e, n) {
    var i = n(19);
    t.exports = function (t) {
        if (!i(t)) throw TypeError(t + " is not an object!");
        return t
    }
}, function (t, e) {
    t.exports = function (t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}, function (t, e) {
    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}, function (t, e) {
    t.exports = function (t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}, function (t, e) {
    t.exports = function (t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}, function (t, e, n) {
    t.exports = {
        default: n(256),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = !n(42)(function () {
        return 7 != Object.defineProperty({}, "a", {
            get: function () {
                return 7
            }
        }).a
    })
}, function (t, e, n) {
    var i = n(220)("wks"),
        r = n(134),
        o = n(18).Symbol,
        a = "function" == typeof o;
    (t.exports = function (t) {
        return i[t] || (i[t] = a && o[t] || (a ? o : r)("Symbol." + t))
    }).store = i
}, function (t, e, n) {
    var i = n(28),
        r = n(168),
        o = n(121),
        a = Object.defineProperty;
    e.f = n(22) ? Object.defineProperty : function (t, e, n) {
        if (i(t), e = o(e, !0), i(n), r) try {
            return a(t, e, n)
        } catch (t) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
        return "value" in n && (t[e] = n.value), t
    }
}, function (t, e, n) {
    t.exports = {
        default: n(268),
        __esModule: !0
    }
}, function (t, e, n) {
    var i = n(80),
        r = Math.min;
    t.exports = function (t) {
        return t > 0 ? r(i(t), 9007199254740991) : 0
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return [s.circle, s.rectangle, s.polygon, s.polyline, s.marker, s.label].some(function (e) {
            return t === e
        })
    }

    function r(t) {
        return [s.imageGround, s.canvasGround].some(function (e) {
            return t === e
        })
    }

    function o(t) {
        return [s.indoorRegion, s.indoorPoi, s.indoorEscalator, s.indoor].some(function (e) {
            return t === e
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.isOverlayLayer = i, e.isTextureLayer = r, e.isIndoorLayer = o;
    var a = e.BASE_LAYER_TYPE = {
            arrow: "arrow",
            point: "point",
            label: "label",
            line: "line",
            region: "region",
            ground: "ground",
            base: "base",
            building3d: "building3d",
            building2d: "building2d",
            text: "text"
        },
        s = e.RENDER_LAYER_TYPE = {
            base: a.base,
            building3d: a.building3d,
            building2d: a.building2d,
            text: a.text,
            visualPlugin: "VISUAL_PLUGIN",
            marker: "MARKER",
            polyline: "POLYLINE",
            polygon: "POLYGON",
            label: "LABEL",
            circle: "CIRCLE",
            rectangle: "RECTANGLE",
            imageTile: "IMAGE_TILE",
            imageGround: "IMAGE_Ground",
            canvasGround: "CANVAS_Ground",
            indoor: "INDOOR",
            indoorRegion: "INDOOR_REGION",
            indoorPoi: "INDOOR_POI",
            indoorEscalator: "INDOOR_ESCALATOR"
        }
}, function (t, e, n) {
    var i = n(20);
    t.exports = function (t) {
        if (!i(t)) throw TypeError(t + " is not an object!");
        return t
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(37),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(6).wrap,
        f = n(6).clamp,
        d = 85.051128,
        h = 180,
        v = function () {
            function t(e, n, i) {
                if ((0, s.default)(this, t), e = Number(e), n = Number(n), isNaN(n) || isNaN(e)) throw new Error("参数错误：LatLng 传入参数 (" + e + ", " + n + ") 非合法数字。");
                if (i) e = f(e, -d, d), n = c(n, -h, h);
                else {
                    if (e > d || e < -d) throw new Error("参数错误：LatLng.lat 取值应在 [" + -d + ", " + d + "] 区间内。");
                    if (n > h || n < -h) throw new Error("参数错误：LatLng.lng 取值应在 [" + -h + ", " + h + "] 区间内。")
                }
                this.lat = e, this.lng = n
            }
            return (0, u.default)(t, [{
                key: "toString",
                value: function () {
                    return this.lat + ", " + this.lng
                }
            }, {
                key: "getLat",
                value: function () {
                    return this.lat
                }
            }, {
                key: "getLng",
                value: function () {
                    return this.lng
                }
            }, {
                key: "equals",
                value: function (t) {
                    return this.lat === t.lat && this.lng === t.lng
                }
            }], [{
                key: "convert",
                value: function (e) {
                    if (e instanceof t) return e;
                    if (Array.isArray(e) && 2 === e.length) return new t(Number(e[0]), Number(e[1]), !0);
                    if (!Array.isArray(e) && "object" === (void 0 === e ? "undefined" : (0, o.default)(e)) && null !== e) return new t(Number(e.lat), Number(e.lng), !0);
                    throw new Error("`LatLng` argument must be specified as a LngLat instance, an object {lat: <lat>, lng: <lng>}, or an array of [<lat>, <lng>]")
                }
            }]), t
        }();
    t.exports = v
}, function (t, e) {
    var n = t.exports = {
        version: "2.6.9"
    };
    "number" == typeof __e && (__e = n)
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.AJAXError = e.EnumError = e.ClassTypeError = e.BaseTypeError = void 0;
    var r = n(37),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(4),
        u = i(l),
        c = n(3),
        f = i(c),
        d = n(0),
        h = i(d),
        v = n(1),
        _ = i(v),
        p = function () {
            function t(e) {
                (0, h.default)(this, t), this.message = e
            }
            return (0, _.default)(t, [{
                key: "warn",
                value: function () {
                    console.warn(this.message)
                }
            }, {
                key: "error",
                value: function () {
                    console.error(this.message)
                }
            }, {
                key: "throw",
                value: function () {
                    throw new Error(this.message)
                }
            }]), t
        }(),
        m = function (t) {
            function e(t, n, i) {
                return (0, h.default)(this, e), (0, u.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, "类型错误：" + t + " 应该是 " + n.toUpperCase() + " 类型, 实际却是 " + (void 0 === i ? "undefined" : (0, o.default)(i)).toUpperCase() + " 类型。"))
            }
            return (0, f.default)(e, t), e
        }(p),
        y = function (t) {
            function e(t, n, i) {
                return (0, h.default)(this, e), (0, u.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, "类型错误：" + t + " 应该是 " + n + " 类型, 实际值为 " + i + "。"))
            }
            return (0, f.default)(e, t), e
        }(p),
        g = function (t) {
            function e(t, n, i) {
                return (0, h.default)(this, e), (0, u.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, "枚举错误：" + t + " 的可枚举值为 " + n.join(",") + "，实际却是 " + i))
            }
            return (0, f.default)(e, t), e
        }(p),
        x = function t(e, n) {
            (0, h.default)(this, t), this.message = e, this.status = n
        };
    e.BaseTypeError = m, e.ClassTypeError = y, e.EnumError = g, e.AJAXError = x
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(94),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = function (t) {
        if (Array.isArray(t)) {
            for (var e = 0, n = Array(t.length); e < t.length; e++) n[e] = t[e];
            return n
        }
        return (0, r.default)(t)
    }
}, function (t, e, n) {
    var i = n(63);
    t.exports = function (t, e, n) {
        if (i(t), void 0 === e) return t;
        switch (n) {
            case 1:
                return function (n) {
                    return t.call(e, n)
                };
            case 2:
                return function (n, i) {
                    return t.call(e, n, i)
                };
            case 3:
                return function (n, i, r) {
                    return t.call(e, n, i, r)
                }
        }
        return function () {
            return t.apply(e, arguments)
        }
    }
}, function (t, e, n) {
    t.exports = !n(17)(function () {
        return 7 != Object.defineProperty({}, "a", {
            get: function () {
                return 7
            }
        }).a
    })
}, function (t, e, n) {
    var i = n(16),
        r = n(401),
        o = n(98),
        a = Object.defineProperty;
    e.f = n(34) ? Object.defineProperty : function (t, e, n) {
        if (i(t), e = o(e, !0), i(n), r) try {
            return a(t, e, n)
        } catch (t) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
        return "value" in n && (t[e] = n.value), t
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(162),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        o = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,
        a = /^rgb\((\d+,?\s*){3}\)$/,
        s = /^rgba\((\d+,?\s*){3},\s*[0-9.]+\)$/,
        l = {};
    ! function (t) {
        ["Number", "String", "Function", "Undefined", "Object", "Array"].forEach(function (e) {
            var n = function (t) {
                return "[object " + e + "]" === Object.prototype.toString.call(t)
            };
            t["is" + e] = n
        })
    }(l), l.isNaN = r.default, l.isValidLatLng = function () {
        var t = void 0,
            e = void 0;
        if (1 === arguments.length) {
            var n = arguments[0];
            l.isArray(n) ? (t = n[0], e = n[1]) : (t = n.lat, e = n.lng)
        } else {
            if (2 !== arguments.length) return !1;
            t = arguments[0], e = arguments[1]
        }
        return !(!l.isNumber(t) || !l.isNumber(e)) && (Math.abs(t) <= 90 && Math.abs(e) <= 180)
    }, l.isValidColor = function (t) {
        return l.isArray(t) ? (3 === t.length || 4 === t.length) && t.every(function (t) {
            return t >= 0 && t <= 255
        }) : !!l.isString(t) && (o.test(t) || a.test(t) || s.test(t))
    }, e.default = l
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var r = n(252),
        o = i(r),
        a = n(251),
        s = i(a),
        l = "function" == typeof s.default && "symbol" == typeof o.default ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof s.default && t.constructor === s.default && t !== s.default.prototype ? "symbol" : typeof t
        };
    e.default = "function" == typeof s.default && "symbol" === l(o.default) ? function (t) {
        return void 0 === t ? "undefined" : l(t)
    } : function (t) {
        return t && "function" == typeof s.default && t.constructor === s.default && t !== s.default.prototype ? "symbol" : void 0 === t ? "undefined" : l(t)
    }
}, function (t, e, n) {
    var i = n(24),
        r = n(68);
    t.exports = n(22) ? function (t, e, n) {
        return i.f(t, e, r(1, n))
    } : function (t, e, n) {
        return t[e] = n, t
    }
}, function (t, e, n) {
    var i = n(112),
        r = n(109);
    t.exports = function (t) {
        return i(r(t))
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        n[t] = n[t] || [], n[t].push(e)
    }

    function o(t, e, n) {
        if (n && n[t]) {
            var i = n[t].indexOf(e); - 1 !== i && n[t].splice(i, 1)
        }
    }
    var a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(6),
        m = n(190),
        y = function (t) {
            function e() {
                (0, u.default)(this, e);
                var t = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this));
                return t.setMaxListeners(500), t
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "_on",
                value: function (t, e) {
                    return this._listeners = this._listeners || {}, r(t, e, this._listeners), this.on(t, e), e
                }
            }, {
                key: "_off",
                value: function (t, e) {
                    return o(t, e, this._listeners), o(t, e, this._oneTimeListeners), this.off(t, e), this
                }
            }, {
                key: "_once",
                value: function (t, e) {
                    return this._oneTimeListeners = this._oneTimeListeners || {}, r(t, e, this._oneTimeListeners), this.once(t, e), e
                }
            }, {
                key: "_fire",
                value: function (t, e, n) {
                    if (this._listens(t)) {
                        e = n ? p.extend({}, e, {
                            type: t
                        }) : p.extend({}, e, {
                            type: t,
                            target: this
                        });
                        for (var i = this._listeners && this._listeners[t] ? this._listeners[t].slice() : [], r = 0; r < i.length; r++) i[r].call(this, e);
                        for (var a = this._oneTimeListeners && this._oneTimeListeners[t] ? this._oneTimeListeners[t].slice() : [], s = 0; s < a.length; s++) a[s].call(this, e), o(t, a[s], this._oneTimeListeners);
                        this._eventedParent && this._eventedParent._fire(t, p.extend({}, e, "function" == typeof this._eventedParentData ? this._eventedParentData() : this._eventedParentData))
                    } else p.endsWith(t, "error") && console.error(e && e.error || e || "Empty error event");
                    return this.emit(t, e), this
                }
            }, {
                key: "_listens",
                value: function (t) {
                    return this._listeners && this._listeners[t] && this._listeners[t].length > 0 || this._oneTimeListeners && this._oneTimeListeners[t] && this._oneTimeListeners[t].length > 0 || this._eventedParent && this._eventedParent._listens(t) || this.listenerCount(t) > 0
                }
            }, {
                key: "_setEventedParent",
                value: function (t, e) {
                    return this._eventedParent = t, this._eventedParentData = e, this
                }
            }, {
                key: "_clearAllListeners",
                value: function () {
                    this._listeners = {}, this.removeAllListeners()
                }
            }]), e
        }(m);
    t.exports = y
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = function () {
            function t(e, n) {
                (0, o.default)(this, t), this.x = e, this.y = n
            }
            return (0, s.default)(t, [{
                key: "getX",
                value: function () {
                    return this.x
                }
            }, {
                key: "getY",
                value: function () {
                    return this.y
                }
            }, {
                key: "clone",
                value: function () {
                    return new t(this.x, this.y)
                }
            }, {
                key: "add",
                value: function (t) {
                    return this.clone()._add(t)
                }
            }, {
                key: "sub",
                value: function (t) {
                    return this.clone()._sub(t)
                }
            }, {
                key: "mult",
                value: function (t) {
                    return this.clone()._mult(t)
                }
            }, {
                key: "div",
                value: function (t) {
                    return this.clone()._div(t)
                }
            }, {
                key: "rotate",
                value: function (t) {
                    return this.clone()._rotate(t)
                }
            }, {
                key: "matMult",
                value: function (t) {
                    return this.clone()._matMult(t)
                }
            }, {
                key: "unit",
                value: function () {
                    return this.clone()._unit()
                }
            }, {
                key: "perp",
                value: function () {
                    return this.clone()._perp()
                }
            }, {
                key: "round",
                value: function () {
                    return this.clone()._round()
                }
            }, {
                key: "mag",
                value: function () {
                    return Math.sqrt(this.magSq())
                }
            }, {
                key: "magSq",
                value: function () {
                    return this.x * this.x + this.y * this.y
                }
            }, {
                key: "equals",
                value: function (t) {
                    return this.x === t.x && this.y === t.y
                }
            }, {
                key: "dist",
                value: function (t) {
                    return Math.sqrt(this.distSqr(t))
                }
            }, {
                key: "distSqr",
                value: function (t) {
                    var e = t.x - this.x,
                        n = t.y - this.y;
                    return e * e + n * n
                }
            }, {
                key: "angle",
                value: function () {
                    return Math.atan2(this.y, this.x)
                }
            }, {
                key: "angleTo",
                value: function (t) {
                    return Math.atan2(this.y - t.y, this.x - t.x)
                }
            }, {
                key: "angleWith",
                value: function (t) {
                    return this.angleWithSep(t.x, t.y)
                }
            }, {
                key: "angleWithSep",
                value: function (t, e) {
                    return Math.atan2(this.x * e - this.y * t, this.x * t + this.y * e)
                }
            }, {
                key: "normalize",
                value: function () {
                    return this.clone()._unit()
                }
            }, {
                key: "dot",
                value: function (t) {
                    return this.x * t.x + this.y * t.y
                }
            }, {
                key: "length",
                value: function () {
                    return this.mag()
                }
            }, {
                key: "lengthSq",
                value: function () {
                    return this.magSq()
                }
            }, {
                key: "_matMult",
                value: function (t) {
                    var e = t[0] * this.x + t[1] * this.y,
                        n = t[2] * this.x + t[3] * this.y;
                    return this.x = e, this.y = n, this
                }
            }, {
                key: "_add",
                value: function (t) {
                    return this.x += t.x, this.y += t.y, this
                }
            }, {
                key: "_sub",
                value: function (t) {
                    return this.x -= t.x, this.y -= t.y, this
                }
            }, {
                key: "_mult",
                value: function (t) {
                    return this.x *= t, this.y *= t, this
                }
            }, {
                key: "_div",
                value: function (t) {
                    return this.x /= t, this.y /= t, this
                }
            }, {
                key: "_unit",
                value: function () {
                    return 0 === this.x && 0 === this.y ? this : (this._div(this.mag()), this)
                }
            }, {
                key: "_perp",
                value: function () {
                    var t = this.y;
                    return this.y = this.x, this.x = -t, this
                }
            }, {
                key: "_rotate",
                value: function (t) {
                    var e = Math.cos(t),
                        n = Math.sin(t),
                        i = e * this.x - n * this.y,
                        r = n * this.x + e * this.y;
                    return this.x = i, this.y = r, this
                }
            }, {
                key: "_round",
                value: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                }
            }]), t
        }();
    l.convert = function (t) {
        return t instanceof l ? t : Array.isArray(t) ? new l(t[0], t[1]) : "x" in t && "y" in t && "number" == typeof t.x && "number" == typeof t.y ? new l(t.x, t.y) : t
    }, t.exports = l
}, function (t, e) {
    t.exports = function (t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}, function (t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function (t, e) {
        return n.call(t, e)
    }
}, function (t, e, n) {
    var i = n(109);
    t.exports = function (t) {
        return Object(i(t))
    }
}, function (t, e, n) {
    var i = n(89);
    t.exports = function (t) {
        return Object(i(t))
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return function () {
            return I ? void 0 : t.apply(null, arguments)
        }
    }

    function o(t, e) {
        var n = [];
        for (var i in e) e.hasOwnProperty(i) && n.push(i + "=" + e[i]);
        return t + (-1 === t.indexOf("?") ? "?" : "&") + n.join("&")
    }

    function a(t) {
        var e = (0, E.isWebGLSupportedCached)();
        (0, A.sendOnce)(o(g.default.prSrc, {
            logid: "pv",
            key: t.key || b.default.key,
            v: t.version || "null",
            lt: t.loadDeltaTime || -1,
            d: document.domain,
            dpr: window.devicePixelRatio,
            lss: w.default.support() ? 1 : 0,
            gls: e.context ? 1 : 0,
            ua: window.navigator.userAgent,
            dt: k.default.OS,
            dvn: e.renderer
        }))
    }

    function s() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            e = t.type,
            n = t.code,
            i = t.message,
            r = void 0 === i ? "" : i,
            a = t.key,
            s = void 0 === a ? b.default.key : a;
        (0, A.sendOnce)(o(g.default.prSrc, {
            logid: "err",
            key: s,
            type: e,
            code: n,
            msg: r,
            dt: k.default.OS
        }))
    }

    function l(t, e) {
        t.once("tilesloaded", function () {
            (0, A.sendOnce)(o(g.default.prSrc, {
                logid: "rt",
                frt: Date.now() - e
            }))
        })
    }

    function u(t) {
        var e = (0, E.isWebGLSupportedCached)(),
            n = null,
            i = 0,
            r = null,
            a = function () {
                var a = (0, P.now)(),
                    s = (a - r) / 1e3,
                    l = Math.round(i / (60 * s) * 60);
                t.removeRenderCallback(n), (0, A.sendOnce)(o(g.default.prSrc, {
                    logid: "fps",
                    dt: k.default.OS,
                    num: l,
                    cd: e.isIndependentDisplayCard ? 1 : 0
                }))
            };
        t.on("movestart", function () {
            n && (t.removeListener("moveend", a), t.removeRenderCallback(n), i = 0), r = (0, P.now)(), n = function () {
                i++
            }, t.addRenderCallback(n), t.once("moveend", a)
        })
    }

    function c(t) {
        (0, A.sendOnce)(o(g.default.prSrc, {
            logid: "cl",
            key: t.key || b.default.key,
            subkey: t.subkey || "",
            id: t.id || ""
        }))
    }

    function f(t) {
        (0, A.sendOnce)(o(g.default.prSrc, {
            logid: "cs",
            key: t.key || b.default.key,
            subkey: t.subkey || "",
            id: t.styleId
        }))
    }

    function d(t) {
        var e = t.lat,
            n = t.lng,
            i = t.zoom,
            r = t.pitch,
            a = t.rotation,
            s = t.w,
            l = t.h;
        (0, A.sendOnce)(o(g.default.prSrc, {
            logid: "minfo",
            opt: e.toFixed(4) + "," + n.toFixed(4) + "," + i + "," + r + "," + a,
            size: s + "," + l
        }))
    }

    function h(t, e) {
        if ("tile" === t) {
            var n = e.id,
                i = e.status,
                r = e.time,
                a = M[n];
            a || (a = new L(n), M[n] = a), a.logStatus(i), 0 === i && r && a.logTime(r)
        } else {
            var s = {
                logid: "qos",
                t: t,
                info: e.styleId + "|" + e.version
            };
            e.error || 0 === e.error ? s.e = e.error : s.lt = e.loadTime, (0, A.sendOnce)(o(g.default.prSrc, s))
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.statCn = e.qos = e.minfo = e.cs = e.cl = e.fps = e.frt = e.err = e.pv = void 0;
    var v = n(0),
        _ = i(v),
        p = n(1),
        m = i(p),
        y = n(9),
        g = i(y),
        x = n(150),
        b = i(x),
        S = n(103),
        w = i(S),
        E = n(557),
        A = n(556),
        T = n(378),
        k = i(T),
        P = n(13),
        I = !!b.default.isLocal,
        a = e.pv = r(a),
        s = e.err = r(s),
        l = e.frt = r(l),
        u = e.fps = r(u),
        c = e.cl = r(c),
        f = e.cs = r(f),
        d = e.minfo = r(d),
        M = {},
        h = e.qos = r(h),
        L = function () {
            function t(e) {
                function n() {
                    var t = this.id[0] + "_stat",
                        e = this.id[0] + "_avg",
                        n = {},
                        i = this.tilesStatus.join("|");
                    if ("0|0|0" !== i && (n[t] = i, this.tilesStatus = [0, 0, 0]), this.tilesTime.length > 0) {
                        var r = this.tilesTime.reduce(function (t, e) {
                            return t + e
                        }, 0) / this.tilesTime.length;
                        n[e] = Math.max(0, Math.floor(r)), this.tilesTime = []
                    }
                    return n
                }(0, _.default)(this, t), this.id = e, this.tilesStatus = [0, 0, 0], this.tilesTime = [], (0, A.sendPeriodically)("tile", o(g.default.prSrc, {
                    logid: "qos",
                    t: "tile"
                }), n.bind(this))
            }
            return (0, m.default)(t, [{
                key: "logStatus",
                value: function (t) {
                    this.tilesStatus[t] += 1
                }
            }, {
                key: "logTime",
                value: function (t) {
                    this.tilesTime.push(t)
                }
            }]), t
        }(),
        C = function () {
            function t() {
                setTimeout(function () {
                    e.length > 0 && ((0, A.sendOnce)(o(g.default.prSrc, {
                        logid: "cn",
                        cn: e.join(",")
                    })), e = []), t()
                }, 5e3)
            }
            var e = [];
            return t(),
                function (t) {
                    t && e.push(t)
                }
        }();
    e.statCn = r(C)
}, function (t, e, n) {
    "use strict";

    function i(t, e, n) {
        var i = window.document.createElement(t);
        return e && (i.className = e), n && n.appendChild(i), i
    }

    function r(t) {
        for (var e = 0; e < t.length; e++)
            if (t[e] in g) return t[e];
        return t[0]
    }

    function o() {
        x && (b = g[x], g[x] = "none")
    }

    function a() {
        x && (g[x] = b)
    }

    function s(t, e) {
        t.style[S] = e
    }

    function l(t) {
        t.preventDefault(), t.stopPropagation(), window.removeEventListener("click", l, !0)
    }

    function u() {
        window.addEventListener("click", l, !0), window.setTimeout(function () {
            window.removeEventListener("click", l, !0)
        }, 0)
    }

    function c(t, e) {
        var n = t.getBoundingClientRect();
        return e = e.touches ? ("touchend" === e.type ? e.changedTouches : e.touches)[0] : e, new y(e.clientX - n.left - t.clientLeft, e.clientY - n.top - t.clientTop)
    }

    function f(t, e) {
        for (var n = t.getBoundingClientRect(), i = [], r = "touchend" === e.type ? e.changedTouches : e.touches, o = 0; o < r.length; o++) i.push(new y(r[o].clientX - n.left - t.clientLeft, r[o].clientY - n.top - t.clientTop));
        return i
    }

    function d(t) {
        t.parentNode && t.parentNode.removeChild(t)
    }

    function h(t) {
        var e = document.createElement("div");
        e.innerHTML = t;
        var n = document.createDocumentFragment();
        return Array.prototype.slice.apply(e.childNodes).forEach(function (t) {
            n.appendChild(t)
        }), n
    }

    function v(t) {
        if ("pageX" in t && "pageY" in t) return {
            x: t.pageX,
            y: t.pageY
        };
        if ("touches" in t && t.touches.length > 0) {
            var e = t.touches[0];
            return {
                x: e.pageX,
                y: e.pageY
            }
        }
        if ("changedTouches" in t && t.changedTouches.length > 0) {
            var n = t.changedTouches[0];
            return {
                x: n.pageX,
                y: n.pageY
            }
        }
    }

    function _(t, e) {
        t && (Array.isArray(e) || (e = [e]), e.forEach(function (e) {
            m(t, e) || (t.className += " " + e)
        }))
    }

    function p(t, e) {
        t && (Array.isArray(e) || (e = [e]), e.forEach(function (e) {
            m(t, e) && (t.className = t.className.replace(" " + e, ""))
        }))
    }

    function m(t, e) {
        if (t) {
            var n = " " + e + " ";
            return (" " + t.className + " ").includes(n)
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.create = i, e.disableDrag = o, e.enableDrag = a, e.setTransform = s, e.suppressClick = u, e.mousePos = c, e.touchPos = f, e.remove = d, e.toDom = h, e.getPointerXY = v, e.addClass = _, e.removeClass = p, e.hasClass = m;
    var y = n(41),
        g = window.document.documentElement.style,
        x = r(["userSelect", "MozUserSelect", "WebkitUserSelect", "msUserSelect"]),
        b = void 0,
        S = (e.TRANSFORMORIGIN = r(["TRANSFORMORIGIN", "WebkitTransformOrigin", "OTransformOrigin", "MozTransformOrigin", "msTransformOrigin"]), e.TRANSFORM = r(["transform", "WebkitTransform", "OTransform", "MozTransform", "msTransform"])),
        w = e.TRANSITION = r(["transition", "webkitTransition", "OTransition", "MozTransition", "msTransition"]);
    e.TRANSITIONEND = "transition" === w ? w + "end" : w + "End", e.TRANSITIONDURATION = w + "Duration", e.TRANSITIONTIMINGFUNCTION = w + "TimingFunction"
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.SOURCE_TYPE = {
        vector: "vector",
        geojson: "geojson",
        geoTask: "geo_task",
        imageTile: "image_tile",
        indoor: "indoor",
        ground: "ground"
    }
}, function (t, e, n) {
    var i = n(8),
        r = n(7),
        o = n(42);
    t.exports = function (t, e) {
        var n = (r.Object || {})[t] || Object[t],
            a = {};
        a[t] = e(n), i(i.S + i.F * o(function () {
            n(1)
        }), "Object", a)
    }
}, function (t, e, n) {
    "use strict";
    var i = n(285)(!0);
    n(113)(String, "String", function (t) {
        this._t = String(t), this._i = 0
    }, function () {
        var t, e = this._t,
            n = this._i;
        return n >= e.length ? {
            value: void 0,
            done: !0
        } : (t = i(e, n), this._i += t.length, {
            value: t,
            done: !1
        })
    })
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Store = e.textures = void 0;
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = function () {},
        u = function () {
            function t(e, n, i, r) {
                (0, o.default)(this, t), this.max = n || 1e4, this.type = e || "default", this.count = 0, this.store = {}, this.reduceRange = i || Math.max(1, ~~this.max / 100), this.deleteCallback = r || l
            }
            return (0, s.default)(t, [{
                key: "set",
                value: function (t, e) {
                    return this.count > this.max && this.reduce(), t in this.store || this.count++, this.store[t] = e, e
                }
            }, {
                key: "get",
                value: function (t) {
                    return this.store[t]
                }
            }, {
                key: "reduce",
                value: function () {
                    var t = 0,
                        e = this.reduceRange;
                    for (var n in this.store)
                        if (this.store.hasOwnProperty(n)) {
                            if (!(t++ < e)) break;
                            this.deleteCallback(this.store[n]), delete this.store[n]
                        } this.count -= e
                }
            }, {
                key: "clear",
                value: function () {
                    for (var t in this.store) this.store.hasOwnProperty(t) && (this.deleteCallback(this.store[t]), this.store[t] = null);
                    this.store = {}, this.count = 0
                }
            }, {
                key: "exist",
                value: function (t) {
                    return t in this.store
                }
            }, {
                key: "remove",
                value: function (t) {
                    t in this.store && (this.deleteCallback(this.store[t]), delete this.store[t], this.count--)
                }
            }]), t
        }(),
        c = new u("texture", 1e3);
    e.textures = c, e.Store = u
}, function (t, e, n) {
    var i = n(176),
        r = n(111);
    t.exports = Object.keys || function (t) {
        return i(t, r)
    }
}, function (t, e, n) {
    var i = n(18),
        r = n(59),
        o = n(58),
        a = n(134)("src"),
        s = n(653),
        l = ("" + s).split("toString");
    n(30).inspectSource = function (t) {
        return s.call(t)
    }, (t.exports = function (t, e, n, s) {
        var u = "function" == typeof n;
        u && (o(n, "name") || r(n, "name", e)), t[e] !== n && (u && (o(n, a) || r(n, a, t[e] ? "" + t[e] : l.join(String(e)))), t === i ? t[e] = n : s ? t[e] ? t[e] = n : r(t, e, n) : (delete t[e], r(t, e, n)))
    })(Function.prototype, "toString", function () {
        return "function" == typeof this && this[a] || s.call(this)
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(17),
        o = n(89),
        a = /"/g,
        s = function (t, e, n, i) {
            var r = String(o(t)),
                s = "<" + e;
            return "" !== n && (s += " " + n + '="' + String(i).replace(a, "&quot;") + '"'), s + ">" + r + "</" + e + ">"
        };
    t.exports = function (t, e) {
        var n = {};
        n[t] = e(s), i(i.P + i.F * r(function () {
            var e = "" [t]('"');
            return e !== e.toLowerCase() || e.split('"').length > 3
        }), "String", n)
    }
}, function (t, e, n) {
    t.exports = {
        default: n(622),
        __esModule: !0
    }
}, function (t, e) {
    t.exports = {}
}, function (t, e, n) {
    n(290);
    for (var i = n(14), r = n(38), o = n(56), a = n(15)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), l = 0; l < s.length; l++) {
        var u = s[l],
            c = i[u],
            f = c && c.prototype;
        f && !f[a] && r(f, a, u), o[u] = o.Array
    }
}, function (t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function (t, e) {
        return n.call(t, e)
    }
}, function (t, e, n) {
    var i = n(35),
        r = n(132);
    t.exports = n(34) ? function (t, e, n) {
        return i.f(t, e, r(1, n))
    } : function (t, e, n) {
        return t[e] = n, t
    }
}, function (t, e, n) {
    var i = n(187),
        r = n(89);
    t.exports = function (t) {
        return i(r(t))
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(36),
        u = (i(l), n(31)),
        c = n(29),
        f = function () {
            function t(e, n) {
                return (0, o.default)(this, t), !e || e instanceof c ? !n || n instanceof c ? void(e && (n ? ((e.getLat() > n.getLat() || e.getLng() > n.getLng()) && console.error("LatLngBounds中sw 的经纬度必须小于ne的经纬度，实际传入sw为：", e, "ne 为：", n), this.setSouthWest(e).setNorthEast(n)) : 4 === e.length ? this.setSouthWest([e[0], e[1]]).setNorthEast([e[2], e[3]]) : 2 === e.length && this.setSouthWest(e[0]).setNorthEast(e[1]))) : void new u.BaseTypeError("LatLngBounds.ne", "LatLng", n).error() : void new u.BaseTypeError("LatLngBounds.sw", "LatLng", e).error()
            }
            return (0, s.default)(t, [{
                key: "setNorthEast",
                value: function (t) {
                    return this._ne = c.convert(t), this
                }
            }, {
                key: "setSouthWest",
                value: function (t) {
                    return this._sw = c.convert(t), this
                }
            }, {
                key: "getCenter",
                value: function () {
                    return new c((this._sw.lat + this._ne.lat) / 2, (this._sw.lng + this._ne.lng) / 2, !0)
                }
            }, {
                key: "getSouthWest",
                value: function () {
                    return this._sw
                }
            }, {
                key: "getNorthEast",
                value: function () {
                    return this._ne
                }
            }, {
                key: "extend",
                value: function (e) {
                    var n = this._sw,
                        i = this._ne,
                        r = void 0,
                        o = void 0;
                    if (e instanceof c) r = e, o = e;
                    else {
                        if (!(e instanceof t)) return Array.isArray(e) ? e.every(Array.isArray) ? this.extend(t.convert(e)) : this.extend(c.convert(e)) : this;
                        if (r = e._sw, o = e._ne, !r || !o) return this
                    }
                    return n || i ? (this._sw = new c(Math.min(r.lat, n.lat), Math.min(r.lng, n.lng), !0), this._ne = new c(Math.max(o.lat, i.lat), Math.max(o.lng, i.lng), !0)) : (this._sw = new c(r.lat, r.lng, !0), this._ne = new c(o.lat, o.lng, !0)), this
                }
            }, {
                key: "union",
                value: function (t) {
                    return this.extend(t)
                }
            }, {
                key: "equals",
                value: function (t) {
                    var e = this._sw,
                        n = this._ne,
                        i = t.getSouthWest(),
                        r = t.getNorthEast();
                    return e.equals(i) && n.equals(r)
                }
            }, {
                key: "intersects",
                value: function (t) {
                    var e = this._sw,
                        n = this._ne,
                        i = t.getSouthWest(),
                        r = t.getNorthEast();
                    return !(i.lat > n.lat || r.lat < e.lat || i.lng > n.lng || r.lng < e.lng)
                }
            }, {
                key: "covers",
                value: function (t) {
                    var e = t.getSouthWest(),
                        n = t.getNorthEast(),
                        i = t.getSouthEast(),
                        r = t.getNorthWest();
                    return this.contains(e) && this.contains(n) && this.contains(i) && this.contains(r)
                }
            }, {
                key: "isEmpty",
                value: function () {
                    return !this._sw || !this._ne || this._sw.lat === this._ne.lat || this._sw.lng === this._ne.lng
                }
            }, {
                key: "contains",
                value: function (t) {
                    return this._sw.lat <= t.lat && this._sw.lng <= t.lng && this._ne.lat >= t.lat && this._ne.lng >= t.lng
                }
            }, {
                key: "getNorthWest",
                value: function () {
                    return new c(this.getNorth(), this.getWest(), !0)
                }
            }, {
                key: "getSouthEast",
                value: function () {
                    return new c(this.getSouth(), this.getEast(), !0)
                }
            }, {
                key: "getWest",
                value: function () {
                    return this._sw.lng
                }
            }, {
                key: "getSouth",
                value: function () {
                    return this._sw.lat
                }
            }, {
                key: "getEast",
                value: function () {
                    return this._ne.lng
                }
            }, {
                key: "getNorth",
                value: function () {
                    return this._ne.lat
                }
            }, {
                key: "toString",
                value: function () {
                    return "LatLngBounds(" + this._sw.toString() + ", " + this._ne.toString() + ")"
                }
            }]), t
        }();
    f.convert = function (t) {
        return !t || t instanceof f ? t : new f(t)
    }, f._convertFromWorker = function (t) {
        return t._sw && t._ne ? new f(c.convert(t._sw), c.convert(t._ne)) : t
    }, t.exports = f
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(141),
        _ = i(v),
        p = function (t) {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                (0, s.default)(this, e);
                var i = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n));
                return i._initialize(n), i
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_onCreate",
                value: function () {
                    return this.gl.createTexture()
                }
            }, {
                key: "_onDelete",
                value: function () {
                    this.unbind(), this.gl.deleteTexture(this._object)
                }
            }, {
                key: "_initialize",
                value: function (t) {
                    var e = t.tex,
                        n = t.originalWidth,
                        i = t.originalHeight,
                        r = t.width,
                        o = t.height,
                        a = t.internalformat,
                        s = t.type,
                        l = void 0 === s ? "UNSIGNED_BYTE" : s,
                        u = t.format,
                        c = void 0 === u ? "RGBA" : u,
                        f = e && e.width,
                        d = e && e.height;
                    this.tex = e || null, this.originalWidth = n || f, this.originalHeight = i || d, this.width = r || f, this.height = o || d, this.type = l, this.format = c, this.internalformat = a || c, this._uploaded = !1
                }
            }, {
                key: "bind",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    t = t || this.gl;
                    var n = this._object,
                        i = t.TEXTURE0 + (e.textureIndex || 0);
                    t.activeTexture(i), t.bindTexture(t.TEXTURE_2D, n)
                }
            }, {
                key: "unbind",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    t = t || this.gl;
                    var n = t.TEXTURE0 + (e.textureIndex || 0);
                    t.activeTexture(n), t.bindTexture(this.gl.TEXTURE_2D, null)
                }
            }, {
                key: "resize",
                value: function (t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    this.width = t, this.height = e;
                    var i = this.gl;
                    i && (this.bind(null, n), this._preSet(n), i.texImage2D(i.TEXTURE_2D, 0, i[this.internalformat], t, e, 0, i[this.format], i[this.type], this.tex))
                }
            }, {
                key: "update",
                value: function (t, e) {
                    t && (this.width = this.originalWidth = t.width, this.height = this.originalHeight = t.height, this.tex = t || null, this._uploaded = !1, this.upload(e))
                }
            }, {
                key: "upload",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    this.gl || console.error("Texture donnot have gl, unable upload to GPU!");
                    var e = this.gl;
                    this.bind(null, t), this._preSet(t), this._uploaded || (e.isWebGL2 ? e.texImage2D(e.TEXTURE_2D, 0, e[this.internalformat], this.width, this.height, 0, e[this.format], e[this.type], this.tex) : e.texImage2D(e.TEXTURE_2D, 0, e[this.internalformat], e[this.format], e[this.type], this.tex), t.useMipmap && e.generateMipmap(e.TEXTURE_2D)), this._uploaded = !0
                }
            }, {
                key: "destroy",
                value: function () {
                    this.gl && this.delete()
                }
            }, {
                key: "_preSet",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        e = this.gl;
                    t.flipY && e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, 1), t.premultiply && e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t.minFilter || e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, t.magFilter || e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, t.wrapS || e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, t.wrapT || e.CLAMP_TO_EDGE)
                }
            }, {
                key: "texture",
                get: function () {
                    return this._object
                }
            }]), e
        }(_.default);
    e.default = p
}, function (t, e) {
    t.exports = function (t) {
        if ("function" != typeof t) throw TypeError(t + " is not a function!");
        return t
    }
}, function (t, e) {
    var n = {}.toString;
    t.exports = function (t) {
        return n.call(t).slice(8, -1)
    }
}, function (t, e, n) {
    var i = n(33),
        r = n(171),
        o = n(169),
        a = n(28),
        s = n(85),
        l = n(125),
        u = {},
        c = {},
        e = t.exports = function (t, e, n, f, d) {
            var h, v, _, p, m = d ? function () {
                    return t
                } : l(t),
                y = i(n, f, e ? 2 : 1),
                g = 0;
            if ("function" != typeof m) throw TypeError(t + " is not iterable!");
            if (o(m)) {
                for (h = s(t.length); h > g; g++)
                    if ((p = e ? y(a(v = t[g])[0], v[1]) : y(t[g])) === u || p === c) return p
            } else
                for (_ = m.call(t); !(v = _.next()).done;)
                    if ((p = r(_, y, v.value, e)) === u || p === c) return p
        };
    e.BREAK = u, e.RETURN = c
}, function (t, e) {
    t.exports = !0
}, function (t, e) {
    e.f = {}.propertyIsEnumerable
}, function (t, e) {
    t.exports = function (t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}, function (t, e, n) {
    var i = n(24).f,
        r = n(43),
        o = n(15)("toStringTag");
    t.exports = function (t, e, n) {
        t && !r(t = n ? t : t.prototype, o) && i(t, o, {
            configurable: !0,
            value: e
        })
    }
}, function (t, e, n) {
    "use strict";
    var i = n(17);
    t.exports = function (t, e) {
        return !!t && i(function () {
            e ? t.call(null, function () {}, 1) : t.call(null)
        })
    }
}, , function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(32),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(82),
        h = i(d),
        v = n(391),
        _ = (i(v), n(585)),
        p = i(_),
        m = n(6),
        y = i(m),
        g = void 0,
        x = {},
        b = function () {
            function t(e) {
                (0, u.default)(this, t), this.gl = e.gl, this.location = {}, this.store = null, this.shaderSource = null, this.shaderParams = null
            }
            return (0, f.default)(t, [{
                key: "preDraw",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        e = this.shaderSource.name + this.gl.id;
                    e !== g && (g = e, this.createShader(this.shaderSource, e)), this.loadTexture(t), this.applyLight(t.lightUniforms, t.shadowTexture)
                }
            }, {
                key: "afterDraw",
                value: function () {
                    if (this.enableLight) {
                        var t = this.gl;
                        t.activeTexture(t.TEXTURE3), t.bindTexture(t.TEXTURE_2D, null)
                    }
                }
            }, {
                key: "loadTexture",
                value: function (t) {}
            }, {
                key: "applyLight",
                value: function (t, e) {
                    if (t && this.enableLight) {
                        var n = this.gl,
                            i = t.lighting_uBase,
                            r = t.lighting_uToneMapping,
                            o = t.lighting_uAmbientColor,
                            a = t.lighting_uDirDirection,
                            l = t.lighting_uDirColor,
                            u = t.lighting_uDirCount,
                            c = t.lighting_uPointPosition,
                            f = t.lighting_uPointAtt,
                            d = t.lighting_uPointColor,
                            h = t.lighting_uPointCount,
                            v = t.lighting_uShadow,
                            _ = t.lighting_uViewPos,
                            p = t.lighting_uShadowLightPVMatrix;
                        e && e.bind(n, {
                            textureIndex: 3
                        }), n.uniform4f.apply(n, [this.lighting_uBase].concat((0, s.default)(i))), n.uniform4f.apply(n, [this.lighting_uAdvanced].concat((0, s.default)(r), (0, s.default)(v))), n.uniform3f.apply(n, [this.lighting_uAmbientColor].concat((0, s.default)(o))), n.uniform3fv(this.lighting_uDirDirection, a), n.uniform3fv(this.lighting_uDirColor, l), n.uniform3fv(this.lighting_uPointPosition, c), n.uniform3fv(this.lighting_uPointAtt, f), n.uniform3fv(this.lighting_uPointColor, d), n.uniform2f(this.lighting_uLightCount, u, h), n.uniform3f.apply(n, [this.lighting_uViewPos].concat((0, s.default)(_))), n.uniformMatrix4fv(this.lighting_uShadowLightPVMatrix, !1, p), e && n.uniform1i(this.lighting_uShadowSampler, 3)
                    }
                }
            }, {
                key: "createBuffer",
                value: function (t, e, n, i) {
                    var r = this.gl,
                        o = {};
                    return e && (o.vertices = new h.default(r, {
                        data: e,
                        usage: r.DYNAMIC_DRAW
                    })), n && (o.indices = new h.default(r, {
                        target: r.ELEMENT_ARRAY_BUFFER,
                        data: n,
                        usage: r.DYNAMIC_DRAW
                    }), o.length = n.byteLength / n.BYTES_PER_ELEMENT), i && (o.fillCoordinates = new h.default(r, {
                        data: i,
                        usage: r.DYNAMIC_DRAW
                    })), o
                }
            }, {
                key: "bindVertexBuffer",
                value: function (t, e) {
                    var n = this.gl,
                        i = t.attributes,
                        r = void 0;
                    e ? e.bind() : e = new h.default(n, {
                        data: t.arrayBuffer,
                        usage: n.DYNAMIC_DRAW
                    });
                    for (var o = 0, a = i.length; o < a; o++) {
                        r = i[o], r.name in this.location || (this.location[r.name] = n.getAttribLocation(n.program, r.name));
                        var s = this.location[r.name];
                        s < 0 || e.pointToAttrib({
                            location: s,
                            size: r.components,
                            type: n[r.type],
                            stride: t.bytesPerElement,
                            offset: r.offset
                        })
                    }
                    return e
                }
            }, {
                key: "unbindVertexBuffer",
                value: function (t) {
                    var e = this;
                    (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []).forEach(function (t) {
                        t.name in e.location || (e.location[t.name] = gl.getAttribLocation(gl.program, t.name));
                        var n = e.location[t.name];
                        n < 0 || e.gl.disableVertexAttribArray(n)
                    }), t.unbind()
                }
            }, {
                key: "bindElementBuffer",
                value: function (t, e) {
                    var n = this.gl;
                    return e ? e.bind() : e = new h.default(n, {
                        target: n.ELEMENT_ARRAY_BUFFER,
                        data: t.arrayBuffer,
                        usage: n.DYNAMIC_DRAW
                    }), e
                }
            }, {
                key: "setShaderParams",
                value: function () {
                    var t = this,
                        e = this.gl,
                        n = (0, o.default)({}, this.shaderParams);
                    if (this.enableLight) {
                        var i;
                        (i = n.getUniformLocation).push.apply(i, ["lighting_uBase", "lighting_uAdvanced", "lighting_uAmbientColor", "lighting_uDirDirection", "lighting_uDirColor", "lighting_uPointPosition", "lighting_uPointAtt", "lighting_uPointColor", "lighting_uLightCount", "lighting_uViewPos", "lighting_uShadowLightPVMatrix", "lighting_uShadowSampler"])
                    }
                    y.default.forIn(n, function (n, i) {
                        i.forEach(function (i) {
                            t[i] = e[n](e.program, i)
                        })
                    })
                }
            }, {
                key: "createShader",
                value: function (t, e) {
                    var n = this.gl,
                        i = x[e];
                    if (i) return void i.enable();
                    i = new p.default(n, {
                        vShader: t.v,
                        fShader: t.f
                    }), i.enable(), x[e] = i, this.setShaderParams()
                }
            }, {
                key: "clearStore",
                value: function () {
                    this.store && this.store.clear()
                }
            }, {
                key: "destroy",
                value: function () {
                    this.store && (this.store.clear(), this.store = null);
                    var t = this.shaderSource.name + this.gl.id;
                    x[t] && (x[t].delete(), delete x[t]), this.shaderParams = null, this.shaderSource = null, this.location = null, this.gl = null
                }
            }, {
                key: "isBufferChanged",
                value: function (t, e) {
                    if (t && e) {
                        for (var n in t)
                            if (t.hasOwnProperty(n) && e[n] && t[n].data !== e[n]) return !0;
                        return !1
                    }
                }
            }]), t
        }();
    e.default = b
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t - (0, a.default)(t)
    }

    function r(t) {
        var e = (0, a.default)(t);
        return {
            high: e,
            low: t - e
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(599),
        a = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(o);
    e.fp64LowPart = i, e.splitLatLngNumber = r
}, function (t, e, n) {
    var i = n(86)("meta"),
        r = n(20),
        o = n(43),
        a = n(24).f,
        s = 0,
        l = Object.isExtensible || function () {
            return !0
        },
        u = !n(42)(function () {
            return l(Object.preventExtensions({}))
        }),
        c = function (t) {
            a(t, i, {
                value: {
                    i: "O" + ++s,
                    w: {}
                }
            })
        },
        f = function (t, e) {
            if (!r(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
            if (!o(t, i)) {
                if (!l(t)) return "F";
                if (!e) return "E";
                c(t)
            }
            return t[i].i
        },
        d = function (t, e) {
            if (!o(t, i)) {
                if (!l(t)) return !0;
                if (!e) return !1;
                c(t)
            }
            return t[i].w
        },
        h = function (t) {
            return u && v.NEED && l(t) && !o(t, i) && c(t), t
        },
        v = t.exports = {
            KEY: i,
            NEED: !1,
            fastKey: f,
            getWeak: d,
            onFreeze: h
        }
}, function (t, e) {
    t.exports = function (t) {
        if ("function" != typeof t) throw TypeError(t + " is not a function!");
        return t
    }
}, function (t, e, n) {
    var i = n(77),
        r = n(187),
        o = n(45),
        a = n(26),
        s = n(397);
    t.exports = function (t, e) {
        var n = 1 == t,
            l = 2 == t,
            u = 3 == t,
            c = 4 == t,
            f = 6 == t,
            d = 5 == t || f,
            h = e || s;
        return function (e, s, v) {
            for (var _, p, m = o(e), y = r(m), g = i(s, v, 3), x = a(y.length), b = 0, S = n ? h(e, x) : l ? h(e, 0) : void 0; x > b; b++)
                if ((d || b in y) && (_ = y[b], p = g(_, b, m), t))
                    if (n) S[b] = p;
                    else if (p) switch (t) {
                case 3:
                    return !0;
                case 5:
                    return _;
                case 6:
                    return b;
                case 2:
                    S.push(_)
            } else if (c) return !1;
            return f ? -1 : u || c ? c : S
        }
    }
}, function (t, e, n) {
    var i = n(75);
    t.exports = function (t, e, n) {
        if (i(t), void 0 === e) return t;
        switch (n) {
            case 1:
                return function (n) {
                    return t.call(e, n)
                };
            case 2:
                return function (n, i) {
                    return t.call(e, n, i)
                };
            case 3:
                return function (n, i, r) {
                    return t.call(e, n, i, r)
                }
        }
        return function () {
            return t.apply(e, arguments)
        }
    }
}, function (t, e, n) {
    var i = n(188),
        r = n(132),
        o = n(60),
        a = n(98),
        s = n(58),
        l = n(401),
        u = Object.getOwnPropertyDescriptor;
    e.f = n(34) ? u : function (t, e) {
        if (t = o(t), e = a(e, !0), l) try {
            return u(t, e)
        } catch (t) {}
        if (s(t, e)) return r(!i.f.call(t, e), t[e])
    }
}, function (t, e, n) {
    var i = n(5),
        r = n(30),
        o = n(17);
    t.exports = function (t, e) {
        var n = (r.Object || {})[t] || Object[t],
            a = {};
        a[t] = e(n), i(i.S + i.F * o(function () {
            n(1)
        }), "Object", a)
    }
}, function (t, e) {
    var n = Math.ceil,
        i = Math.floor;
    t.exports = function (t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? i : n)(t)
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = {
        QMAPI_style: "QMAPI__style__",
        QMAPI_style_indoor: "QMAPI__style__indoor__",
        QMAPI_poi_icon: "QMAPI__poi__icon",
        QMAPI_poi_icon_json: "QMAPI__poi__icon__json",
        QMAPI_indoor_buffer: "QMAPI__indoor__buffer__",
        VECTOR_SOURCE_ID: "vector_source"
    };
    e.IMAGE_DISPLAY = {
        ORIGIN: 0,
        SCALE: 1,
        REPEAT: 2
    };
    e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(141),
        _ = i(v),
        p = function (t) {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_onCreate",
                value: function () {
                    return this.gl.createBuffer()
                }
            }, {
                key: "_onDelete",
                value: function () {
                    this.unbind(), this.gl.deleteBuffer(this._object)
                }
            }, {
                key: "_initialize",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    this.target = t.target || this.gl.ARRAY_BUFFER, t.data && (this.bind(), this.bufferData(t.data, t))
                }
            }, {
                key: "bind",
                value: function (t, e) {
                    t = t || this.gl, e = e || this.target, t.bindBuffer(e, this._object)
                }
            }, {
                key: "unbind",
                value: function (t, e) {
                    t = t || this.gl, e = e || this.target, t.bindBuffer(e, null)
                }
            }, {
                key: "bufferData",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    this.gl.bufferData(this.target, t, e.usage || this.gl.STATIC_DRAW)
                }
            }, {
                key: "bufferSubData",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    this.gl.bufferSubData(this.target, e.offset || 0, t)
                }
            }, {
                key: "pointToAttrib",
                value: function (t) {
                    var e = t.location,
                        n = t.size,
                        i = t.type,
                        r = t.normalized,
                        o = void 0 !== r && r,
                        a = t.stride,
                        s = void 0 === a ? 0 : a,
                        l = t.offset,
                        u = void 0 === l ? 0 : l,
                        c = t.enable,
                        f = void 0 === c || c;
                    this.gl.vertexAttribPointer(e, n, i, o, s, u), f && this.gl.enableVertexAttribArray(e)
                }
            }, {
                key: "buffer",
                get: function () {
                    return this._object
                }
            }]), e
        }(_.default);
    e.default = p
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        return {
            x: t / n.width * 2 - 1,
            y: -e / n.height * 2 + 1,
            z: 1
        }
    }

    function o(t, e, n) {
        return {
            x: (t + 1) / 2 * n.width,
            y: (1 - e) / 2 * n.height
        }
    }

    function a(t, e, n) {
        var i = t.multiplyVector4(e),
            r = i.elements.map(function (t) {
                return t / i.elements[3]
            }),
            a = o(r[0], r[1], n);
        return {
            x: a.x,
            y: a.y,
            depthScale: 1
        }
    }

    function s(t, e, n) {
        var i = t.clone().invert(),
            o = r(e.x, e.y, n),
            a = new m.Vector4(o.x, o.y, 0, 1),
            s = new m.Vector4(o.x, o.y, 1, 1),
            l = i.multiplyVector4(a),
            u = i.multiplyVector4(s);
        l.multiply(1 / l.elements[3]), u.multiply(1 / u.elements[3]);
        var c = (0 - l.elements[2]) / (u.elements[2] - l.elements[2]),
            f = l.add(u.minus(l).multiply(c));
        return {
            x: f.elements[0],
            y: f.elements[1]
        }
    }

    function l(t) {
        return 2 * Math.PI * d.default / (Math.pow(2, t) * v.default.tileSize)
    }

    function u(t) {
        var e = t.x,
            n = t.y;
        return e = e / w * 180, n = n / w * 180, n = 180 / Math.PI * (2 * Math.atan(Math.exp(n * Math.PI / 180)) - Math.PI / 2), new g.default(n, e)
    }

    function c(t) {
        var e = t.lng,
            n = t.lat;
        return e = e * w / 180, n = Math.log(Math.tan((90 + n) * Math.PI / 360)) / (Math.PI / 180), n = n * w / 180, new b.default(e, n)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.fromScreenToNdc = r, e.fromNdcToScreen = o, e.getScreenCoordsByCustomMatrix = a, e.getZPlaneCoordsByCustomMatrix = s, e.getSpatialResolution = l, e.mercatorToLatLng = u, e.latLngToMercator = c;
    var f = n(194),
        d = i(f),
        h = n(9),
        v = i(h),
        _ = n(152),
        p = i(_),
        m = n(93),
        y = n(29),
        g = i(y),
        x = n(41),
        b = i(x),
        S = p.default[1],
        w = S / 2
}, function (t, e, n) {
    var i = n(28),
        r = n(209),
        o = n(111),
        a = n(118)("IE_PROTO"),
        s = function () {},
        l = function () {
            var t, e = n(110)("iframe"),
                i = o.length;
            for (e.style.display = "none", n(167).appendChild(e), e.src = "javascript:", t = e.contentWindow.document, t.open(), t.write("<script>document.F=Object<\/script>"), t.close(), l = t.F; i--;) delete l.prototype[o[i]];
            return l()
        };
    t.exports = Object.create || function (t, e) {
        var n;
        return null !== t ? (s.prototype = i(t), n = new s, s.prototype = null, n[a] = t) : n = l(), void 0 === e ? n : r(n, e)
    }
}, function (t, e, n) {
    var i = n(120),
        r = Math.min;
    t.exports = function (t) {
        return t > 0 ? r(i(t), 9007199254740991) : 0
    }
}, function (t, e) {
    var n = 0,
        i = Math.random();
    t.exports = function (t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + i).toString(36))
    }
}, function (t, e) {}, function (t, e) {
    var n = {}.toString;
    t.exports = function (t) {
        return n.call(t).slice(8, -1)
    }
}, function (t, e) {
    t.exports = function (t) {
        if (void 0 == t) throw TypeError("Can't call method on  " + t);
        return t
    }
}, function (t, e, n) {
    "use strict";
    if (n(34)) {
        var i = n(127),
            r = n(18),
            o = n(17),
            a = n(5),
            s = n(221),
            l = n(336),
            u = n(77),
            c = n(144),
            f = n(132),
            d = n(59),
            h = n(146),
            v = n(80),
            _ = n(26),
            p = n(420),
            m = n(133),
            y = n(98),
            g = n(58),
            x = n(186),
            b = n(19),
            S = n(45),
            w = n(323),
            E = n(128),
            A = n(130),
            T = n(129).f,
            k = n(338),
            P = n(134),
            I = n(23),
            M = n(76),
            L = n(211),
            C = n(189),
            V = n(339),
            R = n(145),
            O = n(217),
            F = n(147),
            z = n(316),
            N = n(395),
            D = n(35),
            B = n(78),
            U = D.f,
            j = B.f,
            Y = r.RangeError,
            G = r.TypeError,
            W = r.Uint8Array,
            X = Array.prototype,
            Z = l.ArrayBuffer,
            Q = l.DataView,
            H = M(0),
            q = M(2),
            J = M(3),
            K = M(4),
            $ = M(5),
            tt = M(6),
            et = L(!0),
            nt = L(!1),
            it = V.values,
            rt = V.keys,
            ot = V.entries,
            at = X.lastIndexOf,
            st = X.reduce,
            lt = X.reduceRight,
            ut = X.join,
            ct = X.sort,
            ft = X.slice,
            dt = X.toString,
            ht = X.toLocaleString,
            vt = I("iterator"),
            _t = I("toStringTag"),
            pt = P("typed_constructor"),
            mt = P("def_constructor"),
            yt = s.CONSTR,
            gt = s.TYPED,
            xt = s.VIEW,
            bt = M(1, function (t, e) {
                return Tt(C(t, t[mt]), e)
            }),
            St = o(function () {
                return 1 === new W(new Uint16Array([1]).buffer)[0]
            }),
            wt = !!W && !!W.prototype.set && o(function () {
                new W(1).set({})
            }),
            Et = function (t, e) {
                var n = v(t);
                if (n < 0 || n % e) throw Y("Wrong offset!");
                return n
            },
            At = function (t) {
                if (b(t) && gt in t) return t;
                throw G(t + " is not a typed array!")
            },
            Tt = function (t, e) {
                if (!(b(t) && pt in t)) throw G("It is not a typed array constructor!");
                return new t(e)
            },
            kt = function (t, e) {
                return Pt(C(t, t[mt]), e)
            },
            Pt = function (t, e) {
                for (var n = 0, i = e.length, r = Tt(t, i); i > n;) r[n] = e[n++];
                return r
            },
            It = function (t, e, n) {
                U(t, e, {
                    get: function () {
                        return this._d[n]
                    }
                })
            },
            Mt = function (t) {
                var e, n, i, r, o, a, s = S(t),
                    l = arguments.length,
                    c = l > 1 ? arguments[1] : void 0,
                    f = void 0 !== c,
                    d = k(s);
                if (void 0 != d && !w(d)) {
                    for (a = d.call(s), i = [], e = 0; !(o = a.next()).done; e++) i.push(o.value);
                    s = i
                }
                for (f && l > 2 && (c = u(c, arguments[2], 2)), e = 0, n = _(s.length), r = Tt(this, n); n > e; e++) r[e] = f ? c(s[e], e) : s[e];
                return r
            },
            Lt = function () {
                for (var t = 0, e = arguments.length, n = Tt(this, e); e > t;) n[t] = arguments[t++];
                return n
            },
            Ct = !!W && o(function () {
                ht.call(new W(1))
            }),
            Vt = function () {
                return ht.apply(Ct ? ft.call(At(this)) : At(this), arguments)
            },
            Rt = {
                copyWithin: function (t, e) {
                    return N.call(At(this), t, e, arguments.length > 2 ? arguments[2] : void 0)
                },
                every: function (t) {
                    return K(At(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                fill: function (t) {
                    return z.apply(At(this), arguments)
                },
                filter: function (t) {
                    return kt(this, q(At(this), t, arguments.length > 1 ? arguments[1] : void 0))
                },
                find: function (t) {
                    return $(At(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                findIndex: function (t) {
                    return tt(At(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                forEach: function (t) {
                    H(At(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                indexOf: function (t) {
                    return nt(At(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                includes: function (t) {
                    return et(At(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                join: function (t) {
                    return ut.apply(At(this), arguments)
                },
                lastIndexOf: function (t) {
                    return at.apply(At(this), arguments)
                },
                map: function (t) {
                    return bt(At(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                reduce: function (t) {
                    return st.apply(At(this), arguments)
                },
                reduceRight: function (t) {
                    return lt.apply(At(this), arguments)
                },
                reverse: function () {
                    for (var t, e = this, n = At(e).length, i = Math.floor(n / 2), r = 0; r < i;) t = e[r], e[r++] = e[--n], e[n] = t;
                    return e
                },
                some: function (t) {
                    return J(At(this), t, arguments.length > 1 ? arguments[1] : void 0)
                },
                sort: function (t) {
                    return ct.call(At(this), t)
                },
                subarray: function (t, e) {
                    var n = At(this),
                        i = n.length,
                        r = m(t, i);
                    return new(C(n, n[mt]))(n.buffer, n.byteOffset + r * n.BYTES_PER_ELEMENT, _((void 0 === e ? i : m(e, i)) - r))
                }
            },
            Ot = function (t, e) {
                return kt(this, ft.call(At(this), t, e))
            },
            Ft = function (t) {
                At(this);
                var e = Et(arguments[1], 1),
                    n = this.length,
                    i = S(t),
                    r = _(i.length),
                    o = 0;
                if (r + e > n) throw Y("Wrong length!");
                for (; o < r;) this[e + o] = i[o++]
            },
            zt = {
                entries: function () {
                    return ot.call(At(this))
                },
                keys: function () {
                    return rt.call(At(this))
                },
                values: function () {
                    return it.call(At(this))
                }
            },
            Nt = function (t, e) {
                return b(t) && t[gt] && "symbol" != typeof e && e in t && String(+e) == String(e)
            },
            Dt = function (t, e) {
                return Nt(t, e = y(e, !0)) ? f(2, t[e]) : j(t, e)
            },
            Bt = function (t, e, n) {
                return !(Nt(t, e = y(e, !0)) && b(n) && g(n, "value")) || g(n, "get") || g(n, "set") || n.configurable || g(n, "writable") && !n.writable || g(n, "enumerable") && !n.enumerable ? U(t, e, n) : (t[e] = n.value, t)
            };
        yt || (B.f = Dt, D.f = Bt), a(a.S + a.F * !yt, "Object", {
            getOwnPropertyDescriptor: Dt,
            defineProperty: Bt
        }), o(function () {
            dt.call({})
        }) && (dt = ht = function () {
            return ut.call(this)
        });
        var Ut = h({}, Rt);
        h(Ut, zt), d(Ut, vt, zt.values), h(Ut, {
            slice: Ot,
            set: Ft,
            constructor: function () {},
            toString: dt,
            toLocaleString: Vt
        }), It(Ut, "buffer", "b"), It(Ut, "byteOffset", "o"), It(Ut, "byteLength", "l"), It(Ut, "length", "e"), U(Ut, _t, {
            get: function () {
                return this[gt]
            }
        }), t.exports = function (t, e, n, l) {
            l = !!l;
            var u = t + (l ? "Clamped" : "") + "Array",
                f = "get" + t,
                h = "set" + t,
                v = r[u],
                m = v || {},
                y = v && A(v),
                g = !v || !s.ABV,
                S = {},
                w = v && v.prototype,
                k = function (t, n) {
                    var i = t._d;
                    return i.v[f](n * e + i.o, St)
                },
                P = function (t, n, i) {
                    var r = t._d;
                    l && (i = (i = Math.round(i)) < 0 ? 0 : i > 255 ? 255 : 255 & i), r.v[h](n * e + r.o, i, St)
                },
                I = function (t, e) {
                    U(t, e, {
                        get: function () {
                            return k(this, e)
                        },
                        set: function (t) {
                            return P(this, e, t)
                        },
                        enumerable: !0
                    })
                };
            g ? (v = n(function (t, n, i, r) {
                c(t, v, u, "_d");
                var o, a, s, l, f = 0,
                    h = 0;
                if (b(n)) {
                    if (!(n instanceof Z || "ArrayBuffer" == (l = x(n)) || "SharedArrayBuffer" == l)) return gt in n ? Pt(v, n) : Mt.call(v, n);
                    o = n, h = Et(i, e);
                    var m = n.byteLength;
                    if (void 0 === r) {
                        if (m % e) throw Y("Wrong length!");
                        if ((a = m - h) < 0) throw Y("Wrong length!")
                    } else if ((a = _(r) * e) + h > m) throw Y("Wrong length!");
                    s = a / e
                } else s = p(n), a = s * e, o = new Z(a);
                for (d(t, "_d", {
                        b: o,
                        o: h,
                        l: a,
                        e: s,
                        v: new Q(o)
                    }); f < s;) I(t, f++)
            }), w = v.prototype = E(Ut), d(w, "constructor", v)) : o(function () {
                v(1)
            }) && o(function () {
                new v(-1)
            }) && O(function (t) {
                new v, new v(null), new v(1.5), new v(t)
            }, !0) || (v = n(function (t, n, i, r) {
                c(t, v, u);
                var o;
                return b(n) ? n instanceof Z || "ArrayBuffer" == (o = x(n)) || "SharedArrayBuffer" == o ? void 0 !== r ? new m(n, Et(i, e), r) : void 0 !== i ? new m(n, Et(i, e)) : new m(n) : gt in n ? Pt(v, n) : Mt.call(v, n) : new m(p(n))
            }), H(y !== Function.prototype ? T(m).concat(T(y)) : T(m), function (t) {
                t in v || d(v, t, m[t])
            }), v.prototype = w, i || (w.constructor = v));
            var M = w[vt],
                L = !!M && ("values" == M.name || void 0 == M.name),
                C = zt.values;
            d(v, pt, !0), d(w, gt, u), d(w, xt, !0), d(w, mt, v), (l ? new v(1)[_t] == u : _t in w) || U(w, _t, {
                get: function () {
                    return u
                }
            }), S[u] = v, a(a.G + a.W + a.F * (v != m), S), a(a.S, u, {
                BYTES_PER_ELEMENT: e
            }), a(a.S + a.F * o(function () {
                m.of.call(v, 1)
            }), u, {
                from: Mt,
                of: Lt
            }), "BYTES_PER_ELEMENT" in w || d(w, "BYTES_PER_ELEMENT", e), a(a.P, u, Rt), F(u), a(a.P + a.F * wt, u, {
                set: Ft
            }), a(a.P + a.F * !L, u, zt), i || w.toString == dt || (w.toString = dt), a(a.P + a.F * o(function () {
                new v(1).slice()
            }), u, {
                slice: Ot
            }), a(a.P + a.F * (o(function () {
                return [1, 2].toLocaleString() != new v([1, 2]).toLocaleString()
            }) || !o(function () {
                w.toLocaleString.call([1, 2])
            })), u, {
                toLocaleString: Vt
            }), R[u] = L ? M : C, i || L || d(w, vt, C)
        }
    } else t.exports = function () {}
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.UNIFORM_PART = "\n    uniform mat4 uMatrix;\n    uniform vec4 uCenter;\n    uniform float uZoom;\n\n    uniform vec3 uPixelsPerMeter;\n\n    uniform vec2 uResolution;\n    uniform vec3 uProject_uCommonUnitsPerWorldUnit;\n    uniform vec3 uProject_uCommonUnitsPerWorldUnit2;\n", e.PROJECTION_PART = "\n    float PI = 3.141592653589793;\n\n    float degree_to_radian(float deg) {\n      \treturn deg * PI / 180.;\n    }\n\n\n    vec2 fromLatLngToPoint(vec2 latlng) {\n      \tvec2 c = vec2(0.0, 0.0);\n      \tvec2 d = vec2(128.0, 128.0);\n      \tc.x = d.x + latlng.x * (256. / 360.);\n      \tfloat e = clamp(sin(degree_to_radian(latlng.y)), -(1. - 1E-15), 1. - 1E-15);\n      \tc.y = d.y + 0.5 * log((1. + e) / (1. - e)) * -(256. / (2. * PI));\n      \treturn c;\n    }\n\n\n\n    vec2 project_position(vec2 latlng, float mapzoom) {\n      \tvec2 tileCoord = fromLatLngToPoint(latlng);\n      \tfloat dimension = pow(2., mapzoom);\n      \ttileCoord.xy *= dimension;\n\n      \treturn tileCoord;\n    }\n\n\n    vec2 project_view_local_position(vec2 latlng) {\n      \tvec2 centerCoord = project_position(uCenter.xy, uZoom);\n      \tvec2 p = project_position(latlng.xy, uZoom);\n\n      \t\n      \treturn vec2(p.x - centerCoord.x, centerCoord.y - p.y);\n    }\n\n    vec3 project_offset(vec3 offset) {\n      \tfloat dy = offset.y;\n\t\t\n      \tdy = clamp(dy, -1., 1.);\n      \tvec3 commonUnitsPerWorldUnit = uProject_uCommonUnitsPerWorldUnit + uProject_uCommonUnitsPerWorldUnit2 * dy;\n\t\t\n      \treturn vec3(offset.xyz * commonUnitsPerWorldUnit.xyz);\n    }\n    \n\n\tvec3 project_view_local_position_precision(vec3 latlngHigh, vec2 latlngLow) {\n\t\t\n\t\tvec2 high = latlngHigh.xy - uCenter.xy;\n\t\tvec2 low = latlngLow.xy - uCenter.zw;\n\n\t\treturn mix(\n\t\t\tvec3(project_view_local_position(latlngHigh.xy), uProject_uCommonUnitsPerWorldUnit.z * latlngHigh.z),\n\t\t\tproject_offset(vec3(high + low, latlngHigh.z)),\n\t\t\tstep(9.0, uZoom)\n\t\t);\n\t}\n\n\n    vec2 project_view_local_position_precision(vec2 latlngHigh, vec2 latlngLow) {\n      \tvec3 result = project_view_local_position_precision(vec3(latlngHigh.xy, 0.0), latlngLow);\n\n      \treturn result.xy;\n    }\n\n\n    vec2 proj_position_to_screen(vec4 device) {\n\t\tvec3 device_normal = device.xyz / device.w;\n\t\tvec2 clip_pos = (device_normal * 0.5 + 0.5).xy;\n\t\treturn clip_pos * uResolution;\n    }\n    \n\n\tvec4 screen_to_proj_position(vec2 screen, float z, float w) {\n\t    vec2 clip_pos = screen / uResolution;\n\t    vec2 device_normal = clip_pos * 2.0 - 1.0;\n\t    return vec4(device_normal * w, z, w);\n\t}\n\n    vec3 project_scale(vec3 meters) {\n      \treturn meters * uPixelsPerMeter;\n    }\n\n    vec2 rotate_by_angle_onScreen(vec2 vertex, float angle) {\n      \tfloat angle_radian = angle * PI / 180.0;\n      \tfloat cos_angle = cos(angle_radian);\n      \tfloat sin_angle = sin(angle_radian);\n      \tmat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n      \treturn rotationMatrix * vertex;\n    }\n"
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.deleteInstanceCacllback = function (t) {
        t.data && (t.data = null), t.buffer && t.buffer.delete()
    }, e.deleteBuffersCallback = function (t) {
        t.vertices && t.vertices.delete(), t.indeices && t.indeices.delete()
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Vector4 = e.Vector3 = e.Matrix4 = void 0;
    var i = n(37),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        o = function (t) {
            var e, n, i;
            if (t && "object" === (void 0 === t ? "undefined" : (0, r.default)(t)) && t.hasOwnProperty("elements")) {
                for (n = t.elements, i = new Float32Array(16), e = 0; e < 16; ++e) i[e] = n[e];
                this.elements = i
            } else {
                var o = new Float32Array(16);
                o[0] = 1, o[1] = 0, o[2] = 0, o[3] = 0, o[4] = 0, o[5] = 1, o[6] = 0, o[7] = 0, o[8] = 0, o[9] = 0, o[10] = 1, o[11] = 0, o[12] = 0, o[13] = 0, o[14] = 0, o[15] = 1, this.elements = o
            }
        };
    o.prototype.setIdentity = function () {
        var t = this.elements;
        return t[0] = 1, t[4] = 0, t[8] = 0, t[12] = 0, t[1] = 0, t[5] = 1, t[9] = 0, t[13] = 0, t[2] = 0, t[6] = 0, t[10] = 1, t[14] = 0, t[3] = 0, t[7] = 0, t[11] = 0, t[15] = 1, this
    }, o.prototype.clone = function () {
        var t = new o,
            e = this.elements,
            n = t.elements;
        return n[0] = e[0], n[1] = e[1], n[2] = e[2], n[3] = e[3], n[4] = e[4], n[5] = e[5], n[6] = e[6], n[7] = e[7], n[8] = e[8], n[9] = e[9], n[10] = e[10], n[11] = e[11], n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15], t
    }, o.prototype.set = function (t) {
        var e, n, i;
        if (n = t.elements, i = this.elements, n !== i) {
            for (e = 0; e < 16; ++e) i[e] = n[e];
            return this
        }
    }, o.prototype.concat = function (t) {
        var e, n, i, r, o, a, s, l;
        if (n = this.elements, i = this.elements, r = t.elements, n === r)
            for (r = new Float32Array(16), e = 0; e < 16; ++e) r[e] = n[e];
        for (e = 0; e < 4; e++) o = i[e], a = i[e + 4], s = i[e + 8], l = i[e + 12], n[e] = o * r[0] + a * r[1] + s * r[2] + l * r[3], n[e + 4] = o * r[4] + a * r[5] + s * r[6] + l * r[7], n[e + 8] = o * r[8] + a * r[9] + s * r[10] + l * r[11], n[e + 12] = o * r[12] + a * r[13] + s * r[14] + l * r[15];
        return this
    }, o.prototype.multiply = o.prototype.concat, o.prototype.multiplyVector3 = function (t) {
        var e = this.elements,
            n = t.elements,
            i = new a,
            r = i.elements;
        return r[0] = n[0] * e[0] + n[1] * e[4] + n[2] * e[8] + e[12], r[1] = n[0] * e[1] + n[1] * e[5] + n[2] * e[9] + e[13], r[2] = n[0] * e[2] + n[1] * e[6] + n[2] * e[10] + e[14], i
    }, o.prototype.multiplyVector4 = function (t) {
        var e = this.elements,
            n = t.elements,
            i = new s,
            r = i.elements;
        return r[0] = n[0] * e[0] + n[1] * e[4] + n[2] * e[8] + n[3] * e[12], r[1] = n[0] * e[1] + n[1] * e[5] + n[2] * e[9] + n[3] * e[13], r[2] = n[0] * e[2] + n[1] * e[6] + n[2] * e[10] + n[3] * e[14], r[3] = n[0] * e[3] + n[1] * e[7] + n[2] * e[11] + n[3] * e[15], i
    }, o.prototype.transpose = function () {
        var t, e;
        return t = this.elements, e = t[1], t[1] = t[4], t[4] = e, e = t[2], t[2] = t[8], t[8] = e, e = t[3], t[3] = t[12], t[12] = e, e = t[6], t[6] = t[9], t[9] = e, e = t[7], t[7] = t[13], t[13] = e, e = t[11], t[11] = t[14], t[14] = e, this
    }, o.prototype.setInverseOf = function (t) {
        var e, n, i, r, o;
        if (n = t.elements, i = this.elements, r = new Float32Array(16), r[0] = n[5] * n[10] * n[15] - n[5] * n[11] * n[14] - n[9] * n[6] * n[15] + n[9] * n[7] * n[14] + n[13] * n[6] * n[11] - n[13] * n[7] * n[10], r[4] = -n[4] * n[10] * n[15] + n[4] * n[11] * n[14] + n[8] * n[6] * n[15] - n[8] * n[7] * n[14] - n[12] * n[6] * n[11] + n[12] * n[7] * n[10], r[8] = n[4] * n[9] * n[15] - n[4] * n[11] * n[13] - n[8] * n[5] * n[15] + n[8] * n[7] * n[13] + n[12] * n[5] * n[11] - n[12] * n[7] * n[9], r[12] = -n[4] * n[9] * n[14] + n[4] * n[10] * n[13] + n[8] * n[5] * n[14] - n[8] * n[6] * n[13] - n[12] * n[5] * n[10] + n[12] * n[6] * n[9], r[1] = -n[1] * n[10] * n[15] + n[1] * n[11] * n[14] + n[9] * n[2] * n[15] - n[9] * n[3] * n[14] - n[13] * n[2] * n[11] + n[13] * n[3] * n[10], r[5] = n[0] * n[10] * n[15] - n[0] * n[11] * n[14] - n[8] * n[2] * n[15] + n[8] * n[3] * n[14] + n[12] * n[2] * n[11] - n[12] * n[3] * n[10], r[9] = -n[0] * n[9] * n[15] + n[0] * n[11] * n[13] + n[8] * n[1] * n[15] - n[8] * n[3] * n[13] - n[12] * n[1] * n[11] + n[12] * n[3] * n[9], r[13] = n[0] * n[9] * n[14] - n[0] * n[10] * n[13] - n[8] * n[1] * n[14] + n[8] * n[2] * n[13] + n[12] * n[1] * n[10] - n[12] * n[2] * n[9], r[2] = n[1] * n[6] * n[15] - n[1] * n[7] * n[14] - n[5] * n[2] * n[15] + n[5] * n[3] * n[14] + n[13] * n[2] * n[7] - n[13] * n[3] * n[6], r[6] = -n[0] * n[6] * n[15] + n[0] * n[7] * n[14] + n[4] * n[2] * n[15] - n[4] * n[3] * n[14] - n[12] * n[2] * n[7] + n[12] * n[3] * n[6], r[10] = n[0] * n[5] * n[15] - n[0] * n[7] * n[13] - n[4] * n[1] * n[15] + n[4] * n[3] * n[13] + n[12] * n[1] * n[7] - n[12] * n[3] * n[5], r[14] = -n[0] * n[5] * n[14] + n[0] * n[6] * n[13] + n[4] * n[1] * n[14] - n[4] * n[2] * n[13] - n[12] * n[1] * n[6] + n[12] * n[2] * n[5], r[3] = -n[1] * n[6] * n[11] + n[1] * n[7] * n[10] + n[5] * n[2] * n[11] - n[5] * n[3] * n[10] - n[9] * n[2] * n[7] + n[9] * n[3] * n[6], r[7] = n[0] * n[6] * n[11] - n[0] * n[7] * n[10] - n[4] * n[2] * n[11] + n[4] * n[3] * n[10] + n[8] * n[2] * n[7] - n[8] * n[3] * n[6], r[11] = -n[0] * n[5] * n[11] + n[0] * n[7] * n[9] + n[4] * n[1] * n[11] - n[4] * n[3] * n[9] - n[8] * n[1] * n[7] + n[8] * n[3] * n[5], r[15] = n[0] * n[5] * n[10] - n[0] * n[6] * n[9] - n[4] * n[1] * n[10] + n[4] * n[2] * n[9] + n[8] * n[1] * n[6] - n[8] * n[2] * n[5], 0 === (o = n[0] * r[0] + n[1] * r[4] + n[2] * r[8] + n[3] * r[12])) return this;
        for (o = 1 / o, e = 0; e < 16; e++) i[e] = r[e] * o;
        return this
    }, o.prototype.invert = function () {
        return this.setInverseOf(this)
    }, o.prototype.setOrtho = function (t, e, n, i, r, o) {
        var a, s, l, u;
        if (t === e || n === i || r === o) throw "null frustum";
        return s = 1 / (e - t), l = 1 / (i - n), u = 1 / (o - r), a = this.elements, a[0] = 2 * s, a[1] = 0, a[2] = 0, a[3] = 0, a[4] = 0, a[5] = 2 * l, a[6] = 0, a[7] = 0, a[8] = 0, a[9] = 0, a[10] = -2 * u, a[11] = 0, a[12] = -(e + t) * s, a[13] = -(i + n) * l, a[14] = -(o + r) * u, a[15] = 1, this
    }, o.prototype.ortho = function (t, e, n, i, r, a) {
        return this.concat((new o).setOrtho(t, e, n, i, r, a))
    }, o.prototype.setFrustum = function (t, e, n, i, r, o) {
        var a, s, l, u;
        if (t === e || i === n || r === o) throw "null frustum";
        if (r <= 0) throw "near <= 0";
        if (o <= 0) throw "far <= 0";
        return s = 1 / (e - t), l = 1 / (i - n), u = 1 / (o - r), a = this.elements, a[0] = 2 * r * s, a[1] = 0, a[2] = 0, a[3] = 0, a[4] = 0, a[5] = 2 * r * l, a[6] = 0, a[7] = 0, a[8] = (e + t) * s, a[9] = (i + n) * l, a[10] = -(o + r) * u, a[11] = -1, a[12] = 0, a[13] = 0, a[14] = -2 * r * o * u, a[15] = 0, this
    }, o.prototype.frustum = function (t, e, n, i, r, a) {
        return this.concat((new o).setFrustum(t, e, n, i, r, a))
    }, o.prototype.setPerspective = function (t, e, n, i) {
        var r, o, a, s;
        if (n === i || 0 === e) throw "null frustum";
        if (n <= 0) throw "near <= 0";
        if (i <= 0) throw "far <= 0";
        if (t = Math.PI * t / 180 / 2, 0 === (a = Math.sin(t))) throw "null frustum";
        return o = 1 / (i - n), s = Math.cos(t) / a, r = this.elements, r[0] = s / e, r[1] = 0, r[2] = 0, r[3] = 0, r[4] = 0, r[5] = s, r[6] = 0, r[7] = 0, r[8] = 0, r[9] = 0, r[10] = -(i + n) * o, r[11] = -1, r[12] = 0, r[13] = 0, r[14] = -2 * n * i * o, r[15] = 0, this
    }, o.prototype.perspective = function (t, e, n, i) {
        return this.concat((new o).setPerspective(t, e, n, i))
    }, o.prototype.setScale = function (t, e, n) {
        var i = this.elements;
        return i[0] = t, i[4] = 0, i[8] = 0, i[12] = 0, i[1] = 0, i[5] = e, i[9] = 0, i[13] = 0, i[2] = 0, i[6] = 0, i[10] = n, i[14] = 0, i[3] = 0, i[7] = 0, i[11] = 0, i[15] = 1, this
    }, o.prototype.scale = function (t, e, n) {
        var i = this.elements;
        return i[0] *= t, i[4] *= e, i[8] *= n, i[1] *= t, i[5] *= e, i[9] *= n, i[2] *= t, i[6] *= e, i[10] *= n, i[3] *= t, i[7] *= e, i[11] *= n, this
    }, o.prototype.setTranslate = function (t, e, n) {
        var i = this.elements;
        return i[0] = 1, i[4] = 0, i[8] = 0, i[12] = t, i[1] = 0, i[5] = 1, i[9] = 0, i[13] = e, i[2] = 0, i[6] = 0, i[10] = 1, i[14] = n, i[3] = 0, i[7] = 0, i[11] = 0, i[15] = 1, this
    }, o.prototype.translate = function (t, e, n) {
        var i = this.elements;
        return i[12] += i[0] * t + i[4] * e + i[8] * n, i[13] += i[1] * t + i[5] * e + i[9] * n, i[14] += i[2] * t + i[6] * e + i[10] * n, i[15] += i[3] * t + i[7] * e + i[11] * n, this
    }, o.prototype.setRotate = function (t, e, n, i) {
        var r, o, a, s, l, u, c, f, d, h, v, _;
        return t = Math.PI * t / 180, r = this.elements, o = Math.sin(t), a = Math.cos(t), 0 !== e && 0 === n && 0 === i ? (e < 0 && (o = -o), r[0] = 1, r[4] = 0, r[8] = 0, r[12] = 0, r[1] = 0, r[5] = a, r[9] = -o, r[13] = 0, r[2] = 0, r[6] = o, r[10] = a, r[14] = 0, r[3] = 0, r[7] = 0, r[11] = 0, r[15] = 1) : 0 === e && 0 !== n && 0 === i ? (n < 0 && (o = -o), r[0] = a, r[4] = 0, r[8] = o, r[12] = 0, r[1] = 0, r[5] = 1, r[9] = 0, r[13] = 0, r[2] = -o, r[6] = 0, r[10] = a, r[14] = 0, r[3] = 0, r[7] = 0, r[11] = 0, r[15] = 1) : 0 === e && 0 === n && 0 !== i ? (i < 0 && (o = -o), r[0] = a, r[4] = -o, r[8] = 0, r[12] = 0, r[1] = o, r[5] = a, r[9] = 0, r[13] = 0, r[2] = 0, r[6] = 0, r[10] = 1, r[14] = 0, r[3] = 0, r[7] = 0, r[11] = 0, r[15] = 1) : (s = Math.sqrt(e * e + n * n + i * i), 1 !== s && (l = 1 / s, e *= l, n *= l, i *= l), u = 1 - a, c = e * n, f = n * i, d = i * e, h = e * o, v = n * o, _ = i * o, r[0] = e * e * u + a, r[1] = c * u + _, r[2] = d * u - v, r[3] = 0, r[4] = c * u - _, r[5] = n * n * u + a, r[6] = f * u + h, r[7] = 0, r[8] = d * u + v, r[9] = f * u - h, r[10] = i * i * u + a, r[11] = 0, r[12] = 0, r[13] = 0, r[14] = 0, r[15] = 1), this
    }, o.prototype.rotate = function (t, e, n, i) {
        return this.concat((new o).setRotate(t, e, n, i))
    }, o.prototype.setLookAt = function (t, e, n, i, r, o, a, s, l) {
        var u, c, f, d, h, v, _, p, m, y, g, x;
        return c = i - t, f = r - e, d = o - n, h = 1 / Math.sqrt(c * c + f * f + d * d), c *= h, f *= h, d *= h, v = f * l - d * s, _ = d * a - c * l, p = c * s - f * a, m = 1 / Math.sqrt(v * v + _ * _ + p * p), v *= m, _ *= m, p *= m, y = _ * d - p * f, g = p * c - v * d, x = v * f - _ * c, u = this.elements, u[0] = v, u[1] = y, u[2] = -c, u[3] = 0, u[4] = _, u[5] = g, u[6] = -f, u[7] = 0, u[8] = p, u[9] = x, u[10] = -d, u[11] = 0, u[12] = 0, u[13] = 0, u[14] = 0, u[15] = 1, this.translate(-t, -e, -n)
    }, o.prototype.lookAt = function (t, e, n, i, r, a, s, l, u) {
        return this.concat((new o).setLookAt(t, e, n, i, r, a, s, l, u))
    }, o.prototype.dropShadow = function (t, e) {
        var n = new o,
            i = n.elements,
            r = t[0] * e[0] + t[1] * e[1] + t[2] * e[2] + t[3] * e[3];
        return i[0] = r - e[0] * t[0], i[1] = -e[1] * t[0], i[2] = -e[2] * t[0], i[3] = -e[3] * t[0], i[4] = -e[0] * t[1], i[5] = r - e[1] * t[1], i[6] = -e[2] * t[1], i[7] = -e[3] * t[1], i[8] = -e[0] * t[2], i[9] = -e[1] * t[2], i[10] = r - e[2] * t[2], i[11] = -e[3] * t[2], i[12] = -e[0] * t[3], i[13] = -e[1] * t[3], i[14] = -e[2] * t[3], i[15] = r - e[3] * t[3], this.concat(n)
    }, o.prototype.dropShadowDirectionally = function (t, e, n, i, r, o, a, s, l) {
        var u = i * t + r * e + o * n;
        return this.dropShadow([t, e, n, -u], [a, s, l, 0])
    };
    var a = function () {
        var t = 1 === arguments.length ? arguments[0] : arguments,
            e = new Float32Array(3);
        t && "object" === (void 0 === t ? "undefined" : (0, r.default)(t)) && (e[0] = t[0], e[1] = t[1], e[2] = t[2]), this.elements = e
    };
    a.prototype.normalize = function () {
        var t = this.elements,
            e = t[0],
            n = t[1],
            i = t[2],
            r = Math.sqrt(e * e + n * n + i * i);
        return r ? 1 === r ? this : (r = 1 / r, t[0] = e * r, t[1] = n * r, t[2] = i * r, this) : (t[0] = 0, t[1] = 0, t[2] = 0, this)
    }, a.prototype.scale = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
            i = this.elements;
        return i[0] *= t, i[1] *= e, i[2] *= n, this
    }, a.prototype.cross = function (t) {
        var e = this.elements,
            n = t.elements;
        return new a(e[1] * n[2] - e[2] * n[1], e[2] * n[0] - e[0] * n[2], e[0] * n[1] - e[1] * n[0])
    }, a.prototype.equals = function (t) {
        var e = this.elements,
            n = t.elements;
        return e[0] === n[0] && e[1] === n[1] && e[2] === n[2]
    };
    var s = function () {
        var t = 1 === arguments.length ? arguments[0] : arguments,
            e = new Float32Array(4);
        t && "object" === (void 0 === t ? "undefined" : (0, r.default)(t)) && (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3]), this.elements = e
    };
    s.prototype.set = function (t, e, n) {
        this.elements[0] = t, this.elements[1] = e, this.elements[2] = n
    }, s.prototype.multiply = function (t) {
        return this.elements[0] *= t, this.elements[1] *= t, this.elements[2] *= t, this.elements[3] *= t, this
    }, s.prototype.add = function (t) {
        return this.elements[0] += t.elements[0], this.elements[1] += t.elements[1], this.elements[2] += t.elements[2], this.elements[3] += t.elements[3], this
    }, s.prototype.minus = function (t) {
        return this.elements[0] -= t.elements[0], this.elements[1] -= t.elements[1], this.elements[2] -= t.elements[2], this.elements[3] -= t.elements[3], this
    };
    e.Matrix4 = o, e.Vector3 = a, e.Vector4 = s
}, function (t, e, n) {
    t.exports = {
        default: n(255),
        __esModule: !0
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var r = n(598),
        o = i(r),
        a = n(21),
        s = i(a);
    e.default = function () {
        function t(t, e) {
            var n = [],
                i = !0,
                r = !1,
                o = void 0;
            try {
                for (var a, l = (0, s.default)(t); !(i = (a = l.next()).done) && (n.push(a.value), !e || n.length !== e); i = !0);
            } catch (t) {
                r = !0, o = t
            } finally {
                try {
                    !i && l.return && l.return()
                } finally {
                    if (r) throw o
                }
            }
            return n
        }
        return function (e, n) {
            if (Array.isArray(e)) return e;
            if ((0, o.default)(Object(e))) return t(e, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }()
}, function (t, e, n) {
    var i = n(64),
        r = n(15)("toStringTag"),
        o = "Arguments" == i(function () {
            return arguments
        }()),
        a = function (t, e) {
            try {
                return t[e]
            } catch (t) {}
        };
    t.exports = function (t) {
        var e, n, s;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (n = a(e = Object(t), r)) ? n : o ? i(e) : "Object" == (s = i(e)) && "function" == typeof e.callee ? "Arguments" : s
    }
}, function (t, e, n) {
    var i = n(134)("meta"),
        r = n(19),
        o = n(58),
        a = n(35).f,
        s = 0,
        l = Object.isExtensible || function () {
            return !0
        },
        u = !n(17)(function () {
            return l(Object.preventExtensions({}))
        }),
        c = function (t) {
            a(t, i, {
                value: {
                    i: "O" + ++s,
                    w: {}
                }
            })
        },
        f = function (t, e) {
            if (!r(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
            if (!o(t, i)) {
                if (!l(t)) return "F";
                if (!e) return "E";
                c(t)
            }
            return t[i].i
        },
        d = function (t, e) {
            if (!o(t, i)) {
                if (!l(t)) return !0;
                if (!e) return !1;
                c(t)
            }
            return t[i].w
        },
        h = function (t) {
            return u && v.NEED && l(t) && !o(t, i) && c(t), t
        },
        v = t.exports = {
            KEY: i,
            NEED: !1,
            fastKey: f,
            getWeak: d,
            onFreeze: h
        }
}, function (t, e, n) {
    var i = n(19);
    t.exports = function (t, e) {
        if (!i(t)) return t;
        var n, r;
        if (e && "function" == typeof (n = t.toString) && !i(r = n.call(t))) return r;
        if ("function" == typeof (n = t.valueOf) && !i(r = n.call(t))) return r;
        if (!e && "function" == typeof (n = t.toString) && !i(r = n.call(t))) return r;
        throw TypeError("Can't convert object to primitive value")
    }
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    var r = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
    e.assign = function (t) {
        for (var e = Array.prototype.slice.call(arguments, 1); e.length;) {
            var n = e.shift();
            if (n) {
                if ("object" != typeof n) throw new TypeError(n + "must be non-object");
                for (var r in n) i(n, r) && (t[r] = n[r])
            }
        }
        return t
    }, e.shrinkBuf = function (t, e) {
        return t.length === e ? t : t.subarray ? t.subarray(0, e) : (t.length = e, t)
    };
    var o = {
            arraySet: function (t, e, n, i, r) {
                if (e.subarray && t.subarray) return void t.set(e.subarray(n, n + i), r);
                for (var o = 0; o < i; o++) t[r + o] = e[n + o]
            },
            flattenChunks: function (t) {
                var e, n, i, r, o, a;
                for (i = 0, e = 0, n = t.length; e < n; e++) i += t[e].length;
                for (a = new Uint8Array(i), r = 0, e = 0, n = t.length; e < n; e++) o = t[e], a.set(o, r), r += o.length;
                return a
            }
        },
        a = {
            arraySet: function (t, e, n, i, r) {
                for (var o = 0; o < i; o++) t[r + o] = e[n + o]
            },
            flattenChunks: function (t) {
                return [].concat.apply([], t)
            }
        };
    e.setTyped = function (t) {
        t ? (e.Buf8 = Uint8Array, e.Buf16 = Uint16Array, e.Buf32 = Int32Array, e.assign(e, o)) : (e.Buf8 = Array, e.Buf16 = Array, e.Buf32 = Array, e.assign(e, a))
    }, e.setTyped(r)
}, function (t, e, n) {
    "use strict";
    t.exports = "TMap"
}, , , function (t, e, n) {
    "use strict";
    var i = (indexedDB, n(812)),
        r = i && i.setItem && i.getItem;
    t.exports = {
        set: function (t, e, n) {
            (null !== e ? i.setItem(t, e) : i.removeItem(t)).then(function () {
                n && n()
            }, function (t) {
                console.error(t), n && n(t)
            })
        },
        get: function (t, e) {
            i.getItem(t).then(function (t) {
                e && e(t)
            }, function (t) {
                console.error(t), e && e(null)
            })
        },
        support: function () {
            return r
        }
    }
}, function (t, e, n) {
    "use strict";
    var i = n(25),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        o = n(31);
    e.getJSON = function (t, n, i, r) {
        r = r || 0;
        var a = void 0,
            s = void 0,
            l = new XMLHttpRequest;
        return l.open("GET", n, !0), l.setRequestHeader("Accept", "application/json"), l.onloadstart = function () {
            return a = +new Date
        }, l.onerror = function () {
            console.error(l.response, l, n), r > 2 ? i(new o.AJAXError(n, 0)) : (r++, e.getJSON(t, n, i, r))
        }, l.onload = function () {
            if (l.status >= 200 && l.status < 300 && l.response) {
                s = +new Date;
                var t = void 0;
                try {
                    t = JSON.parse(l.response)
                } catch (t) {
                    return i(t)
                }
                i(null, t, s - a)
            } else i(new o.AJAXError(l.statusText, l.status))
        }, l.send(), l
    }, e.getArrayBuffer = function (t, e) {
        var n = new XMLHttpRequest;
        return n.open("GET", t, !0), n.responseType = "arraybuffer", n.onerror = function (t) {
            e(t)
        }, n.onload = function () {
            if (0 === n.response.byteLength && 200 === n.status) return e(new Error("http status 200 returned without content."));
            n.status >= 200 && n.status < 300 && n.response ? e(null, {
                data: n.response,
                cacheControl: n.getResponseHeader("Cache-Control"),
                expires: n.getResponseHeader("Expires")
            }) : e(new o.AJAXError(n.statusText, n.status))
        }, n.send(), n
    };
    e.getImage = function (t, e) {
        var n = new XMLHttpRequest,
            i = new r.default(function (i, r) {
                n.open("GET", t), n.responseType = "blob", n.timeout = e, n.onload = function () {
                    n.status >= 200 && n.status < 300 && n.response ? (0 === n.response.size && r(new o.AJAXError("The size of image is 0", 404)), i(n.response)) : r(new o.AJAXError(n.statusText, n.status))
                }, n.onerror = function () {
                    r(new o.AJAXError("error", 0))
                }, n.ontimeout = function () {
                    r(new o.AJAXError("timeout", 0))
                }, n.onabort = function () {
                    r(new o.AJAXError("abort", 0))
                }, n.send()
            });
        return {
            xhr: n,
            promise: i
        }
    }, e.getImageData = function (t, n) {
        return e.getArrayBuffer(t, function (t, e) {
            if (t) return n(t);
            n(null, e)
        })
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.GEOMETRY_TYPES = {
        POINT: "POINT",
        POLYLINE: "POLYLINE",
        POLYGON: "POLYGON",
        LABEL: "LABEL",
        CIRCLE: "CIRCLE",
        RECTANGLE: "RECTANGLE"
    }
}, function (t, e, n) {
    t.exports = {
        default: n(261),
        __esModule: !0
    }
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(106),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = function (t, e, n) {
        return e in t ? (0, r.default)(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n, t
    }
}, function (t, e) {
    t.exports = function (t, e, n, i) {
        if (!(t instanceof e) || void 0 !== i && i in t) throw TypeError(n + ": incorrect invocation!");
        return t
    }
}, function (t, e) {
    t.exports = function (t) {
        if (void 0 == t) throw TypeError("Can't call method on  " + t);
        return t
    }
}, function (t, e, n) {
    var i = n(20),
        r = n(14).document,
        o = i(r) && i(r.createElement);
    t.exports = function (t) {
        return o ? r.createElement(t) : {}
    }
}, function (t, e) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function (t, e, n) {
    var i = n(64);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) {
        return "String" == i(t) ? t.split("") : Object(t)
    }
}, function (t, e, n) {
    "use strict";
    var i = n(66),
        r = n(8),
        o = n(180),
        a = n(38),
        s = n(56),
        l = n(281),
        u = n(69),
        c = n(175),
        f = n(15)("iterator"),
        d = !([].keys && "next" in [].keys()),
        h = function () {
            return this
        };
    t.exports = function (t, e, n, v, _, p, m) {
        l(n, e, v);
        var y, g, x, b = function (t) {
                if (!d && t in A) return A[t];
                switch (t) {
                    case "keys":
                    case "values":
                        return function () {
                            return new n(this, t)
                        }
                }
                return function () {
                    return new n(this, t)
                }
            },
            S = e + " Iterator",
            w = "values" == _,
            E = !1,
            A = t.prototype,
            T = A[f] || A["@@iterator"] || _ && A[_],
            k = T || b(_),
            P = _ ? w ? b("entries") : k : void 0,
            I = "Array" == e ? A.entries || T : T;
        if (I && (x = c(I.call(new t))) !== Object.prototype && x.next && (u(x, S, !0), i || "function" == typeof x[f] || a(x, f, h)), w && T && "values" !== T.name && (E = !0, k = function () {
                return T.call(this)
            }), i && !m || !d && !E && A[f] || a(A, f, k), s[e] = k, s[S] = h, _)
            if (y = {
                    values: w ? k : b("values"),
                    keys: p ? k : b("keys"),
                    entries: P
                }, m)
                for (g in y) g in A || o(A, g, y[g]);
            else r(r.P + r.F * (d || E), e, y);
        return y
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        var e, n;
        this.promise = new t(function (t, i) {
            if (void 0 !== e || void 0 !== n) throw TypeError("Bad Promise constructor");
            e = t, n = i
        }), this.resolve = r(e), this.reject = r(n)
    }
    var r = n(63);
    t.exports.f = function (t) {
        return new i(t)
    }
}, function (t, e, n) {
    var i = n(67),
        r = n(68),
        o = n(39),
        a = n(121),
        s = n(43),
        l = n(168),
        u = Object.getOwnPropertyDescriptor;
    e.f = n(22) ? u : function (t, e) {
        if (t = o(t), e = a(e, !0), l) try {
            return u(t, e)
        } catch (t) {}
        if (s(t, e)) return r(!i.f.call(t, e), t[e])
    }
}, function (t, e) {
    e.f = Object.getOwnPropertySymbols
}, function (t, e, n) {
    var i = n(38);
    t.exports = function (t, e, n) {
        for (var r in e) n && t[r] ? t[r] = e[r] : i(t, r, e[r]);
        return t
    }
}, function (t, e, n) {
    var i = n(119)("keys"),
        r = n(86);
    t.exports = function (t) {
        return i[t] || (i[t] = r(t))
    }
}, function (t, e, n) {
    var i = n(7),
        r = n(14),
        o = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
    (t.exports = function (t, e) {
        return o[t] || (o[t] = void 0 !== e ? e : {})
    })("versions", []).push({
        version: i.version,
        mode: n(66) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}, function (t, e) {
    var n = Math.ceil,
        i = Math.floor;
    t.exports = function (t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? i : n)(t)
    }
}, function (t, e, n) {
    var i = n(20);
    t.exports = function (t, e) {
        if (!i(t)) return t;
        var n, r;
        if (e && "function" == typeof (n = t.toString) && !i(r = n.call(t))) return r;
        if ("function" == typeof (n = t.valueOf) && !i(r = n.call(t))) return r;
        if (!e && "function" == typeof (n = t.toString) && !i(r = n.call(t))) return r;
        throw TypeError("Can't convert object to primitive value")
    }
}, function (t, e, n) {
    var i = n(20);
    t.exports = function (t, e) {
        if (!i(t) || t._t !== e) throw TypeError("Incompatible receiver, " + e + " required!");
        return t
    }
}, function (t, e, n) {
    var i = n(14),
        r = n(7),
        o = n(66),
        a = n(124),
        s = n(24).f;
    t.exports = function (t) {
        var e = r.Symbol || (r.Symbol = o ? {} : i.Symbol || {});
        "_" == t.charAt(0) || t in e || s(e, t, {
            value: a.f(t)
        })
    }
}, function (t, e, n) {
    e.f = n(15)
}, function (t, e, n) {
    var i = n(96),
        r = n(15)("iterator"),
        o = n(56);
    t.exports = n(7).getIteratorMethod = function (t) {
        if (void 0 != t) return t[r] || t["@@iterator"] || o[i(t)]
    }
}, function (t, e, n) {
    var i = n(23)("unscopables"),
        r = Array.prototype;
    void 0 == r[i] && n(59)(r, i, {}), t.exports = function (t) {
        r[i][t] = !0
    }
}, function (t, e) {
    t.exports = !1
}, function (t, e, n) {
    var i = n(16),
        r = n(410),
        o = n(319),
        a = n(330)("IE_PROTO"),
        s = function () {},
        l = function () {
            var t, e = n(318)("iframe"),
                i = o.length;
            for (e.style.display = "none", n(321).appendChild(e), e.src = "javascript:", t = e.contentWindow.document, t.open(), t.write("<script>document.F=Object<\/script>"), t.close(), l = t.F; i--;) delete l.prototype[o[i]];
            return l()
        };
    t.exports = Object.create || function (t, e) {
        var n;
        return null !== t ? (s.prototype = i(t), n = new s, s.prototype = null, n[a] = t) : n = l(), void 0 === e ? n : r(n, e)
    }
}, function (t, e, n) {
    var i = n(412),
        r = n(319).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function (t) {
        return i(t, r)
    }
}, function (t, e, n) {
    var i = n(58),
        r = n(45),
        o = n(330)("IE_PROTO"),
        a = Object.prototype;
    t.exports = Object.getPrototypeOf || function (t) {
        return t = r(t), i(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? a : null
    }
}, function (t, e, n) {
    var i = n(412),
        r = n(319);
    t.exports = Object.keys || function (t) {
        return i(t, r)
    }
}, function (t, e) {
    t.exports = function (t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}, function (t, e, n) {
    var i = n(80),
        r = Math.max,
        o = Math.min;
    t.exports = function (t, e) {
        return t = i(t), t < 0 ? r(t + e, 0) : o(t, e)
    }
}, function (t, e) {
    var n = 0,
        i = Math.random();
    t.exports = function (t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + i).toString(36))
    }
}, function (t, e, n) {
    var i = n(19);
    t.exports = function (t, e) {
        if (!i(t) || t._t !== e) throw TypeError("Incompatible receiver, " + e + " required!");
        return t
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(40),
        _ = i(v),
        p = n(153),
        m = n(6),
        y = n(36),
        g = i(y),
        x = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this)),
                    i = t.id,
                    r = t.position,
                    a = t.className;
                return n.id = g.default.isUndefined(i) ? (0, m.uniqueId)() : i, n.init(t), n.setPosition(r), n.setClassName(a), n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "init",
                value: function (t) {
                    this.onInit(t), this.dom = this.createDOM(t)
                }
            }, {
                key: "setPosition",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : p.CONTORL_POSITION.TOP_LEFT;
                    return t !== this.position && (this.position = t, this.dom.style.right = "auto", this.dom.style.left = "auto", this.dom.style.top = "auto", this.dom.style.bottom = "auto", this.dom.style.cssText += p.CONTROL_POSITION_STYLE[t]), this
                }
            }, {
                key: "setClassName",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return this.dom && (this.dom.className = t), this.className = t, this
                }
            }, {
                key: "createDOM",
                value: function () {}
            }, {
                key: "onInit",
                value: function () {}
            }, {
                key: "onDestroy",
                value: function () {}
            }, {
                key: "onAdd",
                value: function () {}
            }, {
                key: "onRemove",
                value: function () {}
            }, {
                key: "addTo",
                value: function (t, e) {
                    e.appendChild(this.dom), this.map = t, this.onAdd()
                }
            }, {
                key: "remove",
                value: function () {
                    this.dom.remove(), this.onRemove(), this.map = null
                }
            }, {
                key: "destroy",
                value: function () {
                    this.remove(), this.onDestroy(), this.removeAllListeners(), this.dom = null, this.className = null, this.position = null, this.id = null
                }
            }]), e
        }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = e.result, r = void 0 === n ? [] : n, o = e.dimensions, a = void 0 === o ? 3 : o, s = -1; ++s < t.length;) {
            var l = t[s];
            Array.isArray(l) || ArrayBuffer.isView(l) ? i(l, {
                result: r,
                dimensions: a
            }) : r.push(l.lng, l.lat)
        }
        return r
    }

    function r(t, e) {
        var n = t.getBounds();
        return n.covers(e) || n.intersects(e)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.isInFrustum = r, e.default = {
        to3DVertices: function (t, e) {
            e = e || 0;
            for (var n = [], i = 0, r = t.length / 2; i < r; i++) n.push(t[2 * i], t[2 * i + 1], e, 1);
            return n
        },
        mixCoords: function (t, e, n, i) {
            var r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1,
                o = [];
            if (i = i || 0, n)
                for (var a = 0, s = t.length / 2; a < s; a++) o.push([t[2 * a] * r + i, -1 * t[2 * a + 1] * r + i].concat(n));
            else
                for (var l = 0, u = t.length / 2; l < u; l++) o.push([t[2 * l] * r + i, -1 * t[2 * l + 1] * r + i, 0, 1]);
            return "polygon" === e && o.push(o[0]), o
        },
        flattenVertices: i,
        fillArray: function (t) {
            for (var e = t.target, n = t.source, i = t.start, r = void 0 === i ? 0 : i, o = t.count, a = void 0 === o ? 1 : o, s = n.length, l = a * s, u = 0, c = r; u < s; u++) e[c++] = n[u];
            for (; u < l;) u < l - u ? (e.copyWithin(r + u, r, r + u), u *= 2) : (e.copyWithin(r + u, r, r + l - u), u = l);
            return e
        }
    }
}, function (t, e, n) {
    "use strict";

    function i() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "DEFAULT",
            n = o[e];
        return Math.min(Math.max(t, 0) + n.min, n.max)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.getRank = i;
    var r = {
            min: 10002,
            max: 29999
        },
        o = e.RANK_CONFIG = {
            BASE: {
                min: 0,
                max: 10
            },
            DEFAULT: {
                min: 11,
                max: 9999
            },
            INDOOR: {
                min: 1e4,
                max: 1e4
            },
            BUILDING: {
                min: 10001,
                max: 10001
            },
            VISUAL_PLUGIN: {
                min: r.min,
                max: r.max
            },
            OVERLAY_AA: {
                min: r.min,
                max: r.max
            },
            POI: {
                min: 3e4,
                max: 3e4
            },
            OVERLAY_NAA: {
                min: 30001,
                max: 1 / 0
            }
        }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        if (t.row > e.row) {
            var n = t;
            t = e, e = n
        }
        return {
            x0: t.column,
            y0: t.row,
            x1: e.column,
            y1: e.row,
            dx: e.column - t.column,
            dy: e.row - t.row
        }
    }

    function o(t, e, n, i, r) {
        var o = Math.max(n, Math.floor(e.y0)),
            a = Math.min(i, Math.ceil(e.y1));
        if (t.x0 === e.x0 && t.y0 === e.y0 ? t.x0 + e.dy / t.dy * t.dx < e.x1 : t.x1 - e.dy / t.dy * t.dx < e.x0) {
            var s = t;
            t = e, e = s
        }
        for (var l = t.dx / t.dy, u = e.dx / e.dy, c = t.dx > 0, f = e.dx < 0, d = o; d < a; d++) {
            var h = l * Math.max(0, Math.min(t.dy, d + c - t.y0)) + t.x0,
                v = u * Math.max(0, Math.min(e.dy, d + f - e.y0)) + e.x0;
            r(Math.floor(v), Math.ceil(h), d)
        }
    }

    function a(t, e, n, i, a, s) {
        var l = r(t, e),
            u = r(e, n),
            c = r(n, t),
            f = void 0;
        l.dy > u.dy && (f = l, l = u, u = f), l.dy > c.dy && (f = l, l = c, c = f), u.dy > c.dy && (f = u, u = c, c = f), l.dy && o(c, l, i, a, s), u.dy && o(c, u, i, a, s)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = n(10),
        l = i(s),
        u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(9),
        v = i(h),
        _ = function () {
            function t(e, n, i, r, o) {
                (0, c.default)(this, t), this.z = e, this.x = n, this.y = i, this.w = r, this.tileSize = o || v.default.tileSize, this.id = n + "_" + i + "_" + e, this._children = null, this._parent = null
            }
            return (0, d.default)(t, [{
                key: "url",
                value: function (t) {
                    var e = this.getServiceCoord(),
                        n = e.x,
                        i = e.y,
                        r = e.z;
                    return t[(this.x + this.y) % t.length].replace("{z}", r).replace("{x}", n).replace("{y}", i).replace("{version}", v.default.dataVersion.tile)
                }
            }, {
                key: "getServiceCoord",
                value: function () {
                    var t = this.tileSize ? v.default.tileSize / this.tileSize : 1;
                    return {
                        x: this.x,
                        y: Math.pow(2, this.z) * t - this.y - 1,
                        z: this.z
                    }
                }
            }, {
                key: "urlForBatchChildren",
                value: function (t) {
                    var e = this.children().map(function (t) {
                        return t.getServiceCoord()
                    }).map(function (t) {
                        return t.z + "_" + t.x + "_" + t.y
                    }).join();
                    return t[(this.x + this.y) % t.length].replace("{tiles}", e).replace("{version}", v.default.dataVersion.tile)
                }
            }, {
                key: "parent",
                value: function (e) {
                    return 0 === this.z ? null : this._parent ? this._parent : (this.z > e ? this._parent = new t(this.z - 1, this.x, this.y, this.w) : this._parent = new t(this.z - 1, Math.floor(this.x / 2), Math.floor(this.y / 2), this.w), this._parent)
                }
            }, {
                key: "ancestor",
                value: function (e) {
                    var n = Math.round(this.z) - Math.round(e);
                    if (n <= 0) return null;
                    var i = Math.pow(2, n);
                    return new t(this.z - n, Math.floor(this.x / i), Math.floor(this.y / i), this.w)
                }
            }, {
                key: "setIconUrls",
                value: function (t) {
                    this._iconUrls = t
                }
            }, {
                key: "children",
                value: function (e) {
                    if (this._children) return this._children;
                    if (this.z >= e) return this._children = [new t(this.z + 1, this.x, this.y, this.w)], this._children;
                    var n = this.z + 1,
                        i = 2 * this.x,
                        r = 2 * this.y;
                    return this._children = [new t(n, i, r, this.w), new t(n, i + 1, r, this.w), new t(n, i, r + 1, this.w), new t(n, i + 1, r + 1, this.w)], this._children
                }
            }, {
                key: "isVirtualCoord",
                value: function () {
                    return this.z <= 0
                }
            }], [{
                key: "converter",
                value: function (t) {
                    return new this(t.z, t.x, t.y, t.w, t.tileSize)
                }
            }, {
                key: "cover",
                value: function (e, n) {
                    function i(n, i, a) {
                        var s = void 0,
                            l = void 0,
                            u = void 0,
                            c = void 0;
                        if (a >= 0 && a <= r)
                            for (s = n; s < i; s++) l = Math.floor(s / r), u = (s % r + r) % r, c = new t(e, u, a, l), o[c.id] = c
                    }
                    var r = 1 << e,
                        o = {};
                    return a(n[0], n[1], n[2], 0, r, i), a(n[2], n[3], n[0], 0, r, i), (0, l.default)(o).map(function (t) {
                        return o[t]
                    })
                }
            }]), t
        }();
    e.default = _
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.RectangleStyle = e.CircleStyle = e.ExtrudablePolygonStyle = e.PolygonStyle = void 0;
    var r = n(2),
        o = i(r),
        a = n(4),
        s = i(a),
        l = n(3),
        u = i(l),
        c = n(0),
        f = i(c),
        d = n(6),
        h = {
            color: "rgba(55,119,255,0.16)",
            borderColor: "#3777FF",
            showBorder: !0,
            borderWidth: 2,
            borderDashArray: [0, 0],
            extrudeHeight: 1
        },
        v = e.PolygonStyle = function t(e) {
            (0, f.default)(this, t), e = (0, d.extend)({}, h, e), this.color = e.color, this.borderColor = e.borderColor, this.showBorder = !0 === e.showBorder, this.borderWidth = e.borderWidth, this.borderDashArray = e.borderDashArray
        };
    e.ExtrudablePolygonStyle = function t(e) {
        (0, f.default)(this, t), e = (0, d.extend)({}, h, e), this.color = e.color, this.borderColor = e.borderColor, this.showBorder = !0 === e.showBorder, this.extrudeHeight = e.extrudeHeight
    }, e.CircleStyle = function (t) {
        function e(t) {
            return (0, f.default)(this, e), (0, s.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
        }
        return (0, u.default)(e, t), e
    }(v), e.RectangleStyle = function (t) {
        function e(t) {
            return (0, f.default)(this, e), (0, s.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
        }
        return (0, u.default)(e, t), e
    }(v)
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(6),
        u = function () {
            function t(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                (0, o.default)(this, t), e && (this.gl = e, this.id = n.id || "resource-" + (0, l.uniqueId)(), this._object = this._onCreate(n), this._initialize(n))
            }
            return (0, s.default)(t, [{
                key: "delete",
                value: function () {
                    this._onDelete(), this._object = null, this.gl = null
                }
            }, {
                key: "_onCreate",
                value: function (t) {}
            }, {
                key: "_onDelete",
                value: function () {}
            }, {
                key: "_initialize",
                value: function (t) {}
            }, {
                key: "bind",
                value: function () {}
            }, {
                key: "unbind",
                value: function () {}
            }]), t
        }();
    e.default = u
}, function (t, e, n) {
    t.exports = {
        default: n(257),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(267),
        __esModule: !0
    }
}, function (t, e) {
    t.exports = function (t, e, n, i) {
        if (!(t instanceof e) || void 0 !== i && i in t) throw TypeError(n + ": incorrect invocation!");
        return t
    }
}, function (t, e) {
    t.exports = {}
}, function (t, e, n) {
    var i = n(53);
    t.exports = function (t, e, n) {
        for (var r in e) i(t, r, e[r], n);
        return t
    }
}, function (t, e, n) {
    "use strict";
    var i = n(18),
        r = n(35),
        o = n(34),
        a = n(23)("species");
    t.exports = function (t) {
        var e = i[t];
        o && e && !e[a] && r.f(e, a, {
            configurable: !0,
            get: function () {
                return this
            }
        })
    }
}, function (t, e, n) {
    var i = n(35).f,
        r = n(58),
        o = n(23)("toStringTag");
    t.exports = function (t, e, n) {
        t && !r(t = n ? t : t.prototype, o) && i(t, o, {
            configurable: !0,
            value: e
        })
    }
}, function (t, e, n) {
    var i = n(5),
        r = n(89),
        o = n(17),
        a = n(334),
        s = "[" + a + "]",
        l = "​",
        u = RegExp("^" + s + s + "*"),
        c = RegExp(s + s + "*$"),
        f = function (t, e, n) {
            var r = {},
                s = o(function () {
                    return !!a[t]() || l[t]() != l
                }),
                u = r[t] = s ? e(d) : a[t];
            n && (r[n] = u), i(i.P + i.F * s, "String", r)
        },
        d = f.trim = function (t, e) {
            return t = String(r(t)), 1 & e && (t = t.replace(u, "")), 2 & e && (t = t.replace(c, "")), t
        };
    t.exports = f
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(195),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = r.default[0]
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.LIGHT_FRAG = e.LIGHT_VERTEX = e.LIGHT_VARYING = e.LIGHT_UNIFORM = void 0;
    var i = n(230),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        o = r.default ? "\nvec4 lighting_apply_on_color(vec4 color) {\n\tfloat isInShadow = isInShadow();\n\tvec3 colorInLight = color.rgb * mix(\n\t\tlighting_vLightWeight,\n\t\tlighting_vLightWeight - lighting_vShadowWeight,\n\t\tisInShadow\n\t) + mix(\n\t\tlighting_vLightSpecular,\n\t\tlighting_vLightSpecular - lighting_vShadowSpecular,\n\t\tisInShadow\n\t);\n\tcolorInLight = mix(\n\t\tcolorInLight,\n\t\ttoneMapping(colorInLight, lighting_vToneMapping.y),\n\t\tlighting_vToneMapping.x\n\t);\n\treturn vec4(colorInLight, color.a);\n}\n" : "\nvec4 lighting_apply_on_color(vec4 color) {\n\tvec3 colorInLight = color.rgb * lighting_vLightWeight + lighting_vLightSpecular;\n\treturn vec4(colorInLight, color.a);\n}\n";
    e.LIGHT_UNIFORM = "\n#define LIGHT_MAX 4\n\n\nuniform vec4 lighting_uBase;\nuniform vec4 lighting_uAdvanced;\nuniform vec3 lighting_uAmbientColor;\nuniform vec3 lighting_uDirDirection[LIGHT_MAX];\nuniform vec3 lighting_uDirColor[LIGHT_MAX];\nuniform vec3 lighting_uPointPosition[LIGHT_MAX];\nuniform vec3 lighting_uPointAtt[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\nuniform vec2 lighting_uLightCount;\nuniform vec3 lighting_uViewPos;\nuniform mat4 lighting_uShadowLightPVMatrix;\n", e.LIGHT_VARYING = "\n\nvarying vec3 lighting_vLightWeight;\nvarying vec3 lighting_vLightSpecular;\nvarying vec3 lighting_vShadowWeight;\nvarying vec3 lighting_vShadowSpecular;\nvarying mediump vec4 lighting_vShadowInfo;\nvarying vec2 lighting_vToneMapping;\n", e.LIGHT_VERTEX = "\nvec3 lighting_vPosition;\nvec3 lighting_vNormal;\nvec3 lighting_vViewDir;\nvec2 lighting_vObjSpec;\n\n\nfloat lighting_calcDiffuse(vec3 lightDir) {\n\treturn max(dot(lightDir, lighting_vNormal), 0.);\n}\n\n\nfloat lighting_calcSpecular(vec3 lightDir) {\n\t\n\t\n\t\n\t\n\tvec3 halfwayDir = normalize(lighting_vViewDir + lightDir);\n\tfloat reflectStrength = max(dot(halfwayDir, lighting_vNormal), 0.);\n\n\treturn pow(reflectStrength, lighting_vObjSpec.y) * lighting_vObjSpec.x;\n}\n\n\nvoid lighting_setObjInfo(vec3 position, vec3 normal, mat4 modelMatrix, vec2 objSpec) {\n\tlighting_vPosition = (modelMatrix * vec4(position, 1.)).xyz;\n\tlighting_vNormal = normalize(modelMatrix * vec4(normal, 0.)).xyz;\n\tlighting_vViewDir = normalize(lighting_uViewPos - lighting_vPosition);\n\tlighting_vObjSpec = objSpec;\n\tlighting_vToneMapping = lighting_uAdvanced.xy;\n\t\n\tvec4 posInLightView = lighting_uShadowLightPVMatrix * vec4(lighting_vPosition, 1.0);\n\tvec3 normalized = (posInLightView.xyz/ posInLightView.w + 1.0) / 2.0;\n\tlighting_vShadowInfo = vec4(normalized, lighting_uAdvanced.z);\n}\n\n\nvoid lighting_calcDirLights(float enable) {\n\tvec3 diffuse = vec3(0.0);\n\tvec3 specular = vec3(0.0);\n\tvec3 shadowDiffuse = vec3(0.0);\n\tvec3 shadowSpecular = vec3(0.0);\n\n\tfor (int i = 0; i < LIGHT_MAX; i++) {\n\t\tfloat isValid = (1.0 - step(float(lighting_uLightCount.x), float(i))) * enable;\n\n\t\t\n\t\tdiffuse += mix(\n\t\t\tvec3(0.0),\n\t\t\tlighting_calcDiffuse(lighting_uDirDirection[i]) * lighting_uDirColor[i],\n\t\t\tisValid\n\t\t);\n\t\t\n\t\t\n\t\tspecular += mix(\n\t\t\tvec3(0.0),\n\t\t\tlighting_calcSpecular(lighting_uDirDirection[i]) * lighting_uDirColor[i],\n\t\t\tisValid\n\t\t);\n\n\t\t\n\t\tfloat isShadowLight = isValid * step(0., lighting_uAdvanced.z) * float((float(i) == lighting_uAdvanced.w));\n\t\tshadowDiffuse += mix(\n\t\t\tvec3(0.0),\n\t\t\tlighting_calcDiffuse(lighting_uDirDirection[i]) * lighting_uDirColor[i],\n\t\t\tisShadowLight\n\t\t);\n\t\tshadowSpecular += mix(\n\t\t\tvec3(0.0),\n\t\t\tlighting_calcSpecular(lighting_uDirDirection[i]) * lighting_uDirColor[i],\n\t\t\tisShadowLight\n\t\t);\n\t}\n\n\tlighting_vLightWeight += diffuse * lighting_uBase.z;\n\tlighting_vLightSpecular += specular * lighting_uBase.w;\n\tlighting_vShadowWeight = shadowDiffuse * lighting_uBase.z * lighting_uAdvanced.z;\n\tlighting_vShadowSpecular = shadowSpecular * lighting_uBase.w * lighting_uAdvanced.z;\n}\n\n\nvoid lighting_calcPointLights(float enable) {\n\tvec3 diffuse = vec3(0.0);\n\tvec3 specular = vec3(0.0);\n\n\tfor (int i = 0; i < LIGHT_MAX; i++) {\n\t\tfloat isValid = (1.0 - step(float(lighting_uLightCount.y), float(i))) * enable;\n\n\t\tvec3 posToLight = lighting_uPointPosition[i] - lighting_vPosition;\n\t\tvec3 direction = normalize(posToLight);\n\t\tfloat distance = length(posToLight);\n\t\t\n\t\t\n\t\tfloat attenuation = 1.0 / dot(vec3(1.0, 0.014, 0.0007), vec3(1.0, distance, distance * distance));\n\n\t\t\n\t\tdiffuse += mix(\n\t\t\tvec3(0.0),\n\t\t\tlighting_calcDiffuse(direction) * lighting_uPointColor[i] * attenuation,\n\t\t\tisValid\n\t\t);\n\t\t\n\t\t\n\t\tspecular += mix(\n\t\t\tvec3(0.0),\n\t\t\tlighting_calcSpecular(direction) * lighting_uPointColor[i] * attenuation,\n\t\t\tisValid\n\t\t);\n\t}\n\n\tlighting_vLightWeight += diffuse * lighting_uBase.z;\n\tlighting_vLightSpecular += specular * lighting_uBase.w;\n}\n\n\nvoid lighting_apply_on_vertex(vec3 position, vec3 normal, mat4 modelMatrix, vec2 objSpec) {\n\tlighting_setObjInfo(position, normal, modelMatrix, objSpec);\n\n\t\n\tlighting_vLightWeight = mix(\n\t\tvec3(1.0),\n\t\tlighting_uAmbientColor * lighting_uBase.y,\n\t\tlighting_uBase.x\n\t);\n\tlighting_vLightSpecular = vec3(0.0);\n\tlighting_vShadowWeight = vec3(0.0);\n\tlighting_vShadowSpecular = vec3(0.0);\n\n\t\n\tlighting_calcDirLights(lighting_uBase.x);\n\tlighting_calcPointLights(lighting_uBase.x);\n}\n\nvoid lighting_apply_on_vertex(vec3 position, vec3 normal, mat4 modelMatrix) {\n\tlighting_apply_on_vertex(position, normal, modelMatrix, vec2(0.4, 32.0));\n}\n", e.LIGHT_FRAG = "\nuniform sampler2D lighting_uShadowSampler;\n\nvec3 toneMapping(vec3 hdrColor, float exposure) {\n\tconst float gamma = 2.2;\n\n\n\tvec3 mapped = vec3(1.0) - exp(-hdrColor * exposure);\n\t\n\n\tmapped = pow(mapped, vec3(1.0 / gamma));\n\t\n\treturn mapped;\n}\n\nfloat getShadowSceneDepth() {\n\treturn texture2D(lighting_uShadowSampler, lighting_vShadowInfo.xy).x;\n}\n\nfloat isInShadow() {\n\tfloat sceneDepth = getShadowSceneDepth();\n\treturn mix(\n\t\t0.0,\n\t\tstep(0.0005, abs(lighting_vShadowInfo.z - sceneDepth)) * step(sceneDepth, lighting_vShadowInfo.z),\n\t\tstep(0., lighting_vShadowInfo.w)\n\t);\n}\n\n" + o + "\n"
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(195),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = r.default[1]
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.CONTROL_POSITION_STYLE = e.CONTROL_POSITION = e.DEFAULT_CONTROL_ID = void 0;
    var i = n(143),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        o = (e.DEFAULT_CONTROL_ID = {
            SCALE: "scale",
            ZOOM: "zoom",
            FLOOR: "floor"
        }, e.CONTROL_POSITION = {
            TOP_LEFT: 0,
            TOP_CENTER: 1,
            TOP_RIGHT: 2,
            CENTER_LEFT: 3,
            CENTER: 4,
            CENTER_RIGHT: 5,
            BOTTOM_LEFT: 6,
            BOTTOM_CENTER: 7,
            BOTTOM_RIGHT: 8
        });
    e.CONTROL_POSITION_STYLE = function () {
        var t = {};
        return (0, r.default)(o).forEach(function (e) {
            var n = e % 3,
                i = Math.floor(e / 3),
                r = "position: absolute;";
            switch (i) {
                case 0:
                    r += "top:0px;";
                    break;
                case 1:
                    r += "top:50%;";
                    break;
                case 2:
                    r += "bottom:0px;"
            }
            switch (n) {
                case 0:
                    r += "left:0px;";
                    break;
                case 1:
                    r += "left:50%;";
                    break;
                case 2:
                    r += "right:0px;"
            }
            r += "transform: translate(" + (1 === n ? "-50%" : "0") + ", " + (1 === i ? "-50%" : "0") + ");", t[e] = r
        }), t
    }()
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(240),
        _ = i(v),
        p = n(31),
        m = n(36),
        y = i(m),
        g = n(138),
        x = n(9),
        b = n(40),
        S = n(6),
        w = y.default.isNumber,
        E = y.default.isUndefined,
        A = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this));
                return n.id = t.id || S.uniqueId(), n.type = t.type || null, n.sourceId = t.sourceId || null, n.setZoomRange(t.minZoom, t.maxZoom), n.visible = !!E(t.visible) || Boolean(t.visible), n.setZIndex(t.zIndex || 0), n.setOpacity(t.opacity), n._childLayers = {}, n._initialize(t), t.map && n.setMap(t.map), n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "setVisible",
                value: function (t) {
                    return t = Boolean(t), this._forEachChild(function (e, n) {
                        n.setVisible(t)
                    }), this.visible === t ? this : (this.visible = t, this._fire("layer", {}), this)
                }
            }, {
                key: "setZIndex",
                value: function (t) {
                    w(t) || (new p.BaseTypeError("Layer.zIndex", "number", t).error(), t = 0), this._forEachChild(function (e, n) {
                        n.setZIndex(t)
                    }), this.zIndex = t;
                    var e = this.calculateRank();
                    return this.map ? this.map.moveLayer(this.id, e) : this.rank = e, this
                }
            }, {
                key: "calculateRank",
                value: function () {
                    return (0, g.getRank)(this.zIndex, "DEFAULT")
                }
            }, {
                key: "setRank",
                value: function (t) {
                    this.rank = t, this._forEachChild(function (e, n) {
                        n.setRank(t)
                    })
                }
            }, {
                key: "getRank",
                value: function () {
                    return this.rank
                }
            }, {
                key: "setMap",
                value: function (t) {
                    return t instanceof _.default || null === t ? this.map === t ? this : (this.map && (this.map.removeLayer(this.id), this._removeSource(), this.map = null), t && (this.map = t, t.addLayer(this), this._addSource()), this) : (console.error("传入的map参数并非TMap.Map实例"), this)
                }
            }, {
                key: "getMap",
                value: function () {
                    return this.map
                }
            }, {
                key: "getZIndex",
                value: function () {
                    return this.zIndex
                }
            }, {
                key: "setZoomRange",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : x.minZoom,
                        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : x.maxZoom;
                    return w(t) || (new p.BaseTypeError("Layer.minZoom", "number", t).error(), t = x.minZoom), w(e) || (new p.BaseTypeError("Layer.maxZoom", "number", e).error(), e = x.maxZoom), this._forEachChild(function (n, i) {
                        i.setZoomRange(t, e)
                    }), this.minZoom = t, this.maxZoom = e, this
                }
            }, {
                key: "setOpacity",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                    return w(t) || (new p.BaseTypeError("Layer.opacity", "number", t).error(), t = 1), (t < 0 || t > 1) && (console.error("Layer.opacity 传入参数值范围应当在0~1之间！"), t = S.clamp(t, 0, 1)), this.opacity = t, this
                }
            }, {
                key: "_removeSource",
                value: function () {}
            }, {
                key: "_addSource",
                value: function () {}
            }, {
                key: "_initialize",
                value: function (t) {}
            }, {
                key: "isHidden",
                value: function (t) {
                    return !!(this.minZoom && t < this.minZoom) || (!!(this.maxZoom && t > this.maxZoom) || !this.visible)
                }
            }, {
                key: "appendChild",
                value: function (t) {
                    var n = t instanceof e ? t : new e(t);
                    return n.setMap(null), n.setZIndex(this.zIndex), n.setRank(this.rank), n.setZoomRange(this.minZoom, this.maxZoom), n.setVisible(this.visible), this._childLayers[n.id] = n, n
                }
            }, {
                key: "removeChild",
                value: function (t) {
                    this._childLayers[t] && delete this._childLayers[t]
                }
            }, {
                key: "hasChild",
                value: function (t) {
                    return !!this._childLayers[t]
                }
            }, {
                key: "getChild",
                value: function (t) {
                    return this.hasChild(t) ? this._childLayers[t] : null
                }
            }, {
                key: "_forEachChild",
                value: function (t) {
                    S.forIn(this._childLayers, function (e, n) {
                        t(e, n)
                    })
                }
            }, {
                key: "flat",
                value: function () {
                    var t = [];
                    return this.sourceId && t.push(this), this._forEachChild(function (e, n) {
                        t = t.concat(n.flat())
                    }), t
                }
            }]), e
        }(b);
    e.default = A
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.TILE_STATE = void 0;
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(6),
        u = e.TILE_STATE = {
            loading: "tile_loading",
            loaded: "tile_loaded",
            reloading: "tile_reloading",
            expired: "tile_expired",
            unloaded: "tile_unloaded",
            errored: "tile_errored"
        },
        c = function () {
            function t(e, n, i, r, a) {
                (0, o.default)(this, t), this.coord = e, this.uid = l.uniqueId(), this.tileSize = n, this.sourceMaxZoom = i, this.transform = r, this.camera = a, this.state = u.loading
            }
            return (0, s.default)(t, [{
                key: "setData",
                value: function (t) {
                    this.state = u.loaded, this._data = t
                }
            }, {
                key: "updateData",
                value: function (t) {
                    this.setData(t)
                }
            }, {
                key: "getData",
                value: function () {
                    return this._data
                }
            }, {
                key: "getQueryData",
                value: function (t) {
                    return this._data ? t && "" !== t ? this._data[t] : this._data : null
                }
            }, {
                key: "hasData",
                value: function () {
                    return this.state === u.loaded || this.state === u.reloading || this.state === u.expired
                }
            }, {
                key: "clear",
                value: function () {
                    this.unloadData()
                }
            }, {
                key: "unloadData",
                value: function () {
                    this._data = null, this.state = u.unloaded
                }
            }]), t
        }();
    e.default = c
}, , , function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r() {
        return {
            state: 0,
            transition: function (t) {
                var e = "overlay" === t;
                switch (this.state) {
                    case 0:
                        this.state = e ? 1 : 0;
                        break;
                    case 1:
                        this.state = e ? 1 : 2;
                        break;
                    case 2:
                        this.state = e ? 1 : 0
                }
            }
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(12),
        a = i(o),
        s = n(2),
        l = i(s),
        u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(4),
        v = i(h),
        _ = n(11),
        p = i(_),
        m = n(3),
        y = i(m),
        g = n(6),
        x = i(g),
        b = n(374),
        S = i(b),
        w = n(13),
        E = i(w),
        A = n(499),
        T = i(A),
        k = n(61),
        P = i(k),
        I = n(31),
        M = n(36),
        L = i(M),
        C = n(46),
        V = function (t) {
            function e(t) {
                (0, c.default)(this, e);
                var n = (0, v.default)(this, (e.__proto__ || (0, l.default)(e)).call(this));
                return t.geometries = t.geometries || [], n.id = t.id || x.default.uniqueId(), n.zIndex = t.zIndex >= 0 ? t.zIndex : 0, n.styles = t.styles || {}, n.minZoom = t.minZoom, n.maxZoom = t.maxZoom, n._setGeometryType(), n._checkGeometries(t.geometries, n.styles), n._rawGeometries = n._assignIdToGeometry(t.geometries), n._idSet = n._updateGeometryIdSet(n._rawGeometries), n.geometries = n._transferFromGeometry(n._rawGeometries), n._checkStyles(n.styles), n._initialize(), n._bubbleHandler = [], n._lastestOverlayMouseMoveObj = null, n._mousemoveFSM = r(), t.map && n.setMap(t.map), (0, C.statCn)(n._className), n
            }
            return (0, y.default)(e, t), (0, d.default)(e, [{
                key: "_initialize",
                value: function () {}
            }, {
                key: "_emitGeoEvent",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    this.emit(t, (0, a.default)({}, n, {
                        geometry: e,
                        type: t,
                        target: this
                    }))
                }
            }, {
                key: "_bindBubbleHandler",
                value: function () {
                    var t = this;
                    this._bubbleHandler.push(E.default.on(this.map._bubbleMiddleware, "mousemove", function (e) {
                        2 === t._mousemoveFSM.state && (t._lastestOverlayMouseMoveObj = null, t._emitGeoEvent("mouseout", null, e), t._emitGeoEvent("hover", null, e)), t._mousemoveFSM.transition.call(t._mousemoveFSM, "map")
                    })), this._bubbleHandler.push(E.default.on(this.map._bubbleMiddleware, "action", function (e) {
                        if (e && e.layerId === t.id) {
                            var n = t._rawGeometries[e.objectIndex];
                            t._emitGeoEvent(e.eventType, n, e.mapEvent), "mousemove" === e.eventType && (t._mousemoveFSM.transition.call(t._mousemoveFSM, "overlay"), t._lastestOverlayMouseMoveObj ? n !== t._lastestOverlayMouseMoveObj && t._emitGeoEvent("hover", n, e.mapEvent) : (t._emitGeoEvent("mouseover", n, e.mapEvent), t._emitGeoEvent("hover", n, e.mapEvent)), t._lastestOverlayMouseMoveObj = n)
                        }
                    })), this._bubbleHandler.push(E.default.on(this.map, "destroy", function () {
                        t.setMap(null)
                    }))
                }
            }, {
                key: "_removeBubbleHander",
                value: function () {
                    this._bubbleHandler.forEach(function (t) {
                        t && t.remove && t.remove()
                    })
                }
            }, {
                key: "_setGeometryType",
                value: function () {}
            }, {
                key: "_createLayer",
                value: function () {
                    this.layer = new T.default({
                        map: this.map,
                        id: this.id,
                        type: this._layerType,
                        zIndex: this.zIndex,
                        minZoom: this.minZoom,
                        maxZoom: this.maxZoom,
                        sourceData: this._getRenderSourceData()
                    })
                }
            }, {
                key: "_removeLayer",
                value: function () {
                    this.layer && this.layer.setMap(null)
                }
            }, {
                key: "setVisible",
                value: function (t) {
                    return t = Boolean(t), this.layer && this.layer.setVisible(t), this
                }
            }, {
                key: "setMap",
                value: function (t) {
                    return null == t || t instanceof window.TMap.Map ? t === this.map ? this : (t ? this.map ? (this.setMap(null), this.setMap(t)) : this.id && t.getLayer(this.id) ? console.error("Map中已存在id为" + this.id + "的图层，无法重复添加") : (this.map = t, this._bindBubbleHandler(), this._createLayer()) : (this._removeBubbleHander(), this._removeLayer(), this.map = null), this) : (console.error("所传入参数并非TMap.Map的实例！"), this)
                }
            }, {
                key: "setGeometries",
                value: function (t) {
                    return Array.isArray(t) ? t === this._rawGeometries ? this : ((0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "setGeometries", this).call(this, t, this.styles), this.map && this.map.getSource(this.id).setData(this._getRenderSourceData()), this) : (new I.BaseTypeError("geometries", "Array", t).error(), this)
                }
            }, {
                key: "setStyles",
                value: function (t) {
                    return t ? (t.hasOwnProperty || new I.BaseTypeError("styles", "Object", t).error(), this._checkStyles(t), t === this.styles ? this : (this.styles = t, this.map && this.map.getSource(this.id).setData(this._getRenderSourceData()), this)) : this
                }
            }, {
                key: "setZIndex",
                value: function (t) {
                    return L.default.isNumber(t) ? t < 0 ? (console.error("zIndex希望设置为非负数,实际值为: " + t), this) : (this.layer && this.layer.setZIndex(t), this.zIndex = t, this) : (new I.BaseTypeError("zIndex", "Number", t).error(), this)
                }
            }, {
                key: "getMap",
                value: function () {
                    return this.map
                }
            }, {
                key: "getVisible",
                value: function () {
                    return this.layer && this.layer.visible
                }
            }, {
                key: "getStyles",
                value: function () {
                    return (0, a.default)({}, this.styles)
                }
            }, {
                key: "getZIndex",
                value: function () {
                    return this.zIndex
                }
            }, {
                key: "updateGeometries",
                value: function (t, n) {
                    return t ? ((0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "updateGeometries", this).call(this, t, n), this.map && this.map.getSource(this.id).setData(this._getRenderSourceData()), this) : this
                }
            }, {
                key: "add",
                value: function (t) {
                    return (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "add", this).call(this, t)
                }
            }, {
                key: "remove",
                value: function (t) {
                    return (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "remove", this).call(this, t)
                }
            }, {
                key: "destroy",
                value: function () {
                    (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "destroy", this).call(this), this.removeAllListeners(), this.setMap(null), this.styles = null, this.id = null, this.zIndex = null, this.minZoom = null, this.maxZoom = null
                }
            }, {
                key: "getGeometryType",
                value: function () {
                    return this._geometryType
                }
            }, {
                key: "snap",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1 / 0,
                        n = arguments[2];
                    this._snapTargets || (this._updateSnapTargets(), this.on("geometry_changed", this._updateSnapTargets.bind(this)));
                    var i = null;
                    return i = this._snapToPoints(t, e, n), i || (i = this._snapToSegments(t, e, n)), i
                }
            }, {
                key: "_snapToPoints",
                value: function (t, e, n) {
                    var i = this._snapTargets.points,
                        r = this.map;
                    n && !n.isEmpty() && (i = i.filter(function (t) {
                        return n.contains(t)
                    }));
                    var o = r.projectToContainer(t),
                        a = null,
                        s = 1 / 0;
                    return i.forEach(function (t) {
                        var n = r.projectToContainer(t),
                            i = o.dist(n);
                        i < e && i < s && (a = t, s = i)
                    }), a ? {
                        latLng: a,
                        dist: s
                    } : null
                }
            }, {
                key: "_snapToSegments",
                value: function (t, e, n) {
                    var i = this._snapTargets.segments,
                        r = this.map;
                    n && !n.isEmpty() && (i = i.filter(function (t) {
                        var e = new P.default;
                        return e.extend(t[0]), e.extend(t[1]), n.intersects(e)
                    }));
                    for (var o = r.projectToContainer(t), a = null, s = 1 / 0, l = 0; l < i.length; l++) {
                        var u = i[l],
                            c = r.projectToContainer(u[0]),
                            f = r.projectToContainer(u[1]),
                            d = f.sub(c),
                            h = o.sub(c),
                            v = h.dot(d) / d.lengthSq();
                        if (v > 0 && v < 1) {
                            var _ = d.mult(v),
                                p = h.sub(_),
                                m = p.length();
                            m < e && m < s && (a = r.unprojectFromContainer(c.add(_)), s = m)
                        }
                    }
                    return a ? {
                        latLng: a,
                        dist: s
                    } : null
                }
            }, {
                key: "_updateSnapTargets",
                value: function () {
                    this._snapTargets = {
                        points: this._getAllPoints(),
                        segments: this._getAllSegments()
                    }
                }
            }, {
                key: "_getAllPoints",
                value: function () {
                    return []
                }
            }, {
                key: "_getAllSegments",
                value: function () {
                    return []
                }
            }, {
                key: "_getRenderableGeometries",
                value: function () {
                    var t = this;
                    return this.geometries.filter(function (e) {
                        return e && t.styles
                    }).map(function (e) {
                        var n = (0, a.default)({}, e);
                        return t.styles[e.styleId] || (n.styleId = "default"), n
                    })
                }
            }, {
                key: "_getRenderSourceData",
                value: function () {
                    return {
                        type: this._geometryType,
                        styles: this.styles,
                        geometries: this._getRenderableGeometries()
                    }
                }
            }, {
                key: "_checkStyles",
                value: function (t) {
                    t.default || (t.default = this._getDefaultStyle())
                }
            }]), e
        }(S.default);
    e.default = V
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        if (4 === t.length) {
            for (var e = "#", n = 1; n < 4; n += 1) e += t.slice(n, n + 1).concat(t.slice(n, n + 1));
            t = e
        }
        var i = t.slice(1);
        return {
            r: parseInt(i.slice(0, 2), 16),
            g: parseInt(i.slice(2, 4), 16),
            b: parseInt(i.slice(4), 16)
        }
    }

    function o(t) {
        return t = t.replace(/rgb/, "rgba").replace(")", ",") + "1)", a(t)
    }

    function a(t) {
        return t = t.replace(/rgba\(/, "").replace(")", "").split(","), {
            r: parseInt(t[0]),
            g: parseInt(t[1]),
            b: parseInt(t[2]),
            a: parseFloat(t[3])
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = n(0),
        l = i(s),
        u = n(1),
        c = i(u),
        f = n(36),
        d = i(f),
        h = n(595),
        v = d.default.isString,
        _ = d.default.isArray,
        p = d.default.isUndefined,
        m = function () {
            function t(e, n) {
                if ((0, l.default)(this, t), this.r = 1, this.g = 1, this.b = 1, this.a = 1, v(e)) this.turnStr2Rgba(e);
                else if (_(e)) {
                    var i = n && n.max || 255;
                    this.r = e[0] / i, this.g = e[1] / i, this.b = e[2] / i, this.a = p(e[3]) ? 1 : e[3]
                }
            }
            return (0, c.default)(t, [{
                key: "turnStr2Rgba",
                value: function (t) {
                    t = t.toLowerCase();
                    var e = h.HEX_REG,
                        n = h.RGB_REG,
                        i = h.RGBA_REG,
                        s = null;
                    e.test(t) ? s = r(t) : n.test(t) ? s = o(t) : i.test(t) && (s = a(t)), s && (this.r = s.r / 255, this.g = s.g / 255, this.b = s.b / 255, this.a = p(s.a) ? 1 : s.a)
                }
            }, {
                key: "toArray",
                value: function () {
                    return [this.r, this.g, this.b, this.a]
                }
            }, {
                key: "toUpArray",
                value: function () {
                    return this.toArray().map(function (t) {
                        return 255 * t
                    })
                }
            }, {
                key: "toString",
                value: function () {
                    return "rgba(" + ["" + Math.round(255 * this.r), "" + Math.round(255 * this.g), "" + Math.round(255 * this.b), "" + this.a].join(",") + ")"
                }
            }]), t
        }();
    e.default = m
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t * (Math.PI / 180)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return [t + 1 & 255, t + 1 >> 8 & 255, t + 1 >> 8 >> 8 & 255]
    }

    function r(t) {
        var e = (0, a.default)(t, 3);
        return e[0] + 256 * e[1] + 65536 * e[2] - 1
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(95),
        a = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(o);
    e.encodePickingColor = i, e.decodePickingColor = r
}, function (t, e, n) {
    t.exports = {
        default: n(258),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(269),
        __esModule: !0
    }
}, function (t, e, n) {
    "use strict";
    var i = n(24).f,
        r = n(84),
        o = n(117),
        a = n(33),
        s = n(108),
        l = n(65),
        u = n(113),
        c = n(173),
        f = n(183),
        d = n(22),
        h = n(74).fastKey,
        v = n(122),
        _ = d ? "_s" : "size",
        p = function (t, e) {
            var n, i = h(e);
            if ("F" !== i) return t._i[i];
            for (n = t._f; n; n = n.n)
                if (n.k == e) return n
        };
    t.exports = {
        getConstructor: function (t, e, n, u) {
            var c = t(function (t, i) {
                s(t, c, e, "_i"), t._t = e, t._i = r(null), t._f = void 0, t._l = void 0, t[_] = 0, void 0 != i && l(i, n, t[u], t)
            });
            return o(c.prototype, {
                clear: function () {
                    for (var t = v(this, e), n = t._i, i = t._f; i; i = i.n) i.r = !0, i.p && (i.p = i.p.n = void 0), delete n[i.i];
                    t._f = t._l = void 0, t[_] = 0
                },
                delete: function (t) {
                    var n = v(this, e),
                        i = p(n, t);
                    if (i) {
                        var r = i.n,
                            o = i.p;
                        delete n._i[i.i], i.r = !0, o && (o.n = r), r && (r.p = o), n._f == i && (n._f = r), n._l == i && (n._l = o), n[_]--
                    }
                    return !!i
                },
                forEach: function (t) {
                    v(this, e);
                    for (var n, i = a(t, arguments.length > 1 ? arguments[1] : void 0, 3); n = n ? n.n : this._f;)
                        for (i(n.v, n.k, this); n && n.r;) n = n.p
                },
                has: function (t) {
                    return !!p(v(this, e), t)
                }
            }), d && i(c.prototype, "size", {
                get: function () {
                    return v(this, e)[_]
                }
            }), c
        },
        def: function (t, e, n) {
            var i, r, o = p(t, e);
            return o ? o.v = n : (t._l = o = {
                i: r = h(e, !0),
                k: e,
                v: n,
                p: i = t._l,
                n: void 0,
                r: !1
            }, t._f || (t._f = o), i && (i.n = o), t[_]++, "F" !== r && (t._i[r] = o)), t
        },
        getEntry: p,
        setStrong: function (t, e, n) {
            u(t, e, function (t, n) {
                this._t = v(t, e), this._k = n, this._l = void 0
            }, function () {
                for (var t = this, e = t._k, n = t._l; n && n.r;) n = n.p;
                return t._t && (t._l = n = n ? n.n : t._t._f) ? "keys" == e ? c(0, n.k) : "values" == e ? c(0, n.v) : c(0, [n.k, n.v]) : (t._t = void 0, c(1))
            }, n ? "entries" : "values", !n, !0), f(e)
        }
    }
}, function (t, e, n) {
    var i = n(96),
        r = n(273);
    t.exports = function (t) {
        return function () {
            if (i(this) != t) throw TypeError(t + "#toJSON isn't generic");
            return r(this)
        }
    }
}, function (t, e, n) {
    "use strict";
    var i = n(14),
        r = n(8),
        o = n(74),
        a = n(42),
        s = n(38),
        l = n(117),
        u = n(65),
        c = n(108),
        f = n(20),
        d = n(69),
        h = n(24).f,
        v = n(275)(0),
        _ = n(22);
    t.exports = function (t, e, n, p, m, y) {
        var g = i[t],
            x = g,
            b = m ? "set" : "add",
            S = x && x.prototype,
            w = {};
        return _ && "function" == typeof x && (y || S.forEach && !a(function () {
            (new x).entries().next()
        })) ? (x = e(function (e, n) {
            c(e, x, t, "_c"), e._c = new g, void 0 != n && u(n, m, e[b], e)
        }), v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","), function (t) {
            var e = "add" == t || "set" == t;
            t in S && (!y || "clear" != t) && s(x.prototype, t, function (n, i) {
                if (c(this, x, t), !e && y && !f(n)) return "get" == t && void 0;
                var r = this._c[t](0 === n ? 0 : n, i);
                return e ? this : r
            })
        }), y || h(x.prototype, "size", {
            get: function () {
                return this._c.size
            }
        })) : (x = p.getConstructor(e, t, m, b), l(x.prototype, n), o.NEED = !0), d(x, t), w[t] = x, r(r.G + r.W + r.F, w), y || p.setStrong(x, t, m), x
    }
}, function (t, e, n) {
    var i = n(14).document;
    t.exports = i && i.documentElement
}, function (t, e, n) {
    t.exports = !n(22) && !n(42)(function () {
        return 7 != Object.defineProperty(n(110)("div"), "a", {
            get: function () {
                return 7
            }
        }).a
    })
}, function (t, e, n) {
    var i = n(56),
        r = n(15)("iterator"),
        o = Array.prototype;
    t.exports = function (t) {
        return void 0 !== t && (i.Array === t || o[r] === t)
    }
}, function (t, e, n) {
    var i = n(64);
    t.exports = Array.isArray || function (t) {
        return "Array" == i(t)
    }
}, function (t, e, n) {
    var i = n(28);
    t.exports = function (t, e, n, r) {
        try {
            return r ? e(i(n)[0], n[1]) : e(n)
        } catch (e) {
            var o = t.return;
            throw void 0 !== o && i(o.call(t)), e
        }
    }
}, function (t, e, n) {
    var i = n(15)("iterator"),
        r = !1;
    try {
        var o = [7][i]();
        o.return = function () {
            r = !0
        }, Array.from(o, function () {
            throw 2
        })
    } catch (t) {}
    t.exports = function (t, e) {
        if (!e && !r) return !1;
        var n = !1;
        try {
            var o = [7],
                a = o[i]();
            a.next = function () {
                return {
                    done: n = !0
                }
            }, o[i] = function () {
                return a
            }, t(o)
        } catch (t) {}
        return n
    }
}, function (t, e) {
    t.exports = function (t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}, function (t, e, n) {
    var i = n(176),
        r = n(111).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function (t) {
        return i(t, r)
    }
}, function (t, e, n) {
    var i = n(43),
        r = n(44),
        o = n(118)("IE_PROTO"),
        a = Object.prototype;
    t.exports = Object.getPrototypeOf || function (t) {
        return t = r(t), i(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? a : null
    }
}, function (t, e, n) {
    var i = n(43),
        r = n(39),
        o = n(274)(!1),
        a = n(118)("IE_PROTO");
    t.exports = function (t, e) {
        var n, s = r(t),
            l = 0,
            u = [];
        for (n in s) n != a && i(s, n) && u.push(n);
        for (; e.length > l;) i(s, n = e[l++]) && (~o(u, n) || u.push(n));
        return u
    }
}, function (t, e, n) {
    var i = n(22),
        r = n(52),
        o = n(39),
        a = n(67).f;
    t.exports = function (t) {
        return function (e) {
            for (var n, s = o(e), l = r(s), u = l.length, c = 0, f = []; u > c;) n = l[c++], i && !a.call(s, n) || f.push(t ? [n, s[n]] : s[n]);
            return f
        }
    }
}, function (t, e) {
    t.exports = function (t) {
        try {
            return {
                e: !1,
                v: t()
            }
        } catch (t) {
            return {
                e: !0,
                v: t
            }
        }
    }
}, function (t, e, n) {
    var i = n(28),
        r = n(20),
        o = n(114);
    t.exports = function (t, e) {
        if (i(t), r(e) && e.constructor === t) return e;
        var n = o.f(t);
        return (0, n.resolve)(e), n.promise
    }
}, function (t, e, n) {
    t.exports = n(38)
}, function (t, e, n) {
    "use strict";
    var i = n(8),
        r = n(63),
        o = n(33),
        a = n(65);
    t.exports = function (t) {
        i(i.S, t, {
            from: function (t) {
                var e, n, i, s, l = arguments[1];
                return r(this), e = void 0 !== l, e && r(l), void 0 == t ? new this : (n = [], e ? (i = 0, s = o(l, arguments[2], 2), a(t, !1, function (t) {
                    n.push(s(t, i++))
                })) : a(t, !1, n.push, n), new this(n))
            }
        })
    }
}, function (t, e, n) {
    "use strict";
    var i = n(8);
    t.exports = function (t) {
        i(i.S, t, {
            of: function () {
                for (var t = arguments.length, e = new Array(t); t--;) e[t] = arguments[t];
                return new this(e)
            }
        })
    }
}, function (t, e, n) {
    "use strict";
    var i = n(14),
        r = n(7),
        o = n(24),
        a = n(22),
        s = n(15)("species");
    t.exports = function (t) {
        var e = "function" == typeof r[t] ? r[t] : i[t];
        a && e && !e[s] && o.f(e, s, {
            configurable: !0,
            get: function () {
                return this
            }
        })
    }
}, function (t, e, n) {
    var i = n(28),
        r = n(63),
        o = n(15)("species");
    t.exports = function (t, e) {
        var n, a = i(t).constructor;
        return void 0 === a || void 0 == (n = i(a)[o]) ? e : r(n)
    }
}, function (t, e, n) {
    var i, r, o, a = n(33),
        s = n(280),
        l = n(167),
        u = n(110),
        c = n(14),
        f = c.process,
        d = c.setImmediate,
        h = c.clearImmediate,
        v = c.MessageChannel,
        _ = c.Dispatch,
        p = 0,
        m = {},
        y = function () {
            var t = +this;
            if (m.hasOwnProperty(t)) {
                var e = m[t];
                delete m[t], e()
            }
        },
        g = function (t) {
            y.call(t.data)
        };
    d && h || (d = function (t) {
        for (var e = [], n = 1; arguments.length > n;) e.push(arguments[n++]);
        return m[++p] = function () {
            s("function" == typeof t ? t : Function(t), e)
        }, i(p), p
    }, h = function (t) {
        delete m[t]
    }, "process" == n(64)(f) ? i = function (t) {
        f.nextTick(a(y, t, 1))
    } : _ && _.now ? i = function (t) {
        _.now(a(y, t, 1))
    } : v ? (r = new v, o = r.port2, r.port1.onmessage = g, i = a(o.postMessage, o, 1)) : c.addEventListener && "function" == typeof postMessage && !c.importScripts ? (i = function (t) {
        c.postMessage(t + "", "*")
    }, c.addEventListener("message", g, !1)) : i = "onreadystatechange" in u("script") ? function (t) {
        l.appendChild(u("script")).onreadystatechange = function () {
            l.removeChild(this), y.call(t)
        }
    } : function (t) {
        setTimeout(a(y, t, 1), 0)
    }), t.exports = {
        set: d,
        clear: h
    }
}, function (t, e, n) {
    var i = n(88),
        r = n(23)("toStringTag"),
        o = "Arguments" == i(function () {
            return arguments
        }()),
        a = function (t, e) {
            try {
                return t[e]
            } catch (t) {}
        };
    t.exports = function (t) {
        var e, n, s;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (n = a(e = Object(t), r)) ? n : o ? i(e) : "Object" == (s = i(e)) && "function" == typeof e.callee ? "Arguments" : s
    }
}, function (t, e, n) {
    var i = n(88);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) {
        return "String" == i(t) ? t.split("") : Object(t)
    }
}, function (t, e) {
    e.f = {}.propertyIsEnumerable
}, function (t, e, n) {
    var i = n(16),
        r = n(75),
        o = n(23)("species");
    t.exports = function (t, e) {
        var n, a = i(t).constructor;
        return void 0 === a || void 0 == (n = i(a)[o]) ? e : r(n)
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        console && console.warn && console.warn(t)
    }

    function r() {
        r.init.call(this)
    }

    function o(t) {
        return void 0 === t._maxListeners ? r.defaultMaxListeners : t._maxListeners
    }

    function a(t, e, n, r) {
        var a, s, l;
        if ("function" != typeof n) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof n);
        if (s = t._events, void 0 === s ? (s = t._events = Object.create(null), t._eventsCount = 0) : (void 0 !== s.newListener && (t.emit("newListener", e, n.listener ? n.listener : n), s = t._events), l = s[e]), void 0 === l) l = s[e] = n, ++t._eventsCount;
        else if ("function" == typeof l ? l = s[e] = r ? [n, l] : [l, n] : r ? l.unshift(n) : l.push(n), (a = o(t)) > 0 && l.length > a && !l.warned) {
            l.warned = !0;
            var u = new Error("Possible EventEmitter memory leak detected. " + l.length + " " + String(e) + " listeners added. Use emitter.setMaxListeners() to increase limit");
            u.name = "MaxListenersExceededWarning", u.emitter = t, u.type = e, u.count = l.length, i(u)
        }
        return t
    }

    function s() {
        for (var t = [], e = 0; e < arguments.length; e++) t.push(arguments[e]);
        this.fired || (this.target.removeListener(this.type, this.wrapFn), this.fired = !0, p(this.listener, this.target, t))
    }

    function l(t, e, n) {
        var i = {
                fired: !1,
                wrapFn: void 0,
                target: t,
                type: e,
                listener: n
            },
            r = s.bind(i);
        return r.listener = n, i.wrapFn = r, r
    }

    function u(t, e, n) {
        var i = t._events;
        if (void 0 === i) return [];
        var r = i[e];
        return void 0 === r ? [] : "function" == typeof r ? n ? [r.listener || r] : [r] : n ? h(r) : f(r, r.length)
    }

    function c(t) {
        var e = this._events;
        if (void 0 !== e) {
            var n = e[t];
            if ("function" == typeof n) return 1;
            if (void 0 !== n) return n.length
        }
        return 0
    }

    function f(t, e) {
        for (var n = new Array(e), i = 0; i < e; ++i) n[i] = t[i];
        return n
    }

    function d(t, e) {
        for (; e + 1 < t.length; e++) t[e] = t[e + 1];
        t.pop()
    }

    function h(t) {
        for (var e = new Array(t.length), n = 0; n < e.length; ++n) e[n] = t[n].listener || t[n];
        return e
    }
    var v, _ = "object" == typeof Reflect ? Reflect : null,
        p = _ && "function" == typeof _.apply ? _.apply : function (t, e, n) {
            return Function.prototype.apply.call(t, e, n)
        };
    v = _ && "function" == typeof _.ownKeys ? _.ownKeys : Object.getOwnPropertySymbols ? function (t) {
        return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))
    } : function (t) {
        return Object.getOwnPropertyNames(t)
    };
    var m = Number.isNaN || function (t) {
        return t !== t
    };
    t.exports = r, r.EventEmitter = r, r.prototype._events = void 0, r.prototype._eventsCount = 0, r.prototype._maxListeners = void 0;
    var y = 10;
    Object.defineProperty(r, "defaultMaxListeners", {
        enumerable: !0,
        get: function () {
            return y
        },
        set: function (t) {
            if ("number" != typeof t || t < 0 || m(t)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + t + ".");
            y = t
        }
    }), r.init = function () {
        void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0
    }, r.prototype.setMaxListeners = function (t) {
        if ("number" != typeof t || t < 0 || m(t)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + t + ".");
        return this._maxListeners = t, this
    }, r.prototype.getMaxListeners = function () {
        return o(this)
    }, r.prototype.emit = function (t) {
        for (var e = [], n = 1; n < arguments.length; n++) e.push(arguments[n]);
        var i = "error" === t,
            r = this._events;
        if (void 0 !== r) i = i && void 0 === r.error;
        else if (!i) return !1;
        if (i) {
            var o;
            if (e.length > 0 && (o = e[0]), o instanceof Error) throw o;
            var a = new Error("Unhandled error." + (o ? " (" + o.message + ")" : ""));
            throw a.context = o, a
        }
        var s = r[t];
        if (void 0 === s) return !1;
        if ("function" == typeof s) p(s, this, e);
        else
            for (var l = s.length, u = f(s, l), n = 0; n < l; ++n) p(u[n], this, e);
        return !0
    }, r.prototype.addListener = function (t, e) {
        return a(this, t, e, !1)
    }, r.prototype.on = r.prototype.addListener, r.prototype.prependListener = function (t, e) {
        return a(this, t, e, !0)
    }, r.prototype.once = function (t, e) {
        if ("function" != typeof e) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e);
        return this.on(t, l(this, t, e)), this
    }, r.prototype.prependOnceListener = function (t, e) {
        if ("function" != typeof e) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e);
        return this.prependListener(t, l(this, t, e)), this
    }, r.prototype.removeListener = function (t, e) {
        var n, i, r, o, a;
        if ("function" != typeof e) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e);
        if (void 0 === (i = this._events)) return this;
        if (void 0 === (n = i[t])) return this;
        if (n === e || n.listener === e) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete i[t], i.removeListener && this.emit("removeListener", t, n.listener || e));
        else if ("function" != typeof n) {
            for (r = -1, o = n.length - 1; o >= 0; o--)
                if (n[o] === e || n[o].listener === e) {
                    a = n[o].listener, r = o;
                    break
                } if (r < 0) return this;
            0 === r ? n.shift() : d(n, r), 1 === n.length && (i[t] = n[0]), void 0 !== i.removeListener && this.emit("removeListener", t, a || e)
        }
        return this
    }, r.prototype.off = r.prototype.removeListener, r.prototype.removeAllListeners = function (t) {
        var e, n, i;
        if (void 0 === (n = this._events)) return this;
        if (void 0 === n.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== n[t] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[t]), this;
        if (0 === arguments.length) {
            var r, o = Object.keys(n);
            for (i = 0; i < o.length; ++i) "removeListener" !== (r = o[i]) && this.removeAllListeners(r);
            return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this
        }
        if ("function" == typeof (e = n[t])) this.removeListener(t, e);
        else if (void 0 !== e)
            for (i = e.length - 1; i >= 0; i--) this.removeListener(t, e[i]);
        return this
    }, r.prototype.listeners = function (t) {
        return u(this, t, !0)
    }, r.prototype.rawListeners = function (t) {
        return u(this, t, !1)
    }, r.listenerCount = function (t, e) {
        return "function" == typeof t.listenerCount ? t.listenerCount(e) : c.call(t, e)
    }, r.prototype.listenerCount = c, r.prototype.eventNames = function () {
        return this._eventsCount > 0 ? v(this._events) : []
    }
}, , function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.PICK_UNIFORM = "\nuniform float picking_usePickingColor;\nuniform vec3 picking_selectedPickingColor;\n", e.PICK_FUNCTION = "\n    vec4 picking_getFinalColor(vec4 vertexColor, vec3 instancePickingColors) {\n        \n        return mix(\n            vertexColor,\n\n            vec4(instancePickingColors.rgb,  255.0).rgba / 255.0,\n\n            picking_usePickingColor);\n    }\n"
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if (!m.has(t)) {
            var n = new s.default(function (t) {
                if (!f.default || _.default.isLocal) return void t(null);
                var n = e.subkey,
                    i = e.subpid,
                    r = ["key=" + f.default, "pid=" + document.domain, "channel=0"];
                n && r.push("key2=" + n, "pid2=" + i);
                var o = h.default.checkKeySrc + "?" + r.join("&");
                p(null, o, function (e) {
                    var i = null;
                    e && e.info && 0 === e.info.error ? (i = e.detail && e.detail.cfg) && (i.subkey = n) : console.error("鉴权失败：" + e.info.msg), t(i)
                }, function () {
                    console.error("鉴权失败：网络请求失败。"), t(null)
                })
            });
            m.set(t, n)
        }
        return m.get(t)
    }

    function o(t) {
        m.delete(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(25),
        s = i(a),
        l = n(142),
        u = i(l);
    e.checkKey = r, e.revokeKeyCheck = o;
    var c = n(463),
        f = i(c),
        d = n(9),
        h = i(d),
        v = n(150),
        _ = i(v),
        p = n(380).send,
        m = new u.default
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(152),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = r.default[0]
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        t.loadScriptTime = e, l[0] = t;
        for (var n in t) o.hasOwnProperty(n) && (o[n] = t[n])
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(100),
        o = n(9),
        a = 2 * Math.PI * 6378136.49,
        s = [6378136.49, a],
        l = [{}, s],
        u = self[r] && self[r].__load;
    u && u(i), e.default = l
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        return Math.sqrt(t * t + e * e)
    }

    function o(t, e) {
        var n = t.pageX,
            i = t.pageY;
        if (t.touches) {
            var r = t.touches[e || 0];
            n = r.pageX, i = r.pageY
        }
        return {
            x: n,
            y: i
        }
    }

    function a(t) {
        return t
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Finger = void 0;
    var s = n(32),
        l = i(s),
        u = n(10),
        c = i(u),
        f = n(2),
        d = i(f),
        h = n(0),
        v = i(h),
        _ = n(1),
        p = i(_),
        m = n(4),
        y = i(m),
        g = n(3),
        x = i(g),
        b = n(13),
        S = n(190),
        w = {
            start: ["mousedown", "touchstart"],
            move: ["mousemove", "touchmove"],
            end: ["mouseup", "touchend"],
            cancel: ["", "touchcancel"]
        },
        E = 0,
        A = (e.Finger = function (t) {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                (0, v.default)(this, e);
                var i = (0, y.default)(this, (e.__proto__ || (0, d.default)(e)).call(this));
                if (!t) throw new Error("element is invalid");
                return i.options = n, i.identifier = "Finger__" + E++, i.touched = !1, i.panning = !1, i.element = t, i.element.__Finger__identifier = i.identifier, i.handlers = [], i.isDoubleTap = !1, i.x1 = i.y1 = null, i.x2 = i.y2 = null, i.deltaTime = null, i.lastStartTime = null, i.panSpeedStartTime = null, i.panSpeedStartPos = null, i.now = null, i.tapTimeout = null, i.holdTimeout = null, i.swipeTimeout = null, i.startVector = null, i.startDistance = null, i.init(), i
            }
            return (0, x.default)(e, t), (0, p.default)(e, [{
                key: "init",
                value: function () {
                    var t = this,
                        e = "ontouchstart" in document ? 1 : 0,
                        n = (0, c.default)(w).forEach(function (n) {
                            w[n][e] && (0, b.on)(t.element, w[n][e], A[n], t)
                        });
                    this.handlers.concat(n)
                }
            }, {
                key: "destroy",
                value: function () {
                    clearTimeout(this.tapTimeout), clearTimeout(this.holdTimeout), clearTimeout(this.swipeTimeout), this.removeAllListeners("touch-start"), this.removeAllListeners("multi-touch-start"), this.removeAllListeners("hold"), this.removeAllListeners("pinch"), this.removeAllListeners("rotate"), this.removeAllListeners("pan-start"), this.removeAllListeners("pan"), this.removeAllListeners("pan-end"), this.removeAllListeners("swipe"), this.removeAllListeners("tap"), this.removeAllListeners("doubletap"), this.removeAllListeners("touch-end"), this.removeAllListeners("multi-touch-end"), this.removeAllListeners("touch-cancel"), this.identifier = null, delete this.element.__Finger__identifier, this.handlers.forEach(function (t) {
                        t && t.remove && t.remove()
                    }), this.touched = !1, this.handlers = [], this.isDoubleTap = !1, this.x1 = this.y1 = null, this.x2 = this.y2 = null, this.deltaTime = null, this.lastStartTime = null, this.now = null, this.tapTimeout = null, this.holdTimeout = null, this.swipeTimeout = null, this.startVector = null, this.startDistance = null
                }
            }]), e
        }(S), {
            start: function (t) {
                var e = this;
                if (t && t.target) {
                    this.touched = !0, this.now = Date.now(), this.deltaTime = this.now - (this.lastStartTime || this.now);
                    var n = o(t);
                    "number" == typeof this.x1 && "number" == typeof this.y1 && (this.isDoubleTap = this.deltaTime < 300 && Math.abs(n.x - this.x1) < 10 && Math.abs(n.y - this.y1) < 10), this.x1 = n.x, this.y1 = n.y;
                    var i = a(t);
                    if (this.emit("touch-start", i), t.touches && t.touches.length > 1) {
                        var s = o(t, 0),
                            u = o(t, 1);
                        this.startVector = [u.x - s.x, u.y - s.y], this.startDistance = r.apply(void 0, (0, l.default)(this.startVector)), i.vector = this.startVector, i.vectorDistance = this.startDistance, clearTimeout(this.holdTimeout), this.emit("multi-touch-start", i)
                    }
                    this.lastStartTime = this.now, this.holdTimeout = setTimeout(function () {
                        e.emit("hold", i)
                    }, 750), this.options.stopPropagation && t.stopPropagation()
                }
            },
            move: function (t) {
                if (t && t.target && this.touched) {
                    var e = o(t),
                        n = a(t);
                    if (this.isDoubleTap = !1, clearTimeout(this.holdTimeout), null !== this.x2 ? (n.deltaX = e.x - this.x2, n.deltaY = e.y - this.y2) : (n.deltaX = 0, n.deltaY = 0), t.touches && t.touches.length > 1 && this.startVector && null !== this.startVector.x) {
                        var i = o(t, 0),
                            s = o(t, 1),
                            l = [s.x - i.x, s.y - i.y],
                            u = r.apply(void 0, l),
                            c = u / this.startDistance,
                            f = Math.acos((this.startVector[0] * l[0] + this.startVector[1] * l[1]) / (u * this.startDistance));
                        f = l[0] * this.startVector[1] - this.startVector[0] * l[1] >= 0 ? f : -f, Math.abs(c - 1) > .01 && (n.scale = c, this.emit("pinch", n)), 0 !== f && (n.angle = f, this.emit("rotate", n)), t.preventDefault()
                    } else if (this.touched && (0 !== n.deltaY || 0 !== n.deltaX))
                        if (this.panning) {
                            this.emit("pan", n);
                            var d = Date.now();
                            d - this.panSpeedStartTime > 300 && (this.panSpeedStartTime = d, this.panSpeedStartPos = e)
                        } else this.emit("pan-start", n), this.panning = !0, this.panSpeedStartTime = Date.now(), this.panSpeedStartPos = e;
                    this.options.preventDefaultMove && t.preventDefault(), this.x2 = e.x, this.y2 = e.y, this.options.stopPropagation && t.stopPropagation()
                }
            },
            end: function (t) {
                var e = this;
                if (t && t.target) {
                    clearTimeout(this.holdTimeout), this.now = Date.now();
                    var n = this.x2 - this.x1,
                        i = this.y2 - this.y1,
                        r = null === this.x2 || Math.abs(n) < 10 && Math.abs(i) < 10,
                        o = this.now - this.lastStartTime < 200 && r,
                        s = a(t);
                    if (null !== this.x2 && null !== this.y2 && this.panning) {
                        var l = (this.now, this.lastStartTime, Math.abs(n) > Math.abs(i) ? n > 0 ? "RIGHT" : "LEFT" : i > 0 ? "DOWN" : "TOP"),
                            u = 0,
                            c = 0;
                        if (this.now - this.panSpeedStartTime < 300) {
                            var f = this.x2 - this.panSpeedStartPos.x,
                                d = this.y2 - this.panSpeedStartPos.y,
                                h = this.now - this.panSpeedStartTime;
                            c = f / h, u = d / h
                        }
                        s.swipeDirection = l, s.speedX = c, s.speedY = u, s.deltaX = n, s.deltaY = i, this.panning && (this.emit("pan-end", s), this.panning = !1), this.swipeTimeout = setTimeout(function () {
                            e.emit("swipe", s)
                        })
                    } else r && o && (this.tapTimeout = setTimeout(function () {
                        e.emit("tap", s), e.isDoubleTap && (e.emit("doubletap", s), e.isDoubleTap = !1)
                    }, 0));
                    this.emit("touch-end", s), t.touches && t.touches.length > 0 && t.touches.length < 2 && this.emit("multi-touch-end", s), this.startDistance = null, this.startVector = [0, 0], this.x2 = this.y2 = null, this.touched = !1, this.options.preventDefaultEnd && t.preventDefault(), this.options.stopPropagation && t.stopPropagation()
                }
            },
            cancel: function (t) {
                clearTimeout(this.tapTimeout), clearTimeout(this.holdTimeout), clearTimeout(this.swipeTimeout), this.touched = !1, this.emit("touch-cancel", t)
            }
        })
}, function (t, e, n) {
    "use strict";

    function i(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            n = o(t, e);
        return (0, r.toDom)(n)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Template = void 0, e.templeteToDom = i;
    var r = n(47),
        o = e.Template = function () {
            var t = {},
                e = function (t) {
                    return String(t).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;").replace(/[ ]/g, "&nbsp;")
                };
            return function (n, i) {
                if ("string" == typeof n) {
                    var r = t[n];
                    if (!t[n]) {
                        var o = n.replace(/<%\s*([^=][^%>]*)\s*%>/g, function () {
                            return "';" + arguments[1] + " tmp+='"
                        }).replace(/<%=\s*([^%>]+)\s*%>/g, function () {
                            return "' + strip(" + arguments[1] + ") +'"
                        }).replace(/<%=\s*([^%>]+)\s*%>/g, function () {
                            return "' + " + arguments[1] + "+ '"
                        });
                        o = 'var tmp = ""; with(obj){ tmp = \'' + o + "'; } return tmp;", r = new Function("obj", "strip", o), t[n] = r
                    }
                    return r(i, e)
                }
            }
        }()
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        var i = "highlightRegion" === t ? A : 983040 & t,
            r = n[i] && n[i][t];
        return r ? f(r, e) : I[t] ? I[t] : null
    }

    function o(t) {
        var e = {};
        return e[A] = a(t.regionStyles), e[T] = s(t.labelStyles), e[E] = l(t.lineStyles), e[w] = u(t.pointStyles), e[k] = c(t.arrowStyles), e[A].highlightRegion = [{
            minScale: 16,
            maxScale: 22,
            fillStyle: "rgba(0, 0, 0, 0.1)",
            strokeStyle: "#888888",
            lineWidth: .5
        }], e
    }

    function a(t) {
        var e = {};
        return (0, h.default)(t).forEach(function (n) {
            e[n] = {}, e[n] = t[n].map(function (t) {
                return {
                    minScale: t.minScaleVal,
                    maxScale: t.maxScaleVal,
                    topStyle: (0, b.convertColorToHex)(t.top_color),
                    bottomStyle: (0, b.convertColorToHex)(t.bottom_color),
                    insideStyle: (0, b.convertColorToHex)(t.bottom_color),
                    outsideStyle: (0, b.convertColorToHex)(t.outside_color),
                    lineWidth: t.sidewidth
                }
            })
        }), e
    }

    function s(t) {
        var e = {};
        return (0, h.default)(t).forEach(function (n) {
            e[n] = {}, e[n] = t[n].map(function (t) {
                var e = (0, b.getFontStyle)(t.effect),
                    n = (0, b.getFontWeight)(),
                    i = t.font_size,
                    r = (0, b.getFontFamily)(t.font_name);
                return {
                    minScale: t.minScaleVal,
                    maxScale: t.maxScaleVal,
                    effect: t.effect,
                    font: e + " " + n + " " + i + "px " + r,
                    fontStyle: e,
                    fontWeight: n,
                    fontSize: i,
                    fontFamily: r,
                    fillStyle: (0, b.convertColorToHex)(t.font_color),
                    strokeStyle: (0, b.convertColorToHex)(t.background_color),
                    lineWidth: t.effect_size
                }
            })
        }), e
    }

    function l(t) {
        var e = {};
        return (0, h.default)(t).forEach(function (n) {
            e[n] = {}, e[n] = t[n].map(function (t) {
                return {
                    minScale: t.minScaleVal,
                    maxScale: t.maxScaleVal,
                    fillStyle: (0, b.convertColorToHex)(t.color_fill),
                    fillWidth: t.width,
                    fillLineCap: "round",
                    fillLineJoin: "bevel",
                    strokeStyle: (0, b.convertColorToHex)(t.color_side),
                    strokeWidth: t.sidewidth,
                    strokeLineCap: "butt",
                    strokeLineJoin: "bevel"
                }
            })
        }), e
    }

    function u(t) {
        var e = {};
        return (0, h.default)(t).forEach(function (n) {
            e[n] = {}, e[n] = t[n].map(function (t) {
                return {
                    minScale: t.minScaleVal,
                    maxScale: t.maxScaleVal,
                    icon_offset: t.icon_offset,
                    labelid: t.labelid,
                    density: t.density
                }
            })
        }), e
    }

    function c(t) {
        return {}
    }

    function f(t, e) {
        var n = null;
        return t.some(function (t) {
            return n = t, e >= t.minScale && e <= t.maxScale || 22 === e && 21 === t.maxScale
        }) && n || null
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.IndoorStyleMap = e.customStyle = e.ARROW_NUM = e.LABEL_NUM = e.REGION_NUM = e.LINE_NUM = e.POINT_NUM = void 0;
    var d = n(10),
        h = i(d),
        v = n(142),
        _ = i(v),
        p = n(0),
        m = i(p),
        y = n(1),
        g = i(y);
    e.getStyle = r;
    var x = n(484),
        b = n(485),
        S = null,
        w = e.POINT_NUM = 65536,
        E = e.LINE_NUM = 131072,
        A = e.REGION_NUM = 196608,
        T = e.LABEL_NUM = 262144,
        k = e.ARROW_NUM = 327680,
        P = o(x.STYLE),
        I = e.customStyle = {};
    e.IndoorStyleMap = function () {
        function t() {
            (0, m.default)(this, t), this.styleMap = new _.default, this.styleMap.set("default", P)
        }
        return (0, g.default)(t, [{
            key: "set",
            value: function (t, e) {
                var n = o(e);
                this.styleMap.set(t, n)
            }
        }, {
            key: "get",
            value: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "default";
                return this.has(t) ? this.styleMap.get(t) : this.styleMap.get("default")
            }
        }, {
            key: "has",
            value: function (t) {
                return this.styleMap.has(t)
            }
        }, {
            key: "getFeatureStyle",
            value: function (t, e, n) {
                return r(t, e, this.get(n))
            }
        }], [{
            key: "getInstance",
            value: function () {
                return null === S && (S = new t), S
            }
        }]), t
    }()
}, function (t, e, n) {
    "use strict";

    function i(t, e, n, i) {
        n = n || 2;
        var o = e && e.length,
            s = o ? e[0] * n : t.length,
            l = r(t, 0, s, n, !0),
            u = [];
        if (!l) return u;
        var c, d, h, v, _, p, m;
        if (o && (l = f(t, e, l, n)), t.length > 80 * n) {
            c = h = t[0], d = v = t[1];
            for (var y = n; y < s; y += n) _ = t[y], p = t[y + 1], _ < c && (c = _), p < d && (d = p), _ > h && (h = _), p > v && (v = p);
            m = Math.max(h - c, v - d)
        }
        return a(l, u, n, c, d, m, void 0, i), u
    }

    function r(t, e, n, i, r) {
        var o, a;
        if (r === L(t, e, n, i) > 0)
            for (o = e; o < n; o += i) a = P(o, t[o], t[o + 1], a);
        else
            for (o = n - i; o >= e; o -= i) a = P(o, t[o], t[o + 1], a);
        return a && S(a, a.next) && (I(a), a = a.next), a
    }

    function o(t, e) {
        if (!t) return t;
        e || (e = t);
        var n, i = t;
        do {
            if (n = !1, i.steiner || !S(i, i.next) && 0 !== b(i.prev, i, i.next)) i = i.next;
            else {
                if (I(i), (i = e = i.prev) === i.next) return null;
                n = !0
            }
        } while (n || i !== e);
        return e
    }

    function a(t, e, n, i, r, f, d, h) {
        if (h = h || 0, t) {
            !d && f && _(t, i, r, f);
            for (var v, p, m = t; t.prev !== t.next;)
                if (v = t.prev, p = t.next, f ? l(t, i, r, f) : s(t)) e.push(v.i / n + h), e.push(t.i / n + h), e.push(p.i / n + h), I(t), t = p.next, m = p.next;
                else if ((t = p) === m) {
                d ? 1 === d ? (t = u(t, e, n, h), a(t, e, n, i, r, f, 2, h)) : 2 === d && c(t, e, n, i, r, f, h) : a(o(t), e, n, i, r, f, 1, h);
                break
            }
        }
    }

    function s(t) {
        var e = t.prev,
            n = t,
            i = t.next;
        if (b(e, n, i) >= 0) return !1;
        for (var r = t.next.next; r !== t.prev;) {
            if (g(e.x, e.y, n.x, n.y, i.x, i.y, r.x, r.y) && b(r.prev, r, r.next) >= 0) return !1;
            r = r.next
        }
        return !0
    }

    function l(t, e, n, i) {
        var r = t.prev,
            o = t,
            a = t.next;
        if (b(r, o, a) >= 0) return !1;
        for (var s = r.x < o.x ? r.x < a.x ? r.x : a.x : o.x < a.x ? o.x : a.x, l = r.y < o.y ? r.y < a.y ? r.y : a.y : o.y < a.y ? o.y : a.y, u = r.x > o.x ? r.x > a.x ? r.x : a.x : o.x > a.x ? o.x : a.x, c = r.y > o.y ? r.y > a.y ? r.y : a.y : o.y > a.y ? o.y : a.y, f = m(s, l, e, n, i), d = m(u, c, e, n, i), h = t.nextZ; h && h.z <= d;) {
            if (h !== t.prev && h !== t.next && g(r.x, r.y, o.x, o.y, a.x, a.y, h.x, h.y) && b(h.prev, h, h.next) >= 0) return !1;
            h = h.nextZ
        }
        for (h = t.prevZ; h && h.z >= f;) {
            if (h !== t.prev && h !== t.next && g(r.x, r.y, o.x, o.y, a.x, a.y, h.x, h.y) && b(h.prev, h, h.next) >= 0) return !1;
            h = h.prevZ
        }
        return !0
    }

    function u(t, e, n, i) {
        var r = t;
        do {
            var o = r.prev,
                a = r.next.next;
            !S(o, a) && w(o, r, r.next, a) && A(o, a) && A(a, o) && (e.push(o.i / n + i), e.push(r.i / n + i), e.push(a.i / n + i), I(r), I(r.next), r = t = a), r = r.next
        } while (r !== t);
        return r
    }

    function c(t, e, n, i, r, s, l) {
        var u = t;
        do {
            for (var c = u.next.next; c !== u.prev;) {
                if (u.i !== c.i && x(u, c)) {
                    var f = k(u, c);
                    return u = o(u, u.next), f = o(f, f.next), a(u, e, n, i, r, s, void 0, l), void a(f, e, n, i, r, s, void 0, l)
                }
                c = c.next
            }
            u = u.next
        } while (u !== t)
    }

    function f(t, e, n, i) {
        var a, s, l, u, c, f = [];
        for (a = 0, s = e.length; a < s; a++) l = e[a] * i, u = a < s - 1 ? e[a + 1] * i : t.length, c = r(t, l, u, i, !1), c === c.next && (c.steiner = !0), f.push(y(c));
        for (f.sort(d), a = 0; a < f.length; a++) h(f[a], n), n = o(n, n.next);
        return n
    }

    function d(t, e) {
        return t.x - e.x
    }

    function h(t, e) {
        if (e = v(t, e)) {
            var n = k(e, t);
            o(n, n.next)
        }
    }

    function v(t, e) {
        var n, i = e,
            r = t.x,
            o = t.y,
            a = -1 / 0;
        do {
            if (o <= i.y && o >= i.next.y && i.next.y !== i.y) {
                var s = i.x + (o - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
                if (s <= r && s > a) {
                    if (a = s, s === r) {
                        if (o === i.y) return i;
                        if (o === i.next.y) return i.next
                    }
                    n = i.x < i.next.x ? i : i.next
                }
            }
            i = i.next
        } while (i !== e);
        if (!n) return null;
        if (r === a) return n.prev;
        var l, u = n,
            c = n.x,
            f = n.y,
            d = 1 / 0;
        for (i = n.next; i !== u;) r >= i.x && i.x >= c && r !== i.x && g(o < f ? r : a, o, c, f, o < f ? a : r, o, i.x, i.y) && ((l = Math.abs(o - i.y) / (r - i.x)) < d || l === d && i.x > n.x) && A(i, t) && (n = i, d = l), i = i.next;
        return n
    }

    function _(t, e, n, i) {
        var r = t;
        do {
            null === r.z && (r.z = m(r.x, r.y, e, n, i)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next
        } while (r !== t);
        r.prevZ.nextZ = null, r.prevZ = null, p(r)
    }

    function p(t) {
        var e, n, i, r, o, a, s, l, u = 1;
        do {
            for (n = t, t = null, o = null, a = 0; n;) {
                for (a++, i = n, s = 0, e = 0; e < u && (s++, i = i.nextZ); e++);
                for (l = u; s > 0 || l > 0 && i;) 0 !== s && (0 === l || !i || n.z <= i.z) ? (r = n, n = n.nextZ, s--) : (r = i, i = i.nextZ, l--), o ? o.nextZ = r : t = r, r.prevZ = o, o = r;
                n = i
            }
            o && (o.nextZ = null), u *= 2
        } while (a > 1);
        return t
    }

    function m(t, e, n, i, r) {
        return t = 32767 * (t - n) / r, e = 32767 * (e - i) / r, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1
    }

    function y(t) {
        var e = t,
            n = t;
        do {
            e.x < n.x && (n = e), e = e.next
        } while (e !== t);
        return n
    }

    function g(t, e, n, i, r, o, a, s) {
        return (r - a) * (e - s) - (t - a) * (o - s) >= 0 && (t - a) * (i - s) - (n - a) * (e - s) >= 0 && (n - a) * (o - s) - (r - a) * (i - s) >= 0
    }

    function x(t, e) {
        return t.next.i !== e.i && t.prev.i !== e.i && !E(t, e) && A(t, e) && A(e, t) && T(t, e)
    }

    function b(t, e, n) {
        return (e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y)
    }

    function S(t, e) {
        return t.x === e.x && t.y === e.y
    }

    function w(t, e, n, i) {
        return !!(S(t, e) && S(n, i) || S(t, i) && S(n, e)) || b(t, e, n) > 0 != b(t, e, i) > 0 && b(n, i, t) > 0 != b(n, i, e) > 0
    }

    function E(t, e) {
        var n = t;
        do {
            if (n.i !== t.i && n.next.i !== t.i && n.i !== e.i && n.next.i !== e.i && w(n, n.next, t, e)) return !0;
            n = n.next
        } while (n !== t);
        return !1
    }

    function A(t, e) {
        return b(t.prev, t, t.next) < 0 ? b(t, e, t.next) >= 0 && b(t, t.prev, e) >= 0 : b(t, e, t.prev) < 0 || b(t, t.next, e) < 0
    }

    function T(t, e) {
        var n = t,
            i = !1,
            r = (t.x + e.x) / 2,
            o = (t.y + e.y) / 2;
        do {
            n.y > o != n.next.y > o && n.next.y !== n.y && r < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (i = !i), n = n.next
        } while (n !== t);
        return i
    }

    function k(t, e) {
        var n = new M(t.i, t.x, t.y),
            i = new M(e.i, e.x, e.y),
            r = t.next,
            o = e.prev;
        return t.next = e, e.prev = t, n.next = r, r.prev = n, i.next = n, n.prev = i, o.next = i, i.prev = o, i
    }

    function P(t, e, n, i) {
        var r = new M(t, e, n);
        return i ? (r.next = i.next, r.prev = i, i.next.prev = r, i.next = r) : (r.prev = r, r.next = r), r
    }

    function I(t) {
        t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ)
    }

    function M(t, e, n) {
        this.i = t, this.x = e, this.y = n, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
    }

    function L(t, e, n, i) {
        for (var r = 0, o = e, a = n - i; o < n; o += i) r += (t[a] - t[o]) * (t[o + 1] + t[a + 1]), a = o;
        return r
    }
    t.exports = i, i.deviation = function (t, e, n, i) {
        var r = e && e.length,
            o = r ? e[0] * n : t.length,
            a = Math.abs(L(t, 0, o, n));
        if (r)
            for (var s = 0, l = e.length; s < l; s++) {
                var u = e[s] * n,
                    c = s < l - 1 ? e[s + 1] * n : t.length;
                a -= Math.abs(L(t, u, c, n))
            }
        var f = 0;
        for (s = 0; s < i.length; s += 3) {
            var d = i[s] * n,
                h = i[s + 1] * n,
                v = i[s + 2] * n;
            f += Math.abs((t[d] - t[v]) * (t[h + 1] - t[d + 1]) - (t[d] - t[h]) * (t[v + 1] - t[d + 1]))
        }
        return 0 === a && 0 === f ? 0 : Math.abs((f - a) / a)
    }, i.flatten = function (t) {
        for (var e = t[0][0].length, n = {
                vertices: [],
                holes: [],
                dimensions: e
            }, i = 0, r = 0; r < t.length; r++) {
            for (var o = 0; o < t[r].length; o++)
                for (var a = 0; a < e; a++) n.vertices.push(t[r][o][a]);
            r > 0 && (i += t[r - 1].length, n.holes.push(i))
        }
        return n
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t === r.DEFAULT || r[t] === r.DEFAULT
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.isDefaultStyle = i;
    var r = e.STYLE_ID = {
        DEFAULT: 0,
        DARK: 1,
        LIGHT: 2,
        GAME: 3
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        if (m(t)) {
            var n = (0, u.default)(t, 2),
                i = n[0],
                r = n[1];
            return p(i) && p(r) ? (i = Math.max(Math.round(i), 0), r = Math.max(Math.round(r), 0), [i, r]) : (new _.BaseTypeError("PolylineStyle." + e + "[index]", "number", i), [0, 0])
        }
        return new _.BaseTypeError("PolylineStyle." + e, "array", t).error(), [0, 0]
    }

    function o() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            e = ["width", "height", "space"],
            n = {};
        if (e.forEach(function (e) {
                if (e in t) {
                    var i = t[e];
                    p(i) ? n[e] = Math.min(Math.max(i, 0), 255) : new _.BaseTypeError("ArrowOptions." + e, "number", i).error()
                }
            }), !y(t.align)) {
            var i = t.align;
            i in x ? n.align = i : new _.EnumError("ArrowOptions.align", (0, s.default)(x), i).error()
        }
        return n
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(10),
        s = i(a),
        l = n(95),
        u = i(l),
        c = n(0),
        f = i(c),
        d = n(6),
        h = n(36),
        v = i(h),
        _ = n(31),
        p = v.default.isNumber,
        m = v.default.isArray,
        y = v.default.isUndefined,
        g = {
            color: "#3777FF",
            width: 3,
            borderWidth: 0,
            borderColor: "#3777FF",
            lineCap: "butt",
            dashArray: [0, 0],
            showArrow: !1,
            arrowOptions: {
                width: 6,
                height: 4,
                space: 50,
                align: "middle"
            }
        },
        x = {
            middle: 0,
            left: 1,
            right: 2
        },
        b = function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, f.default)(this, t), e = (0, d.extend)({}, g, e), this.color = e.color, this.width = e.width, this.borderColor = e.borderColor, this.borderWidth = e.borderWidth || 0, this.lineCap = "round" === e.lineCap ? 2 : "square" === e.lineCap ? 1 : 0, this.dashArray = r(e.dashArray, "dashArray");
            var n = (0, d.extend)({}, g.arrowOptions, o(e.arrowOptions)),
                i = n.width,
                a = n.height,
                s = n.space,
                l = n.align;
            this.arrowInfo = [i, a * !!e.showArrow, s, x[l]]
        };
    e.default = b
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.LIGHT_TYPE = {
        AMBIENT: "ambient",
        DIRECTION: "dir",
        POINT: "point",
        SPOT: "spot"
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return Math.pow(2, Math.ceil((0, o.default)(t)))
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(600),
        o = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.getPowerOf2 = i, e.default = {
        extendCanvasToPow2: function (t, e) {
            function n(t) {
                if (t < 2) return !1;
                var e = (0, o.default)(t);
                return e === ~~e
            }
            return e = e || 1, t && t.isPow2 && 1 === e ? t : n(t.width) && n(t.height) && 1 === e ? (t.isPow2 = !0, t) : function (t, e) {
                var n = document.createElement("canvas"),
                    r = n.getContext("2d");
                return n.width = i(t.width * e), n.height = i(t.height * e), r.drawImage(t, 0, 0, n.width, n.height), n.isPow2 = !0, n
            }(t, e)
        }
    }
}, function (t, e, n) {
    t.exports = {
        default: n(260),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(262),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(263),
        __esModule: !0
    }
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(25),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = function (t) {
        return function () {
            var e = t.apply(this, arguments);
            return new r.default(function (t, n) {
                function i(o, a) {
                    try {
                        var s = e[o](a),
                            l = s.value
                    } catch (t) {
                        return void n(t)
                    }
                    if (!s.done) return r.default.resolve(l).then(function (t) {
                        i("next", t)
                    }, function (t) {
                        i("throw", t)
                    });
                    t(l)
                }
                return i("next")
            })
        }
    }
}, function (t, e, n) {
    t.exports = n(253)
}, function (t, e, n) {
    var i = n(24),
        r = n(28),
        o = n(52);
    t.exports = n(22) ? Object.defineProperties : function (t, e) {
        r(t);
        for (var n, a = o(e), s = a.length, l = 0; s > l;) i.f(t, n = a[l++], e[n]);
        return t
    }
}, function (t, e, n) {
    var i = n(39),
        r = n(174).f,
        o = {}.toString,
        a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
        s = function (t) {
            try {
                return r(t)
            } catch (t) {
                return a.slice()
            }
        };
    t.exports.f = function (t) {
        return a && "[object Window]" == o.call(t) ? s(t) : r(i(t))
    }
}, function (t, e, n) {
    var i = n(60),
        r = n(26),
        o = n(133);
    t.exports = function (t) {
        return function (e, n, a) {
            var s, l = i(e),
                u = r(l.length),
                c = o(a, u);
            if (t && n != n) {
                for (; u > c;)
                    if ((s = l[c++]) != s) return !0
            } else
                for (; u > c; c++)
                    if ((t || c in l) && l[c] === n) return t || c || 0;
            return !t && -1
        }
    }
}, function (t, e, n) {
    "use strict";
    var i = n(18),
        r = n(5),
        o = n(53),
        a = n(146),
        s = n(97),
        l = n(215),
        u = n(144),
        c = n(19),
        f = n(17),
        d = n(217),
        h = n(148),
        v = n(322);
    t.exports = function (t, e, n, _, p, m) {
        var y = i[t],
            g = y,
            x = p ? "set" : "add",
            b = g && g.prototype,
            S = {},
            w = function (t) {
                var e = b[t];
                o(b, t, "delete" == t ? function (t) {
                    return !(m && !c(t)) && e.call(this, 0 === t ? 0 : t)
                } : "has" == t ? function (t) {
                    return !(m && !c(t)) && e.call(this, 0 === t ? 0 : t)
                } : "get" == t ? function (t) {
                    return m && !c(t) ? void 0 : e.call(this, 0 === t ? 0 : t)
                } : "add" == t ? function (t) {
                    return e.call(this, 0 === t ? 0 : t), this
                } : function (t, n) {
                    return e.call(this, 0 === t ? 0 : t, n), this
                })
            };
        if ("function" == typeof g && (m || b.forEach && !f(function () {
                (new g).entries().next()
            }))) {
            var E = new g,
                A = E[x](m ? {} : -0, 1) != E,
                T = f(function () {
                    E.has(1)
                }),
                k = d(function (t) {
                    new g(t)
                }),
                P = !m && f(function () {
                    for (var t = new g, e = 5; e--;) t[x](e, e);
                    return !t.has(-0)
                });
            k || (g = e(function (e, n) {
                u(e, g, t);
                var i = v(new y, e, g);
                return void 0 != n && l(n, p, i[x], i), i
            }), g.prototype = b, b.constructor = g), (T || P) && (w("delete"), w("has"), p && w("get")), (P || A) && w(x), m && b.clear && delete b.clear
        } else g = _.getConstructor(e, t, p, x), a(g.prototype, n), s.NEED = !0;
        return h(g, t), S[t] = g, r(r.G + r.W + r.F * (g != y), S), m || _.setStrong(g, t, p), g
    }
}, function (t, e, n) {
    "use strict";
    n(423);
    var i = n(53),
        r = n(59),
        o = n(17),
        a = n(89),
        s = n(23),
        l = n(328),
        u = s("species"),
        c = !o(function () {
            var t = /./;
            return t.exec = function () {
                var t = [];
                return t.groups = {
                    a: "7"
                }, t
            }, "7" !== "".replace(t, "$<a>")
        }),
        f = function () {
            var t = /(?:)/,
                e = t.exec;
            t.exec = function () {
                return e.apply(this, arguments)
            };
            var n = "ab".split(t);
            return 2 === n.length && "a" === n[0] && "b" === n[1]
        }();
    t.exports = function (t, e, n) {
        var d = s(t),
            h = !o(function () {
                var e = {};
                return e[d] = function () {
                    return 7
                }, 7 != "" [t](e)
            }),
            v = h ? !o(function () {
                var e = !1,
                    n = /a/;
                return n.exec = function () {
                    return e = !0, null
                }, "split" === t && (n.constructor = {}, n.constructor[u] = function () {
                    return n
                }), n[d](""), !e
            }) : void 0;
        if (!h || !v || "replace" === t && !c || "split" === t && !f) {
            var _ = /./ [d],
                p = n(a, d, "" [t], function (t, e, n, i, r) {
                    return e.exec === l ? h && !r ? {
                        done: !0,
                        value: _.call(e, n, i)
                    } : {
                        done: !0,
                        value: t.call(n, e, i)
                    } : {
                        done: !1
                    }
                }),
                m = p[0],
                y = p[1];
            i(String.prototype, t, m), r(RegExp.prototype, d, 2 == e ? function (t, e) {
                return y.call(t, this, e)
            } : function (t) {
                return y.call(t, this)
            })
        }
    }
}, function (t, e, n) {
    "use strict";
    var i = n(16);
    t.exports = function () {
        var t = i(this),
            e = "";
        return t.global && (e += "g"), t.ignoreCase && (e += "i"), t.multiline && (e += "m"), t.unicode && (e += "u"), t.sticky && (e += "y"), e
    }
}, function (t, e, n) {
    var i = n(77),
        r = n(404),
        o = n(323),
        a = n(16),
        s = n(26),
        l = n(338),
        u = {},
        c = {},
        e = t.exports = function (t, e, n, f, d) {
            var h, v, _, p, m = d ? function () {
                    return t
                } : l(t),
                y = i(n, f, e ? 2 : 1),
                g = 0;
            if ("function" != typeof m) throw TypeError(t + " is not iterable!");
            if (o(m)) {
                for (h = s(t.length); h > g; g++)
                    if ((p = e ? y(a(v = t[g])[0], v[1]) : y(t[g])) === u || p === c) return p
            } else
                for (_ = m.call(t); !(v = _.next()).done;)
                    if ((p = r(_, y, v.value, e)) === u || p === c) return p
        };
    e.BREAK = u, e.RETURN = c
}, function (t, e, n) {
    var i = n(88);
    t.exports = Array.isArray || function (t) {
        return "Array" == i(t)
    }
}, function (t, e, n) {
    var i = n(23)("iterator"),
        r = !1;
    try {
        var o = [7][i]();
        o.return = function () {
            r = !0
        }, Array.from(o, function () {
            throw 2
        })
    } catch (t) {}
    t.exports = function (t, e) {
        if (!e && !r) return !1;
        var n = !1;
        try {
            var o = [7],
                a = o[i]();
            a.next = function () {
                return {
                    done: n = !0
                }
            }, o[i] = function () {
                return a
            }, t(o)
        } catch (t) {}
        return n
    }
}, function (t, e) {
    e.f = Object.getOwnPropertySymbols
}, function (t, e, n) {
    "use strict";
    var i = n(186),
        r = RegExp.prototype.exec;
    t.exports = function (t, e) {
        var n = t.exec;
        if ("function" == typeof n) {
            var o = n.call(t, e);
            if ("object" != typeof o) throw new TypeError("RegExp exec method returned something other than an Object or null");
            return o
        }
        if ("RegExp" !== i(t)) throw new TypeError("RegExp#exec called on incompatible receiver");
        return r.call(t, e)
    }
}, function (t, e, n) {
    var i = n(30),
        r = n(18),
        o = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
    (t.exports = function (t, e) {
        return o[t] || (o[t] = void 0 !== e ? e : {})
    })("versions", []).push({
        version: i.version,
        mode: n(127) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}, function (t, e, n) {
    for (var i, r = n(18), o = n(59), a = n(134), s = a("typed_array"), l = a("view"), u = !(!r.ArrayBuffer || !r.DataView), c = u, f = 0, d = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); f < 9;)(i = r[d[f++]]) ? (o(i.prototype, s, !0), o(i.prototype, l, !0)) : c = !1;
    t.exports = {
        ABV: u,
        CONSTR: c,
        TYPED: s,
        VIEW: l
    }
}, function (t, e, n) {
    var i = n(18),
        r = i.navigator;
    t.exports = r && r.userAgent || ""
}, function (t, e) {
    t.exports = function () {
        var t = [];
        return t.toString = function () {
            for (var t = [], e = 0; e < this.length; e++) {
                var n = this[e];
                n[2] ? t.push("@media " + n[2] + "{" + n[1] + "}") : t.push(n[1])
            }
            return t.join("")
        }, t.i = function (e, n) {
            "string" == typeof e && (e = [
                [null, e, ""]
            ]);
            for (var i = {}, r = 0; r < this.length; r++) {
                var o = this[r][0];
                "number" == typeof o && (i[o] = !0)
            }
            for (r = 0; r < e.length; r++) {
                var a = e[r];
                "number" == typeof a[0] && i[a[0]] || (n && !a[2] ? a[2] = n : n && (a[2] = "(" + a[2] + ") and (" + n + ")"), t.push(a))
            }
        }, t
    }
}, function (t, e) {
    function n(t, e) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n],
                r = d[i.id];
            if (r) {
                r.refs++;
                for (var o = 0; o < r.parts.length; o++) r.parts[o](i.parts[o]);
                for (; o < i.parts.length; o++) r.parts.push(l(i.parts[o], e))
            } else {
                for (var a = [], o = 0; o < i.parts.length; o++) a.push(l(i.parts[o], e));
                d[i.id] = {
                    id: i.id,
                    refs: 1,
                    parts: a
                }
            }
        }
    }

    function i(t) {
        for (var e = [], n = {}, i = 0; i < t.length; i++) {
            var r = t[i],
                o = r[0],
                a = r[1],
                s = r[2],
                l = r[3],
                u = {
                    css: a,
                    media: s,
                    sourceMap: l
                };
            n[o] ? n[o].parts.push(u) : e.push(n[o] = {
                id: o,
                parts: [u]
            })
        }
        return e
    }

    function r(t, e) {
        var n = _(),
            i = y[y.length - 1];
        if ("top" === t.insertAt) i ? i.nextSibling ? n.insertBefore(e, i.nextSibling) : n.appendChild(e) : n.insertBefore(e, n.firstChild), y.push(e);
        else {
            if ("bottom" !== t.insertAt) throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
            n.appendChild(e)
        }
    }

    function o(t) {
        t.parentNode.removeChild(t);
        var e = y.indexOf(t);
        e >= 0 && y.splice(e, 1)
    }

    function a(t) {
        var e = document.createElement("style");
        return e.type = "text/css", r(t, e), e
    }

    function s(t) {
        var e = document.createElement("link");
        return e.rel = "stylesheet", r(t, e), e
    }

    function l(t, e) {
        var n, i, r;
        if (e.singleton) {
            var l = m++;
            n = p || (p = a(e)), i = u.bind(null, n, l, !1), r = u.bind(null, n, l, !0)
        } else t.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (n = s(e), i = f.bind(null, n), r = function () {
            o(n), n.href && URL.revokeObjectURL(n.href)
        }) : (n = a(e), i = c.bind(null, n), r = function () {
            o(n)
        });
        return i(t),
            function (e) {
                if (e) {
                    if (e.css === t.css && e.media === t.media && e.sourceMap === t.sourceMap) return;
                    i(t = e)
                } else r()
            }
    }

    function u(t, e, n, i) {
        var r = n ? "" : i.css;
        if (t.styleSheet) t.styleSheet.cssText = g(e, r);
        else {
            var o = document.createTextNode(r),
                a = t.childNodes;
            a[e] && t.removeChild(a[e]), a.length ? t.insertBefore(o, a[e]) : t.appendChild(o)
        }
    }

    function c(t, e) {
        var n = e.css,
            i = e.media;
        if (i && t.setAttribute("media", i), t.styleSheet) t.styleSheet.cssText = n;
        else {
            for (; t.firstChild;) t.removeChild(t.firstChild);
            t.appendChild(document.createTextNode(n))
        }
    }

    function f(t, e) {
        var n = e.css,
            i = e.sourceMap;
        i && (n += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(i)))) + " */");
        var r = new Blob([n], {
                type: "text/css"
            }),
            o = t.href;
        t.href = URL.createObjectURL(r), o && URL.revokeObjectURL(o)
    }
    var d = {},
        h = function (t) {
            var e;
            return function () {
                return void 0 === e && (e = t.apply(this, arguments)), e
            }
        },
        v = h(function () {
            return /msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())
        }),
        _ = h(function () {
            return document.head || document.getElementsByTagName("head")[0]
        }),
        p = null,
        m = 0,
        y = [];
    t.exports = function (t, e) {
        if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document) throw new Error("The style-loader cannot be used in a non-browser environment");
        e = e || {}, void 0 === e.singleton && (e.singleton = v()), void 0 === e.insertAt && (e.insertAt = "bottom");
        var r = i(t);
        return n(r, e),
            function (t) {
                for (var o = [], a = 0; a < r.length; a++) {
                    var s = r[a],
                        l = d[s.id];
                    l.refs--, o.push(l)
                }
                if (t) {
                    n(i(t), e)
                }
                for (var a = 0; a < o.length; a++) {
                    var l = o[a];
                    if (0 === l.refs) {
                        for (var u = 0; u < l.parts.length; u++) l.parts[u]();
                        delete d[l.id]
                    }
                }
            }
    };
    var g = function () {
        var t = [];
        return function (e, n) {
            return t[e] = n, t.filter(Boolean).join("\n")
        }
    }()
}, , , , function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.attributePart = "\n\tattribute vec2 a_Positions;\n\tattribute vec3 a_InstanceTrans;\n\tattribute vec4 a_InstanceCoords;\n\tattribute vec4 a_InstanceTextBounds;\n\tattribute vec4 a_InstanceInfo;\n\n", e.uniformPart = "\n\tuniform mat4 u_matrix;\n\tuniform vec2 u_resolution;\n\tuniform float u_fadeChange;\n\tuniform vec2 u_InstanceTileTextureOffset;\n\tuniform vec2 u_iconTextureResolution;\n\tuniform vec2 u_textTextureResolution;\n\tuniform float u_showPoint;\n\tuniform float u_showLabel;\n\tuniform float u_mapScale;\n", e.varyingPart = "\n\tvarying vec2 v_TexCoord;\n\tvarying float v_isShow;\n\tvarying float v_isIcon;\n\tvarying float v_opacity;\n\tvarying vec4 v_ndcCoord;\n", e.filterPart = "\nfloat getFilterOpacity(float opacity, float type) {\n\treturn mix(\n\t\tmix(0.0, opacity, u_showPoint),\n\t\tmix(0.0, opacity, u_showLabel),\n\t\ttype\n\t);\n}\n", e.projectScreenPart = "\nvec2 project(vec4 device) {\n    vec3 device_normal = device.xyz / device.w;\n    vec2 clip_pos = (device_normal * 0.5 + 0.5).xy;\n    return clip_pos * u_resolution;\n}\n\nvec4 unproject(vec2 screen, float z, float w) {\n    vec2 clip_pos = screen / u_resolution;\n    vec2 device_normal = clip_pos * 2.0 - 1.0;\n    return vec4(device_normal * w, z, w);\n}\n", e.glPositionPart = "\n\t\tvec4 center_proj = u_matrix * vec4(transCoord, 0., 1.);\n\t\tvec2 center_screen = project(center_proj);\n        \n\t\tfloat s_rotate = a_InstanceInfo.x;\n\t\tfloat angle_sin = sin(s_rotate);\n    float angle_cos = cos(s_rotate);\n\t\tmat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n        \n\t\tvec2 positions = a_Positions * 0.5 + 0.5;\n\t\tvec2 corner_screen = rotation_matrix * vec2(\n\t\t\t(a_InstanceCoords.x * positions.x - a_InstanceCoords.z) * u_mapScale,\n\t\t\t(a_InstanceCoords.y * (positions.y - 1.0) + a_InstanceCoords.w) * u_mapScale\n\t\t) + center_screen.xy;\n\t\tvec4 corner_proj = unproject(corner_screen, center_proj.z, center_proj.w);\n\t\tgl_Position = corner_proj;\n\t\t\n\t\tv_ndcCoord = center_proj;\n", e.fragPart = "\n\tuniform sampler2D u_SamplerMask;\n\tuniform sampler2D u_SamplerText;\n\tuniform sampler2D u_SamplerIcon;\n\tuniform float u_asbackground;\n\tuniform float u_maskScale;\n", e.maskPart = "\n\tvec2 v_texCoord = (v_ndcCoord.xy / v_ndcCoord.w * u_maskScale + 1.0) / 2.0;\n\t\n\tfloat isCulledByMask = texture2D(u_SamplerMask, v_texCoord).r;\n\t\n\t\n\t\n\t\n"
}, , function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(9),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = r.default.highQualityRender
}, function (t, e, n) {
    "use strict";

    function i(t) {
        var e = t.geometries.map(function (t) {
                return t.paths || []
            }),
            n = new r.PolygonParseHelper({
                complexPolygons: e,
                IndexType: Uint32Array
            });
        n.updatePositions({
            fp64: !0,
            extruded: !0
        });
        var i = n.getPositions(),
            o = n.getIndices(),
            s = n.getPositions64xyLow(),
            l = n.getVertexValid(),
            u = n.getPickingColors(),
            c = n.getElevations({
                getElevation: function (e) {
                    var n = t.geometries[e],
                        i = t.styles[n.styleId];
                    return i && i.extrudeHeight ? i.extrudeHeight : 0
                }
            }),
            f = n.getColors({
                key: "fillColors",
                getColor: function (e) {
                    var n = t.geometries[e],
                        i = t.styles[n.styleId],
                        r = new a.default(i.color);
                    return i ? r.toUpArray() : [0, 0, 0, 0]
                }
            }),
            d = n.getColors({
                key: "lineColors",
                getColor: function (e) {
                    var n = t.geometries[e],
                        i = t.styles[n.styleId],
                        r = new a.default(i.borderColor);
                    return i && i.showBorder ? "borderWidth" in i ? [0, 0, 0, 0] : r.toUpArray() : [0, 0, 0, 0]
                }
            }),
            h = i.slice(3),
            v = s.slice(2),
            _ = i.slice(),
            p = s.slice();
        return _.set(h), p.set(v), {
            positions: i,
            indices: o,
            positions64xyLow: s,
            vertexValid: l,
            pickingColors: u,
            elevations: c,
            fillColors: f,
            lineColors: d,
            nextPositions: _,
            nextPositions64xyLow: p
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(486),
        o = n(159),
        a = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(o);
    e.default = i
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.ConfigUtil = e.INDOOR_ICON_SIZE = void 0;
    var i = n(9),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        o = 0;
    e.INDOOR_ICON_SIZE = r.default.iconSize, e.ConfigUtil = {
        setBV: function (t) {
            o = t
        },
        getBV: function () {
            return o
        },
        get: function () {
            return data
        },
        getIconPath: function () {
            var t = Math.floor(3 * Math.random());
            return r.default.indoorIconSrc.replace("%$%", 0 === t ? 1 : t)
        },
        getIconSrc: function (t) {
            return "" + this.getIconPath() + t + ".png?v=" + this.getBV()
        }
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return t[0] + (t[1] << 8) + (t[2] << 16)
    }

    function o(t, e) {
        var n = {};
        n.x = 360 * t / 268435456 - 180;
        var i = 180 - 360 * e / 268435456;
        n.y = Math.atan(Math.exp(.017453292519943295 * i)) / .008726646259971648 - 90;
        var r = new p.default(n.y, n.x);
        return r.x = n.x, r.y = n.y, r
    }

    function a(t) {
        return (0, v.default)({}, t)
    }

    function s(t, e) {
        var n = (0, S.mercatorToLatLng)(new y.default(t, e));
        return n.x = t, n.y = e, n
    }

    function l(t, e) {
        return (0, S.latLngToMercator)(new p.default(e, t))
    }

    function u(t) {
        var e = t.map(function (t) {
            return {
                lng: t.x,
                lat: t.y
            }
        });
        return (0, b.isClockWise)(e)
    }

    function c(t, e, n, i) {
        var r = (0, g.getStyle)(t, e, i);
        if (!r) return !1;
        var o = (0, g.getStyle)(r.labelid, e, i);
        if (!o) return !1;
        if (r.icon_offset && 65535 !== r.icon_offset || o.effect && 5 === o.effect) {
            var a = r.icon_offset;
            if (n && "number" == typeof r.icon_offset && isFinite(r.icon_offset) && 65535 !== r.icon_offset && -1 !== r.icon_offset) {
                if (o.fontSize > 0) return !0
            } else if (o.fontSize > 0) return !0;
            return !!("number" == typeof a && isFinite(a) && a >= 0 && a < 500)
        }
        return o.fontSize > 0
    }

    function f(t, e, n, i) {
        var r = c(t, e, n, i),
            o = !1,
            a = !1;
        if (!r) return {
            isValid: r,
            drawIcon: o,
            drawLabel: a
        };
        var s = (0, g.getStyle)(t, e, i),
            l = (0, g.getStyle)(s.labelid, e, i);
        if (s.icon_offset && 65535 !== s.icon_offset || l.effect && 5 === l.effect) {
            var u = s.icon_offset;
            a = (n && "number" == typeof s.icon_offset && isFinite(s.icon_offset) && 65535 !== s.icon_offset && s.icon_offset, l.fontSize > 0), o = !!("number" == typeof u && isFinite(u) && u >= 0 && u < 500)
        } else o = !1, a = l.fontSize > 0;
        return {
            isValid: r,
            drawLabel: a,
            drawIcon: o
        }
    }

    function d(t, e, n, i) {
        var r = (0, g.getStyle)(t.styleId, e, i);
        if (!r) return void console.warn("style is invalid!");
        var o = (0, g.getStyle)(r.labelid, e, i);
        if (!o) return void console.warn("labelStyle is invalid!");
        var a = t.drawInfo || f(t.styleId, e, t.direct, i),
            s = x.INDOOR_ICON_SIZE,
            l = x.INDOOR_ICON_SIZE,
            u = /\\/g,
            c = null,
            d = null,
            h = s / 2,
            v = l / 2,
            _ = t.text.split(u);
        return _.map(function (e, i) {
            var r = {
                    x: 0,
                    y: 0
                },
                s = {
                    w: 0,
                    h: 0
                },
                l = {
                    x: 0,
                    y: 0
                },
                u = {
                    text: e,
                    coords: [l.x, l.y],
                    anchor: r,
                    textBounds: s
                };
            if (!a.drawLabel) return u;
            switch (t.direct) {
                case 2:
                    c = "right", d = "middle";
                    break;
                case 3:
                    c = "center", d = "top";
                    break;
                case 4:
                    c = "center", d = "bottom";
                    break;
                case 1:
                    c = "left", d = "middle";
                    break;
                default:
                    c = "center", d = "middle"
            }
            var f = 0;
            return n.font !== o.font && (n.font = o.font), f = n.measureText(e).width, s.w = Math.ceil(f), s.h = t.fontSize, "left" === c && a.drawIcon ? (r.x = 0 + h + 2 + f / 2, l.x = r.x) : "right" === c && a.drawIcon ? (r.x = 0 - h - 2 - f / 2, l.x = r.x) : (r.x = 0, l.x = 0), "top" === d ? (r.y = 0 + v + (o.fontSize + 2) * (i + 1) - o.fontSize / 2, l.y = r.y) : "bottom" === d ? (r.y = 0 - v - (o.fontSize + 2) * (_.length - i) + o.fontSize / 2, l.y = r.y) : a.drawIcon && a.drawLabel ? (r.y = 0 + (1 === _.length ? 0 : (o.fontSize / 2 + 2) * (0 === i ? -1 : 1)), l.y = r.y) : a.drawIcon ? (r.y = 0, l.y = 0) : a.drawLabel && (1 === _.length ? (r.y = 0, l.y = 0) : (r.y = 0 + (o.fontSize / 2 + 2) * (0 === i ? -1 : 1), l.y = r.y)), u.coords = [l.x, l.y], u
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var h = n(393),
        v = i(h);
    e.readUint24 = r, e.pixels2LongLat = o, e.extendCopy = a, e.mercator2latLng = s, e.latLng2Mercator = l, e.isClockWise = u, e.isValidPointStyle = c, e.getPoiDrawInfo = f, e.getPoiRect = d;
    var _ = n(29),
        p = i(_),
        m = n(41),
        y = i(m),
        g = n(198),
        x = n(232),
        b = n(234),
        S = n(83)
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return t.length >= 3 && (0, w.default)(t[0].lat) && (0, w.default)(t[0].lng)
    }

    function o(t) {
        return t.length >= 1 && t.every(function (t) {
            return t.length >= 3 && r(t)
        })
    }

    function a(t) {
        return t.length >= 1 && t.every(function (t) {
            return o(t)
        })
    }

    function s(t) {
        var e = t[0],
            n = t[t.length - 1];
        return e.lat === n.lat && e.lng === n.lng ? t : t.concat([e])
    }

    function l(t) {
        for (var e = 0, n = 1, i = void 0, r = void 0; n < t.length;) i = r || t[0], r = t[n], e += (r.lng - i.lng) * (r.lat + i.lat), n++;
        return e > 0
    }

    function u(t) {
        return (r(t) ? [
            [s(t)]
        ] : o(t) ? [t.map(function (t) {
            return s(t)
        })] : t.map(function (t) {
            return t.map(s)
        })).map(function (t) {
            return t.map(function (t, e) {
                var n = [];
                return t.forEach(function (t) {
                    if (n.length > 0) {
                        var e = n[n.length - 1];
                        t.lat === e.lat && t.lng === e.lng || n.push(t)
                    } else n.push(t)
                }), 0 === e ? l(n) ? n.reverse() : n : l(n) ? n : n.reverse()
            })
        })
    }

    function c(t) {
        return u(t).reduce(function (t, e) {
            var n = e.reduce(function (t, e) {
                return t.push(e), t
            }, []);
            return t.push.apply(t, (0, b.default)(n)), t
        }, [])
    }

    function f(t) {
        return r(t) ? t.length : t.reduce(function (t, e) {
            return t + e.reduce(function (t, e) {
                return t + e.length
            }, 0)
        }, 0)
    }

    function d(t) {
        return t.reduce(function (t, e) {
            return t + h(e)
        }, 0)
    }

    function h(t) {
        var e = 0,
            n = !0,
            i = !0,
            r = !1,
            o = void 0;
        try {
            for (var a, s = (0, g.default)(t); !(i = (a = s.next()).done); i = !0) {
                var l = a.value,
                    u = l.length;
                e += n ? u >= 3 ? u - 3 : 0 : u + 1, n = !1
            }
        } catch (t) {
            r = !0, o = t
        } finally {
            try {
                !i && s.return && s.return()
            } finally {
                if (r) throw o
            }
        }
        return e
    }

    function v(t) {
        var e = null;
        if (t.length > 1) {
            var n = 0;
            e = [], t.forEach(function (t) {
                n += t.length, e.push(n)
            }), e.pop()
        }
        return e
    }

    function _(t, e) {
        var n = 3 * d(t),
            i = m(t),
            r = new e(n),
            o = 0;
        return t.forEach(function (t, e) {
            var n = p(t),
                a = !0,
                s = !1,
                l = void 0;
            try {
                for (var u, c = (0, g.default)(n); !(a = (u = c.next()).done); a = !0) {
                    var f = u.value;
                    r[o++] = f + i[e]
                }
            } catch (t) {
                s = !0, l = t
            } finally {
                try {
                    !a && c.return && c.return()
                } finally {
                    if (s) throw l
                }
            }
        }), r
    }

    function p(t) {
        var e = v(t),
            n = I(t, {
                dimensions: 2,
                result: []
            });
        return (0, k.default)(n, e, 2)
    }

    function m(t) {
        var e = new Array(t.length + 1);
        e[0] = 0;
        var n = 0;
        return t.forEach(function (t, i) {
            n += t.reduce(function (t, e) {
                return t + e.length
            }, 0), e[i + 1] = n
        }), e
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var y = n(21),
        g = i(y),
        x = n(32),
        b = i(x),
        S = n(392),
        w = i(S);
    e.isSimple = r, e.isPart = o, e.isComplex = a, e.isClockWise = l, e.normalize = u, e.getBorderPolyline = c, e.getVertexCount = f, e.getTriangleCount = d, e.getTriangleCountOfPart = h, e.getSurfaceIndices = _;
    var E = n(137),
        A = i(E),
        T = n(199),
        k = i(T),
        P = n(29),
        I = (i(P), A.default.flattenVertices)
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(155),
        _ = n(363),
        p = i(_),
        m = n(362),
        y = i(m),
        g = n(13),
        x = i(g),
        b = n(6),
        S = function (t) {
            function e(t, n, i) {
                (0, s.default)(this, e);
                var r = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n, i));
                return r.tileSize = n.tileSize || 256, r._isPixelGeo = n.isPixelGeo || !1, r._data = n.data, r._cache = new p.default(0, r.unloadTile.bind(r)), r._maxTileCacheSize = x.default.isPC() ? 800 : 200, r._on("error", function () {
                    r._sourceErrored = !0
                }), r
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "getUniqueId",
                value: function () {
                    return this._uniqueId || (this._uniqueId = (this.map && this.map.id || b.uniqueId()) + "_" + this.id), this._uniqueId
                }
            }, {
                key: "addTile",
                value: function (t, e, n) {}
            }, {
                key: "loadTile",
                value: function (t, e, n) {}
            }, {
                key: "unloadTile",
                value: function (t) {}
            }, {
                key: "abortTile",
                value: function (t) {}
            }, {
                key: "reload",
                value: function () {
                    var t = this;
                    this._cache.reset(), b.forIn(this._items, function (e, n) {
                        t.reloadTile(n)
                    })
                }
            }, {
                key: "reloadTile",
                value: function (t, e) {
                    t.state !== v.TILE_STATE.loading && (t.state = v.TILE_STATE.reloading, this.loadTile(t, {}, this._tileLoaded.bind(this, t)))
                }
            }, {
                key: "removeTile",
                value: function (t) {
                    var e = this._items[t];
                    if (e)
                        if (delete this._items[t], e.hasData()) {
                            var n = e.coord.id;
                            this._cache.add(n, e)
                        } else e.aborted = !0, this.abortTile(e), this.unloadTile(e)
                }
            }, {
                key: "clear",
                value: function () {
                    this.clearTiles(), this._cache.reset()
                }
            }, {
                key: "clearTiles",
                value: function () {
                    var t = this;
                    b.forIn(this._items, function (e) {
                        t.removeTile(e)
                    })
                }
            }, {
                key: "_tileLoaded",
                value: function (t, e) {}
            }, {
                key: "getDrawItems",
                value: function () {
                    return this._items
                }
            }, {
                key: "onAdd",
                value: function (t) {
                    this.map = t
                }
            }, {
                key: "onRemove",
                value: function () {
                    this.map = null
                }
            }, {
                key: "updateCacheSize",
                value: function (t) {
                    var e = Math.ceil(t.width / this.tileSize) + 1,
                        n = Math.ceil(t.height / this.tileSize) + 1,
                        i = e * n,
                        r = Math.floor(5 * i),
                        o = "number" == typeof this._maxTileCacheSize ? Math.max(this._maxTileCacheSize, r) : r;
                    this._cache.setMaxSize(o)
                }
            }, {
                key: "update",
                value: function (t, e, n) {}
            }]), e
        }(y.default);
    e.default = S
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = m.default.QMAPI_style + t;
        return a(e).then(function (n) {
            var i = n.version,
                r = n.cacheJson;
            return u({
                styleId: t,
                version: i,
                serviceSrc: w.styleSrc,
                qosId: "st"
            }).then(function (n) {
                if (n ? l(e, n) : n = r, !n) throw Error("未知错误：获取样式文件失败。");
                return (0, _.setBgColor)(t, n.data), n.data
            })
        }).catch(function (t) {
            console.error(t)
        })
    }

    function o(t) {
        var e = m.default.QMAPI_style_indoor + t;
        return a(e).then(function (n) {
            var i = n.version,
                r = n.cacheJson;
            return u({
                styleId: t,
                version: i,
                serviceSrc: w.indoorStyleSrc,
                qosId: "in_st"
            }).then(function (t) {
                return t ? (l(e, t), t.data) : r ? r.data : null
            }, function (t) {
                return t && console.error(t.status + ": " + t.message), null
            })
        })
    }

    function a(t) {
        return new v.default(function (e) {
            S.support() ? S.get(t, function (t) {
                var n = JSON.parse(t) || null,
                    i = n ? n.version : -1;
                e({
                    version: i,
                    cacheJson: n
                })
            }) : (console.error("兼容性错误：当前浏览器不支持LocalStorage。"), e({
                version: -1
            }))
        })
    }

    function s(t, e) {
        return new v.default(function (n) {
            if (S.support()) {
                (0, _.setBgColor)(e, t);
                var i = m.default.QMAPI_style + "config";
                S.set(i, (0, d.default)({
                    data: t
                }), function () {
                    n(!0)
                })
            } else console.error("兼容性错误：当前浏览器不支持LocalStorage。"), n(!1)
        })
    }

    function l(t, e) {
        S.support() && S.set(t, (0, d.default)(e))
    }

    function u(t) {
        var e = t.styleId,
            n = t.version,
            i = void 0 === n ? -1 : n,
            r = t.serviceSrc,
            o = void 0 === r ? w.styleSrc : r,
            a = t.qosId,
            s = void 0 === a ? "st" : a,
            l = c(o, {
                id: e,
                version: i
            });
        return new v.default(function (t, n) {
            b.getJSON(null, l, function (r, o, a) {
                if (!r && o && o.data) {
                    var l = !0;
                    for (var u in o.data)
                        if (o.data.hasOwnProperty(u)) {
                            l = !1;
                            break
                        } l ? t(null) : ((0, y.qos)(s, {
                        styleId: e,
                        version: i,
                        loadTime: a
                    }), t(o))
                } else(0, y.qos)(s, {
                    styleId: e,
                    version: i,
                    error: r && r.status || 0
                }), n(r || "未知错误：获取样式文件失败。")
            })
        })
    }

    function c(t, e) {
        var n = t;
        return x.default.forIn(e, function (t, e) {
            n = n.replace("{" + t + "}", e)
        }), n
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var f = n(55),
        d = i(f),
        h = n(25),
        v = i(h);
    e.loadStyleFile = r, e.loadIndoorStyleFile = o, e.setStyleConfig = s, e.loadStyleFileFromServer = u;
    var _ = n(368),
        p = n(81),
        m = i(p),
        y = n(46),
        g = n(6),
        x = i(g),
        b = n(104),
        S = n(103),
        w = n(9)
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        var n = (0, o.default)(t.getLat()),
            i = (0, o.default)(e.getLat());
        return 2 * Math.asin(Math.sqrt(Math.pow(Math.sin((n - i) / 2), 2) + Math.cos(n) * Math.cos(i) * Math.pow(Math.sin(((0, o.default)(t.getLng()) - (0, o.default)(e.getLng())) / 2), 2)))
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(160),
        o = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        return (0, a.default)(t, e) * (n || l.default)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(237),
        a = i(o),
        s = n(194),
        l = i(s);
    e.default = r
}, , function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r() {
        var t = ["position:absolute;", "left:0;", "top:0;", "overflow:hidden;", "z-index:1000;", "width:100%;", "height:100%;"],
            e = document.createElement("div");
        e.style.cssText = t.join("");
        var n = document.createElement("div");
        return n.style.cssText = "left:0;top:0;z-index:101;", e.appendChild(n), {
            root: e,
            childs: {
                domOverlayLayer: n
            }
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(10),
        a = i(o),
        s = n(162),
        l = i(s),
        u = n(55),
        c = i(u),
        f = n(12),
        d = i(f),
        h = n(2),
        v = i(h),
        _ = n(0),
        p = i(_),
        m = n(1),
        y = i(m),
        g = n(4),
        x = i(g),
        b = n(3),
        S = i(b),
        w = n(577),
        E = i(w),
        A = n(554),
        T = i(A),
        k = n(544),
        P = i(k),
        I = n(464),
        M = i(I),
        L = n(153),
        C = n(466),
        V = i(C),
        R = n(468),
        O = i(R),
        F = n(472),
        z = i(F),
        N = n(193),
        D = n(350),
        B = n(46),
        U = n(248),
        j = i(U),
        Y = n(9),
        G = i(Y),
        W = n(150),
        X = i(W),
        Z = n(476),
        Q = i(Z),
        H = n(83),
        q = n(31),
        J = n(36),
        K = i(J),
        $ = n(382),
        tt = (i($), n(594)),
        et = n(560),
        nt = n(504),
        it = n(13),
        rt = n(342),
        ot = n(467),
        at = n(40),
        st = n(29),
        lt = n(61),
        ut = n(41),
        ct = n(6),
        ft = K.default.isString,
        dt = K.default.isUndefined,
        ht = K.default.isNumber,
        vt = K.default.isObject,
        _t = {
            MAP_2D: "2D",
            MAP_3D: "3D"
        },
        pt = {
            center: new st(39.88795, 116.49369),
            zoom: 13,
            minZoom: G.default.minZoom,
            maxZoom: G.default.maxZoom,
            rotation: 0,
            pitch: 0,
            scale: 1,
            draggable: !0,
            scrollable: !0,
            doubleClickZoom: !0,
            viewMode: _t.MAP_3D,
            mapStyleId: "DEFAULT",
            showControl: !0
        },
        mt = it.isLowMobileDevice() ? 30 : 55,
        yt = function (t) {
            function e(t, n) {
                (0, p.default)(this, e);
                var i = (0, x.default)(this, (e.__proto__ || (0, v.default)(e)).call(this)),
                    r = Date.now();
                n = ct.extend({}, pt, n), n.heading = 360 - n.rotation, n.minZoom = Math.max(n.minZoom, G.default.minZoom), n.maxZoom = Math.min(n.maxZoom, G.default.maxZoom), i._destroyed = !1, i._glContextLost = !1, i.drawContainer = ft(t) ? document.getElementById(t) : t, i._uniqueId = "map-" + i.drawContainer.id + "_" + ct.uniqueId(), i._initContainer();
                var o = n,
                    a = o.subkey,
                    s = o.subpid;
                (0, N.checkKey)(i.id, {
                    subkey: a,
                    subpid: s
                }), n.map = i;
                var l = new E.default(i.canvasContainer, n);
                i.renderEngine = l, i.drawManager = new et(l), i.transform = new tt(n, l), i.controlManager = new M.default(i), i.layerResource = new nt(n, i), i.indoorManager = new Q.default({
                    map: i
                }), i.fpsManager = new T.default, i.fpsManager.map = i, i.fpsManager.setCallback(i._render.bind(i)), i._renderCallbackList = [], (0, d.default)(i, D.easableMixin), ct.bindAll(["_onData", "_render"], i), i._initListeners(), i.jumpTo({
                    center: n.center,
                    zoom: n.zoom,
                    heading: n.heading || 0,
                    pitch: n.pitch || 0,
                    scale: n.scale || 0
                });
                var u = l.getDrawContainer();
                return i.resize(u.clientWidth, u.clientHeight), i._update(), i.handler = new rt(i), i._bubbleMiddleware = new P.default(i), i.setDraggable(n.draggable), i.setScrollable(n.scrollable), i.setDoubleClickZoom(n.doubleClickZoom), i.setViewMode(n.viewMode), i.setShowControl(n.showControl), i._initControls(), (0, B.minfo)({
                    lat: n.center.lat,
                    lng: n.center.lng,
                    zoom: n.zoom,
                    pitch: n.pitch,
                    rotation: n.rotation,
                    w: i.transform.width,
                    h: i.transform.height
                }), (0, B.fps)(i), (0, B.frt)(i, r), i
            }
            return (0, S.default)(e, t), (0, y.default)(e, [{
                key: "_initListeners",
                value: function () {
                    var t = this;
                    this._on("preload", this._preLoad), this._on("data", this._onData), this._on("data", function (e) {
                        "metadata" === e.sourceDataType && t._update()
                    }), this._on("layer", this._update.bind(this, !1)), this._on("move", it.debounce(function () {
                        t._update()
                    }, 10)), it.on(this, "data,moveend", it.debounce(function () {
                        t._destroyed || (t._update(), t.fpsManager.updateFPS(6))
                    }, 12e3)), it.on(this, "moveend,setData", it.debounce(function () {
                        t.renderEngine.updateLabel()
                    }, 10)), this._on("movestart", function () {
                        t.fpsManager.updateFPS(mt)
                    }), this._on("tilesloaded", it.debounce(function () {
                        t._update()
                    }, 250)), this.on("mapstyle_changed", function (e) {
                        var n = e.styleId;
                        t.renderEngine.onMapStyleUpdate(n), t.drawManager.resetGradualPlacement(), t._update()
                    })
                }
            }, {
                key: "resetRenderEngine",
                value: function () {
                    this.renderEngine = new E.default(this.canvasContainer, {})
                }
            }, {
                key: "setCenter",
                value: function (t, e) {
                    return this.jumpTo({
                        center: t
                    }, e)
                }
            }, {
                key: "getCenter",
                value: function () {
                    return this.transform.center
                }
            }, {
                key: "setZoom",
                value: function (t, e) {
                    return this.jumpTo({
                        zoom: t
                    }, e), this
                }
            }, {
                key: "getZoom",
                value: function () {
                    return this.transform.zoom
                }
            }, {
                key: "setPitch",
                value: function (t, e) {
                    return this._viewMode === _t.MAP_2D ? this : (this.jumpTo({
                        pitch: t
                    }, e), this)
                }
            }, {
                key: "getPitch",
                value: function () {
                    return this.transform.pitch
                }
            }, {
                key: "setScale",
                value: function (t, e) {
                    return ht(t) ? t <= 0 ? this : (this.jumpTo({
                        scale: t
                    }, e), this) : (new q.BaseTypeError("scale", "number", t).error(), this)
                }
            }, {
                key: "getScale",
                value: function () {
                    return this.transform.scale
                }
            }, {
                key: "setRotation",
                value: function (t, e) {
                    return this._viewMode === _t.MAP_2D ? this : (this.jumpTo({
                        heading: 360 - t
                    }, e), this)
                }
            }, {
                key: "getRotation",
                value: function () {
                    return 360 - this.transform.heading
                }
            }, {
                key: "getHeading",
                value: function () {
                    return this.transform.heading
                }
            }, {
                key: "getContainer",
                value: function () {
                    return this.drawContainer
                }
            }, {
                key: "getBounds",
                value: function () {
                    return this.transform.getBounds()
                }
            }, {
                key: "getRenderContainer",
                value: function () {
                    return this.renderEngine.getDrawContainer()
                }
            }, {
                key: "setDraggable",
                value: function (t) {
                    var e = t ? "enable" : "disable";
                    return this.dragPan[e](), this.dragRotate[e](), this.longPress[e](), this.draggable = !!t, this
                }
            }, {
                key: "getDraggable",
                value: function () {
                    return this.draggable
                }
            }, {
                key: "setScrollable",
                value: function (t) {
                    var e = t ? "enable" : "disable";
                    return this.scrollZoom[e](), this
                }
            }, {
                key: "getScrollable",
                value: function () {
                    return this.scrollZoom.isEnabled()
                }
            }, {
                key: "setDoubleClickZoom",
                value: function (t) {
                    var e = t ? "enable" : "disable";
                    return this.doubleClickZoom[e](), this
                }
            }, {
                key: "getDoubleClickZoom",
                value: function () {
                    return this.doubleClickZoom.isEnabled()
                }
            }, {
                key: "setBoundary",
                value: function (t) {
                    return this.transform.boundary = t, this._update(), this
                }
            }, {
                key: "getBoundary",
                value: function () {
                    return this.transform.boundary
                }
            }, {
                key: "getIndoorManager",
                value: function () {
                    return this.indoorManager
                }
            }, {
                key: "getLightManager",
                value: function () {
                    return this.renderEngine.lightManager
                }
            }, {
                key: "setViewMode",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : _t.MAP_3D;
                    if (t = String(t).toUpperCase(), this._viewMode === t) return this;
                    if (t !== _t.MAP_3D && t !== _t.MAP_2D) {
                        if (new q.EnumError("viewMode", [_t.MAP_2D, _t.MAP_3D], t).error(), !dt(this._viewMode)) return this;
                        t = _t.MAP_3D
                    }
                    return t === _t.MAP_2D ? (this.easeTo({
                        pitch: 0,
                        heading: 0
                    }), this.dragRotate.disable(), this.touchZoomRotate.disableRotation(), this.touchTilt.disable()) : this.draggable && (this.dragRotate.enable(), this.touchZoomRotate.enableRotation(), this.touchTilt.enable()), this._viewMode = t, this
                }
            }, {
                key: "getViewMode",
                value: function () {
                    return this._viewMode
                }
            }, {
                key: "getBaseMap",
                value: function () {
                    return this.layerResource.baseMap
                }
            }, {
                key: "setBaseMap",
                value: function (t) {
                    return this.layerResource.baseMap = t, this
                }
            }, {
                key: "setMapStyleId",
                value: function (t) {
                    return t && ft(t) ? this.layerResource.setMapStyleId(t) : console.error("传入的mapStyleId有误：" + t), this
                }
            }, {
                key: "setMapStyleConfig",
                value: function (t) {
                    return vt(t) ? "{}" === (0, c.default)(t) ? (console.error("setMapStyleConfig传入的参数为空对象"), this) : (this.layerResource.setMapStyleConfig(t), this) : (new q.BaseTypeError("StyleConfig", "object", t).error(), this)
                }
            }, {
                key: "getShowControl",
                value: function () {
                    return this._showControl
                }
            }, {
                key: "setShowControl",
                value: function (t) {
                    this._showControl = t
                }
            }, {
                key: "getControl",
                value: function (t) {
                    return this.controlManager.getControl(t)
                }
            }, {
                key: "removeControl",
                value: function (t) {
                    return this.controlManager.removeControl(t), this
                }
            }, {
                key: "addControl",
                value: function (t) {
                    return this.controlManager.addControl(t), this
                }
            }, {
                key: "panTo",
                value: function (t, e, n) {
                    return this.easeTo({
                        center: t
                    }, e, n)
                }
            }, {
                key: "panBy",
                value: function (t, e, n) {
                    return t = ut.convert(t).mult(-1), this.panTo(this.transform.center, ct.extend({
                        offset: t
                    }, e), n)
                }
            }, {
                key: "flyTo",
                value: function () {}
            }, {
                key: "zoomBy",
                value: function (t, e, n) {
                    var i = this.getZoom() + t,
                        r = this.transform;
                    i = Math.max(Math.min(i, r.maxZoom), r.minZoom), this.zoomTo(i, e, n)
                }
            }, {
                key: "zoomTo",
                value: function (t, e, n) {
                    return this.easeTo({
                        zoom: t
                    }, e, n)
                }
            }, {
                key: "rotateTo",
                value: function (t, e, n) {
                    return this.easeTo({
                        rotation: t
                    }, e, n)
                }
            }, {
                key: "headTo",
                value: function (t, e, n) {
                    return this.easeTo({
                        heading: t
                    }, e, n)
                }
            }, {
                key: "pitchTo",
                value: function (t, e) {
                    return this.easeTo({
                        pitch: t
                    }, e)
                }
            }, {
                key: "naviTo",
                value: function (t, e, n, i) {
                    return this.easeTo({
                        heading: e,
                        center: t
                    }, ct.extend({
                        isMatrix: !1
                    }, n), i)
                }
            }, {
                key: "jumpTo",
                value: function (t, e) {
                    this.stopEase();
                    var n = this.transform,
                        i = !1,
                        r = !1,
                        o = !1,
                        a = !1;
                    return "zoom" in t && n.zoom !== +t.zoom && ((0, l.default)(+t.zoom) ? new q.BaseTypeError("zoom", "number", t.zoom).error() : (i = !0, n.zoom = +t.zoom)), "center" in t && (n.center = st.convert(t.center), a = !0), "heading" in t && n.heading !== +t.heading && (r = !0, n.heading = +t.heading), "pitch" in t && n.pitch !== +t.pitch && (o = !0, n.pitch = +t.pitch), "scale" in t && n.scale !== t.scale && (n.scale = t.scale), this._fire("movestart", e)._fire("move", e), i && this._fire("zoomstart", e)._fire("zoom", e)._fire("zoomend", e), r && this._fire("rotate", e), o && this._fire("pitchstart", e)._fire("pitch", e)._fire("pitchend", e), a && this._fire("panstart", e)._fire("pan", e)._fire("panend", e), this._fire("moveend", e)
                }
            }, {
                key: "easeTo",
                value: function (t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        i = arguments[2];
                    this.stopEase(), n = ct.extend({
                        offset: [0, 0],
                        duration: 500,
                        easing: ct.ease
                    }, n), !1 === n.animate && (n.duration = 0);
                    var r = this.transform,
                        o = this.getZoom(),
                        a = this.getHeading(),
                        s = this.getPitch(),
                        l = o,
                        u = a,
                        c = s;
                    ht(t.zoom) ? l = t.zoom : dt(t.zoom) || new q.BaseTypeError("mapStatus.zoom", "number", t.zoom).error(), ht(t.rotation) ? u = this._normalizeHeading(360 - t.rotation, a) : dt(t.rotation) || new q.BaseTypeError("mapStatus.rotation", "number", t.rotation).error(), ht(t.heading) && (u = this._normalizeHeading(t.heading, a)), ht(t.pitch) ? c = t.pitch : dt(t.pitch) || new q.BaseTypeError("mapStatus.pitch", "number", t.pitch).error();
                    var f = null,
                        d = null;
                    n.around && (f = n.around, d = this.projectToContainer(f));
                    var h = n.offset,
                        v = r.centerPoint.add(ut.convert(h)),
                        _ = this.unprojectFromContainer(v),
                        p = st.convert(t.center || _);
                    this._normalizeCenter(p);
                    var m = r.latLngToCoord(_),
                        y = r.latLngToCoord(p).sub(m),
                        g = r.zoomScale(l - o);
                    return this.zooming = l !== o && l <= r.maxZoom && l >= r.minZoom, this.rotating = a !== u, this.pitching = c !== s, this.panning = 0 !== y.x || 0 !== y.y, this._viewMode === _t.MAP_2D && (this.rotating = !1, this.pitching = !1), this.zooming || this.rotating || this.pitching || 0 !== y.x || 0 !== y.y ? (this._prepareEase(i, n.noMoveStart), clearTimeout(this._onEaseEnd), this._ease(function (t) {
                        if (this.zooming && (r.zoom = (0, j.default)(o, l, t)), this.rotating && (r.heading = (0, j.default)(a, u, t)), this.pitching && (r.pitch = (0, j.default)(s, c, t)), n.around) r.setLocationAtPoint(f, d);
                        else {
                            var e = r.zoomScale(r.zoom - o),
                                h = l > o ? Math.min(2, g) : Math.max(.5, g),
                                _ = Math.pow(h, 1 - t),
                                p = y.mult(t * _),
                                x = r.coordToLatLng(m.add(p).mult(e), r.zoom);
                            r.setLocationAtPoint(x, v)
                        }
                        this._fireMoveEvents(i)
                    }, function () {
                        n.delayEndEvents ? e._onEaseEnd = setTimeout(function () {
                            return e._easeToEnd(i)
                        }, n.delayEndEvents) : e._easeToEnd(i)
                    }, function () {
                        e._easeToEnd(i, !0)
                    }, n), this) : this
                }
            }, {
                key: "_prepareEase",
                value: function (t, e) {
                    this.moving = !0, e || (this._fire("movestart", t), this.zooming && this._fire("zoomstart", t), this.rotating && this._fire("rotatestart", t), this.pitching && this._fire("pitchstart", t), this.panning && this._fire("panstart", t))
                }
            }, {
                key: "_fireMoveEvents",
                value: function (t) {
                    this._fire("move", t), this.zooming && this._fire("zoom", t), this.rotating && this._fire("rotate", t), this.pitching && this._fire("pitch", t), this.panning && this._fire("pan", t)
                }
            }, {
                key: "_easeToEnd",
                value: function (t, e) {
                    var n = this.zooming,
                        i = this.rotating,
                        r = this.pitching,
                        o = this.panning;
                    this.moving = !1, this.zooming = !1, this.rotating = !1, this.pitching = !1, this.panning = !1, n && this._fire(e ? "zoomcancel" : "zoomend", t), i && this._fire(e ? "rotatecancel" : "rotateend", t), r && this._fire(e ? "pitchcancel" : "pitchend", t), o && this._fire(e ? "pancancel" : "panend", t), this._fire(e ? "movecancel" : "moveend", t)
                }
            }, {
                key: "resetNorth",
                value: function (t, e) {
                    return this.rotateTo(0, ct.extend({
                        duration: 1e3
                    }, t), e), this
                }
            }, {
                key: "snapToNorth",
                value: function (t, e) {
                    return Math.abs(this.getHeading()) < 7 ? this.resetNorth(t, e) : this
                }
            }, {
                key: "fitBounds",
                value: function (t, e, n) {
                    if (!(t && t instanceof lt)) return new q.ClassTypeError("Map.fitBounds的bounds参数", "LatLngBounds", t), this;
                    if (e = ct.extend({
                            padding: {
                                top: 0,
                                bottom: 0,
                                right: 0,
                                left: 0
                            },
                            offset: [0, 0],
                            minZoom: this.transform.minZoom,
                            maxZoom: this.transform.maxZoom
                        }, e), ht(e.padding)) {
                        var i = e.padding;
                        e.padding = {
                            top: i,
                            bottom: i,
                            right: i,
                            left: i
                        }
                    }
                    if (!ct.deepEqual((0, a.default)(e.padding).sort(function (t, e) {
                            return t < e ? -1 : t > e ? 1 : 0
                        }), ["bottom", "left", "right", "top"])) return void ct.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'");
                    t = lt.convert(t);
                    var r = [e.padding.left - e.padding.right, e.padding.top - e.padding.bottom],
                        o = Math.min(e.padding.right, e.padding.left),
                        s = Math.min(e.padding.top, e.padding.bottom);
                    e.offset = [e.offset[0] + r[0], e.offset[1] + r[1]];
                    var l = ut.convert(e.offset),
                        u = this.transform,
                        c = u.latLngToCoord(t.getNorthWest()),
                        f = u.latLngToCoord(t.getSouthEast()),
                        h = f.sub(c),
                        v = (u.width - 2 * o - 2 * Math.abs(l.x)) / h.x,
                        _ = (u.height - 2 * s - 2 * Math.abs(l.y)) / h.y;
                    if (_ < 0 || v < 0) return ct.warnOnce("传入参数无效导致map无法进行fitBounds操作"), this;
                    var p = {
                        center: u.coordToLatLng(c.add(f).div(2)),
                        zoom: Math.max(Math.min(u.scaleZoom(u.scrollScale * Math.min(v, _)), e.maxZoom), e.minZoom),
                        heading: 0
                    };
                    return !1 === e.animate ? this.jumpTo(p) : this.easeTo(p, (0, d.default)({
                        offset: l
                    }, e.ease)), this
                }
            }, {
                key: "getZoomByBounds",
                value: function (t) {
                    var e = this.transform,
                        n = e.latLngToCoord(t.getNorthWest()),
                        i = e.latLngToCoord(t.getSouthEast()),
                        r = i.sub(n),
                        o = e.width / r.x,
                        a = e.height / r.y;
                    return a < 0 || o < 0 ? void ct.warnOnce("bounds error!") : Math.min(e.scaleZoom(e.scrollScale * Math.min(o, a)), e.maxZoom)
                }
            }, {
                key: "stopEase",
                value: function () {
                    return this._abortFn && (this._abortFn(), this._finishEase()), this
                }
            }, {
                key: "getSource",
                value: function (t) {
                    return this.layerResource.getSource(t)
                }
            }, {
                key: "addSource",
                value: function (t, e) {
                    this.layerResource.addSource(t, e)
                }
            }, {
                key: "removeSource",
                value: function (t) {
                    this.layerResource.removeSource(t)
                }
            }, {
                key: "addLayer",
                value: function (t) {
                    this.layerResource.addLayer(t)
                }
            }, {
                key: "removeLayer",
                value: function (t) {
                    this.layerResource.removeLayer(t)
                }
            }, {
                key: "moveLayer",
                value: function (t, e) {
                    this.layerResource.moveLayer(t, e)
                }
            }, {
                key: "getLayer",
                value: function (t) {
                    return this.layerResource.getLayer(t)
                }
            }, {
                key: "findLayer",
                value: function (t) {
                    return this.layerResource.findLayer(t)
                }
            }, {
                key: "addVisualPlugin",
                value: function (t) {
                    this.layerResource.addVisualPlugin(t), this._update()
                }
            }, {
                key: "removeVisualPlugin",
                value: function (t) {
                    this.layerResource.removeVisualPlugin(t), this._update()
                }
            }, {
                key: "unprojectFromContainer",
                value: function (t) {
                    return t instanceof ut ? this.transform.screenToLatLng(t) : t && t.x && t.y ? this.transform.screenToLatLng(new ut(t.x, t.y)) : (new q.ClassTypeError("Map.unprojectFromContainer的point参数", "Point", t).error(), null)
                }
            }, {
                key: "projectToContainer",
                value: function (t) {
                    if (t instanceof st) {
                        var e = this.transform.latLngToScreen(t);
                        return new ut(e.x, e.y)
                    }
                    return new q.ClassTypeError("Map.projectToContainer的latLng参数", "LatLng", t).error(), null
                }
            }, {
                key: "_getSpatialResolution",
                value: function () {
                    var t = this.getCenter().getLat() * Math.PI / 180;
                    return (0, H.getSpatialResolution)(this.getZoom()) * Math.cos(t) / this.getScale()
                }
            }, {
                key: "_onData",
                value: function (t) {
                    this.drawManager.updatePlace(), this._rerender()
                }
            }, {
                key: "_preLoad",
                value: function () {
                    this.layerResource._sources.vector_source.preload(this.transform)
                }
            }, {
                key: "_normalizeHeading",
                value: function (t, e) {
                    t = ct.wrap(t, -180, 180);
                    var n = Math.abs(t - e);
                    return Math.abs(t - 360 - e) < n && (t -= 360), Math.abs(t + 360 - e) < n && (t += 360), t
                }
            }, {
                key: "_normalizeCenter",
                value: function (t) {
                    var e = this.transform,
                        n = t.lng - e.center.lng;
                    t.lng += n > 180 ? -360 : n < -180 ? 360 : 0
                }
            }, {
                key: "_rerender",
                value: function () {
                    this.fpsManager.updateFPS(mt), this.fpsManager.start()
                }
            }, {
                key: "_render",
                value: function () {
                    var t = this.getRenderContainer();
                    this.resize(t.clientWidth, t.clientHeight);
                    var e = this.drawManager.render(this.layerResource, this.transform);
                    this._bubbleMiddleware.runPick(), e && this._rerender(), this._renderCallbackList.forEach(function (t) {
                        return t && t()
                    })
                }
            }, {
                key: "addRenderCallback",
                value: function (t) {
                    this._renderCallbackList.push(t)
                }
            }, {
                key: "removeRenderCallback",
                value: function (t) {
                    var e = this._renderCallbackList.indexOf(t);
                    this._renderCallbackList.splice(e, 1)
                }
            }, {
                key: "resize",
                value: function (t, e) {
                    t && e && (t === this.width && e === this.height || (this.width = t, this.height = e, this.transform.resize(t, e), this.drawManager.resize(t, e), this._update(), this._frameId = null, this._fire("resize", {
                        width: t,
                        height: e
                    }, !0)))
                }
            }, {
                key: "_update",
                value: function () {
                    this._destroyed || this._glContextLost || (this.layerResource._updateSource(this.transform, this.renderEngine.camera, {
                        causedBy: "move"
                    }), this.drawManager.updatePlace(), this._rerender())
                }
            }, {
                key: "_initContainer",
                value: function () {
                    this.drawContainer.style.webkitTapHighlightColor = "rgba(0,0,0,0)", "static" === getComputedStyle(this.drawContainer).getPropertyValue("position") && (this.drawContainer.style.position = "relative");
                    var t = document.createElement("canvas");
                    t.style.cssText = "width:100%; height: 100%;";
                    var e = r();
                    this.drawContainer.appendChild(t), this.drawContainer.appendChild(e.root), this.canvasContainer = t, this._overlayer = e
                }
            }, {
                key: "_initControls",
                value: function () {
                    var t = this;
                    if ((0, N.checkKey)(this.id).then(function (e) {
                            e || X.default.isLocal || t.addControl(new V.default({
                                position: L.CONTROL_POSITION.BOTTOM_CENTER
                            }))
                        }), this.addControl(new ot({
                            position: L.CONTROL_POSITION.BOTTOM_LEFT
                        })), !1 === this._showControl) return this;
                    this.addControl(new O.default({
                        id: L.DEFAULT_CONTROL_ID.SCALE,
                        position: L.CONTROL_POSITION.BOTTOM_LEFT,
                        center: this.getCenter(),
                        zoom: this.getZoom()
                    })), this.addControl(new z.default({
                        id: L.DEFAULT_CONTROL_ID.ZOOM,
                        position: L.CONTROL_POSITION.TOP_RIGHT
                    }))
                }
            }, {
                key: "_onContextError",
                value: function (t) {
                    "restored" === t ? (this._rerender(), this._glContextLost = !1, (0, B.err)({
                        type: "ctx",
                        code: 1
                    }), this._fire("context_restored")) : (this.stop(), this._glContextLost = !0, (0, B.err)({
                        type: "ctx",
                        code: 0
                    }), this._fire("context_lost"))
                }
            }, {
                key: "stop",
                value: function () {
                    this.fpsManager.stop()
                }
            }, {
                key: "destroy",
                value: function () {
                    this._destroyed || (this.emit("destroy"), this.stopEase(), (0, N.revokeKeyCheck)(this.id), this.controlManager.destroy(), this.handler.destroy(), this.fpsManager.destroy(), this.layerResource.destroy(), this._bubbleMiddleware.destroy(), this.renderEngine.destroy(), this.drawManager.destroy(), this.indoorManager = null, this.fpsManager = null, this.handler = null, this.layerResource = null, this._bubbleMiddleware = null, this.renderEngine = null, this.drawManager = null, this.transform = null, this._clearAllListeners(), this.drawContainer.innerHTML = "", this.canvasContainer.width = 1, this.canvasContainer.height = 1, this.canvasContainer = null, this._overlayer = null, this.drawContainer = null, this._destroyed = !0)
                }
            }, {
                key: "_getPoiInfo",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        e = this.drawManager.getPoi(t);
                    if (e) {
                        e.latLng = this.unprojectFromContainer(e.coord);
                        var n = Math.round(this.getZoom()) >= G.default.minShowIndoorZoom && this.indoorManager.getVisible() && this.indoorManager.getIndoorBuildingList().length;
                        if (!e.isIndoor && n)
                            for (var i = this.indoorManager.getIndoorBuildingList(), r = 0; r < i.length; r++) {
                                var o = i[r];
                                if (o.getBuildingInfo().bounds.contains(e.latLng)) {
                                    e = null;
                                    break
                                }
                            }
                    }
                    return e
                }
            }, {
                key: "id",
                get: function () {
                    return this._uniqueId
                }
            }]), e
        }(at);
    e.default = yt
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(40),
        _ = i(v),
        p = n(240),
        m = i(p),
        y = n(13),
        g = n(46),
        x = function (t) {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this));
                return n._onMapdestroy = function () {
                    n.setMap(null)
                }, n.onInit(t), n.dom = n.createDOM(), n.map = null, n.setMap(t.map), (0, g.statCn)("DOMOverlay"), n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_addToMap",
                value: function () {
                    this.map && (this.map._overlayer.childs.domOverlayLayer.appendChild(this.dom), this.updateDOM(), this._listener = (0, y.throttleWithFrame)(this.updateDOM.bind(this)), this.map.on("move", this._listener), this.map.on("resize", this._listener), this.map.on("destroy", this._onMapdestroy))
                }
            }, {
                key: "_removeFromMap",
                value: function () {
                    this.map && (this.dom.parentNode.removeChild(this.dom), this.map.off("move", this._listener), this.map.off("resize", this._listener), this.map.off("destroy", this._onMapdestroy), this._listener = null)
                }
            }, {
                key: "getMap",
                value: function () {
                    return this.map
                }
            }, {
                key: "setMap",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    return this.map === t ? this : !t || t instanceof m.default ? (this._removeFromMap(), this.map = t, this._addToMap(), this) : (console.error("类型错误: map参数类型错误，应为TMap.Map。"), this)
                }
            }, {
                key: "destroy",
                value: function () {
                    return this.onDestroy(), this.setMap(null), this.removeAllListeners(), this
                }
            }, {
                key: "onInit",
                value: function (t) {}
            }, {
                key: "onDestroy",
                value: function () {}
            }, {
                key: "createDOM",
                value: function () {
                    return document.createElement("div")
                }
            }, {
                key: "updateDOM",
                value: function () {}
            }]), e
        }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(41),
        s = i(a),
        l = n(6),
        u = {
            color: "rgba(0, 0, 0, 1)",
            size: 14,
            scale: 1,
            offset: new s.default(0, 0),
            angle: 0,
            alignment: "center",
            verticalAlignment: "middle"
        },
        c = function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, o.default)(this, t), e = (0, l.extend)({}, u, e), this.color = e.color, this.size = e.size, this.scale = e.scale, this.offset = e.offset, this.angle = e.angle, this.alignment = e.alignment, this.verticalAlignment = e.verticalAlignment
        };
    e.default = c
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        var n = !0,
            i = t.renderEngine.camera.getFogEdge()[1] + .15;
        if (i < 1) {
            var r = (1 - i) * t.transform.height / 2;
            e.y < r && (n = !1)
        }
        return n
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.isReponsing = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(72),
        m = i(p),
        y = n(51),
        g = n(73),
        x = n(83),
        b = n(92),
        S = n(6),
        w = i(S),
        E = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.store = new y.Store("buffer", 128, 16, b.deleteInstanceCacllback), n.commonUniformList = ["uMatrix", "uCenter", "uZoom", "uPixelsPerMeter", "uResolution", "uProject_uCommonUnitsPerWorldUnit", "uProject_uCommonUnitsPerWorldUnit2", "uRelativeCenter"], n
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "draw",
                value: function (t, e, n, i) {
                    if (t && n) {
                        var r = this.gl;
                        r.useProgram(r.program), this.setUniforms(t, e, n, i);
                        var o = this.setBuffers(t);
                        r.drawElements(r.TRIANGLES, o.index.length, o.index.type, 0), r.bindBuffer(r.ARRAY_BUFFER, null), r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, null)
                    }
                }
            }, {
                key: "setBuffers",
                value: function (t) {
                    var e = this.gl,
                        n = this.store,
                        i = t.uid,
                        r = !1;
                    if (n) {
                        n.exist(i) ? this.isBufferChanged(n.get(i), t) && (r = !0) : n.set(i, this.createBuffer(t));
                        var o = n.get(i);
                        return w.default.forIn(o, function (n, i) {
                            var o = i.buffer,
                                a = i.location,
                                s = i.size,
                                l = i.type;
                            o.bind(), r && (o.bufferData(t[n], {
                                usage: e.DYNAMIC_DRAW
                            }), i.data = t[n]), "index" !== n && o.pointToAttrib({
                                location: a,
                                size: s,
                                type: l
                            })
                        }), o
                    }
                }
            }, {
                key: "setUniforms",
                value: function (t, e, n, i) {
                    var r = this.gl,
                        o = e.center,
                        a = e.zoom,
                        s = 1 / (0, x.getSpatialResolution)(a),
                        l = i.distanceScales || e.getDistanceScales(),
                        u = (0, g.splitLatLngNumber)(o.lat),
                        c = (0, g.splitLatLngNumber)(o.lng),
                        f = {
                            latPart: (0, g.splitLatLngNumber)(t.center.lat),
                            lngPart: (0, g.splitLatLngNumber)(t.center.lng)
                        };
                    r.uniformMatrix4fv(this.uMatrix, !1, n.elements), r.uniform4f(this.uCenter, c.high, u.high, c.low, u.low), r.uniform1f(this.uZoom, a), r.uniform3f(this.uPixelsPerMeter, s, s, s), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit, l.pixelsPerDegree[0], l.pixelsPerDegree[1], l.pixelsPerDegree[2]), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit2, l.pixelsPerDegree2[0], l.pixelsPerDegree2[1], l.pixelsPerDegree2[2]), r.uniform2f(this.uResolution, e.width, e.height), r.uniform4f(this.uRelativeCenter, f.lngPart.high, f.latPart.high, f.lngPart.low, f.latPart.low)
                }
            }, {
                key: "destroy",
                value: function () {
                    this.commonUniformList = null, (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "destroy", this).call(this)
                }
            }]), e
        }(m.default);
    e.default = E
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(41),
        u = n(29),
        c = n(6),
        f = function () {
            function t() {
                (0, o.default)(this, t), this.a = new l(128, 128), this.b = 256 / 360, this.c = 256 / (2 * Math.PI), this.d = !0
            }
            return (0, s.default)(t, [{
                key: "fromLatLngToPoint",
                value: function (t) {
                    var e = new l(0, 0),
                        n = this.a;
                    e.x = n.x + t.lng * this.b;
                    var i = c.clamp(Math.sin(c.degree_to_radian(t.lat)), -(1 - 1e-15), 1 - 1e-15);
                    return e.y = n.y + .5 * Math.log((1 + i) / (1 - i)) * -this.c, e
                }
            }, {
                key: "fromPointToLatLng",
                value: function (t) {
                    var e = this.a,
                        n = c.radian_to_degree(2 * Math.atan(Math.exp((t.y - e.y) / -this.c)) - Math.PI / 2),
                        i = (t.x - e.x) / this.b;
                    return new u(n, i, !0)
                }
            }, {
                key: "latLngToCoord",
                value: function (t, e) {
                    var n = this.fromLatLngToPoint(t);
                    if (n) {
                        var i = e,
                            r = Math.pow(2, i);
                        n.x = n.x * r, n.y = n.y * r
                    }
                    return n
                }
            }, {
                key: "coordToLatLng",
                value: function (t, e) {
                    var n = e,
                        i = Math.pow(2, n),
                        r = new l(t.x / i, t.y / i);
                    return this.fromPointToLatLng(r)
                }
            }]), t
        }();
    t.exports = f
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = function () {
            function t(e, n, i, r) {
                (0, o.default)(this, t), this.cx = 3 * e, this.bx = 3 * (i - e) - this.cx, this.ax = 1 - this.cx - this.bx, this.cy = 3 * n, this.by = 3 * (r - n) - this.cy, this.ay = 1 - this.cy - this.by, this.p1x = e, this.p1y = n, this.p2x = i, this.p2y = r
            }
            return (0, s.default)(t, [{
                key: "sampleCurveX",
                value: function (t) {
                    return ((this.ax * t + this.bx) * t + this.cx) * t
                }
            }, {
                key: "sampleCurveY",
                value: function (t) {
                    return ((this.ay * t + this.by) * t + this.cy) * t
                }
            }, {
                key: "sampleCurveDerivativeX",
                value: function (t) {
                    return (3 * this.ax * t + 2 * this.bx) * t + this.cx
                }
            }, {
                key: "solveCurveX",
                value: function (t, e) {
                    void 0 === e && (e = 1e-6);
                    var n = void 0,
                        i = void 0,
                        r = void 0,
                        o = void 0,
                        a = void 0;
                    for (r = t, a = 0; a < 8; a++) {
                        if (o = this.sampleCurveX(r) - t, Math.abs(o) < e) return r;
                        var s = this.sampleCurveDerivativeX(r);
                        if (Math.abs(s) < 1e-6) break;
                        r -= o / s
                    }
                    if (n = 0, i = 1, (r = t) < n) return n;
                    if (r > i) return i;
                    for (; n < i;) {
                        if (o = this.sampleCurveX(r), Math.abs(o - t) < e) return r;
                        t > o ? n = r : i = r, r = .5 * (i - n) + n
                    }
                    return r
                }
            }, {
                key: "solve",
                value: function (t, e) {
                    return this.sampleCurveY(this.solveCurveX(t, e))
                }
            }]), t
        }();
    t.exports = l
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.SATELLITE_LAYER_ID = e.VECTOR_LAYER_ID = e.DEFAULT_BASEMAP = e.SATELLITE_FEATURE = e.MAP_TYPE = void 0;
    var i = n(27),
        r = e.MAP_TYPE = {
            vector: "vector",
            satellite: "satellite",
            traffic: "traffic"
        },
        o = e.SATELLITE_FEATURE = {
            satellite: "base",
            road: "road"
        };
    e.DEFAULT_BASEMAP = {
        vector: {
            type: r.vector,
            features: [i.BASE_LAYER_TYPE.base, i.BASE_LAYER_TYPE.building3d, i.BASE_LAYER_TYPE.point, i.BASE_LAYER_TYPE.label]
        },
        satellite: {
            type: r.satellite,
            features: [o.satellite, o.road]
        },
        traffic: {
            type: r.traffic
        }
    }, e.VECTOR_LAYER_ID = {
        base: "vector_bottom",
        building: "vector_top_building",
        poi: "vector_top_poi"
    }, e.SATELLITE_LAYER_ID = {
        base: "satellite",
        road: "road"
    }
}, function (t, e, n) {
    "use strict";

    function i(t, e, n) {
        return t * (1 - n) + e * n
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), i.number = i, i.vec2 = function (t, e, n) {
        return [i(t[0], e[0], n), i(t[1], e[1], n)]
    }, i.color = function (t, e, n) {
        return [i(t[0], e[0], n), i(t[1], e[1], n), i(t[2], e[2], n), i(t[3], e[3], n)]
    }, i.array = function (t, e, n) {
        return t.map(function (t, r) {
            return i(t, e[r], n)
        })
    }, e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t / (Math.PI / 180)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = i
}, function (t, e, n) {
    t.exports = {
        default: n(266),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(270),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(271),
        __esModule: !0
    }
}, function (t, e, n) {
    var i = function () {
            return this
        }() || Function("return this")(),
        r = i.regeneratorRuntime && Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime") >= 0,
        o = r && i.regeneratorRuntime;
    if (i.regeneratorRuntime = void 0, t.exports = n(254), r) i.regeneratorRuntime = o;
    else try {
        delete i.regeneratorRuntime
    } catch (t) {
        i.regeneratorRuntime = void 0
    }
}, function (t, e) {
    ! function (e) {
        "use strict";

        function n(t, e, n, i) {
            var o = e && e.prototype instanceof r ? e : r,
                a = Object.create(o.prototype),
                s = new h(i || []);
            return a._invoke = u(t, n, s), a
        }

        function i(t, e, n) {
            try {
                return {
                    type: "normal",
                    arg: t.call(e, n)
                }
            } catch (t) {
                return {
                    type: "throw",
                    arg: t
                }
            }
        }

        function r() {}

        function o() {}

        function a() {}

        function s(t) {
            ["next", "throw", "return"].forEach(function (e) {
                t[e] = function (t) {
                    return this._invoke(e, t)
                }
            })
        }

        function l(t) {
            function e(n, r, o, a) {
                var s = i(t[n], t, r);
                if ("throw" !== s.type) {
                    var l = s.arg,
                        u = l.value;
                    return u && "object" == typeof u && y.call(u, "__await") ? Promise.resolve(u.__await).then(function (t) {
                        e("next", t, o, a)
                    }, function (t) {
                        e("throw", t, o, a)
                    }) : Promise.resolve(u).then(function (t) {
                        l.value = t, o(l)
                    }, a)
                }
                a(s.arg)
            }

            function n(t, n) {
                function i() {
                    return new Promise(function (i, r) {
                        e(t, n, i, r)
                    })
                }
                return r = r ? r.then(i, i) : i()
            }
            var r;
            this._invoke = n
        }

        function u(t, e, n) {
            var r = A;
            return function (o, a) {
                if (r === k) throw new Error("Generator is already running");
                if (r === P) {
                    if ("throw" === o) throw a;
                    return _()
                }
                for (n.method = o, n.arg = a;;) {
                    var s = n.delegate;
                    if (s) {
                        var l = c(s, n);
                        if (l) {
                            if (l === I) continue;
                            return l
                        }
                    }
                    if ("next" === n.method) n.sent = n._sent = n.arg;
                    else if ("throw" === n.method) {
                        if (r === A) throw r = P, n.arg;
                        n.dispatchException(n.arg)
                    } else "return" === n.method && n.abrupt("return", n.arg);
                    r = k;
                    var u = i(t, e, n);
                    if ("normal" === u.type) {
                        if (r = n.done ? P : T, u.arg === I) continue;
                        return {
                            value: u.arg,
                            done: n.done
                        }
                    }
                    "throw" === u.type && (r = P, n.method = "throw", n.arg = u.arg)
                }
            }
        }

        function c(t, e) {
            var n = t.iterator[e.method];
            if (n === p) {
                if (e.delegate = null, "throw" === e.method) {
                    if (t.iterator.return && (e.method = "return", e.arg = p, c(t, e), "throw" === e.method)) return I;
                    e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return I
            }
            var r = i(n, t.iterator, e.arg);
            if ("throw" === r.type) return e.method = "throw", e.arg = r.arg, e.delegate = null, I;
            var o = r.arg;
            return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = p), e.delegate = null, I) : o : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, I)
        }

        function f(t) {
            var e = {
                tryLoc: t[0]
            };
            1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
        }

        function d(t) {
            var e = t.completion || {};
            e.type = "normal", delete e.arg, t.completion = e
        }

        function h(t) {
            this.tryEntries = [{
                tryLoc: "root"
            }], t.forEach(f, this), this.reset(!0)
        }

        function v(t) {
            if (t) {
                var e = t[x];
                if (e) return e.call(t);
                if ("function" == typeof t.next) return t;
                if (!isNaN(t.length)) {
                    var n = -1,
                        i = function e() {
                            for (; ++n < t.length;)
                                if (y.call(t, n)) return e.value = t[n], e.done = !1, e;
                            return e.value = p, e.done = !0, e
                        };
                    return i.next = i
                }
            }
            return {
                next: _
            }
        }

        function _() {
            return {
                value: p,
                done: !0
            }
        }
        var p, m = Object.prototype,
            y = m.hasOwnProperty,
            g = "function" == typeof Symbol ? Symbol : {},
            x = g.iterator || "@@iterator",
            b = g.asyncIterator || "@@asyncIterator",
            S = g.toStringTag || "@@toStringTag",
            w = "object" == typeof t,
            E = e.regeneratorRuntime;
        if (E) return void(w && (t.exports = E));
        E = e.regeneratorRuntime = w ? t.exports : {}, E.wrap = n;
        var A = "suspendedStart",
            T = "suspendedYield",
            k = "executing",
            P = "completed",
            I = {},
            M = {};
        M[x] = function () {
            return this
        };
        var L = Object.getPrototypeOf,
            C = L && L(L(v([])));
        C && C !== m && y.call(C, x) && (M = C);
        var V = a.prototype = r.prototype = Object.create(M);
        o.prototype = V.constructor = a, a.constructor = o, a[S] = o.displayName = "GeneratorFunction", E.isGeneratorFunction = function (t) {
            var e = "function" == typeof t && t.constructor;
            return !!e && (e === o || "GeneratorFunction" === (e.displayName || e.name))
        }, E.mark = function (t) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t, a) : (t.__proto__ = a, S in t || (t[S] = "GeneratorFunction")), t.prototype = Object.create(V), t
        }, E.awrap = function (t) {
            return {
                __await: t
            }
        }, s(l.prototype), l.prototype[b] = function () {
            return this
        }, E.AsyncIterator = l, E.async = function (t, e, i, r) {
            var o = new l(n(t, e, i, r));
            return E.isGeneratorFunction(e) ? o : o.next().then(function (t) {
                return t.done ? t.value : o.next()
            })
        }, s(V), V[S] = "Generator", V[x] = function () {
            return this
        }, V.toString = function () {
            return "[object Generator]"
        }, E.keys = function (t) {
            var e = [];
            for (var n in t) e.push(n);
            return e.reverse(),
                function n() {
                    for (; e.length;) {
                        var i = e.pop();
                        if (i in t) return n.value = i, n.done = !1, n
                    }
                    return n.done = !0, n
                }
        }, E.values = v, h.prototype = {
            constructor: h,
            reset: function (t) {
                if (this.prev = 0, this.next = 0, this.sent = this._sent = p, this.done = !1, this.delegate = null, this.method = "next", this.arg = p, this.tryEntries.forEach(d), !t)
                    for (var e in this) "t" === e.charAt(0) && y.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = p)
            },
            stop: function () {
                this.done = !0;
                var t = this.tryEntries[0],
                    e = t.completion;
                if ("throw" === e.type) throw e.arg;
                return this.rval
            },
            dispatchException: function (t) {
                function e(e, i) {
                    return o.type = "throw", o.arg = t, n.next = e, i && (n.method = "next", n.arg = p), !!i
                }
                if (this.done) throw t;
                for (var n = this, i = this.tryEntries.length - 1; i >= 0; --i) {
                    var r = this.tryEntries[i],
                        o = r.completion;
                    if ("root" === r.tryLoc) return e("end");
                    if (r.tryLoc <= this.prev) {
                        var a = y.call(r, "catchLoc"),
                            s = y.call(r, "finallyLoc");
                        if (a && s) {
                            if (this.prev < r.catchLoc) return e(r.catchLoc, !0);
                            if (this.prev < r.finallyLoc) return e(r.finallyLoc)
                        } else if (a) {
                            if (this.prev < r.catchLoc) return e(r.catchLoc, !0)
                        } else {
                            if (!s) throw new Error("try statement without catch or finally");
                            if (this.prev < r.finallyLoc) return e(r.finallyLoc)
                        }
                    }
                }
            },
            abrupt: function (t, e) {
                for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                    var i = this.tryEntries[n];
                    if (i.tryLoc <= this.prev && y.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                        var r = i;
                        break
                    }
                }
                r && ("break" === t || "continue" === t) && r.tryLoc <= e && e <= r.finallyLoc && (r = null);
                var o = r ? r.completion : {};
                return o.type = t, o.arg = e, r ? (this.method = "next", this.next = r.finallyLoc, I) : this.complete(o)
            },
            complete: function (t, e) {
                if ("throw" === t.type) throw t.arg;
                return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), I
            },
            finish: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), d(n), I
                }
            },
            catch: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.tryLoc === t) {
                        var i = n.completion;
                        if ("throw" === i.type) {
                            var r = i.arg;
                            d(n)
                        }
                        return r
                    }
                }
                throw new Error("illegal catch attempt")
            },
            delegateYield: function (t, e, n) {
                return this.delegate = {
                    iterator: v(t),
                    resultName: e,
                    nextLoc: n
                }, "next" === this.method && (this.arg = p), I
            }
        }
    }(function () {
        return this
    }() || Function("return this")())
}, function (t, e, n) {
    n(50), n(289), t.exports = n(7).Array.from
}, function (t, e, n) {
    n(57), n(50), t.exports = n(288)
}, function (t, e, n) {
    n(87), n(50), n(57), n(291), n(305), n(304), n(303), t.exports = n(7).Map
}, function (t, e, n) {
    n(292), t.exports = n(7).Number.isNaN
}, function (t, e, n) {
    n(293), t.exports = n(7).Object.assign
}, function (t, e, n) {
    n(294);
    var i = n(7).Object;
    t.exports = function (t, e) {
        return i.create(t, e)
    }
}, function (t, e, n) {
    n(295);
    var i = n(7).Object;
    t.exports = function (t, e, n) {
        return i.defineProperty(t, e, n)
    }
}, function (t, e, n) {
    n(306), t.exports = n(7).Object.entries
}, function (t, e, n) {
    n(296);
    var i = n(7).Object;
    t.exports = function (t, e) {
        return i.getOwnPropertyDescriptor(t, e)
    }
}, function (t, e, n) {
    n(297), t.exports = n(7).Object.getPrototypeOf
}, function (t, e, n) {
    n(298), t.exports = n(7).Object.keys
}, function (t, e, n) {
    n(299), t.exports = n(7).Object.setPrototypeOf
}, function (t, e, n) {
    n(307), t.exports = n(7).Object.values
}, function (t, e, n) {
    n(87), n(50), n(57), n(300), n(308), n(309), t.exports = n(7).Promise
}, function (t, e, n) {
    n(87), n(50), n(57), n(301), n(312), n(311), n(310), t.exports = n(7).Set
}, function (t, e, n) {
    n(302), n(87), n(313), n(314), t.exports = n(7).Symbol
}, function (t, e, n) {
    n(50), n(57), t.exports = n(124).f("iterator")
}, function (t, e) {
    t.exports = function () {}
}, function (t, e, n) {
    var i = n(65);
    t.exports = function (t, e) {
        var n = [];
        return i(t, !1, n.push, n, e), n
    }
}, function (t, e, n) {
    var i = n(39),
        r = n(85),
        o = n(286);
    t.exports = function (t) {
        return function (e, n, a) {
            var s, l = i(e),
                u = r(l.length),
                c = o(a, u);
            if (t && n != n) {
                for (; u > c;)
                    if ((s = l[c++]) != s) return !0
            } else
                for (; u > c; c++)
                    if ((t || c in l) && l[c] === n) return t || c || 0;
            return !t && -1
        }
    }
}, function (t, e, n) {
    var i = n(33),
        r = n(112),
        o = n(44),
        a = n(85),
        s = n(277);
    t.exports = function (t, e) {
        var n = 1 == t,
            l = 2 == t,
            u = 3 == t,
            c = 4 == t,
            f = 6 == t,
            d = 5 == t || f,
            h = e || s;
        return function (e, s, v) {
            for (var _, p, m = o(e), y = r(m), g = i(s, v, 3), x = a(y.length), b = 0, S = n ? h(e, x) : l ? h(e, 0) : void 0; x > b; b++)
                if ((d || b in y) && (_ = y[b], p = g(_, b, m), t))
                    if (n) S[b] = p;
                    else if (p) switch (t) {
                case 3:
                    return !0;
                case 5:
                    return _;
                case 6:
                    return b;
                case 2:
                    S.push(_)
            } else if (c) return !1;
            return f ? -1 : u || c ? c : S
        }
    }
}, function (t, e, n) {
    var i = n(20),
        r = n(170),
        o = n(15)("species");
    t.exports = function (t) {
        var e;
        return r(t) && (e = t.constructor, "function" != typeof e || e !== Array && !r(e.prototype) || (e = void 0), i(e) && null === (e = e[o]) && (e = void 0)), void 0 === e ? Array : e
    }
}, function (t, e, n) {
    var i = n(276);
    t.exports = function (t, e) {
        return new(i(t))(e)
    }
}, function (t, e, n) {
    "use strict";
    var i = n(24),
        r = n(68);
    t.exports = function (t, e, n) {
        e in t ? i.f(t, e, r(0, n)) : t[e] = n
    }
}, function (t, e, n) {
    var i = n(52),
        r = n(116),
        o = n(67);
    t.exports = function (t) {
        var e = i(t),
            n = r.f;
        if (n)
            for (var a, s = n(t), l = o.f, u = 0; s.length > u;) l.call(t, a = s[u++]) && e.push(a);
        return e
    }
}, function (t, e) {
    t.exports = function (t, e, n) {
        var i = void 0 === n;
        switch (e.length) {
            case 0:
                return i ? t() : t.call(n);
            case 1:
                return i ? t(e[0]) : t.call(n, e[0]);
            case 2:
                return i ? t(e[0], e[1]) : t.call(n, e[0], e[1]);
            case 3:
                return i ? t(e[0], e[1], e[2]) : t.call(n, e[0], e[1], e[2]);
            case 4:
                return i ? t(e[0], e[1], e[2], e[3]) : t.call(n, e[0], e[1], e[2], e[3])
        }
        return t.apply(n, e)
    }
}, function (t, e, n) {
    "use strict";
    var i = n(84),
        r = n(68),
        o = n(69),
        a = {};
    n(38)(a, n(15)("iterator"), function () {
        return this
    }), t.exports = function (t, e, n) {
        t.prototype = i(a, {
            next: r(1, n)
        }), o(t, e + " Iterator")
    }
}, function (t, e, n) {
    var i = n(14),
        r = n(185).set,
        o = i.MutationObserver || i.WebKitMutationObserver,
        a = i.process,
        s = i.Promise,
        l = "process" == n(64)(a);
    t.exports = function () {
        var t, e, n, u = function () {
            var i, r;
            for (l && (i = a.domain) && i.exit(); t;) {
                r = t.fn, t = t.next;
                try {
                    r()
                } catch (i) {
                    throw t ? n() : e = void 0, i
                }
            }
            e = void 0, i && i.enter()
        };
        if (l) n = function () {
            a.nextTick(u)
        };
        else if (!o || i.navigator && i.navigator.standalone)
            if (s && s.resolve) {
                var c = s.resolve(void 0);
                n = function () {
                    c.then(u)
                }
            } else n = function () {
                r.call(i, u)
            };
        else {
            var f = !0,
                d = document.createTextNode("");
            new o(u).observe(d, {
                characterData: !0
            }), n = function () {
                d.data = f = !f
            }
        }
        return function (i) {
            var r = {
                fn: i,
                next: void 0
            };
            e && (e.next = r), t || (t = r, n()), e = r
        }
    }
}, function (t, e, n) {
    "use strict";
    var i = n(22),
        r = n(52),
        o = n(116),
        a = n(67),
        s = n(44),
        l = n(112),
        u = Object.assign;
    t.exports = !u || n(42)(function () {
        var t = {},
            e = {},
            n = Symbol(),
            i = "abcdefghijklmnopqrst";
        return t[n] = 7, i.split("").forEach(function (t) {
            e[t] = t
        }), 7 != u({}, t)[n] || Object.keys(u({}, e)).join("") != i
    }) ? function (t, e) {
        for (var n = s(t), u = arguments.length, c = 1, f = o.f, d = a.f; u > c;)
            for (var h, v = l(arguments[c++]), _ = f ? r(v).concat(f(v)) : r(v), p = _.length, m = 0; p > m;) h = _[m++], i && !d.call(v, h) || (n[h] = v[h]);
        return n
    } : u
}, function (t, e, n) {
    var i = n(20),
        r = n(28),
        o = function (t, e) {
            if (r(t), !i(e) && null !== e) throw TypeError(e + ": can't set as prototype!")
        };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__" in {} ? function (t, e, i) {
            try {
                i = n(33)(Function.call, n(115).f(Object.prototype, "__proto__").set, 2), i(t, []), e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function (t, n) {
                return o(t, n), e ? t.__proto__ = n : i(t, n), t
            }
        }({}, !1) : void 0),
        check: o
    }
}, function (t, e, n) {
    var i = n(120),
        r = n(109);
    t.exports = function (t) {
        return function (e, n) {
            var o, a, s = String(r(e)),
                l = i(n),
                u = s.length;
            return l < 0 || l >= u ? t ? "" : void 0 : (o = s.charCodeAt(l), o < 55296 || o > 56319 || l + 1 === u || (a = s.charCodeAt(l + 1)) < 56320 || a > 57343 ? t ? s.charAt(l) : o : t ? s.slice(l, l + 2) : a - 56320 + (o - 55296 << 10) + 65536)
        }
    }
}, function (t, e, n) {
    var i = n(120),
        r = Math.max,
        o = Math.min;
    t.exports = function (t, e) {
        return t = i(t), t < 0 ? r(t + e, 0) : o(t, e)
    }
}, function (t, e, n) {
    var i = n(14),
        r = i.navigator;
    t.exports = r && r.userAgent || ""
}, function (t, e, n) {
    var i = n(28),
        r = n(125);
    t.exports = n(7).getIterator = function (t) {
        var e = r(t);
        if ("function" != typeof e) throw TypeError(t + " is not iterable!");
        return i(e.call(t))
    }
}, function (t, e, n) {
    "use strict";
    var i = n(33),
        r = n(8),
        o = n(44),
        a = n(171),
        s = n(169),
        l = n(85),
        u = n(278),
        c = n(125);
    r(r.S + r.F * !n(172)(function (t) {
        Array.from(t)
    }), "Array", {
        from: function (t) {
            var e, n, r, f, d = o(t),
                h = "function" == typeof this ? this : Array,
                v = arguments.length,
                _ = v > 1 ? arguments[1] : void 0,
                p = void 0 !== _,
                m = 0,
                y = c(d);
            if (p && (_ = i(_, v > 2 ? arguments[2] : void 0, 2)), void 0 == y || h == Array && s(y))
                for (e = l(d.length), n = new h(e); e > m; m++) u(n, m, p ? _(d[m], m) : d[m]);
            else
                for (f = y.call(d), n = new h; !(r = f.next()).done; m++) u(n, m, p ? a(f, _, [r.value, m], !0) : r.value);
            return n.length = m, n
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(272),
        r = n(173),
        o = n(56),
        a = n(39);
    t.exports = n(113)(Array, "Array", function (t, e) {
        this._t = a(t), this._i = 0, this._k = e
    }, function () {
        var t = this._t,
            e = this._k,
            n = this._i++;
        return !t || n >= t.length ? (this._t = void 0, r(1)) : "keys" == e ? r(0, n) : "values" == e ? r(0, t[n]) : r(0, [n, t[n]])
    }, "values"), o.Arguments = o.Array, i("keys"), i("values"), i("entries")
}, function (t, e, n) {
    "use strict";
    var i = n(164),
        r = n(122);
    t.exports = n(166)("Map", function (t) {
        return function () {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        get: function (t) {
            var e = i.getEntry(r(this, "Map"), t);
            return e && e.v
        },
        set: function (t, e) {
            return i.def(r(this, "Map"), 0 === t ? 0 : t, e)
        }
    }, i, !0)
}, function (t, e, n) {
    var i = n(8);
    i(i.S, "Number", {
        isNaN: function (t) {
            return t != t
        }
    })
}, function (t, e, n) {
    var i = n(8);
    i(i.S + i.F, "Object", {
        assign: n(283)
    })
}, function (t, e, n) {
    var i = n(8);
    i(i.S, "Object", {
        create: n(84)
    })
}, function (t, e, n) {
    var i = n(8);
    i(i.S + i.F * !n(22), "Object", {
        defineProperty: n(24).f
    })
}, function (t, e, n) {
    var i = n(39),
        r = n(115).f;
    n(49)("getOwnPropertyDescriptor", function () {
        return function (t, e) {
            return r(i(t), e)
        }
    })
}, function (t, e, n) {
    var i = n(44),
        r = n(175);
    n(49)("getPrototypeOf", function () {
        return function (t) {
            return r(i(t))
        }
    })
}, function (t, e, n) {
    var i = n(44),
        r = n(52);
    n(49)("keys", function () {
        return function (t) {
            return r(i(t))
        }
    })
}, function (t, e, n) {
    var i = n(8);
    i(i.S, "Object", {
        setPrototypeOf: n(284).set
    })
}, function (t, e, n) {
    "use strict";
    var i, r, o, a, s = n(66),
        l = n(14),
        u = n(33),
        c = n(96),
        f = n(8),
        d = n(20),
        h = n(63),
        v = n(108),
        _ = n(65),
        p = n(184),
        m = n(185).set,
        y = n(282)(),
        g = n(114),
        x = n(178),
        b = n(287),
        S = n(179),
        w = l.TypeError,
        E = l.process,
        A = E && E.versions,
        T = A && A.v8 || "",
        k = l.Promise,
        P = "process" == c(E),
        I = function () {},
        M = r = g.f,
        L = !! function () {
            try {
                var t = k.resolve(1),
                    e = (t.constructor = {})[n(15)("species")] = function (t) {
                        t(I, I)
                    };
                return (P || "function" == typeof PromiseRejectionEvent) && t.then(I) instanceof e && 0 !== T.indexOf("6.6") && -1 === b.indexOf("Chrome/66")
            } catch (t) {}
        }(),
        C = function (t) {
            var e;
            return !(!d(t) || "function" != typeof (e = t.then)) && e
        },
        V = function (t, e) {
            if (!t._n) {
                t._n = !0;
                var n = t._c;
                y(function () {
                    for (var i = t._v, r = 1 == t._s, o = 0; n.length > o;) ! function (e) {
                        var n, o, a, s = r ? e.ok : e.fail,
                            l = e.resolve,
                            u = e.reject,
                            c = e.domain;
                        try {
                            s ? (r || (2 == t._h && F(t), t._h = 1), !0 === s ? n = i : (c && c.enter(), n = s(i), c && (c.exit(), a = !0)), n === e.promise ? u(w("Promise-chain cycle")) : (o = C(n)) ? o.call(n, l, u) : l(n)) : u(i)
                        } catch (t) {
                            c && !a && c.exit(), u(t)
                        }
                    }(n[o++]);
                    t._c = [], t._n = !1, e && !t._h && R(t)
                })
            }
        },
        R = function (t) {
            m.call(l, function () {
                var e, n, i, r = t._v,
                    o = O(t);
                if (o && (e = x(function () {
                        P ? E.emit("unhandledRejection", r, t) : (n = l.onunhandledrejection) ? n({
                            promise: t,
                            reason: r
                        }) : (i = l.console) && i.error && i.error("Unhandled promise rejection", r)
                    }), t._h = P || O(t) ? 2 : 1), t._a = void 0, o && e.e) throw e.v
            })
        },
        O = function (t) {
            return 1 !== t._h && 0 === (t._a || t._c).length
        },
        F = function (t) {
            m.call(l, function () {
                var e;
                P ? E.emit("rejectionHandled", t) : (e = l.onrejectionhandled) && e({
                    promise: t,
                    reason: t._v
                })
            })
        },
        z = function (t) {
            var e = this;
            e._d || (e._d = !0, e = e._w || e, e._v = t, e._s = 2, e._a || (e._a = e._c.slice()), V(e, !0))
        },
        N = function (t) {
            var e, n = this;
            if (!n._d) {
                n._d = !0, n = n._w || n;
                try {
                    if (n === t) throw w("Promise can't be resolved itself");
                    (e = C(t)) ? y(function () {
                        var i = {
                            _w: n,
                            _d: !1
                        };
                        try {
                            e.call(t, u(N, i, 1), u(z, i, 1))
                        } catch (t) {
                            z.call(i, t)
                        }
                    }): (n._v = t, n._s = 1, V(n, !1))
                } catch (t) {
                    z.call({
                        _w: n,
                        _d: !1
                    }, t)
                }
            }
        };
    L || (k = function (t) {
        v(this, k, "Promise", "_h"), h(t), i.call(this);
        try {
            t(u(N, this, 1), u(z, this, 1))
        } catch (t) {
            z.call(this, t)
        }
    }, i = function (t) {
        this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
    }, i.prototype = n(117)(k.prototype, {
        then: function (t, e) {
            var n = M(p(this, k));
            return n.ok = "function" != typeof t || t, n.fail = "function" == typeof e && e, n.domain = P ? E.domain : void 0, this._c.push(n), this._a && this._a.push(n), this._s && V(this, !1), n.promise
        },
        catch: function (t) {
            return this.then(void 0, t)
        }
    }), o = function () {
        var t = new i;
        this.promise = t, this.resolve = u(N, t, 1), this.reject = u(z, t, 1)
    }, g.f = M = function (t) {
        return t === k || t === a ? new o(t) : r(t)
    }), f(f.G + f.W + f.F * !L, {
        Promise: k
    }), n(69)(k, "Promise"), n(183)("Promise"), a = n(7).Promise, f(f.S + f.F * !L, "Promise", {
        reject: function (t) {
            var e = M(this);
            return (0, e.reject)(t), e.promise
        }
    }), f(f.S + f.F * (s || !L), "Promise", {
        resolve: function (t) {
            return S(s && this === a ? k : this, t)
        }
    }), f(f.S + f.F * !(L && n(172)(function (t) {
        k.all(t).catch(I)
    })), "Promise", {
        all: function (t) {
            var e = this,
                n = M(e),
                i = n.resolve,
                r = n.reject,
                o = x(function () {
                    var n = [],
                        o = 0,
                        a = 1;
                    _(t, !1, function (t) {
                        var s = o++,
                            l = !1;
                        n.push(void 0), a++, e.resolve(t).then(function (t) {
                            l || (l = !0, n[s] = t, --a || i(n))
                        }, r)
                    }), --a || i(n)
                });
            return o.e && r(o.v), n.promise
        },
        race: function (t) {
            var e = this,
                n = M(e),
                i = n.reject,
                r = x(function () {
                    _(t, !1, function (t) {
                        e.resolve(t).then(n.resolve, i)
                    })
                });
            return r.e && i(r.v), n.promise
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(164),
        r = n(122);
    t.exports = n(166)("Set", function (t) {
        return function () {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function (t) {
            return i.def(r(this, "Set"), t = 0 === t ? 0 : t, t)
        }
    }, i)
}, function (t, e, n) {
    "use strict";
    var i = n(14),
        r = n(43),
        o = n(22),
        a = n(8),
        s = n(180),
        l = n(74).KEY,
        u = n(42),
        c = n(119),
        f = n(69),
        d = n(86),
        h = n(15),
        v = n(124),
        _ = n(123),
        p = n(279),
        m = n(170),
        y = n(28),
        g = n(20),
        x = n(44),
        b = n(39),
        S = n(121),
        w = n(68),
        E = n(84),
        A = n(210),
        T = n(115),
        k = n(116),
        P = n(24),
        I = n(52),
        M = T.f,
        L = P.f,
        C = A.f,
        V = i.Symbol,
        R = i.JSON,
        O = R && R.stringify,
        F = h("_hidden"),
        z = h("toPrimitive"),
        N = {}.propertyIsEnumerable,
        D = c("symbol-registry"),
        B = c("symbols"),
        U = c("op-symbols"),
        j = Object.prototype,
        Y = "function" == typeof V && !!k.f,
        G = i.QObject,
        W = !G || !G.prototype || !G.prototype.findChild,
        X = o && u(function () {
            return 7 != E(L({}, "a", {
                get: function () {
                    return L(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        }) ? function (t, e, n) {
            var i = M(j, e);
            i && delete j[e], L(t, e, n), i && t !== j && L(j, e, i)
        } : L,
        Z = function (t) {
            var e = B[t] = E(V.prototype);
            return e._k = t, e
        },
        Q = Y && "symbol" == typeof V.iterator ? function (t) {
            return "symbol" == typeof t
        } : function (t) {
            return t instanceof V
        },
        H = function (t, e, n) {
            return t === j && H(U, e, n), y(t), e = S(e, !0), y(n), r(B, e) ? (n.enumerable ? (r(t, F) && t[F][e] && (t[F][e] = !1), n = E(n, {
                enumerable: w(0, !1)
            })) : (r(t, F) || L(t, F, w(1, {})), t[F][e] = !0), X(t, e, n)) : L(t, e, n)
        },
        q = function (t, e) {
            y(t);
            for (var n, i = p(e = b(e)), r = 0, o = i.length; o > r;) H(t, n = i[r++], e[n]);
            return t
        },
        J = function (t, e) {
            return void 0 === e ? E(t) : q(E(t), e)
        },
        K = function (t) {
            var e = N.call(this, t = S(t, !0));
            return !(this === j && r(B, t) && !r(U, t)) && (!(e || !r(this, t) || !r(B, t) || r(this, F) && this[F][t]) || e)
        },
        $ = function (t, e) {
            if (t = b(t), e = S(e, !0), t !== j || !r(B, e) || r(U, e)) {
                var n = M(t, e);
                return !n || !r(B, e) || r(t, F) && t[F][e] || (n.enumerable = !0), n
            }
        },
        tt = function (t) {
            for (var e, n = C(b(t)), i = [], o = 0; n.length > o;) r(B, e = n[o++]) || e == F || e == l || i.push(e);
            return i
        },
        et = function (t) {
            for (var e, n = t === j, i = C(n ? U : b(t)), o = [], a = 0; i.length > a;) !r(B, e = i[a++]) || n && !r(j, e) || o.push(B[e]);
            return o
        };
    Y || (V = function () {
        if (this instanceof V) throw TypeError("Symbol is not a constructor!");
        var t = d(arguments.length > 0 ? arguments[0] : void 0),
            e = function (n) {
                this === j && e.call(U, n), r(this, F) && r(this[F], t) && (this[F][t] = !1), X(this, t, w(1, n))
            };
        return o && W && X(j, t, {
            configurable: !0,
            set: e
        }), Z(t)
    }, s(V.prototype, "toString", function () {
        return this._k
    }), T.f = $, P.f = H, n(174).f = A.f = tt, n(67).f = K, k.f = et, o && !n(66) && s(j, "propertyIsEnumerable", K, !0), v.f = function (t) {
        return Z(h(t))
    }), a(a.G + a.W + a.F * !Y, {
        Symbol: V
    });
    for (var nt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), it = 0; nt.length > it;) h(nt[it++]);
    for (var rt = I(h.store), ot = 0; rt.length > ot;) _(rt[ot++]);
    a(a.S + a.F * !Y, "Symbol", {
        for: function (t) {
            return r(D, t += "") ? D[t] : D[t] = V(t)
        },
        keyFor: function (t) {
            if (!Q(t)) throw TypeError(t + " is not a symbol!");
            for (var e in D)
                if (D[e] === t) return e
        },
        useSetter: function () {
            W = !0
        },
        useSimple: function () {
            W = !1
        }
    }), a(a.S + a.F * !Y, "Object", {
        create: J,
        defineProperty: H,
        defineProperties: q,
        getOwnPropertyDescriptor: $,
        getOwnPropertyNames: tt,
        getOwnPropertySymbols: et
    });
    var at = u(function () {
        k.f(1)
    });
    a(a.S + a.F * at, "Object", {
        getOwnPropertySymbols: function (t) {
            return k.f(x(t))
        }
    }), R && a(a.S + a.F * (!Y || u(function () {
        var t = V();
        return "[null]" != O([t]) || "{}" != O({
            a: t
        }) || "{}" != O(Object(t))
    })), "JSON", {
        stringify: function (t) {
            for (var e, n, i = [t], r = 1; arguments.length > r;) i.push(arguments[r++]);
            if (n = e = i[1], (g(e) || void 0 !== t) && !Q(t)) return m(e) || (e = function (t, e) {
                if ("function" == typeof n && (e = n.call(this, t, e)), !Q(e)) return e
            }), i[1] = e, O.apply(R, i)
        }
    }), V.prototype[z] || n(38)(V.prototype, z, V.prototype.valueOf), f(V, "Symbol"), f(Math, "Math", !0), f(i.JSON, "JSON", !0)
}, function (t, e, n) {
    n(181)("Map")
}, function (t, e, n) {
    n(182)("Map")
}, function (t, e, n) {
    var i = n(8);
    i(i.P + i.R, "Map", {
        toJSON: n(165)("Map")
    })
}, function (t, e, n) {
    var i = n(8),
        r = n(177)(!0);
    i(i.S, "Object", {
        entries: function (t) {
            return r(t)
        }
    })
}, function (t, e, n) {
    var i = n(8),
        r = n(177)(!1);
    i(i.S, "Object", {
        values: function (t) {
            return r(t)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(8),
        r = n(7),
        o = n(14),
        a = n(184),
        s = n(179);
    i(i.P + i.R, "Promise", {
        finally: function (t) {
            var e = a(this, r.Promise || o.Promise),
                n = "function" == typeof t;
            return this.then(n ? function (n) {
                return s(e, t()).then(function () {
                    return n
                })
            } : t, n ? function (n) {
                return s(e, t()).then(function () {
                    throw n
                })
            } : t)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(8),
        r = n(114),
        o = n(178);
    i(i.S, "Promise", {
        try: function (t) {
            var e = r.f(this),
                n = o(t);
            return (n.e ? e.reject : e.resolve)(n.v), e.promise
        }
    })
}, function (t, e, n) {
    n(181)("Set")
}, function (t, e, n) {
    n(182)("Set")
}, function (t, e, n) {
    var i = n(8);
    i(i.P + i.R, "Set", {
        toJSON: n(165)("Set")
    })
}, function (t, e, n) {
    n(123)("asyncIterator")
}, function (t, e, n) {
    n(123)("observable")
}, function (t, e, n) {
    "use strict";
    var i = n(331)(!0);
    t.exports = function (t, e, n) {
        return e + (n ? i(t, e).length : 1)
    }
}, function (t, e, n) {
    "use strict";
    var i = n(45),
        r = n(133),
        o = n(26);
    t.exports = function (t) {
        for (var e = i(this), n = o(e.length), a = arguments.length, s = r(a > 1 ? arguments[1] : void 0, n), l = a > 2 ? arguments[2] : void 0, u = void 0 === l ? n : r(l, n); u > s;) e[s++] = t;
        return e
    }
}, function (t, e, n) {
    "use strict";
    var i = n(35),
        r = n(132);
    t.exports = function (t, e, n) {
        e in t ? i.f(t, e, r(0, n)) : t[e] = n
    }
}, function (t, e, n) {
    var i = n(19),
        r = n(18).document,
        o = i(r) && i(r.createElement);
    t.exports = function (t) {
        return o ? r.createElement(t) : {}
    }
}, function (t, e) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function (t, e, n) {
    var i = n(23)("match");
    t.exports = function (t) {
        var e = /./;
        try {
            "/./" [t](e)
        } catch (n) {
            try {
                return e[i] = !1, !"/./" [t](e)
            } catch (t) {}
        }
        return !0
    }
}, function (t, e, n) {
    var i = n(18).document;
    t.exports = i && i.documentElement
}, function (t, e, n) {
    var i = n(19),
        r = n(329).set;
    t.exports = function (t, e, n) {
        var o, a = e.constructor;
        return a !== n && "function" == typeof a && (o = a.prototype) !== n.prototype && i(o) && r && r(t, o), t
    }
}, function (t, e, n) {
    var i = n(145),
        r = n(23)("iterator"),
        o = Array.prototype;
    t.exports = function (t) {
        return void 0 !== t && (i.Array === t || o[r] === t)
    }
}, function (t, e, n) {
    var i = n(19),
        r = n(88),
        o = n(23)("match");
    t.exports = function (t) {
        var e;
        return i(t) && (void 0 !== (e = t[o]) ? !!e : "RegExp" == r(t))
    }
}, function (t, e, n) {
    "use strict";
    var i = n(127),
        r = n(5),
        o = n(53),
        a = n(59),
        s = n(145),
        l = n(405),
        u = n(148),
        c = n(130),
        f = n(23)("iterator"),
        d = !([].keys && "next" in [].keys()),
        h = function () {
            return this
        };
    t.exports = function (t, e, n, v, _, p, m) {
        l(n, e, v);
        var y, g, x, b = function (t) {
                if (!d && t in A) return A[t];
                switch (t) {
                    case "keys":
                    case "values":
                        return function () {
                            return new n(this, t)
                        }
                }
                return function () {
                    return new n(this, t)
                }
            },
            S = e + " Iterator",
            w = "values" == _,
            E = !1,
            A = t.prototype,
            T = A[f] || A["@@iterator"] || _ && A[_],
            k = T || b(_),
            P = _ ? w ? b("entries") : k : void 0,
            I = "Array" == e ? A.entries || T : T;
        if (I && (x = c(I.call(new t))) !== Object.prototype && x.next && (u(x, S, !0), i || "function" == typeof x[f] || a(x, f, h)), w && T && "values" !== T.name && (E = !0, k = function () {
                return T.call(this)
            }), i && !m || !d && !E && A[f] || a(A, f, k), s[e] = k, s[S] = h, _)
            if (y = {
                    values: w ? k : b("values"),
                    keys: p ? k : b("keys"),
                    entries: P
                }, m)
                for (g in y) g in A || o(A, g, y[g]);
            else r(r.P + r.F * (d || E), e, y);
        return y
    }
}, function (t, e) {
    var n = Math.expm1;
    t.exports = !n || n(10) > 22025.465794806718 || n(10) < 22025.465794806718 || -2e-17 != n(-2e-17) ? function (t) {
        return 0 == (t = +t) ? t : t > -1e-6 && t < 1e-6 ? t + t * t / 2 : Math.exp(t) - 1
    } : n
}, function (t, e) {
    t.exports = Math.sign || function (t) {
        return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
    }
}, function (t, e, n) {
    "use strict";
    var i = n(214),
        r = RegExp.prototype.exec,
        o = String.prototype.replace,
        a = r,
        s = function () {
            var t = /a/,
                e = /b*/g;
            return r.call(t, "a"), r.call(e, "a"), 0 !== t.lastIndex || 0 !== e.lastIndex
        }(),
        l = void 0 !== /()??/.exec("")[1];
    (s || l) && (a = function (t) {
        var e, n, a, u, c = this;
        return l && (n = new RegExp("^" + c.source + "$(?!\\s)", i.call(c))), s && (e = c.lastIndex), a = r.call(c, t), s && a && (c.lastIndex = c.global ? a.index + a[0].length : e), l && a && a.length > 1 && o.call(a[0], n, function () {
            for (u = 1; u < arguments.length - 2; u++) void 0 === arguments[u] && (a[u] = void 0)
        }), a
    }), t.exports = a
}, function (t, e, n) {
    var i = n(19),
        r = n(16),
        o = function (t, e) {
            if (r(t), !i(e) && null !== e) throw TypeError(e + ": can't set as prototype!")
        };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__" in {} ? function (t, e, i) {
            try {
                i = n(77)(Function.call, n(78).f(Object.prototype, "__proto__").set, 2), i(t, []), e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function (t, n) {
                return o(t, n), e ? t.__proto__ = n : i(t, n), t
            }
        }({}, !1) : void 0),
        check: o
    }
}, function (t, e, n) {
    var i = n(220)("keys"),
        r = n(134);
    t.exports = function (t) {
        return i[t] || (i[t] = r(t))
    }
}, function (t, e, n) {
    var i = n(80),
        r = n(89);
    t.exports = function (t) {
        return function (e, n) {
            var o, a, s = String(r(e)),
                l = i(n),
                u = s.length;
            return l < 0 || l >= u ? t ? "" : void 0 : (o = s.charCodeAt(l), o < 55296 || o > 56319 || l + 1 === u || (a = s.charCodeAt(l + 1)) < 56320 || a > 57343 ? t ? s.charAt(l) : o : t ? s.slice(l, l + 2) : a - 56320 + (o - 55296 << 10) + 65536)
        }
    }
}, function (t, e, n) {
    var i = n(324),
        r = n(89);
    t.exports = function (t, e, n) {
        if (i(e)) throw TypeError("String#" + n + " doesn't accept regex!");
        return String(r(t))
    }
}, function (t, e, n) {
    "use strict";
    var i = n(80),
        r = n(89);
    t.exports = function (t) {
        var e = String(r(this)),
            n = "",
            o = i(t);
        if (o < 0 || o == 1 / 0) throw RangeError("Count can't be negative");
        for (; o > 0;
            (o >>>= 1) && (e += e)) 1 & o && (n += e);
        return n
    }
}, function (t, e) {
    t.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"
}, function (t, e, n) {
    var i, r, o, a = n(77),
        s = n(402),
        l = n(321),
        u = n(318),
        c = n(18),
        f = c.process,
        d = c.setImmediate,
        h = c.clearImmediate,
        v = c.MessageChannel,
        _ = c.Dispatch,
        p = 0,
        m = {},
        y = function () {
            var t = +this;
            if (m.hasOwnProperty(t)) {
                var e = m[t];
                delete m[t], e()
            }
        },
        g = function (t) {
            y.call(t.data)
        };
    d && h || (d = function (t) {
        for (var e = [], n = 1; arguments.length > n;) e.push(arguments[n++]);
        return m[++p] = function () {
            s("function" == typeof t ? t : Function(t), e)
        }, i(p), p
    }, h = function (t) {
        delete m[t]
    }, "process" == n(88)(f) ? i = function (t) {
        f.nextTick(a(y, t, 1))
    } : _ && _.now ? i = function (t) {
        _.now(a(y, t, 1))
    } : v ? (r = new v, o = r.port2, r.port1.onmessage = g, i = a(o.postMessage, o, 1)) : c.addEventListener && "function" == typeof postMessage && !c.importScripts ? (i = function (t) {
        c.postMessage(t + "", "*")
    }, c.addEventListener("message", g, !1)) : i = "onreadystatechange" in u("script") ? function (t) {
        l.appendChild(u("script")).onreadystatechange = function () {
            l.removeChild(this), y.call(t)
        }
    } : function (t) {
        setTimeout(a(y, t, 1), 0)
    }), t.exports = {
        set: d,
        clear: h
    }
}, function (t, e, n) {
    "use strict";

    function i(t, e, n) {
        var i, r, o, a = new Array(n),
            s = 8 * n - e - 1,
            l = (1 << s) - 1,
            u = l >> 1,
            c = 23 === e ? N(2, -24) - N(2, -77) : 0,
            f = 0,
            d = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = z(t), t != t || t === O ? (r = t != t ? 1 : 0, i = l) : (i = D(B(t) / U), t * (o = N(2, -i)) < 1 && (i--, o *= 2), t += i + u >= 1 ? c / o : c * N(2, 1 - u), t * o >= 2 && (i++, o /= 2), i + u >= l ? (r = 0, i = l) : i + u >= 1 ? (r = (t * o - 1) * N(2, e), i += u) : (r = t * N(2, u - 1) * N(2, e), i = 0)); e >= 8; a[f++] = 255 & r, r /= 256, e -= 8);
        for (i = i << e | r, s += e; s > 0; a[f++] = 255 & i, i /= 256, s -= 8);
        return a[--f] |= 128 * d, a
    }

    function r(t, e, n) {
        var i, r = 8 * n - e - 1,
            o = (1 << r) - 1,
            a = o >> 1,
            s = r - 7,
            l = n - 1,
            u = t[l--],
            c = 127 & u;
        for (u >>= 7; s > 0; c = 256 * c + t[l], l--, s -= 8);
        for (i = c & (1 << -s) - 1, c >>= -s, s += e; s > 0; i = 256 * i + t[l], l--, s -= 8);
        if (0 === c) c = 1 - a;
        else {
            if (c === o) return i ? NaN : u ? -O : O;
            i += N(2, e), c -= a
        }
        return (u ? -1 : 1) * i * N(2, c - e)
    }

    function o(t) {
        return t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0]
    }

    function a(t) {
        return [255 & t]
    }

    function s(t) {
        return [255 & t, t >> 8 & 255]
    }

    function l(t) {
        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
    }

    function u(t) {
        return i(t, 52, 8)
    }

    function c(t) {
        return i(t, 23, 4)
    }

    function f(t, e, n) {
        T(t[I], e, {
            get: function () {
                return this[n]
            }
        })
    }

    function d(t, e, n, i) {
        var r = +n,
            o = E(r);
        if (o + e > t[Y]) throw R(M);
        var a = t[j]._b,
            s = o + t[G],
            l = a.slice(s, s + e);
        return i ? l : l.reverse()
    }

    function h(t, e, n, i, r, o) {
        var a = +n,
            s = E(a);
        if (s + e > t[Y]) throw R(M);
        for (var l = t[j]._b, u = s + t[G], c = i(+r), f = 0; f < e; f++) l[u + f] = c[o ? f : e - f - 1]
    }
    var v = n(18),
        _ = n(34),
        p = n(127),
        m = n(221),
        y = n(59),
        g = n(146),
        x = n(17),
        b = n(144),
        S = n(80),
        w = n(26),
        E = n(420),
        A = n(129).f,
        T = n(35).f,
        k = n(316),
        P = n(148),
        I = "prototype",
        M = "Wrong index!",
        L = v.ArrayBuffer,
        C = v.DataView,
        V = v.Math,
        R = v.RangeError,
        O = v.Infinity,
        F = L,
        z = V.abs,
        N = V.pow,
        D = V.floor,
        B = V.log,
        U = V.LN2,
        j = _ ? "_b" : "buffer",
        Y = _ ? "_l" : "byteLength",
        G = _ ? "_o" : "byteOffset";
    if (m.ABV) {
        if (!x(function () {
                L(1)
            }) || !x(function () {
                new L(-1)
            }) || x(function () {
                return new L, new L(1.5), new L(NaN), "ArrayBuffer" != L.name
            })) {
            L = function (t) {
                return b(this, L), new F(E(t))
            };
            for (var W, X = L[I] = F[I], Z = A(F), Q = 0; Z.length > Q;)(W = Z[Q++]) in L || y(L, W, F[W]);
            p || (X.constructor = L)
        }
        var H = new C(new L(2)),
            q = C[I].setInt8;
        H.setInt8(0, 2147483648), H.setInt8(1, 2147483649), !H.getInt8(0) && H.getInt8(1) || g(C[I], {
            setInt8: function (t, e) {
                q.call(this, t, e << 24 >> 24)
            },
            setUint8: function (t, e) {
                q.call(this, t, e << 24 >> 24)
            }
        }, !0)
    } else L = function (t) {
        b(this, L, "ArrayBuffer");
        var e = E(t);
        this._b = k.call(new Array(e), 0), this[Y] = e
    }, C = function (t, e, n) {
        b(this, C, "DataView"), b(t, L, "DataView");
        var i = t[Y],
            r = S(e);
        if (r < 0 || r > i) throw R("Wrong offset!");
        if (n = void 0 === n ? i - r : w(n), r + n > i) throw R("Wrong length!");
        this[j] = t, this[G] = r, this[Y] = n
    }, _ && (f(L, "byteLength", "_l"), f(C, "buffer", "_b"), f(C, "byteLength", "_l"), f(C, "byteOffset", "_o")), g(C[I], {
        getInt8: function (t) {
            return d(this, 1, t)[0] << 24 >> 24
        },
        getUint8: function (t) {
            return d(this, 1, t)[0]
        },
        getInt16: function (t) {
            var e = d(this, 2, t, arguments[1]);
            return (e[1] << 8 | e[0]) << 16 >> 16
        },
        getUint16: function (t) {
            var e = d(this, 2, t, arguments[1]);
            return e[1] << 8 | e[0]
        },
        getInt32: function (t) {
            return o(d(this, 4, t, arguments[1]))
        },
        getUint32: function (t) {
            return o(d(this, 4, t, arguments[1])) >>> 0
        },
        getFloat32: function (t) {
            return r(d(this, 4, t, arguments[1]), 23, 4)
        },
        getFloat64: function (t) {
            return r(d(this, 8, t, arguments[1]), 52, 8)
        },
        setInt8: function (t, e) {
            h(this, 1, t, a, e)
        },
        setUint8: function (t, e) {
            h(this, 1, t, a, e)
        },
        setInt16: function (t, e) {
            h(this, 2, t, s, e, arguments[2])
        },
        setUint16: function (t, e) {
            h(this, 2, t, s, e, arguments[2])
        },
        setInt32: function (t, e) {
            h(this, 4, t, l, e, arguments[2])
        },
        setUint32: function (t, e) {
            h(this, 4, t, l, e, arguments[2])
        },
        setFloat32: function (t, e) {
            h(this, 4, t, c, e, arguments[2])
        },
        setFloat64: function (t, e) {
            h(this, 8, t, u, e, arguments[2])
        }
    });
    P(L, "ArrayBuffer"), P(C, "DataView"), y(C[I], m.VIEW, !0), e.ArrayBuffer = L, e.DataView = C
}, function (t, e, n) {
    e.f = n(23)
}, function (t, e, n) {
    var i = n(186),
        r = n(23)("iterator"),
        o = n(145);
    t.exports = n(30).getIteratorMethod = function (t) {
        if (void 0 != t) return t[r] || t["@@iterator"] || o[i(t)]
    }
}, function (t, e, n) {
    "use strict";
    var i = n(126),
        r = n(406),
        o = n(145),
        a = n(60);
    t.exports = n(325)(Array, "Array", function (t, e) {
        this._t = a(t), this._i = 0, this._k = e
    }, function () {
        var t = this._t,
            e = this._k,
            n = this._i++;
        return !t || n >= t.length ? (this._t = void 0, r(1)) : "keys" == e ? r(0, n) : "values" == e ? r(0, t[n]) : r(0, [n, t[n]])
    }, "values"), o.Arguments = o.Array, i("keys"), i("values"), i("entries")
}, function (t, e, n) {
    "use strict";
    t.exports = {
        2: "need dictionary",
        1: "stream end",
        0: "",
        "-1": "file error",
        "-2": "stream error",
        "-3": "data error",
        "-4": "insufficient memory",
        "-5": "buffer error",
        "-6": "incompatible version"
    }
}, , function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(21),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(549),
        f = i(c),
        d = n(203),
        h = (i(d), n(47)),
        v = n(41),
        _ = n(40),
        p = n(13),
        m = n(6).forIn,
        y = {
            scrollZoom: n(551),
            touchZoomRotate: n(553),
            touchTilt: n(552),
            doubleClickZoom: n(546),
            dragRotate: n(548),
            dragPan: n(547),
            longPress: n(550)
        },
        g = function () {
            function t(e, n) {
                (0, s.default)(this, t), e.handler || (this.members = [e], this.map = e, this.eventHandlers = [], this.eventHandlers.push(p.on(window, "resize", this.onWindowResize.bind(this))), this.el = e.getContainer(), this.rl = e.getRenderContainer(), this.transform = e.transform, this.controlManager = e.controlManager, this.idleHandler = new f.default(this.transform), this.contextMenuEvent = null, this.mouseDown = !1, this.startPos = null, this.startTouchPoints = null, this.tapped = null, m(y, function (t, i) {
                    e[t] = new i(e, n), n && n.disInteractive || e[t].enable()
                }), this.eventHandlers.push(p.on(this.controlManager, {
                    control_added: function (t) {
                        e._fire("control_added", t, !0)
                    },
                    control_removed: function (t) {
                        e._fire("control_removed", t, !0)
                    }
                })), this.eventHandlers.push(p.on(this.idleHandler, "idle", function () {
                    e._fire("idle", null, !0)
                })), this.eventHandlers.push(p.on(this.transform, {
                    zoom_changed: function (t) {
                        e._fire("zoom_changed", t, !0)
                    },
                    center_changed: function (t) {
                        e._fire("center_changed", t, !0)
                    },
                    bounds_changed: function (t) {
                        e._fire("bounds_changed", t, !0)
                    },
                    scale_changed: function (t) {
                        e._fire("scale_changed", t, !0)
                    }
                })), this.eventHandlers.push(p.on(e.canvasContainer, {
                    webglcontextlost: e._onContextError.bind(e, "lost"),
                    webglcontaxtrestored: e._onContextError.bind(e, "restored")
                })), this.eventHandlers.push(p.on(this.el, {
                    mouseout: this.onMouseOut.bind(this),
                    mousedown: this.onMouseDown.bind(this),
                    mouseup: this.onMouseUp.bind(this),
                    mousemove: this.onMouseMove.bind(this),
                    touchstart: this.onTouchStart.bind(this),
                    touchend: this.onTouchEnd.bind(this),
                    touchmove: this.onTouchMove.bind(this),
                    touchcancel: this.onTouchCancel.bind(this),
                    click: this.onClick.bind(this),
                    dblclick: this.onDblClick.bind(this),
                    contextmenu: this.onContextMenu.bind(this)
                })))
            }
            return (0, u.default)(t, [{
                key: "destroy",
                value: function () {
                    var t = this;
                    m(y, function (e) {
                        t.map[e] && (t.map[e].disable(), delete t.map[e])
                    }), this.eventHandlers.forEach(function (t) {
                        t && t.remove && t.remove()
                    }), this.members = null, this.map = null, this.eventHandlers = [], this.el = null, this.rl = null, this.transform = null, this.idleHandler = null, this.contextMenuEvent = null, this.mouseDown = !1, this.startPos = null, this.tapped = null
                }
            }, {
                key: "onWindowResize",
                value: function () {
                    var t = this.rl.clientWidth,
                        e = this.rl.clientHeight;
                    this.map.resize(t, e)
                }
            }, {
                key: "onMouseOut",
                value: function (t) {
                    this.fireMouseEvent("mouseout", t)
                }
            }, {
                key: "onMouseDown",
                value: function (t) {
                    this.map.stopEase(), this.startPos = h.mousePos(this.el, t), this.fireMouseEvent("mousedown", t), this.mouseDown = !0
                }
            }, {
                key: "onMouseUp",
                value: function (t) {
                    this.contextMenuEvent && !this.rotating && this.fireMouseEvent("contextmenu", this.contextMenuEvent), this.contextMenuEvent = null, this.mouseDown = !1, this.fireMouseEvent("mouseup", t)
                }
            }, {
                key: "onMouseMove",
                value: function (t) {
                    if (!(this.map.dragPan && this.map.dragPan.isActive() || this.map.dragRotate && this.map.dragRotate.isActive())) {
                        for (var e = t.toElement || t.target; e && e !== this.el;) e = e.parentNode;
                        e === this.el && this.fireMouseEvent("mousemove", t)
                    }
                }
            }, {
                key: "onTouchStart",
                value: function (t) {
                    if (t.preventDefault(), this.map.stopEase(), this.fireTouchEvent("touchstart", t), t.touches && !(t.touches.length > 1)) {
                        var e = this.startTouchPoints;
                        if (this.startTouchPoints = h.touchPos(this.el, t), this.tapped) {
                            clearTimeout(this.tapped), this.tapped = null;
                            var n = e && e[0],
                                i = this.startTouchPoints && this.startTouchPoints[0];
                            n && i && (this.maybeDoubleTap = i.y - n.y <= 10 && i.x - n.x <= 10), this.tapped = setTimeout(this.onTouchTimeout.bind(this), 300)
                        } else this.tapped = setTimeout(this.onTouchTimeout.bind(this), 300)
                    }
                }
            }, {
                key: "onTouchMove",
                value: function (t) {
                    this.fireTouchEvent("touchmove", t), this.maybeDoubleTap = !1
                }
            }, {
                key: "onTouchEnd",
                value: function (t) {
                    var e = this;
                    this.fireTouchEvent("touchend", t), setTimeout(function () {
                        if (e.tapped) {
                            var n = e.startTouchPoints[0],
                                i = h.touchPos(e.el, t)[0];
                            if (n && i) {
                                var r = i.y - n.y <= 10 && i.x - n.x <= 10;
                                r && e.fireTouchEvent("click", t), r && e.maybeDoubleTap && setTimeout(function () {
                                    e.fireTouchEvent("dblclick", t), e.maybeDoubleTap = !1
                                }, 50)
                            }
                        }
                    }, 50)
                }
            }, {
                key: "onTouchCancel",
                value: function (t) {
                    this.maybeDoubleTap = !1, this.fireTouchEvent("touchcancel", t)
                }
            }, {
                key: "onTouchTimeout",
                value: function () {
                    this.maybeDoubleTap = !1, this.tapped = null
                }
            }, {
                key: "onClick",
                value: function (t) {
                    h.mousePos(this.el, t).equals(this.startPos) && this.fireMouseEvent("click", t)
                }
            }, {
                key: "onDblClick",
                value: function (t) {
                    this.fireMouseEvent("dblclick", t), t.preventDefault()
                }
            }, {
                key: "onContextMenu",
                value: function (t) {
                    var e = this.map.dragRotate && this.map.dragRotate.isActive();
                    this.mouseDown || e ? this.mouseDown && (this.contextMenuEvent = t) : this.fireMouseEvent("contextmenu", t), t.preventDefault()
                }
            }, {
                key: "fireMouseEvent",
                value: function (t, e) {
                    var n = h.mousePos(this.el, e),
                        i = {
                            latLng: this.map.unprojectFromContainer(n),
                            point: n,
                            originalEvent: e
                        };
                    "click" === t && (i.poi = this.map._getPoiInfo(n));
                    var r = !0,
                        a = !1,
                        s = void 0;
                    try {
                        for (var l, u = (0, o.default)(this.members); !(r = (l = u.next()).done); r = !0) {
                            l.value._fire(t, i)
                        }
                    } catch (t) {
                        a = !0, s = t
                    } finally {
                        try {
                            !r && u.return && u.return()
                        } finally {
                            if (a) throw s
                        }
                    }
                }
            }, {
                key: "fireTouchEvent",
                value: function (t, e) {
                    var n = this,
                        i = h.touchPos(this.el, e),
                        r = i.reduce(function (t, e, n, i) {
                            return t.add(e.div(i.length))
                        }, new v(0, 0)),
                        a = {
                            latLng: this.map.unprojectFromContainer(r),
                            point: r,
                            latLngs: i.map(function (t) {
                                return n.map.unprojectFromContainer(t)
                            }, this),
                            points: i,
                            originalEvent: e
                        },
                        s = !0,
                        l = !1,
                        u = void 0;
                    try {
                        for (var c, f = (0, o.default)(this.members); !(s = (c = f.next()).done); s = !0) {
                            c.value._fire(t, a)
                        }
                    } catch (t) {
                        l = !0, u = t
                    } finally {
                        try {
                            !s && f.return && f.return()
                        } finally {
                            if (l) throw u
                        }
                    }
                }
            }, {
                key: "registe",
                value: function (t) {
                    if (!(t instanceof _)) throw new Error("illegal event type!");
                    var e = !0,
                        n = !1,
                        i = void 0;
                    try {
                        for (var r, a = (0, o.default)(this.members); !(e = (r = a.next()).done); e = !0) {
                            if (r.value === t) return
                        }
                    } catch (t) {
                        n = !0, i = t
                    } finally {
                        try {
                            !e && a.return && a.return()
                        } finally {
                            if (n) throw i
                        }
                    }
                    this.members.push(t)
                }
            }, {
                key: "cancel",
                value: function (t) {
                    if (!(t instanceof _)) throw new Error("illegal event type!");
                    for (var e = this.members, n = e.length - 1; n > -1; n--) e[n] === t && e.splice(n, 1)
                }
            }]), t
        }();
    t.exports = g
}, function (t, e, n) {
    "use strict";
    n(609), n(611), n(610), n(617), n(616), n(619), n(618), n(620), n(613), n(614), n(612), n(615), n(805), n(827)
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(151),
        r = n(230),
        o = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        a = o.default ? i.LIGHT_UNIFORM + i.LIGHT_VARYING + i.LIGHT_VERTEX : "",
        s = o.default ? i.LIGHT_VARYING + i.LIGHT_FRAG : "";
    e.default = {
        v: "\n\t\tprecision highp float;\n\t\tattribute vec2 a_Position;\n\t\tattribute vec4 a_Color;\n\t\tattribute vec2 a_Normal;\n\t\tattribute vec2 a_LineInfo;\n\t\tattribute float a_LineDistance;\n\t\tattribute vec2 a_SideInfo;\n\n\t\tuniform mat4 u_matrix;\n\t\tuniform mat4 u_modelMatrix;\n\t\tuniform float u_SizeScale;\n\n\t\tvarying vec4 v_Color;\n\t\tvarying vec2 v_Normal;\n\t\tvarying vec2 v_LineInfo;\n\t\tvarying vec2 v_Pos;\n\t\tvarying float v_Transform;\n\t\tvarying float v_LineDistance;\n\t\tvarying float v_Width;\n\t\tvarying float v_opaque_part;\n\n\t\t" + a + "\n\n\t\tvoid main(){\n\n\t\t\tfloat isSide = fract(a_SideInfo.x / 2.) * 2.;\n\t\t\tfloat isNoSideLine = floor(a_SideInfo.x / 2.);\n\t\t\tv_opaque_part = mix(1.0, 0.0, smoothstep(0.0, 1.0, isSide * isNoSideLine));\n\n\t\t\tfloat zoom = floor(u_SizeScale / 1000.) / 100.;\n\t\t\tfloat scale = fract(u_SizeScale / 1000.) * 10.;\n\t\t\tfloat preWidth = floor(a_Position.x / 2048.0)/2.0;\n\t\t\tfloat nextWidth = floor(a_Position.y / 2048.0)/2.0;\n\n\t\t\tv_Color = a_Color;\n\t\t\tv_Normal = a_Normal;\n\t\t\tv_LineInfo = a_LineInfo;\n\t\t\tv_LineDistance = floor(a_LineDistance/10.0);\n\t\t\tvec2 point = (fract(a_Position.xy / 2048.0) * 2048.0 - 1024.0) * 0.5;\n\n\t\t\t\n\t\t\tfloat width = a_LineInfo.x / 2.0;\n\t\t\tfloat nearWidth = mix(nextWidth, preWidth, step(0.5, zoom));\n\t\t\tv_Width = mix(\n\t\t\t\twidth,\n\t\t\t\tmix(\n\t\t\t\t\tmix(width, nextWidth, zoom),\n\t\t\t\t\tmix(preWidth, width, zoom),\n\t\t\t\t\tstep(0.5, zoom)\n\t\t\t\t),\n\t\t\t\tfloat(v_LineDistance > 0. && nearWidth > 0.)\n\t\t\t) / scale;\n\n\t\t\tv_Normal = vec2(a_Normal.x - 128.0, a_Normal.y - 128.0) / 63.;\n\t\t\tv_Pos = point + v_Normal * v_Width;\n\t\t\tv_Transform = a_SideInfo.y;\n\t\t\tgl_Position = u_matrix * vec4(v_Pos, 0.0, 1.0);\n\n\t\t\t\n\t\t\t" + (o.default ? "lighting_apply_on_vertex(vec3(v_Pos, 0.0), vec3(0.0, 0.0, 1.0), u_modelMatrix, vec2(0.1, 16.0));" : "") + "\n\t\t}\n\t",
        f: "\n\t\tprecision highp float;\n\t\tvarying vec4 v_Color;\n\t\tvarying vec2 v_Normal;\n\t\tvarying vec2 v_LineInfo;\n\t\tvarying vec2 v_Pos;\n\t\tvarying float v_Transform;\n\t\tvarying float v_LineDistance;\n\t\tvarying float v_Width;\n\t\tvarying float v_opaque_part;\n\n\t\t" + s + "\n\n\t\tvoid main(){\n\t\t\tvec4 f_Color;\n\t\t\tf_Color.r = v_Color.r / 255.0;\n\t\t\tf_Color.g = v_Color.g / 255.0;\n\t\t\tf_Color.b = v_Color.b / 255.0;\n\t\t\tf_Color.a = 1.0;\n\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat minAlpha = 0.0;\n\t\t\tfloat feather = min(v_Width * 0.3, 2.0);\n\n\t\t\t\n\t\t\tfloat transformByte = floor(v_Transform + 0.5);\n\t\t\tvec2 translate = vec2(fract(transformByte / 4.0) * 4.0, floor(fract(transformByte / 16.0) * 4.0));\n\t\t\tfloat scale = floor(transformByte / 16.0);\n\t\t\tvec2 coord = vec2(v_Pos.x, 0. - v_Pos.y) * scale - translate * 256.0;\n\t\t\tbool isOutSide = coord.x < 0. || coord.x > 256.0 || coord.y < 0. || coord.y > 256.0;\n\n\t\t\tfloat dist = abs(length(v_Normal) * v_Width);\n\t\t\tfloat isTransparent = float(\n\t\t\t\t(dist > v_Width || isOutSide) || \n\t\t\t\t(v_LineInfo.y> 0.0 && mod(v_LineDistance, floor(v_LineInfo.y/10.0) * (2.0-fract(v_LineInfo.y/10.0))) > floor(v_LineInfo.y/10.0))\n\t\t\t);\n\n\t\t\talpha = mix(\n\t\t\t\tmix(alpha, clamp((v_Width - dist) / feather, 0.0, 1.0), float(v_Width>0. && dist>(v_Width - feather))),\n\t\t\t\t0.0,\n\t\t\t\tisTransparent\n\t\t\t);\n\n\t\t\t\n\t\t\t" + (o.default ? "vec4 colorInLight = lighting_apply_on_color(f_Color);" : "vec4 colorInLight = f_Color;") + "\n\t\t\tgl_FragColor =  colorInLight * (v_Color.a /255.0) * alpha * v_opaque_part;\n\t\t}\n\t",
        name: "base"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.INSTANCE_PARTS = "\nattribute vec2 positions;\n        \nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec2 instanceSizes;\nattribute vec4 instanceInfos;\n\n\nattribute vec3 instancePickingColors;\nattribute vec4 instanceFrames;\nattribute vec3 instancePixelOffset;\n", e.UNIFORM_PARTS = "\nuniform float u_sizeScale;\nuniform float u_sizeMinPixels;\nuniform float u_sizeMaxPixels;\nuniform vec2 u_textureDim;\nuniform float u_opacity;\nuniform float u_mapScale;\n\n", e.generateMainPart = function (t, e) {
        return "\n    \n    vec2 imageSize = instanceFrames.zw;\n            \n    vec2 sizePixels = clamp(instanceSizes * u_sizeScale, vec2(u_sizeMinPixels), vec2(u_sizeMaxPixels));\n    \n    " + t + "\n\n    if (bool(instanceInfos.w))  {\n        vec4 center_proj = uMatrix * vec4(project_view_local_position_precision(instancePositions.xy, instancePositions64xyLow.xy), 0.0, 1.0);\n        vec2 center_screen = proj_position_to_screen(center_proj);\n        vec2 corner_screen = center_screen + pixelOffset * u_mapScale;\n    \n        gl_Position = screen_to_proj_position(corner_screen, center_proj.z, center_proj.w);\n    } else {\n        gl_Position = uMatrix * vec4(project_view_local_position_precision(instancePositions.xy, instancePositions64xyLow.xy) + pixelOffset, 0.0, 1.0);\n    }\n    \n    vTextureCoords = mix(\n        instanceFrames.xy,\n        instanceFrames.xy + imageSize,\n        (positions.xy + 1.0) / 2.0\n    ) / u_textureDim;\n    \n    vTextureCoords.y = 1.0 - vTextureCoords.y;\n    \n\n    " + e + "\n    vColor = picking_getFinalColor(vColor, instancePickingColors);\n    vOpacity = instancePixelOffset.z;\n    "
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(91),
        r = n(192),
        o = n(151);
    e.default = {
        v: "\n\t\t#define SHADER_NAME polygon-vertex-shader\n\n\t\tattribute vec2 vertexPositions;\n\t\t\n\t\tattribute float vertexValid;\n\t\tattribute vec3 positions;\n\t\tattribute vec2 positions64xyLow;\n\t\tattribute vec3 nextPositions;\n\t\tattribute vec2 nextPositions64xyLow;\n\t\tattribute float elevations;\n\t\tattribute vec4 fillColors;\n\t\tattribute vec4 lineColors;\n\t\tattribute vec3 pickingColors;\n\n\t\t" + i.UNIFORM_PART + "\n        \n\t\t" + r.PICK_UNIFORM + "\n\t\t\n\t\t" + o.LIGHT_UNIFORM + "\n\t\t\n\t\tuniform bool u_isSideVertex;\n\t\tuniform bool u_extruded;\n\t\tuniform bool u_isWireframe;\n\t\tuniform float u_elevationScale;\n\t\tuniform float u_opacity;\n\t\t\n\t\tvarying vec4 vColor;\n\t\tvarying float isValid;\n\n\t\t" + o.LIGHT_VARYING + "\n\n\t\t" + i.PROJECTION_PART + "\n        \n\t\t" + r.PICK_FUNCTION + "\n\t\t\n\t\t" + o.LIGHT_VERTEX + "\n\t\t" + o.LIGHT_FRAG + "\n\t\t\n\t\tvoid main(void) {\n\t\t\tvec3 pos;\n\t\t\tvec2 pos64xyLow;\n\t\t\tvec3 normal;\n\t\t\tvec4 colors = mix(fillColors, lineColors, float(u_isWireframe));\n\n\t\t\tfloat isSideVertex = float(u_isSideVertex);\n\t\t\tfloat extruded = float(u_extruded);\n\n\t\t\tpos = mix(\n\t\t\t\tpositions,\n\t\t\t\t\n\t\t\t\tmix(positions, nextPositions, vertexPositions.x),\n\t\t\t\tisSideVertex\n\t\t\t);\n\t\t\tpos64xyLow = mix(\n\t\t\t\tpositions64xyLow,\n\t\t\t\tmix(positions64xyLow, nextPositions64xyLow, vertexPositions.x),\n\t\t\t\tisSideVertex\n\t\t\t);\n\t\t\tisValid = mix(1.0, vertexValid, isSideVertex);\n\t\t\tpos.z += mix(\n\t\t\t\t0.0,\n\t\t\t\televations * mix(1.0, vertexPositions.y, isSideVertex),\n\t\t\t\textruded\n\t\t\t) * u_elevationScale;\n\t\t\t\n\t\t\t\n\t\t\tvec3 local_position = project_view_local_position_precision(pos.xyz, pos64xyLow.xy);\n\t\t\tvec3 current_local_position = project_view_local_position_precision(positions.xyz, positions64xyLow.xy);\n\t\t\tvec3 next_local_position = project_view_local_position_precision(nextPositions.xyz, nextPositions64xyLow.xy);\n\n\t\t\tgl_Position = uMatrix * vec4(local_position, 1.0);\n\t\t\t\n\t\t\tnormal = mix(\n\t\t\t\tvec3(0., 0., 1.),\n\t\t\t\tmix(\n\t\t\t\t\tvec3(0.0, 0.0, 1.0),\n\t\t\t\t\tnormalize(\n\t\t\t\t\t\tcross(\n\t\t\t\t\t\t\tnormalize(vec3(next_local_position.xy - current_local_position.xy, 0.0)),\n\t\t\t\t\t\t\tvec3(0.0, 0.0, 1.0)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tfloat(u_isSideVertex && !u_isWireframe)\n\t\t\t\t),\n\t\t\t\textruded\n\t\t\t);\n\n\t\t\tlighting_apply_on_vertex(local_position.xyz, normal, mat4(1.0));\n\t\t\tvec4 color = vec4(colors.rgb, colors.a * u_opacity) / 255.0;\n\t\t\tvec4 lightingColor = mix(\n\t\t\t\tcolor,\n\t\t\t\tlighting_apply_on_color(color),\n\t\t\t\t\n\t\t\t\textruded\n\t\t\t);\n\t\t\tvColor = picking_getFinalColor(lightingColor, pickingColors);\n\t\t}\n\t",
        f: "\n\t\t#define SHADER_NAME polygon-fragment-shader\n\n\t\tprecision highp float;\n\t\t\n\t\tvarying vec4 vColor;\n\t\tvarying float isValid;\n\t\t\n\t\tvoid main(void) {\n\t\t\tgl_FragColor = mix(vec4(0.0, 0.0, 0.0, 0.0), vColor, isValid);\n\t\t}\n\t",
        name: "polygon"
    }
}, , , function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(6),
        u = i(l),
        c = function () {
            function t(e, n, i) {
                (0, o.default)(this, t), this.worker = e, this.parent = n, this.mapId = i, this.callbacks = {}, this.callbackID = 0, this.receive = this.receive.bind(this), this.worker.addEventListener("message", this.receive, !1)
            }
            return (0, s.default)(t, [{
                key: "send",
                value: function (t, e, n, i) {
                    if (this.worker) {
                        var r = n ? u.default.uniqueId() + ":" + this.callbackID++ : null;
                        n && (this.callbacks[r] = n), this.worker.postMessage({
                            targetMapId: i,
                            sourceMapId: this.mapId,
                            type: t,
                            id: String(r),
                            data: e
                        })
                    }
                }
            }, {
                key: "receive",
                value: function (t) {
                    var e = this,
                        n = t.data,
                        i = n.id,
                        r = void 0;
                    if (!n.targetMapId || this.mapId === n.targetMapId) {
                        var o = function (t, n, r) {
                            if (e.worker) {
                                var o = null;
                                n && n.transferableList && (o = n.transferableList, delete n.transferableList), e.worker.postMessage({
                                    sourceMapId: e.mapId,
                                    type: "<response>",
                                    id: String(i),
                                    error: t,
                                    data: n,
                                    time: r
                                }, o || [])
                            }
                        };
                        if ("<response>" === n.type) r = this.callbacks[n.id], delete this.callbacks[n.id], r && r(n.error || null, n.data, n.time);
                        else if (void 0 !== n.id && this.parent[n.type]) this.parent[n.type](n.sourceMapId, n.data, o);
                        else if (void 0 !== n.id && this.parent.getWorkerSource) {
                            var a = n.type.split("."),
                                s = this.parent.getWorkerSource(n.sourceMapId, a[0]);
                            s[a[1]](n.data, o)
                        }
                    }
                }
            }, {
                key: "remove",
                value: function () {
                    this.worker.removeEventListener("message", this.receive, !1), this.worker = null
                }
            }]), t
        }();
    t.exports = c
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.easableMixin = void 0;
    var i = n(13);
    e.easableMixin = {
        _abortFn: null,
        _finishFn: null,
        _ease: function (t, e, n, r) {
            var o = this;
            this._finishFn = e;
            var a = !1;
            this._abortFn = (0, i.timed)(function (e) {
                t.call(this, r.easing(e)), 1 === e && this._finishEase()
            }, function () {
                a || (delete o._finishFn, n && n.call(o), a = !0, delete o._abortFn)
            }, !1 === r.animate ? 0 : r.duration, this)
        },
        _finishEase: function () {
            delete this._abortFn;
            var t = this._finishFn;
            delete this._finishFn, t && t.call(this)
        }
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        for (var n = (0, l.latLngToMercator)(t), i = [], r = 0; r <= f; r++) {
            var o = r * d,
                a = new c.default(0, 0);
            a.x = Math.cos(o), a.y = Math.sin(o), i.push(a)
        }
        for (var s = i.length - 1; s >= 0; s--) {
            var u = i[s];
            i.push(new c.default(u.y, u.x))
        }
        for (var h = i.length - 1; h >= 0; h--) {
            var v = i[h];
            i.push(new c.default(-v.x, v.y))
        }
        for (var _ = i.length - 1; _ >= 0; _--) {
            var p = i[_];
            i.push(new c.default(p.x, -p.y))
        }
        var m = t.getLat() * Math.PI / 180;
        return i.map(function (t) {
            return t.x = n.x + e / Math.cos(m) * t.x, t.y = n.y + e / Math.cos(m) * t.y, (0, l.mercatorToLatLng)(t)
        })
    }

    function o(t) {
        return (0, s.default)(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.getCirclePath = r;
    var a = n(231),
        s = i(a),
        l = n(83),
        u = n(41),
        c = i(u),
        f = 9,
        d = 5 * Math.PI / 180;
    e.default = o
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(29),
        u = i(l),
        c = n(61),
        f = i(c),
        d = function () {
            function t(e, n) {
                (0, o.default)(this, t), this.markerCluster = e, this.gridSize = e.gridSize, this.averageCenter = e.averageCenter, this.zoom = n, this.center = null, this.geometries = [], this.geometrySet = {}, this.bounds = null
            }
            return (0, s.default)(t, [{
                key: "getClusterInfo",
                value: function () {
                    return {
                        center: this.center,
                        geometries: this.geometries,
                        bounds: this.bounds
                    }
                }
            }, {
                key: "getCenter",
                value: function () {
                    return this.center
                }
            }, {
                key: "add",
                value: function (t) {
                    if (!this.geometrySet[t.id]) {
                        if (this.center) {
                            if (this.averageCenter) {
                                var e = this.geometries.length + 1,
                                    n = (this.center.lat * (e - 1) + t.position.lat) / e,
                                    i = (this.center.lng * (e - 1) + t.position.lng) / e;
                                this.center = new u.default(n, i), this._calculateBounds()
                            }
                        } else this.center = t.position, this._calculateBounds();
                        this.geometrySet[t.id] = t, this.geometries.push(t)
                    }
                }
            }, {
                key: "_calculateBounds",
                value: function () {
                    var t = new f.default(this.center, this.center);
                    this.bounds = this.markerCluster._getExtendedBounds(t, this.zoom)
                }
            }, {
                key: "getBounds",
                value: function () {
                    var t = new f.default(this.center, this.center);
                    return this.geometries.forEach(function (e) {
                        t.extend(new u.default(e.position.lat, e.position.lng))
                    }), t
                }
            }, {
                key: "getGeometries",
                value: function () {
                    return this.geometries
                }
            }, {
                key: "isInBounds",
                value: function (t) {
                    return this.bounds.contains(t.position)
                }
            }, {
                key: "remove",
                value: function () {
                    this.markerCluster = null, this.gridSize = null, this.averageCenter = null, this.center = null, this.geometries = [], this.geometrySet = {}, this.bounds = null
                }
            }], [{
                key: "normalizeClusterInfo",
                value: function (t) {
                    return {
                        center: u.default.convert(t.center),
                        geometries: t.geometries.map(function (t) {
                            return t.position = u.default.convert(t.position), t
                        }),
                        bounds: f.default._convertFromWorker(t.bounds)
                    }
                }
            }]), t
        }();
    e.default = d
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(21),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = /^[og]\s*(.+)?/,
        f = /^mtllib /,
        d = /^usemtl /,
        h = function () {
            function t(e) {
                var n = e.index,
                    i = e.name,
                    r = void 0 === i ? "" : i,
                    o = e.mtllib,
                    a = e.smooth,
                    l = e.groupStart;
                (0, s.default)(this, t), this.index = n, this.name = r, this.mtllib = o, this.smooth = a, this.groupStart = l, this.groupEnd = -1, this.groupCount = -1, this.inherited = !1
            }
            return (0, u.default)(t, [{
                key: "clone",
                value: function () {
                    return new t({
                        index: arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.index,
                        name: this.name,
                        mtllib: this.mtllib,
                        smooth: this.smooth,
                        groupStart: 0
                    })
                }
            }]), t
        }(),
        v = function () {
            function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                (0, s.default)(this, t), this.name = e, this.geometry = {
                    vertices: [],
                    normals: [],
                    colors: [],
                    uvs: []
                }, this.materials = [], this.smooth = !0
            }
            return (0, u.default)(t, [{
                key: "startMaterial",
                value: function (t, e) {
                    var n = this._finalize(!1);
                    n && (n.inherited || n.groupCount <= 0) && this.materials.splice(n.index, 1);
                    var i = new h({
                        index: this.materials.length,
                        name: t,
                        mtllib: Array.isArray(e) && e.length > 0 ? e[e.length - 1] : "",
                        smooth: void 0 !== n ? n.smooth : this.smooth,
                        groupStart: void 0 !== n ? n.groupEnd : 0
                    });
                    return this.materials.push(i), i
                }
            }, {
                key: "currentMaterial",
                value: function () {
                    if (this.materials.length > 0) return this.materials[this.materials.length - 1]
                }
            }, {
                key: "_finalize",
                value: function (t) {
                    var e = this.currentMaterial();
                    if (e && -1 === e.groupEnd && (e.groupEnd = this.geometry.vertices.length / 3, e.groupCount = e.groupEnd - e.groupStart, e.inherited = !1), t && this.materials.length > 1)
                        for (var n = this.materials.length - 1; n >= 0; n--) this.materials[n].groupCount <= 0 && this.materials.splice(n, 1);
                    return t && 0 === this.materials.length && this.materials.push({
                        name: "",
                        smooth: this.smooth
                    }), e
                }
            }]), t
        }(),
        _ = function () {
            function t() {
                (0, s.default)(this, t), this.objects = [], this.object = null, this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.materialLibraries = [], this.startObject("", !1)
            }
            return (0, u.default)(t, [{
                key: "startObject",
                value: function (t) {
                    var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                    if (this.object && !this.object.fromDeclaration) return this.object.name = t, void(this.object.fromDeclaration = e);
                    var n = this.object && "function" == typeof this.object.currentMaterial ? this.object.currentMaterial() : void 0;
                    if (this.object && "function" == typeof this.object._finalize && this.object._finalize(!0), this.object = new v(t), this.object.fromDeclaration = e, n && n.name && "function" == typeof n.clone) {
                        var i = n.clone(0);
                        i.inherited = !0, this.object.materials.push(i)
                    }
                    this.objects.push(this.object)
                }
            }, {
                key: "finalize",
                value: function () {
                    this.object && "function" == typeof this.object._finalize && this.object._finalize(!0)
                }
            }, {
                key: "parseVertexIndex",
                value: function (t, e) {
                    var n = parseInt(t, 10);
                    return 3 * (n >= 0 ? n - 1 : n + e / 3)
                }
            }, {
                key: "parseNormalIndex",
                value: function (t, e) {
                    var n = parseInt(t, 10);
                    return 3 * (n >= 0 ? n - 1 : n + e / 3)
                }
            }, {
                key: "parseUVIndex",
                value: function (t, e) {
                    var n = parseInt(t, 10);
                    return 2 * (n >= 0 ? n - 1 : n + e / 2)
                }
            }, {
                key: "addVertex",
                value: function (t, e, n) {
                    var i = this.vertices,
                        r = this.object.geometry.vertices;
                    r.push(i[t + 0], i[t + 1], i[t + 2]), r.push(i[e + 0], i[e + 1], i[e + 2]), r.push(i[n + 0], i[n + 1], i[n + 2])
                }
            }, {
                key: "addVertexPoint",
                value: function (t) {
                    var e = this.vertices;
                    this.object.geometry.vertices.push(e[t + 0], e[t + 1], e[t + 2])
                }
            }, {
                key: "addVertexLine",
                value: function (t) {
                    var e = this.vertices;
                    this.object.geometry.vertices.push(e[t + 0], e[t + 1], e[t + 2])
                }
            }, {
                key: "addNormal",
                value: function (t, e, n) {
                    var i = this.normals,
                        r = this.object.geometry.normals;
                    r.push(i[t + 0], i[t + 1], i[t + 2]), r.push(i[e + 0], i[e + 1], i[e + 2]), r.push(i[n + 0], i[n + 1], i[n + 2])
                }
            }, {
                key: "addColor",
                value: function (t, e, n) {
                    var i = this.colors,
                        r = this.object.geometry.colors;
                    r.push(i[t + 0], i[t + 1], i[t + 2]), r.push(i[e + 0], i[e + 1], i[e + 2]), r.push(i[n + 0], i[n + 1], i[n + 2])
                }
            }, {
                key: "addUV",
                value: function (t, e, n) {
                    var i = this.uvs,
                        r = this.object.geometry.uvs;
                    r.push(i[t + 0], i[t + 1]), r.push(i[e + 0], i[e + 1]), r.push(i[n + 0], i[n + 1])
                }
            }, {
                key: "addUVLine",
                value: function (t) {
                    var e = this.uvs;
                    this.object.geometry.uvs.push(e[t + 0], e[t + 1])
                }
            }, {
                key: "addFace",
                value: function (t, e, n, i, r, o, a, s, l) {
                    var u = this.vertices.length,
                        c = this.parseVertexIndex(t, u),
                        f = this.parseVertexIndex(e, u),
                        d = this.parseVertexIndex(n, u);
                    if (this.addVertex(c, f, d), void 0 !== i && "" !== i) {
                        var h = this.uvs.length;
                        c = this.parseUVIndex(i, h), f = this.parseUVIndex(r, h), d = this.parseUVIndex(o, h), this.addUV(c, f, d)
                    }
                    if (void 0 !== a && "" !== a) {
                        var v = this.normals.length;
                        c = this.parseNormalIndex(a, v), f = a === s ? c : this.parseNormalIndex(s, v), d = a === l ? c : this.parseNormalIndex(l, v), this.addNormal(c, f, d)
                    }
                    this.colors.length > 0 && this.addColor(c, f, d)
                }
            }, {
                key: "addPointGeometry",
                value: function (t) {
                    this.object.geometry.type = "Points";
                    var e = this.vertices.length,
                        n = !0,
                        i = !1,
                        r = void 0;
                    try {
                        for (var a, s = (0, o.default)(t); !(n = (a = s.next()).done); n = !0) {
                            var l = a.value;
                            this.addVertexPoint(this.parseVertexIndex(l, e))
                        }
                    } catch (t) {
                        i = !0, r = t
                    } finally {
                        try {
                            !n && s.return && s.return()
                        } finally {
                            if (i) throw r
                        }
                    }
                }
            }, {
                key: "addLineGeometry",
                value: function (t, e) {
                    this.object.geometry.type = "Line";
                    var n = this.vertices.length,
                        i = this.uvs.length,
                        r = !0,
                        a = !1,
                        s = void 0;
                    try {
                        for (var l, u = (0, o.default)(t); !(r = (l = u.next()).done); r = !0) {
                            var c = l.value;
                            this.addVertexLine(this.parseVertexIndex(c, n))
                        }
                    } catch (t) {
                        a = !0, s = t
                    } finally {
                        try {
                            !r && u.return && u.return()
                        } finally {
                            if (a) throw s
                        }
                    }
                    var f = !0,
                        d = !1,
                        h = void 0;
                    try {
                        for (var v, _ = (0, o.default)(e); !(f = (v = _.next()).done); f = !0) {
                            var p = v.value;
                            this.addUVLine(this.parseUVIndex(p, i))
                        }
                    } catch (t) {
                        d = !0, h = t
                    } finally {
                        try {
                            !f && _.return && _.return()
                        } finally {
                            if (d) throw h
                        }
                    }
                }
            }]), t
        }();
    e.default = function (t) {
        var e = new _; - 1 !== t.indexOf("\r\n") && (t = t.replace(/\r\n/g, "\n")), -1 !== t.indexOf("\\\n") && (t = t.replace(/\\\n/g, ""));
        for (var n = t.split("\n"), i = "", r = "", a = [], s = "function" == typeof "".trimLeft, l = 0, u = n.length; l < u; l++)
            if (i = n[l], i = s ? i.trimLeft() : i.trim(), 0 !== i.length && "#" !== (r = i.charAt(0)))
                if ("v" === r) {
                    var h = i.split(/\s+/);
                    switch (h[0]) {
                        case "v":
                            e.vertices.push(parseFloat(h[1]), parseFloat(h[2]), parseFloat(h[3])), 8 === h.length && e.colors.push(parseFloat(h[4]), parseFloat(h[5]), parseFloat(h[6]));
                            break;
                        case "vn":
                            e.normals.push(parseFloat(h[1]), parseFloat(h[2]), parseFloat(h[3]));
                            break;
                        case "vt":
                            e.uvs.push(parseFloat(h[1]), parseFloat(h[2]))
                    }
                } else if ("f" === r) {
            for (var v = i.substr(1).trim(), p = v.split(/\s+/), m = [], y = 0, g = p.length; y < g; y++) {
                var x = p[y];
                if (x.length > 0) {
                    var b = x.split("/");
                    m.push(b)
                }
            }
            for (var S = m[0], w = 1, E = m.length - 1; w < E; w++) {
                var A = m[w],
                    T = m[w + 1];
                e.addFace(S[0], A[0], T[0], S[1], A[1], T[1], S[2], A[2], T[2])
            }
        } else if ("l" === r) {
            var k = i.substring(1).trim().split(" "),
                P = void 0,
                I = [];
            if (-1 === i.indexOf("/")) P = k;
            else {
                P = [];
                for (var M = 0, L = k.length; M < L; M++) {
                    var C = k[M].split("/");
                    "" !== C[0] && P.push(C[0]), "" !== C[1] && I.push(C[1])
                }
            }
            e.addLineGeometry(P, I)
        } else if ("p" === r) {
            var V = i.substr(1).trim(),
                R = V.split(" ");
            e.addPointGeometry(R)
        } else if (null !== (a = c.exec(i))) {
            var O = (" " + a[0].substr(1).trim()).substr(1);
            e.startObject(O)
        } else if (d.test(i)) e.object.startMaterial(i.substring(7).trim(), e.materialLibraries);
        else if (f.test(i)) e.materialLibraries.push(i.substring(7).trim());
        else {
            if ("s" !== r) {
                if ("\0" === i) continue;
                throw new Error('Unexpected line: "' + i + '"')
            }
            if (a = i.split(" "), a.length > 1) {
                var F = a[1].trim().toLowerCase();
                e.object.smooth = "0" !== F && "off" !== F
            } else e.object.smooth = !0;
            var z = e.object.currentMaterial();
            z && (z.smooth = e.object.smooth)
        }
        e.finalize();
        var N = [],
            D = [],
            B = !0,
            U = !1,
            j = void 0;
        try {
            for (var Y, G = (0, o.default)(e.objects); !(B = (Y = G.next()).done); B = !0) {
                var W = Y.value,
                    X = W.geometry;
                if (0 !== X.vertices.length) {
                    var Z = {
                        header: {
                            vertexCount: X.vertices.length / 3
                        },
                        attributes: {}
                    };
                    switch (X.type) {
                        case "Points":
                            Z.mode = 0;
                            break;
                        case "Line":
                            Z.mode = 1;
                            break;
                        default:
                            Z.mode = 4
                    }
                    Z.attributes.POSITION = {
                        value: new Float32Array(X.vertices),
                        size: 3
                    }, X.normals.length > 0 && (Z.attributes.NORMAL = {
                        value: new Float32Array(X.normals),
                        size: 3
                    }), X.colors.length > 0 && (Z.attributes.COLOR_0 = {
                        value: new Float32Array(X.colors),
                        size: 3
                    }), X.uvs.length > 0 && (Z.attributes.TEXCOORD_0 = {
                        value: new Float32Array(X.uvs),
                        size: 2
                    }), Z.materials = [];
                    var Q = !0,
                        H = !1,
                        q = void 0;
                    try {
                        for (var J, K = (0, o.default)(W.materials); !(Q = (J = K.next()).done); Q = !0) {
                            var $ = J.value,
                                tt = {
                                    name: $.name,
                                    flatShading: !$.smooth
                                };
                            Z.materials.push(tt), D.push(tt)
                        }
                    } catch (t) {
                        H = !0, q = t
                    } finally {
                        try {
                            !Q && K.return && K.return()
                        } finally {
                            if (H) throw q
                        }
                    }
                    Z.name = W.name, N.push(Z)
                }
            }
        } catch (t) {
            U = !0, j = t
        } finally {
            try {
                !B && G.return && G.return()
            } finally {
                if (U) throw j
            }
        }
        return {
            meshes: N,
            materials: D
        }
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t.length >= 2 && (0, s.default)(t[0].lat) && (0, s.default)(t[0].lng)
    }

    function r(t) {
        return t.length >= 1 && t.every(function (t) {
            return i(t)
        })
    }

    function o(t) {
        return (i(t) ? [t] : t).map(function (t) {
            var e = [];
            return t.forEach(function (t) {
                if (e.length > 0) {
                    var n = e[e.length - 1];
                    t.lat === n.lat && t.lng === n.lng || e.push(t)
                } else e.push(t)
            }), e
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(392),
        s = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(a);
    e.isSimple = i, e.isComplexLine = r, e.normalize = o
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = null;
    e.default = {
        setStyleTag: function (t) {
            i = t
        },
        isNoSideLine: function (t) {
            var e = i.lineTag,
                n = ["street", "path", "secondaryroad"],
                r = n.some(function (n) {
                    return e[n] && e[n].some(function (e) {
                        return e === Number(t)
                    })
                });
            return Number(r)
        }
    }
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        return function (n) {
            return new o.default(n, t, e)
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(488),
        o = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        return c.default.batchRender && e++, e === c.default.maxDataZoom && t > e
    }

    function r(t, e) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
        return c.default.batchRender && e++, Math.abs(t - e) <= n
    }

    function o(t, e) {
        return !(r(t, e, 1) || i(t, e))
    }

    function a(t, e) {
        return !(r(Math.round(t), e) || i(t, e))
    }

    function s(t, e) {
        return a(t, e)
    }

    function l(t, e) {
        return a(t, e)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.isInterceptForBase64 = o, e.isInterceptForGPU = a, e.isInterceptForTileData = s, e.isInterceptForPlacement = l;
    var u = n(9),
        c = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(u)
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(154),
        _ = i(v),
        p = n(48),
        m = n(61),
        y = i(m),
        g = n(31),
        x = function (t) {
            function e(t) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_initialize",
                value: function () {
                    this.sourceId = this.sourceId || this.id
                }
            }, {
                key: "getBounds",
                value: function () {
                    return this._bounds
                }
            }, {
                key: "setBounds",
                value: function (t) {
                    return t instanceof y.default ? (this._bounds = t, this._resetData(), this) : (new g.BaseTypeError("bounds", "LatLngBounds", t).error(), this)
                }
            }, {
                key: "_updateMediaSource",
                value: function (t) {
                    this._mediaSource = t, this._resetData()
                }
            }, {
                key: "_resetData",
                value: function () {
                    this.map && this.map.getSource(this.id).setData({
                        mediaSource: this._mediaSource,
                        bounds: this._bounds
                    })
                }
            }, {
                key: "_addSource",
                value: function () {
                    this._mediaSource && this._bounds && this._mediaSource && this._bounds && this.map && !this.map.getSource(this.sourceId) && (this.map.addSource(this.sourceId, {
                        type: p.SOURCE_TYPE.ground,
                        tileSize: this.tileSize,
                        data: {
                            mediaSource: this._mediaSource,
                            bounds: this._bounds
                        }
                    }), this._fire("layer", {}))
                }
            }, {
                key: "_removeSource",
                value: function () {
                    this.map && this.map.removeSource(this.sourceId)
                }
            }]), e
        }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        if (e) {
            var n = e.find(function (e) {
                return e.layerid === t
            });
            return n ? {
                minZoom: n.zoom_min,
                maxZoom: n.zoom_max,
                getTileUrl: function (t, e, i) {
                    var r = n.url;
                    return n.params.forEach(function (i) {
                        var o = n[i];
                        Array.isArray(o) && (o = o[(t + e) % o.length]), r = r.replace("{" + i + "}", o)
                    }), r = r.replace("{x}", t).replace("{y}", e).replace("{z}", i)
                }
            } : void 0
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(12),
        a = i(o),
        s = n(2),
        l = i(s),
        u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(4),
        v = i(h),
        _ = n(11),
        p = i(_),
        m = n(3),
        y = i(m),
        g = n(360),
        x = i(g),
        b = n(48),
        S = n(27),
        w = n(36),
        E = i(w),
        A = n(31),
        T = n(193),
        k = n(46),
        P = E.default.isFunction,
        I = E.default.isString,
        M = E.default.isNumber,
        L = function (t) {
            function e(t) {
                (0, c.default)(this, e), t.type = S.RENDER_LAYER_TYPE.imageTile;
                var n = (0, v.default)(this, (e.__proto__ || (0, l.default)(e)).call(this, t));
                return (0, k.statCn)("ImageTileLayer"), n
            }
            return (0, y.default)(e, t), (0, d.default)(e, [{
                key: "_initialize",
                value: function (t) {
                    (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "_initialize", this).call(this, t), this._setTileUrlGetter(t.getTileUrl), this.sourceId = this.sourceId || this.id
                }
            }, {
                key: "setZIndex",
                value: function (t) {
                    return M(t) || new A.BaseTypeError("ImageTileLayer.zIndex", "number", t).error(), (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "setZIndex", this).call(this, t)
                }
            }, {
                key: "_setTileUrlGetter",
                value: function (t) {
                    P(t) ? I(t(0, 0, 0)) ? this.getTileUrl = t : new A.BaseTypeError("ImageTileLayerOptions.getTileUrl返回值", "string", t(0, 0, 0)).throw() : new A.BaseTypeError("ImageTileLayerOptions.getTileUrl", "function", t).throw()
                }
            }, {
                key: "_addSource",
                value: function () {
                    this.map && !this.map.getSource(this.sourceId) && (this.map.addSource(this.sourceId, {
                        type: b.SOURCE_TYPE.imageTile,
                        tileSize: this.tileSize,
                        data: this.getTileUrl
                    }), this._fire("layer", {}))
                }
            }, {
                key: "_removeSource",
                value: function () {
                    this.map && this.map.removeSource(this.sourceId), this._fire("source_removed", {})
                }
            }], [{
                key: "createCustomLayer",
                value: function (t) {
                    var n = t.map,
                        i = t.layerId;
                    return n ? (0, T.checkKey)(n.id).then(function (n) {
                        if (!n) throw "请传入正确的key";
                        if (!n.custom_layer || !n.custom_layer.enable) throw "无个性化图层权限";
                        var o = r(i, n.custom_layer.layers);
                        if (!o) throw "请传入正确的layerId";
                        return (0, k.cl)({
                            id: i,
                            subkey: n.subkey
                        }), new e((0, a.default)(o, t))
                    }).catch(function (t) {
                        return console.error("个性化图层鉴权失败：" + t), null
                    }) : (console.error("个性化图层鉴权失败：未绑定地图对象。"), null)
                }
            }]), e
        }(x.default);
    e.default = L
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(154),
        _ = i(v),
        p = n(36),
        m = i(p),
        y = n(31),
        g = m.default.isNumber,
        x = function (t) {
            function e(t) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_initialize",
                value: function (t) {
                    this._setTileSize(t.tileSize)
                }
            }, {
                key: "_setTileSize",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 256;
                    g(t) || (new y.BaseTypeError("TileLayer.tileSize", "number", t).error(), t = 256), this.tileSize = t
                }
            }]), e
        }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(25),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(11),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(360),
        g = i(y),
        x = n(81),
        b = i(x),
        S = n(48),
        w = n(9),
        E = function (t) {
            function e(t) {
                return (0, u.default)(this, e), (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t))
            }
            return (0, m.default)(e, t), (0, f.default)(e, [{
                key: "_initialize",
                value: function (t) {
                    (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "_initialize", this).call(this, t), this.features = t.features || []
                }
            }, {
                key: "setMap",
                value: function (t) {
                    return (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "setMap", this).call(this, t), t && this._init(), this
                }
            }, {
                key: "_init",
                value: function () {
                    var t = this;
                    this._createSource().then(function () {
                        t.features.forEach(function (e) {
                            var n = new g.default({
                                id: e.id || e.type,
                                type: e.type,
                                sourceId: b.default.VECTOR_SOURCE_ID,
                                tileSize: 256
                            });
                            n.filter = e.filter, t.appendChild(n)
                        }), t._fire("layer", {})
                    })
                }
            }, {
                key: "_createSource",
                value: function () {
                    var t = this;
                    return this.map.getSource(b.default.VECTOR_SOURCE_ID) ? o.default.resolve() : (this.map.addSource(b.default.VECTOR_SOURCE_ID, {
                        tileSize: w.tileSize,
                        minZoom: w.minZoom,
                        maxZoom: w.maxZoom,
                        type: S.SOURCE_TYPE.vector,
                        data: {
                            vectorSrc: w.vectorSrc,
                            batchVectorSrc: w.batchVectorSrc
                        },
                        enc: !1
                    }), this.map.layerResource.loadStyle().then(function (e) {
                        var n = e.styleId,
                            i = e.iconInfo;
                        t.map.getSource(b.default.VECTOR_SOURCE_ID).setStyleAndIconInfo(n, i)
                    }))
                }
            }, {
                key: "_removeSource",
                value: function () {
                    if (this.map) {
                        !this.map.findLayer(function (t) {
                            return t instanceof e
                        }) && this.map.removeSource(b.default.VECTOR_SOURCE_ID)
                    }
                }
            }]), e
        }(g.default);
    e.default = E
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(40),
        _ = n(9),
        p = function (t) {
            function e(t, n, i) {
                (0, s.default)(this, e);
                var r = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this));
                return r.id = t, r.dispatcher = i, r.minZoom = n.minZoom || _.minZoom, r.maxZoom = n.maxZoom || _.maxZoom, r._items = {}, r
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "getDrawItems",
                value: function () {
                    return this._items
                }
            }, {
                key: "clear",
                value: function () {}
            }, {
                key: "onAdd",
                value: function (t) {
                    this.map = t
                }
            }, {
                key: "onRemove",
                value: function () {
                    this.map = null
                }
            }, {
                key: "update",
                value: function (t, e, n) {
                    this.transform = t, this.camera = e
                }
            }]), e
        }(v);
    e.default = p
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(6),
        u = i(l),
        c = function () {
            function t(e, n) {
                (0, o.default)(this, t), this.max = e, this.onRemove = n, this.reset()
            }
            return (0, s.default)(t, [{
                key: "reset",
                value: function () {
                    var t = this;
                    return u.default.forIn(this.data, function (e, n) {
                        t.onRemove(n)
                    }), this.data = {}, this.order = [], this
                }
            }, {
                key: "add",
                value: function (t, e) {
                    if (this.has(t)) this.order.splice(this.order.indexOf(t), 1), this.data[t] = e, this.order.push(t);
                    else if (this.data[t] = e, this.order.push(t), this.order.length > this.max) {
                        var n = this.get(this.order[0]);
                        n && this.onRemove(n)
                    }
                    return this
                }
            }, {
                key: "has",
                value: function (t) {
                    return t in this.data
                }
            }, {
                key: "keys",
                value: function () {
                    return this.order
                }
            }, {
                key: "get",
                value: function (t) {
                    if (!this.has(t)) return null;
                    var e = this.data[t];
                    return delete this.data[t], this.order.splice(this.order.indexOf(t), 1), e
                }
            }, {
                key: "getWithoutRemoving",
                value: function (t) {
                    return this.has(t) ? this.data[t] : null
                }
            }, {
                key: "remove",
                value: function (t) {
                    if (!this.has(t)) return this;
                    var e = this.data[t];
                    return delete this.data[t], this.onRemove(e), this.order.splice(this.order.indexOf(t), 1), this
                }
            }, {
                key: "setMaxSize",
                value: function (t) {
                    for (this.max = t; this.order.length > this.max;) {
                        var e = this.get(this.order[0]);
                        e && this.onRemove(e)
                    }
                    return this
                }
            }]), t
        }();
    e.default = c
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(55),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(155),
        m = i(p),
        y = n(235),
        g = i(y),
        x = n(139),
        b = i(x),
        S = n(6),
        w = n(9),
        E = function (t) {
            function e(t, n, i) {
                (0, u.default)(this, e);
                var r = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t, n, i));
                return r._metaData = null, r._initialize(), r.workerOptions = S.extend({
                    source: r.getUniqueId(),
                    tileSize: r.tileSize
                }, n.workerOptions), r
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "_initialize",
                value: function () {}
            }, {
                key: "load",
                value: function () {
                    var t = this;
                    this._loadOriginData(function () {
                        t._fire("data", {
                            dataType: "source",
                            sourceDataType: "metadata"
                        })
                    })
                }
            }, {
                key: "onAdd",
                value: function (t) {
                    this.map = t, this.load()
                }
            }, {
                key: "getMetaData",
                value: function () {
                    return this._metaData
                }
            }, {
                key: "update",
                value: function (t, e, n) {
                    this.transform = t;
                    var i = new b.default(0, 0, 0, 0);
                    this.addItem(i)
                }
            }, {
                key: "addItem",
                value: function (t) {
                    this.addTile(t, null, null)
                }
            }, {
                key: "_loadOriginData",
                value: function (t) {
                    var e = this;
                    this._fire("dataloading", {
                        dataType: "source"
                    }), this._updateWorkerData(function (n) {
                        e.reload(), e.transform && e.update(e.transform), t && t()
                    })
                }
            }, {
                key: "_updateWorkerData",
                value: function (t) {
                    var e = this,
                        n = S.extend({}, this.workerOptions),
                        i = this._data;
                    n.data = (0, o.default)(i), this._onLoadDataStart(i), this.workerID = this.dispatcher.send(this.type + ".loadData", n, function (n, i) {
                        n ? (e._onLoadDataError(n), t(n)) : (e._loaded = !0, e._metaData = i, e._onLoadDataEnd(), t(null))
                    }, this.workerID)
                }
            }, {
                key: "_onLoadDataStart",
                value: function (t) {}
            }, {
                key: "_onLoadDataEnd",
                value: function () {}
            }, {
                key: "_onLoadDataError",
                value: function (t) {
                    this._fire("error", {
                        error: t
                    })
                }
            }, {
                key: "addTile",
                value: function (t, e, n) {
                    var i = this._items[t.id];
                    return i || ((i = this._cache.get(t.id)) ? (this._items[t.id] = i, i) : (i = new m.default(t, this.tileSize, this.maxZoom, this.transform, this.camera), this._items[t.id] = i, t.z <= w.maxDataZoom && this.loadTile(i, e, n ? n.bind(this) : this._tileLoaded.bind(this, i)), i))
                }
            }, {
                key: "loadTile",
                value: function (t, e, n) {
                    var i = {
                        type: this.type,
                        uid: t.uid,
                        coord: t.coord,
                        zoom: t.coord.z,
                        maxZoom: this.maxZoom,
                        tileSize: this.tileSize,
                        source: this.getUniqueId()
                    };
                    t.workerID = this.dispatcher.send("loadTile", i, function (e, i) {
                        if (t.clear(), !t.aborted) return e || !i ? void(t.state = p.TILE_STATE.loaded) : (t.setData(i), n(null))
                    }, this.workerID)
                }
            }, {
                key: "abortTile",
                value: function (t) {
                    t.aborted = !0
                }
            }, {
                key: "unloadTile",
                value: function (t) {
                    t.clear(), this.dispatcher.send("removeTile", {
                        uid: t.uid,
                        type: this.type,
                        source: this.getUniqueId()
                    }, function () {}, t.workerID)
                }
            }, {
                key: "onRemove",
                value: function () {
                    this.dispatcher.broadcast("removeSource", {
                        type: this.type,
                        source: this.getUniqueId()
                    }, function () {}), this.map = null, this._metaData = null
                }
            }]), e
        }(g.default);
    e.default = E
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(37),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(104),
        f = function () {
            function t(e, n, i) {
                (0, s.default)(this, t), i && (this.loadGeoJSON = i), this._geoDataIndexes = {}, this.actor = e
            }
            return (0, u.default)(t, [{
                key: "loadVectorData",
                value: function (t, e) {
                    var n = t.source;
                    t.coord;
                    if (!this._geoDataIndexes[n]) return e(null, null);
                    var i = this._geoDataIndexes[n];
                    if (!i) return e(null, null);
                    e(null, i)
                }
            }, {
                key: "loadData",
                value: function (t, e) {
                    var n = function (n, i) {
                        var r = this;
                        return n ? e(n) : "object" !== (void 0 === i ? "undefined" : (0, o.default)(i)) ? e(new Error("Input data is not a valid GeoJSON object.")) : void this._indexData(t, i, function (n, i) {
                            if (n) return e(n);
                            r._geoDataIndexes[t.source] = i, e(null)
                        })
                    }.bind(this);
                    this.loadGeoJSON(t, n)
                }
            }, {
                key: "loadGeoJSON",
                value: function (t, e) {
                    if (t.url) c.getJSON(t.url, e);
                    else {
                        if ("string" != typeof t.data) return e(new Error("Input data is not a valid GeoJSON object."));
                        try {
                            return e(null, JSON.parse(t.data))
                        } catch (t) {
                            return e(new Error("Input data is not a valid GeoJSON object."))
                        }
                    }
                }
            }, {
                key: "removeSource",
                value: function (t) {
                    this._geoDataIndexes[t.source] && delete this._geoDataIndexes[t.source]
                }
            }, {
                key: "_indexData",
                value: function (t, e) {}
            }]), t
        }();
    e.default = f
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(364),
        _ = i(v),
        p = n(48),
        m = function (t) {
            function e(t, n, i) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n, i))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_initialize",
                value: function () {
                    this.type = p.SOURCE_TYPE.geojson
                }
            }, {
                key: "setData",
                value: function (t) {
                    var e = this;
                    return this._data = t, this._loadOriginData(function () {
                        e._fire("setData", {
                            dataType: "source",
                            sourceDataType: "content"
                        })
                    }), this
                }
            }, {
                key: "setStyle",
                value: function (t) {
                    var e = this;
                    return this._data.styles = t, this._loadOriginData(function () {
                        e._fire("setData", {
                            dataType: "source",
                            sourceDataType: "content"
                        })
                    }), this
                }
            }]), e
        }(_.default);
    e.default = m
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        var n = t[t.length - 1];
        return e === N.BASE_LAYER_TYPE.region ? t.cidx + String(1e5 * (n >> 16 & 65535)) : t.cidx + String(1e5 * (n >> 16 & 65535) + (65535 & n))
    }

    function o(t, e) {
        var n = void 0;
        return G.forIn(t, function (t, i) {
            i.minScaleVal <= e && i.maxScaleVal >= e && (n = i)
        }), n
    }

    function a(t, e) {
        if (e)
            for (var n = t[1], i = e.transX, r = e.transY, o = e.scale, a = 0; a < n.length; a += 2) n[a] = (n[a] + i) * o, n[a + 1] = (n[a + 1] + r) * o
    }

    function s(t, e) {
        var n = e.enc,
            i = e.imgUploadHook,
            r = e.childIdx,
            o = void 0 === r ? 0 : r;
        if (t instanceof Array) {
            var l = -1,
                u = [],
                c = [],
                f = [],
                d = [];
            return t.forEach(function (t, e) {
                var i = s(t, {
                    enc: n,
                    childIdx: e
                });
                0 === i.ret && (l = 0), u.push(i.img), c.push(i.ext_img), f = f.concat(i.features || []), d = d.concat(i.pois || [])
            }), i && (u.length || c.length) && i(u, c), {
                ret: l,
                img: u,
                ext_img: c,
                features: f,
                pois: d
            }
        }
        if (!t.data) return {};
        var h = n ? t : Y(B(t.data));
        if (0 !== h.ret) return {};
        i && i(h.img, h.ext_img);
        var v = j(U(h.features)) || [],
            _ = j(U(h.pois)) || [];
        return v.unshift([196613, [0, 0, 256, 0, 256, 256, 0, 256], "", 0]), v.forEach(function (e) {
            e[0] instanceof Array ? e.forEach(function (e) {
                a(e, t.tileTransform)
            }) : a(e, t.tileTransform), e.cidx = o, e.transform = t.tileTransform || {}
        }), _.forEach(function (e) {
            e[0] instanceof Array ? e.forEach(function (e) {
                a(e, t.tileTransform)
            }) : a(e, t.tileTransform), e.cidx = o, e.transform = t.tileTransform || {}
        }), h.features = v, h.pois = _, h
    }
    var l = n(32),
        u = i(l),
        c = n(21),
        f = i(c),
        d = n(143),
        h = i(d),
        v = n(10),
        _ = i(v),
        p = n(95),
        m = i(p),
        y = n(55),
        g = i(y),
        x = n(25),
        b = i(x),
        S = n(94),
        w = i(S),
        E = n(163),
        A = i(E),
        T = n(0),
        k = i(T),
        P = n(1),
        I = i(P),
        M = n(489),
        L = i(M),
        C = n(490),
        V = i(C),
        R = n(491),
        O = i(R),
        F = n(355),
        z = i(F),
        N = n(27),
        D = n(200),
        B = n(516).decode,
        U = n(518).restores,
        j = n(517).merge,
        Y = n(6).parseJson,
        G = n(6),
        W = n(369).getVectorStyle,
        X = n(6).uniqueId,
        Z = {
            65536: N.BASE_LAYER_TYPE.point,
            131072: N.BASE_LAYER_TYPE.line,
            196608: N.BASE_LAYER_TYPE.region,
            262144: N.BASE_LAYER_TYPE.label,
            327680: N.BASE_LAYER_TYPE.arrow
        },
        Q = function () {
            function t(e) {
                (0, k.default)(this, t), this.uid = e.uid, this.coord = e.coord, this.dataZoom = e.coord.z, this._needUploadTileImage = !1, this._billboardFeatures = [];
                var n = e.styleId;
                this.styleId = n, this.parse = (0, D.isDefaultStyle)(n) ? this.parseForDefaultStyle.bind(this) : this.parseForCustomStyle.bind(this)
            }
            return (0, I.default)(t, [{
                key: "parseForCustomStyle",
                value: function (t, e, n, i, r, o, a) {
                    var s = this,
                        l = this.coord.id,
                        u = this.parseOriginData(t, e, n, i, null, a),
                        c = u.layerstiles,
                        f = u.jsonData;
                    if (!c || !f) return void o(null, null);
                    var d = c.point && c.point[l],
                        h = c.label && c.label[l],
                        v = d && d.reduce(function (t, e) {
                            return t + (e && e.datas && e.datas[0].textName)
                        }, "") || "",
                        _ = h && h.reduce(function (t, e) {
                            return t + (e && e.roadName)
                        }, "") || "",
                        p = v + _,
                        y = new A.default(p.split("")),
                        x = (0, w.default)(y),
                        S = this.getOriginalGroundFeatures(f.features, !0),
                        E = (0, L.default)(S.ranks, l);
                    c[N.BASE_LAYER_TYPE.base] = {}, c[N.BASE_LAYER_TYPE.base][l] = E;
                    var T = (0, V.default)(S.buildings, l);
                    c[N.BASE_LAYER_TYPE.building3d] = {}, c[N.BASE_LAYER_TYPE.building3d][l] = T, new b.default(function (t) {
                        var e = "";
                        s._needUploadTileImage && f.img && (e = {
                            tileImage64: f.img,
                            tileId: l,
                            billboardData: (0, g.default)(s._billboardFeatures)
                        }), r.send("uploadTileTexture", {
                            zoom: s.coord.z,
                            uid: s.uid,
                            billboard: e,
                            glyphs: x
                        }, function (e, n) {
                            if (e) console.error(e), t([{}, {}]);
                            else {
                                var i = JSON.parse(n.billboardMapping),
                                    r = JSON.parse(n.glyphMapping);
                                t([i, r])
                            }
                        })
                    }).then(function (t) {
                        var e = (0, m.default)(t, 2),
                            r = e[0],
                            a = e[1],
                            u = s.parseInstancePoint(c, l, n, {
                                glyphMapping: a,
                                billboardMapping: r
                            });
                        c[N.BASE_LAYER_TYPE.point] = c.point || {}, c[N.BASE_LAYER_TYPE.point][l] = c.point[l] || [], c[N.BASE_LAYER_TYPE.point][l].instance = u, c[N.BASE_LAYER_TYPE.label] = c.label || {}, c[N.BASE_LAYER_TYPE.label][l] = c.label[l] || [], c[N.BASE_LAYER_TYPE.label][l].instance = u, c = s.transferData(l, c), c.id = l, c.styleId = i.styleId, o(null, c)
                    })
                }
            }, {
                key: "transferData",
                value: function (t, e) {
                    var n = [];
                    return (0, _.default)(e).forEach(function (i) {
                        if (i === N.BASE_LAYER_TYPE.base) {
                            var r = e[i] && e[i][t];
                            if (!r) return;
                            e[i][t] = {
                                id: t,
                                indeices: {
                                    arrayBuffer: r.indeices.dataView,
                                    length: r.indeices.length
                                },
                                lineCount: r.lineCount,
                                size: r.size,
                                vertices: {
                                    arrayBuffer: r.vertices.dataView,
                                    attributes: r.vertices.attributes,
                                    bytesPerElement: r.vertices.bytesPerElement
                                },
                                vertiesCount: r.vertiesCount
                            }
                        } else if (i === N.BASE_LAYER_TYPE.region) delete e[N.BASE_LAYER_TYPE.region];
                        else if (i === N.BASE_LAYER_TYPE.line) delete e[N.BASE_LAYER_TYPE.line];
                        else if (i === N.BASE_LAYER_TYPE.building3d) {
                            var o = e[i] && e[i][t];
                            if (!o) return;
                            e[i][t] = {
                                id: t,
                                indeices: {
                                    arrayBuffer: o.indeices.dataView,
                                    length: o.indeices.length
                                },
                                size: o.size,
                                vertices: {
                                    arrayBuffer: o.vertices.dataView,
                                    attributes: o.vertices.attributes,
                                    bytesPerElement: o.vertices.bytesPerElement
                                }
                            }
                        } else if (i === N.BASE_LAYER_TYPE.arrow) delete e[N.BASE_LAYER_TYPE.arrow];
                        else if (i === N.BASE_LAYER_TYPE.point) {
                            var a = e[N.BASE_LAYER_TYPE.point] && e[N.BASE_LAYER_TYPE.point][t];
                            if (!a) return;
                            a.forEach(function (t) {
                                t.translate && !n.includes(t.translate.buffer) && n.push(t.translate.buffer), t.vertices && !n.includes(t.vertices.buffer) && n.push(t.vertices.buffer), t.datas && t.datas.forEach(function (t) {
                                    t.coords && (t.coords = new Int16Array(t.coords), n.push(t.coords.buffer)), t.icon_coords && (t.icon_coords = new Int16Array(t.icon_coords), n.push(t.icon_coords.buffer)), t.text_bounds && (t.text_bounds = new Int16Array(t.text_bounds), n.push(t.text_bounds.buffer)), t.text && t.text.forEach(function (t) {
                                        t.coords && (t.coords = new Int16Array(t.coords), n.push(t.coords.buffer))
                                    }), t.font_color && (t.font_color = new Uint8ClampedArray(t.font_color), n.push(t.font_color.buffer)), t.background_color && (t.background_color = new Uint8ClampedArray(t.background_color), n.push(t.background_color.buffer))
                                })
                            });
                            var s = e[N.BASE_LAYER_TYPE.point][t].instance;
                            (0, _.default)(s).forEach(function (t) {
                                "count" !== t && n.push(s[t].buffer)
                            })
                        } else if (i === N.BASE_LAYER_TYPE.label) {
                            var l = e[N.BASE_LAYER_TYPE.label] && e[N.BASE_LAYER_TYPE.label][t];
                            if (!l) return;
                            l.forEach(function (t) {
                                t.roads && t.roads.forEach(function (t) {
                                    t.datas && t.datas.forEach(function (t) {
                                        t.coords && (t.coords = new Int16Array(t.coords), n.push(t.coords.buffer)), t.text_bounds && (t.text_bounds = new Int16Array(t.text_bounds), n.push(t.text_bounds.buffer)), t.glyph_text_bounds && (t.glyph_text_bounds = new Int16Array(t.glyph_text_bounds), n.push(t.glyph_text_bounds.buffer)), t.font_color && (t.font_color = new Uint8ClampedArray(t.font_color), n.push(t.font_color.buffer)), t.background_color && (t.background_color = new Uint8ClampedArray(t.background_color), n.push(t.background_color.buffer))
                                    })
                                })
                            })
                        }
                    }), n.push(e[N.BASE_LAYER_TYPE.base][t].vertices.arrayBuffer.buffer), n.push(e[N.BASE_LAYER_TYPE.base][t].indeices.arrayBuffer.buffer), n.push(e[N.BASE_LAYER_TYPE.building3d][t].vertices.arrayBuffer.buffer), n.push(e[N.BASE_LAYER_TYPE.building3d][t].indeices.arrayBuffer.buffer), e.transferableList = n, e
                }
            }, {
                key: "getOriginalGroundFeatures",
                value: function (t, e) {
                    for (var n = this.dataZoom, i = {}, a = [], s = void 0, l = void 0, u = void 0, c = void 0, f = void 0, d = void 0, v = void 0, _ = void 0, p = 0, m = t.length; p < m; p++)
                        if (s = t[p], l = s[0], f = s[1], u = s[2], v = this.mapStyle.layerMeta[l], _ = v ? o(v.styles, n) : void 0)
                            if (196619 !== l) {
                                if (_ && _.color_fill[3]) {
                                    var y = o(v.styles, n + 1),
                                        g = o(v.styles, n - 1);
                                    c = v.name, d = r(s, v.type);
                                    var x = void 0;
                                    if (v.type !== N.BASE_LAYER_TYPE.region && v.type !== N.BASE_LAYER_TYPE.line) continue;
                                    if (f instanceof Array && f.length && "number" == typeof f[0] && (f = [f]), v.type === N.BASE_LAYER_TYPE.region);
                                    else if (v.type === N.BASE_LAYER_TYPE.line) {
                                        if (0 === _.width) continue;
                                        x = s[s.length - 2]
                                    }
                                    i[d] = i[d] || {};
                                    var b = i[d][c],
                                        S = {};
                                    if (v.type === N.BASE_LAYER_TYPE.line && "number" == typeof s[2] && (S.startDistance = s[2]), b)
                                        if (b.datas[0] instanceof Array || (b.datas = [b.datas]), f[0] instanceof Array)
                                            for (var w = 0, E = f.length; w < E; w++) b.datas.push(f[w]);
                                        else b.datas.push(f);
                                    else b = i[d][c] = {
                                        id: this.coord.id + "_" + c,
                                        layerId: l,
                                        layerName: c,
                                        type: v.type,
                                        datas: f,
                                        style: _,
                                        nextStyle: y,
                                        preStyle: g,
                                        zLevel: x,
                                        transform: s.transform,
                                        options: S
                                    }
                                }
                            } else u > 0 && a.push({
                                datas: f,
                                h: s[2] * (n >= 18 ? 2 : 1),
                                colorFill: _.color_fill,
                                colorSide: _.color_side,
                                transform: s.transform
                            });
                    return e && G.forIn(i, function (t, e) {
                        var n = (0, h.default)(e).sort(function (t, e) {
                            return t.style.layerseq - e.style.layerseq
                        });
                        i[t] = n
                    }), {
                        ranks: i,
                        buildings: a
                    }
                }
            }, {
                key: "parseOriginData",
                value: function (t, e, n, i, o, a) {
                    var l = this;
                    this.status = "parsing", this.data = e, this.mapStyle = i;
                    var u = this.coord.id,
                        c = {},
                        d = {};
                    z.default.setStyleTag(this.mapStyle.styleTag);
                    var h = s(e, {
                        enc: a,
                        imgUploadHook: o
                    });
                    if (0 !== h.ret) return {};
                    for (var v = h.features, _ = 0, p = v.length; _ < p; _++) {
                        var m = v[_],
                            y = m[0] instanceof Array ? m[0][0] : m[0];
                        if (!y) return void console.warn("featureId is not exist", y);
                        var g = 983040 & y;
                        c[Z[g]] ? c[Z[g]].push(m) : (c[Z[g]] = [], d[Z[g]] = {}, c[Z[g]].push(m))
                    }
                    var x = this.mapStyle.style;
                    return G.forIn(x, function (t, e) {
                        if (c[t]) {
                            for (var i = e.type, o = e.style, a = e.relyStyle, s = e.relyStyleField, v = c[t], _ = l.dataZoom, p = [], m = {}, y = 0, g = v.length; y < g; y++) {
                                var x = v[y],
                                    b = [];
                                if (x[0] instanceof Array)(b = l.parseRoadName(x, o, a, s, _, u, l.coord.tileSize)) && p.push(b);
                                else {
                                    var S = x[0],
                                        w = W(o, a, s, S, _);
                                    if (w) {
                                        if (i === N.BASE_LAYER_TYPE.point) {
                                            var E = "" + x[2],
                                                A = l.parsePoi(x, w, l.coord);
                                            if (!A) continue;
                                            m[E] = !0, b.push(A)
                                        } else if (x[1][0] instanceof Array) {
                                            var T = !0,
                                                k = !1,
                                                P = void 0;
                                            try {
                                                for (var I, M = (0, f.default)(x[1]); !(T = (I = M.next()).done); T = !0) {
                                                    var L = I.value,
                                                        C = {
                                                            coords: L
                                                        };
                                                    b.push(C)
                                                }
                                            } catch (t) {
                                                k = !0, P = t
                                            } finally {
                                                try {
                                                    !T && M.return && M.return()
                                                } finally {
                                                    if (k) throw P
                                                }
                                            }
                                        } else {
                                            var V = {
                                                coords: x[1]
                                            };
                                            b.push(V)
                                        }
                                        var R = {
                                            type: i,
                                            datas: b,
                                            id: u + "_" + y,
                                            rank: r(x, i)
                                        };
                                        p.push(R)
                                    }
                                }
                            }
                            if (i === N.BASE_LAYER_TYPE.point && h.pois && h.pois.length > 0 && h.ext_img)
                                for (var F = 0, z = h.pois.length; F < z; F++) {
                                    var D = h.pois[F],
                                        B = [],
                                        U = "" + D[2],
                                        j = D[0],
                                        Y = W(o, a, s, j, _);
                                    if (Y && !m[U]) {
                                        var G = l.parsePoi(D, Y, l.coord, {
                                            isExt: !0
                                        });
                                        if (G) {
                                            B.push(G);
                                            var X = {
                                                type: i,
                                                datas: B,
                                                isExt: !0,
                                                id: u + "_ext_" + F,
                                                rank: r(D, i)
                                            };
                                            p.push(X)
                                        }
                                    }
                                }
                            var Z = void 0;
                            switch (i) {
                                case N.BASE_LAYER_TYPE.point:
                                    Z = (0, O.default)(p, n);
                                    break;
                                default:
                                    Z = p
                            }
                            d[t][u] = Z
                        }
                    }), {
                        layerstiles: d,
                        jsonData: h
                    }
                }
            }, {
                key: "parseForDefaultStyle",
                value: function (t, e, n, i, r, o, a) {
                    function s() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        if (u && d) {
                            var e = this.parseInstancePoint(d, c, n, t);
                            d[N.BASE_LAYER_TYPE.point] = d.point || {}, d[N.BASE_LAYER_TYPE.point][c] = d.point[c] || [], d[N.BASE_LAYER_TYPE.point][c].instance = e, d[N.BASE_LAYER_TYPE.label] = d.label || {}, d[N.BASE_LAYER_TYPE.label][c] = d.label[c] || [], d[N.BASE_LAYER_TYPE.label][c].instance = e, d = this.transferData(c, d), d.id = c, o(null, d)
                        }
                    }
                    var l = this,
                        u = !1,
                        c = this.coord.id,
                        f = this.parseOriginData(t, e, n, i, function (t, e) {
                            t ? r.send("uploadTileImage", {
                                zoom: l.coord.z,
                                uid: l.uid,
                                tileId: c,
                                imgBase64: t,
                                extImgBase64: e
                            }, function (t, e) {
                                e && (u = !0, s.call(l, e))
                            }) : u = !0
                        }, a),
                        d = f.layerstiles,
                        h = f.jsonData;
                    if (!d || !h) return void o(null, null);
                    var v = this.getOriginalGroundFeatures(h.features, !0),
                        _ = (0, L.default)(v.ranks, c);
                    d[N.BASE_LAYER_TYPE.base] = {}, d[N.BASE_LAYER_TYPE.base][c] = _;
                    var p = (0, V.default)(v.buildings, c);
                    d[N.BASE_LAYER_TYPE.building3d] = {}, d[N.BASE_LAYER_TYPE.building3d][c] = p, s.call(this)
                }
            }, {
                key: "parseInstancePoint",
                value: function (t, e, n, i) {
                    var r = this,
                        o = 0,
                        a = i.extOffset,
                        s = void 0 === a ? 0 : a,
                        l = i.yOffsetList,
                        c = void 0 === l ? [] : l,
                        f = i.glyphMapping,
                        d = i.billboardMapping,
                        h = [],
                        v = [],
                        _ = [],
                        p = [],
                        y = [],
                        g = [],
                        x = t.point && t.point[e] || [],
                        b = t.point && t.point[e].filter(function (t) {
                            return t && t.datas && t.datas[0] && t.datas[0].icon_coords
                        }) || [],
                        S = [];
                    return t.label && t.label[e].forEach(function (t) {
                        S = S.concat(t.roads)
                    }), x.forEach(function (t) {
                        var e = t.datas[0];
                        if (e.coords.length)
                            for (var i = e.text, a = e.text_bounds, l = void 0, x = e.cidx || 0, b = 0, S = i.length; b < S; b++) {
                                l = 2 === S ? a.slice(4 * (1 - b), 4 * (1 - b) + 4) : a.slice(4 * b, 4 * b + 4);
                                var E = 0;
                                if (E = t.isExt ? c[x + s] || 0 : c[x] || 0, l[1] += E, !(l[2] < 10 || l[3] < 10 || 0 === l.length)) {
                                    var A = i[b],
                                        T = (0, m.default)(A.coords, 2),
                                        k = T[0],
                                        P = T[1],
                                        I = A.centerOffset,
                                        M = l[2] / n.scale,
                                        L = l[3] / n.scale,
                                        C = {
                                            x: M / 2,
                                            y: L / 2
                                        };
                                    if (I && (C = {
                                            x: M / 2 - I.x,
                                            y: L / 2 - I.y
                                        }), (0, D.isDefaultStyle)(r.styleId)) h.push(k, -P, 0), v.push(M, L, C.x, C.y), _.push.apply(_, (0, u.default)(l)), p.push(0, 1, 0, 1), A.textSymbolIndexList = [o++];
                                    else if (e.isBillboard) {
                                        var V = d && d[A.text];
                                        h.push(k, -P, 0), v.push(M, L, C.x, C.y), _.push(V.x, V.y, V.width, V.height), p.push(0, 1, -1, 1), y.push.apply(y, (0, u.default)(e.font_color)), g.push.apply(g, (0, u.default)(e.stroke_color)), A.textSymbolIndexList = [o++]
                                    } else "center" === e.text_align && function () {
                                        var t = new Uint16Array(A.text.length),
                                            n = A.text.length,
                                            i = [0],
                                            r = 0;
                                        (0, w.default)(A.text).forEach(function (t) {
                                            var n = e.font_size / f[t].fontSize;
                                            i.push(i[i.length - 1] + f[t].width * n), r = Math.max(r, f[t].height * n)
                                        });
                                        var a = i[n],
                                            s = r,
                                            l = Math.max(1, a / M, s / L);
                                        M = a, L = s, C = {
                                            x: I ? M / 2 - I.x * l : M / 2,
                                            y: I ? L / 2 - I.y * l : L / 2
                                        };
                                        for (var c = 0; c < n; c++) {
                                            var d = f[A.text[c]],
                                                m = e.font_size / d.fontSize;
                                            h.push(k, -P, 0), v.push(d.width * m, d.height * m, C.x - i[c], C.y), _.push(d.x, d.y, d.width, d.height), p.push(0, 1, e.isBillboard ? -1 : 0, 1), y.push.apply(y, (0, u.default)(e.font_color)), g.push.apply(g, (0, u.default)(e.stroke_color)), t[c] = o++
                                        }
                                        A.textSymbolIndexList = t
                                    }();
                                    A.instance_trans = [k, -P], A.instance_coords = [M, L, C.x, C.y]
                                }
                            }
                    }), b.forEach(function (t) {
                        var e = n.scale,
                            i = n.info,
                            r = t.datas[0];
                        if (r && r.icon && r.icon_coords) {
                            var a = i[String(r.icon)];
                            if (!a) return;
                            var s = a.width / e / 2,
                                l = a.height / e / 2,
                                u = r.icon_coords[0],
                                c = -r.icon_coords[1];
                            h.push(u, c, 0), v.push(2 * s, 2 * l, s, l), _.push(a.left, a.bottom, a.right - a.left, a.top - a.bottom), p.push(0, 1, 1, 1), y.push(1, 1, 1, 1), g.push(0, 0, 0, 0), t.iconSymbolIndex = o++
                        }
                    }), S.forEach(function (t) {
                        var e = t.datas[0];
                        if (e) {
                            var n = e.text_bounds;
                            n[1] += c[e.cidx] || 0;
                            var i = null;
                            if (i = e.isBillboard && e.font_size ? {
                                    w: n[2] / 1.5,
                                    h: n[3] / 1.5
                                } : {
                                    w: e.font_size,
                                    h: e.font_size
                                }, h.push(e.coords[0], -e.coords[1], 1), v.push(i.w, i.h, i.w / 2, i.h / 2), (0, D.isDefaultStyle)(r.styleId)) _.push(n[0], n[1], n[2], n[3]), p.push(0, 1, 0, 1);
                            else if (e.isBillboard) {
                                var a = d && d[e.text];
                                e.text_bounds = [a.x, a.y, a.width, a.height], t.datas[1].text_bounds = [a.x, a.y, a.width, a.height], _.push(a.x, a.y, a.width, a.height), p.push(0, 1, -1, 1), y.push(1, 1, 1, 1), g.push(0, 0, 0, 0)
                            } else {
                                var s = f[e.text];
                                e.glyph_text_bounds = [s.x, s.y, s.width, s.height], t.datas[1].glyph_text_bounds = [s.x, s.y, s.width, s.height], _.push(s.x, s.y, s.width, s.height), p.push(0, 1, 0, 1), y.push.apply(y, (0, u.default)(e.font_color)), g.push.apply(g, (0, u.default)(e.stroke_color))
                            }
                            t.roadSymbolIndex = o++
                        }
                    }), {
                        instanceTransTypeArray: new Float32Array(h),
                        instanceCoordsTypeArray: new Float32Array(v),
                        instanceTextBoundsTypeArray: new Float32Array(_),
                        instanceInfosTypeArray: new Float32Array(p),
                        instanceColorsTypeArray: new Uint8ClampedArray(y),
                        instanceStrokeColorsTypeArray: new Uint8ClampedArray(g),
                        count: p.length / 4
                    }
                }
            }, {
                key: "parsePoi",
                value: function (t, e, n, i) {
                    var r = n.tileSize,
                        o = {};
                    o.cidx = t.cidx, o.coords = t[1], o.text = [], o.text_mix = t[3] || 0, o.text_align = "center", o.text_bounds = t[5], o.font_size = e.font_size, o.font_color = e.font_color ? [].concat((0, u.default)(e.font_color.slice(0, 3)), [255 * e.font_color[3]]) : [0, 0, 0, 0], o.stroke_color = e.background_color ? [].concat((0, u.default)(e.background_color.slice(0, 3)), [255 * e.background_color[3]]) : [0, 0, 0, 0];
                    var a = t.transform,
                        s = a.transX,
                        l = void 0 === s ? 0 : s,
                        c = a.transY,
                        f = void 0 === c ? 0 : c,
                        d = a.scale,
                        h = void 0 === d ? 1 : d,
                        v = (0 + l) * h,
                        _ = (r + l) * h,
                        p = (0 + f) * h,
                        m = (r + f) * h,
                        y = t[2];
                    switch (o.textName = y, e.font_weight = e.font_weight ? e.font_weight : "", e.font_family = e.font_family ? e.font_family : "", e.effect) {
                        case 5:
                            e.sidewidth = e.effect_size + 1;
                            break;
                        case 6:
                            o.isBillboard = !0, this._needUploadTileImage = !0;
                        case 1:
                        case 2:
                        default:
                            e.background_color = null, e.sidewidth = 0
                    }
                    if (e.icon_offset && "65535" !== e.icon_offset && "-1" !== e.icon_offset && 6 !== e.effect) {
                        var g = e.icon_offset;
                        o.icon = g, o.icon_coords = [t[1][0], t[1][1]], o.coords.shift(), o.coords.shift(), i && i.isExt && e.font_size > 0 && 0 === o.coords.length && (o.coords.push(o.icon_coords[0]), o.coords.push(o.icon_coords[1] + (8 + e.font_size / 2 + 2) * h), /\//.test(o.textName) && (o.coords.push(o.icon_coords[0]), o.coords.push(o.coords[1] + (e.font_size + 2) * h)))
                    }
                    if (o.coords[0] < v || o.coords[0] >= _ || o.coords[1] < p || o.coords[1] >= m) return null;
                    if (!o.font_size || void 0 === y || "@" === y) return o;
                    var x = y.toString(),
                        b = o.isBillboard ? [x] : x.split(/\//),
                        S = null;
                    o.icon_coords ? S = {
                        x: o.icon_coords[0],
                        y: o.icon_coords[1]
                    } : 2 === b.length && (S = {
                        x: (o.coords[0] + o.coords[2]) / 2,
                        y: (o.coords[1] + o.coords[3]) / 2
                    });
                    for (var w = 0, E = b.length; w < E; w++) {
                        var A = o.coords[2 * w],
                            T = o.coords[2 * w + 1],
                            k = o.text_bounds,
                            P = null;
                        P = 2 === E ? k.slice(4 * (1 - w), 4 * (1 - w) + 4) : k.slice(4 * w, 4 * w + 4);
                        var I = S ? {
                                x: (A - S.x) / h,
                                y: (T - S.y) / h
                            } : null,
                            M = {
                                text: b[w],
                                coords: S ? [S.x, S.y] : [A, T],
                                centerOffset: I,
                                rank: t[4]
                            };
                        if (!(A && T || 0 === A || 0 === T)) break;
                        o.text.push(M), o.isBillboard && this._billboardFeatures.push({
                            text: b[w],
                            bounds: P,
                            cidx: o.cidx
                        })
                    }
                    return o
                }
            }, {
                key: "parseRoadName",
                value: function (t, e, n, i, r, o, a) {
                    var s = a || 256,
                        l = [],
                        c = "",
                        f = t.transform,
                        d = f.transX,
                        h = void 0 === d ? 0 : d,
                        v = f.transY,
                        _ = void 0 === v ? 0 : v,
                        p = f.scale,
                        m = void 0 === p ? 1 : p,
                        y = (0 + h) * m,
                        g = (s + h) * m,
                        x = (0 + _) * m,
                        b = (s + _) * m,
                        S = t.length / 2 - .5,
                        w = void 0;
                    if (S % 1 == 0) w = t[S][1];
                    else {
                        var E = t[Math.floor(S)][1],
                            A = t[Math.ceil(S)][1];
                        w = [(E[0] + A[0]) / 2, (E[1] + A[1]) / 2]
                    }
                    if (w[0] < y || w[0] > g || w[1] < x || w[1] > b) return null;
                    for (var T = 0, k = t.length; T < k; T++) {
                        var P = t[T],
                            I = P[0],
                            M = W(e, n, i, I, r);
                        if (M) {
                            var L = [],
                                C = {};
                            C.coordScale = m, C.cidx = t.cidx, C.coords = P[1], C.text = P[2], C.text_mix = P[3] || 0, C.text_bounds = P[5], C.rank = P[4], C.isBillboard = "6" === String(M.effect), C.font_size = M.font_size, C.font_color = M.font_color ? [].concat((0, u.default)(M.font_color.slice(0, 3)), [255 * M.font_color[3]]) : [0, 0, 0, 0], C.stroke_color = M.background_color ? [].concat((0, u.default)(M.background_color.slice(0, 3)), [255 * M.background_color[3]]) : [0, 0, 0, 0], C.isBillboard && (this._needUploadTileImage = !0), c += P[2], M.font_weight = M.font_weight ? M.font_weight : "", M.font_family = M.font_family ? M.font_family : "", L.push(C), L.push(G.clone(C)), C.isBillboard && this._billboardFeatures.push({
                                text: C.text,
                                bounds: C.text_bounds,
                                cidx: C.cidx
                            }), l.push({
                                datas: L,
                                font_size: M.font_size,
                                id: o + "_" + X()
                            })
                        }
                    }
                    return {
                        roads: l,
                        roadName: c
                    }
                }
            }]), t
        }();
    t.exports = Q
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        var n = o(e.regionStyles, null, null, s, 10);
        n && (u[t] = "rgba(" + a(n.color_fill).join(",") + ")")
    }

    function r(t) {
        return u[t] || l
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.setBgColor = i, e.getBgColor = r;
    var o = n(369).getVectorStyle,
        a = n(6).colorToRGBA,
        s = "196613",
        l = "rgba(255, 255, 255, 1)",
        u = {}
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        var n = t.length,
            i = void 0;
        if (1 === n) e <= t[0].maxScaleVal && e >= t[0].minScaleVal && (i = a.objectClone(t[0]));
        else {
            var r = !0,
                s = !1,
                l = void 0;
            try {
                for (var u, c = (0, o.default)(t); !(r = (u = c.next()).done); r = !0) {
                    var f = u.value;
                    if (e <= f.maxScaleVal && e >= f.minScaleVal) {
                        i = a.objectClone(f);
                        break
                    }
                }
            } catch (t) {
                s = !0, l = t
            } finally {
                try {
                    !r && c.return && c.return()
                } finally {
                    if (s) throw l
                }
            }
        }
        return i
    }
    var r = n(21),
        o = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        a = (n(6).colorToRGBA, n(6));
    e.getVectorStyle = function (t, e, n, r, o) {
        var s = t[r];
        if (s) {
            var l = i(s, o);
            if (l && e && n && l[n]) {
                var u = e[l[n]];
                if (u) {
                    var c = i(u, o);
                    l = a.extend({}, l, c)
                }
            }
            return l
        }
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        return new f.default(function (n, i) {
            var r = t || 0,
                o = _.default.QMAPI_poi_icon_json + r,
                l = -1,
                c = "",
                f = null;
            m.default.support() ? m.default.get(o, function (t) {
                var i = JSON.parse(t);
                l = t ? i.version : l, c = e.replace("{id}", r).replace("{version}", l), h.default.getJSON(null, c, function (t, e, c) {
                    if (!t && e && e.data) {
                        if ("{}" !== (0, u.default)(e.data)) return s({
                            styleId: r,
                            version: l,
                            time: c
                        }), f = e.data, void m.default.set(o, (0, u.default)(e), function () {
                            n(f)
                        });
                        f = i.data
                    } else a({
                        styleId: r,
                        version: l,
                        err: t
                    }), console.error(t, e), f = i.data;
                    n(f)
                })
            }) : (c = e.replace("{id}", r).replace("{version}", l), h.default.getJSON(null, c, function (t, e, i) {
                return !t && e && e.data ? "{}" === (0, u.default)(e.data) ? (a({
                    styleId: r,
                    version: l,
                    err: null
                }), console.error(e), void n(null)) : (s({
                    styleId: r,
                    version: l,
                    time: i
                }), f = e.data, void n(f)) : (a({
                    styleId: r,
                    version: l,
                    err: t
                }), console.error(t, e), void n(null))
            }))
        })
    }

    function o(t) {
        var e = t.data,
            n = t.styleId,
            i = t.iconIndexSrc;
        return new f.default(function (t, o) {
            e ? m.default.support() ? m.default.set(g, (0, u.default)({
                data: e
            }), function () {
                t(e)
            }) : (console.error("兼容性错误：当前浏览器不支持LocalStorage。"), t(null)) : r(n, i).then(function (e) {
                m.default.support() ? m.default.set(g, (0, u.default)({
                    data: e
                }), function () {
                    t(e)
                }) : (console.error("兼容性错误：当前浏览器不支持LocalStorage。"), t(null))
            })
        })
    }

    function a(t) {
        var e = t.styleId,
            n = t.version,
            i = t.err;
        (0, y.qos)("ii", {
            styleId: e,
            version: n,
            error: i && i.status || 0
        })
    }

    function s(t) {
        var e = t.styleId,
            n = t.version,
            i = t.time;
        (0, y.qos)("ii", {
            styleId: e,
            version: n,
            loadTime: i
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.setPoiIconIndex = e.loadPoiIconIndexFile = void 0;
    var l = n(55),
        u = i(l),
        c = n(25),
        f = i(c),
        d = n(104),
        h = i(d),
        v = n(81),
        _ = i(v),
        p = n(103),
        m = i(p),
        y = n(46),
        g = _.default.QMAPI_poi_icon_json + "config";
    e.loadPoiIconIndexFile = r, e.setPoiIconIndex = o
}, , , , function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(21),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(40),
        m = i(p),
        y = n(6),
        g = i(y),
        x = function (t) {
            function e() {
                (0, u.default)(this, e);
                var t = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this));
                return t._rawGeometries = [], t._idSet = {}, t.geometries = [], t
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "_checkGeometries",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    return t
                }
            }, {
                key: "_assignIdToGeometry",
                value: function (t) {
                    var e = {};
                    return t.forEach(function (t) {
                        t.id && e[t.id] ? t.id = t.id + "-" + g.default.uniqueId() : t.id = t.id || g.default.uniqueId(), e[t.id] = !0
                    }), t
                }
            }, {
                key: "_updateGeometryIdSet",
                value: function (t) {
                    var e = {};
                    return t.forEach(function (t, n) {
                        e[t.id] = n
                    }), e
                }
            }, {
                key: "_transferFromGeometry",
                value: function (t) {
                    var e = g.default.clone(t);
                    return e.forEach(function (t) {
                        t.id = t.id || g.default.uniqueId()
                    }), e
                }
            }, {
                key: "setGeometries",
                value: function (t, e) {
                    this._checkGeometries(t, e), this._rawGeometries = this._assignIdToGeometry(t), this._idSet = this._updateGeometryIdSet(this._rawGeometries), this.geometries = this._transferFromGeometry(this._rawGeometries), this.emit("geometry_changed")
                }
            }, {
                key: "getGeometries",
                value: function () {
                    return this._rawGeometries
                }
            }, {
                key: "getGeometryById",
                value: function (t) {
                    var e = !0,
                        n = !1,
                        i = void 0;
                    try {
                        for (var r, a = (0, o.default)(this._rawGeometries); !(e = (r = a.next()).done); e = !0) {
                            var s = r.value;
                            if (s.id === t) return s
                        }
                    } catch (t) {
                        n = !0, i = t
                    } finally {
                        try {
                            !e && a.return && a.return()
                        } finally {
                            if (n) throw i
                        }
                    }
                    return null
                }
            }, {
                key: "updateGeometries",
                value: function (t, e) {
                    var n = this;
                    Array.isArray(t) || (t = [t]), e || this._checkGeometries(t, this.styles), this._assignIdToGeometry(t).forEach(function (t) {
                        n._idSet.hasOwnProperty(t.id) ? n._rawGeometries[n._idSet[t.id]] = t : (n._idSet[t.id] = n._rawGeometries.length, n._rawGeometries.push(t))
                    }), this._idSet = this._updateGeometryIdSet(this._rawGeometries), this.geometries = this._transferFromGeometry(this._rawGeometries), this.emit("geometry_changed")
                }
            }, {
                key: "add",
                value: function (t) {
                    var e = this;
                    return t ? (Array.isArray(t) || (t = [t]), this._checkGeometries(t, this.styles), this._assignIdToGeometry(t).forEach(function (t) {
                        e._idSet.hasOwnProperty(t.id) || (e._idSet[t.id] = e._rawGeometries.length, e._rawGeometries.push(t))
                    }), this.updateGeometries(this._rawGeometries, !0), this) : this
                }
            }, {
                key: "remove",
                value: function (t) {
                    if (!t) return this;
                    Array.isArray(t) || (t = [t]);
                    var e = this._rawGeometries.length,
                        n = this._rawGeometries.filter(function (e) {
                            return -1 === t.indexOf(e.id)
                        });
                    return n.length === e ? this : (this.setGeometries(n), this)
                }
            }, {
                key: "destroy",
                value: function () {
                    this._rawGeometries = [], this._idSet = {}, this.geometries = []
                }
            }]), e
        }(m.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(36),
        s = i(a),
        l = n(31),
        u = n(431),
        c = i(u),
        f = n(41),
        d = {
            map: 0,
            screen: 1
        },
        h = {
            src: c.default,
            width: 34,
            height: 50,
            rotate: 0,
            offset: new f(0, 0),
            opacity: 1,
            faceTo: "screen"
        },
        v = function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, o.default)(this, t);
            var n = e.src,
                i = void 0 === n ? h.src : n,
                r = e.width,
                a = void 0 === r ? h.width : r,
                u = e.height,
                c = void 0 === u ? h.height : u,
                v = e.anchor,
                _ = e.rotate,
                p = void 0 === _ ? h.rotate : _,
                m = e.offset,
                y = void 0 === m ? h.offset : m,
                g = e.opacity,
                x = void 0 === g ? h.opacity : g,
                b = e.faceTo,
                S = void 0 === b ? h.faceTo : b;
            s.default.isNumber(a) ? a <= 0 && console.error("参数错误：MarkerStyle.width 取值要大于0，实际传入: " + a + ".") : new l.BaseTypeError("MarkerStyle.width", "number", a).error(), s.default.isNumber(c) ? c <= 0 && console.error("参数错误：MarkerStyle.height 取值要大于0，实际传入: " + c + ".") : new l.BaseTypeError("MarkerStyle.height", "number", c).error(), s.default.isString(i) || new l.BaseTypeError("MarkerStyle.src", "string", i).error(), v && !s.default.isObject(v) && new l.BaseTypeError("MarkerStyle.anchor", "object", v).error(), s.default.isNumber(p) ? p < 0 && console.error("参数错误：MarkerStyle.rotate 取值要大于等于0，实际传入: " + p + ".") : new l.BaseTypeError("MarkerStyle.rotate", "number", p).error(), s.default.isNumber(x) ? x < 0 && console.error("参数错误：MarkerStyle.opacity 取值要大于等于0，实际传入: " + x + ".") : new l.BaseTypeError("MarkerStyle.opacity", "number", x).error(), s.default.isString(S) || new l.BaseTypeError("MarkerStyle.faceTo", "string", S).error();
            var w = new Image;
            /^data:/.test(i) || (w.crossOrigin = "anonymous"), w.src = i, this.src = w.src, this.width = a, this.height = c, this.rotate = p, this.anchor = v || new f(this.width / 2, this.height), this.offset = y, this.opacity = x || 0, this.faceTo = S in d ? d[S] : d.screen
        };
    t.exports = v
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        if ((0, w.isSimple)(t)) {
            for (var e = [], n = t.length, i = 0; i < n; i++) {
                var o = void 0;
                if (i < n - 1) o = [t[i], t[i + 1]];
                else {
                    if (t[i].equals(t[0])) continue;
                    o = [t[i], t[0]]
                }
                e.push(o)
            }
            return e
        }
        return t.map(function (t) {
            return r(t)
        }).flat()
    }
    var o = n(10),
        a = i(o),
        s = n(2),
        l = i(s),
        u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(4),
        v = i(h),
        _ = n(11),
        p = i(_),
        m = n(3),
        y = i(m),
        g = n(158),
        x = i(g),
        b = n(105),
        S = n(27),
        w = n(234),
        E = n(201),
        A = i(E),
        T = n(377),
        k = i(T),
        P = n(31),
        I = n(36),
        M = i(I),
        L = n(6),
        C = i(L),
        V = n(140).PolygonStyle,
        R = n(140).ExtrudablePolygonStyle,
        O = M.default.isValidColor,
        F = M.default.isNumber,
        z = function (t) {
            function e(t) {
                (0, c.default)(this, e);
                var n = (0, v.default)(this, (e.__proto__ || (0, l.default)(e)).call(this, t));
                return n._createSubOverlay(t), n
            }
            return (0, y.default)(e, t), (0, d.default)(e, [{
                key: "_initialize",
                value: function () {
                    this._childGeometryOverlays = []
                }
            }, {
                key: "_setGeometryType",
                value: function () {
                    this._geometryType = b.GEOMETRY_TYPES.POLYGON, this._layerType = S.RENDER_LAYER_TYPE.polygon, this._className = "MultiPolygon"
                }
            }, {
                key: "_checkGeometries",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    t.forEach(function (t, e) {
                        t ? t.styleId || (t.styleId = "default") : console.error("MultiPolygon.geometries: 希望传入PolygonGeometry数组，实际第" + e + "元素不存在！"), t.paths && ((0, w.isSimple)(t.paths) || (0, w.isPart)(t.paths) || (0, w.isComplex)(t.paths)) || console.error("MultiPolygon.geometries: 希望传入PolygonGeometry数组，实际第" + e + "元素的paths属性无效！")
                    })
                }
            }, {
                key: "_getDefaultStyle",
                value: function () {
                    return new V
                }
            }, {
                key: "_checkStyles",
                value: function (t) {
                    (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "_checkStyles", this).call(this, t), (0, a.default)(t).forEach(function (e) {
                        var n = t[e];
                        n && (n instanceof V || n instanceof R) ? n instanceof V ? O(n.color) ? O(n.borderColor) || console.error("MultiPolygon.styles: 样式id ", e, " 对应的PolygonStyle.borderColor属性无效", n) : console.error("MultiPolygon.styles: 样式id ", e, " 对应的PolygonStyle.color属性无效", n) : n instanceof R && (O(n.color) ? O(n.borderColor) ? (!F(n.extrudeHeight) || n.extrudeHeight <= 0) && console.error("MultiPolygon.styles: 样式id ", e, " 对应的ExtrudablePolygonStyle.extrudeHeight属性无效", n) : console.error("MultiPolygon.styles: 样式id ", e, " 对应的ExtrudablePolygonStyle.borderColor属性无效", n) : console.error("MultiPolygon.styles: 样式id ", e, " 对应的ExtrudablePolygonStyle.color属性无效", n)) : console.error("MultiPolygon.styles: 样式id ", e, "希望传入PolygonStyle或ExtrudablePolygonStyle实例，实际传入：", n)
                    })
                }
            }, {
                key: "_createSubOverlay",
                value: function (t) {
                    var e = this._extractSubStyles(),
                        n = this._extractSubGeometries(),
                        i = new k.default({
                            id: t.id ? t.id + "_border_line" : "",
                            map: t.map,
                            styles: e,
                            geometries: n
                        });
                    this._childGeometryOverlays.push(i)
                }
            }, {
                key: "_extractSubGeometries",
                value: function () {
                    var t = this;
                    return this.geometries.reduce(function (e, n) {
                        var i = t.styles[n.styleId] || t.styles.default;
                        if (i && i.showBorder && i instanceof V) {
                            var r = (0, w.getBorderPolyline)(n.paths);
                            e.push({
                                styleId: n.styleId,
                                paths: r
                            })
                        }
                        return e
                    }, [])
                }
            }, {
                key: "_extractSubStyles",
                value: function () {
                    var t = {};
                    return C.default.forIn(this.styles, function (e, n) {
                        n && n.showBorder && n instanceof V && (t[e] = new A.default({
                            id: e,
                            color: n.borderColor,
                            width: n.borderWidth,
                            lineCap: "round",
                            dashArray: n.borderDashArray
                        }))
                    }), t
                }
            }, {
                key: "setVisible",
                value: function (t) {
                    return t = Boolean(t), (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "setVisible", this).call(this, t), this._childGeometryOverlays.forEach(function (e) {
                        e.setVisible(t)
                    }), this
                }
            }, {
                key: "setMap",
                value: function (t) {
                    return (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "setMap", this).call(this, t), this._childGeometryOverlays.forEach(function (e) {
                        return e.setMap(t)
                    }), this
                }
            }, {
                key: "setZIndex",
                value: function (t) {
                    return F(t) ? t < 0 ? (console.error("zIndex希望设置为非负数,实际值为: " + t), this) : ((0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "setZIndex", this).call(this, t), this._childGeometryOverlays.forEach(function (e) {
                        return e.setZIndex(t)
                    }), this) : (new P.BaseTypeError("zIndex", "Number", t).error(), this)
                }
            }, {
                key: "updateGeometries",
                value: function (t, n) {
                    return t ? ((0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "updateGeometries", this).call(this, t, n), this._updateSubGeometries(), this) : this
                }
            }, {
                key: "_updateSubGeometries",
                value: function () {
                    var t = this._extractSubGeometries();
                    this._childGeometryOverlays.forEach(function (e) {
                        return e.setGeometries(t)
                    })
                }
            }, {
                key: "_updateSubStyles",
                value: function () {
                    var t = this._extractSubStyles();
                    this._childGeometryOverlays.forEach(function (e) {
                        return e.setStyles(t)
                    }), this._updateSubGeometries()
                }
            }, {
                key: "setGeometries",
                value: function (t) {
                    return t ? ((0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "setGeometries", this).call(this, t), this._updateSubGeometries(), this) : this
                }
            }, {
                key: "setStyles",
                value: function (t) {
                    return t ? ((0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "setStyles", this).call(this, t), this._updateSubStyles(), this) : this
                }
            }, {
                key: "destroy",
                value: function () {
                    this._childGeometryOverlays.forEach(function (t) {
                        return t.destroy()
                    }), (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "destroy", this).call(this)
                }
            }, {
                key: "_getAllPoints",
                value: function () {
                    return this.getGeometries().map(function (t) {
                        return t.paths.flat(1 / 0)
                    }).flat()
                }
            }, {
                key: "_getAllSegments",
                value: function () {
                    return this.getGeometries().map(function (t) {
                        return r(t.paths)
                    }).flat()
                }
            }]), e
        }(x.default);
    t.exports = z
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        if ((0, k.isSimple)(t)) {
            for (var e = [], n = 0; n < t.length - 1; n++) {
                var i = [t[n], t[n + 1]];
                e.push(i)
            }
            return e
        }
        return t.map(function (t) {
            return r(t)
        }).flat()
    }
    var o = n(10),
        a = i(o),
        s = n(2),
        l = i(s),
        u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(4),
        v = i(h),
        _ = n(11),
        p = i(_),
        m = n(3),
        y = i(m),
        g = n(201),
        x = i(g),
        b = n(36),
        S = i(b),
        w = n(158),
        E = i(w),
        A = n(105),
        T = n(27),
        k = n(354),
        P = S.default.isValidColor,
        I = function (t) {
            function e(t) {
                return (0, c.default)(this, e), (0, v.default)(this, (e.__proto__ || (0, l.default)(e)).call(this, t))
            }
            return (0, y.default)(e, t), (0, d.default)(e, [{
                key: "_setGeometryType",
                value: function () {
                    this._geometryType = A.GEOMETRY_TYPES.POLYLINE, this._layerType = T.RENDER_LAYER_TYPE.polyline, this._className = "MultiPolyline"
                }
            }, {
                key: "_checkGeometries",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    t.forEach(function (t, e) {
                        t ? t.styleId || (t.styleId = "default") : console.error("MultiPolyline.geometries: 希望传入PolylineGeometry数组，实际第" + e + "元素不存在！"), t.paths && ((0, k.isSimple)(t.paths) || (0, k.isComplexLine)(t.paths)) || console.error("MultiPolyline.geometries: 希望传入PolylineGeometry数组，实际第" + e + "元素的paths属性无效！")
                    })
                }
            }, {
                key: "_getDefaultStyle",
                value: function () {
                    return new x.default
                }
            }, {
                key: "_checkStyles",
                value: function (t) {
                    (0, p.default)(e.prototype.__proto__ || (0, l.default)(e.prototype), "_checkStyles", this).call(this, t), (0, a.default)(t).forEach(function (e) {
                        var n = t[e];
                        n && n instanceof x.default ? n.width && n.width > 0 && n.width % 1 == 0 ? P(n.color) ? "borderWidth" in n && !(n.borderWidth >= 0 && n.borderWidth % 1 == 0) ? console.error("MultiPolyline.styles: 样式id ", e, " 对应的PolylineStyle.borderWidth属性无效", n) : "borderColor" in n && !P(n.borderColor) && console.error("MultiPolyline.styles: 样式id ", e, " 对应的PolylineStyle.borderColor属性无效", n) : console.error("MultiPolyline.styles: 样式id ", e, " 对应的PolylineStyle.color属性无效", n) : console.error("MultiPolyline.styles: 样式id ", e, " 对应的PolylineStyle.width属性无效", n) : console.error("MultiPolyline.styles: 样式id ", e, "希望传入PolylineStyle实例，实际传入：", n)
                    })
                }
            }, {
                key: "_getAllPoints",
                value: function () {
                    return this.getGeometries().map(function (t) {
                        return t.paths.flat(1 / 0)
                    }).flat()
                }
            }, {
                key: "_getAllSegments",
                value: function () {
                    return this.getGeometries().map(function (t) {
                        return r(t.paths)
                    }).flat()
                }
            }]), e
        }(E.default);
    t.exports = I
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = {
        init: function () {
            this.browser = this.searchString(this.dataBrowser) || "An unknown browser", this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || "an unknown version", this.OS = this.searchString(this.dataOS) || "an unknown OS"
        },
        searchString: function (t) {
            for (var e = 0; e < t.length; e++) {
                var n = t[e].string,
                    i = t[e].prop;
                if (this.versionSearchString = t[e].versionSearch || t[e].identity, n) {
                    if (-1 !== n.indexOf(t[e].subString)) return t[e].identity
                } else if (i) return t[e].identity
            }
        },
        searchVersion: function (t) {
            var e = t.indexOf(this.versionSearchString);
            if (-1 !== e) return parseFloat(t.substring(e + this.versionSearchString.length + 1))
        },
        dataBrowser: [{
            string: navigator.userAgent,
            subString: "Chrome",
            identity: "Chrome"
        }, {
            string: navigator.userAgent,
            subString: "OmniWeb",
            versionSearch: "OmniWeb/",
            identity: "OmniWeb"
        }, {
            string: navigator.vendor,
            subString: "Apple",
            identity: "Safari",
            versionSearch: "Version"
        }, {
            prop: self.opera,
            identity: "Opera"
        }, {
            string: navigator.vendor,
            subString: "iCab",
            identity: "iCab"
        }, {
            string: navigator.vendor,
            subString: "KDE",
            identity: "Konqueror"
        }, {
            string: navigator.userAgent,
            subString: "Firefox",
            identity: "Firefox"
        }, {
            string: navigator.vendor,
            subString: "Camino",
            identity: "Camino"
        }, {
            string: navigator.userAgent,
            subString: "Netscape",
            identity: "Netscape"
        }, {
            string: navigator.userAgent,
            subString: "MSIE",
            identity: "Explorer",
            versionSearch: "MSIE"
        }, {
            string: navigator.userAgent,
            subString: "Gecko",
            identity: "Mozilla",
            versionSearch: "rv"
        }, {
            string: navigator.userAgent,
            subString: "Mozilla",
            identity: "Netscape",
            versionSearch: "Mozilla"
        }],
        dataOS: [{
            string: navigator.platform,
            subString: "Win",
            identity: "Windows"
        }, {
            string: navigator.platform,
            subString: "Mac",
            identity: "Mac"
        }, {
            string: navigator.userAgent,
            subString: "iPhone",
            identity: "iPhone"
        }, {
            string: navigator.userAgent,
            subString: "Android",
            identity: "Android"
        }, {
            string: navigator.platform,
            subString: "Linux",
            identity: "Linux"
        }]
    };
    i.init(), e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.ScheduleTaskQueue = e.ScheduleTaskNode = void 0;
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(13),
        u = i(l);
    e.ScheduleTaskNode = function () {
        function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, o.default)(this, t), this.prev = null, this.next = null, this.callback = null, this._expirationTime = e.expirationTime || u.default.now() + 150
        }
        return (0, s.default)(t, [{
            key: "isTimeout",
            value: function () {
                return u.default.now() >= this._expirationTime
            }
        }, {
            key: "setCallback",
            value: function (t) {
                this.callback = t
            }
        }, {
            key: "runTask",
            value: function () {
                var t = null;
                try {
                    this.callback && (t = this.callback())
                } catch (t) {
                    console.error(t)
                }
                "function" == typeof t ? this.setCallback(t) : this.remove()
            }
        }, {
            key: "remove",
            value: function () {
                this.prev && (this.prev.next = this.next), this.next && (this.next.prev = this.prev), this.queue && this.queue.first === this && (this.queue.first = this.next), this.queue && this.queue.last === this && (this.queue.last = this.prev), this.prev = this.next = this.callback = this.queue = null
            }
        }, {
            key: "addToQueue",
            value: function (t) {
                this.queue = t, this.queue.last ? (this.queue.last.next = this, this.prev = this.queue.last, this.queue.last = this) : this.queue.last = this, this.queue.first || (this.queue.first = this)
            }
        }]), t
    }(), e.ScheduleTaskQueue = function t() {
        (0, o.default)(this, t), this.first = null, this.last = null
    }
}, function (t, e, n) {
    "use strict";

    function i() {
        return document.getElementsByTagName("head")[0]
    }

    function r() {
        return "cb" + (new Date).getTime().toString(36) + (y++).toString(36)
    }

    function o(t, e) {
        m.push({
            name: t,
            sender: e
        })
    }

    function a(t) {
        t.clearAttributes && t.clearAttributes(), t[v] = t.onerror = null, t.parentNode && t.parentNode.removeChild(t)
    }

    function s(t, e, n, r, a) {
        var s = null,
            l = !1,
            c = ["output=jsonp", "pf=jsapi", "ref=jsapi", "cb=" + p + "." + t],
            f = d.createElement("script");
        f.setAttribute("type", "text/javascript"), f.setAttribute("charset", a || "GBK"), f.async = !0, f.src = e + (-1 === e.indexOf("?") ? "?" : "&") + c.join("&"), f.onerror = function () {
            l = !0, r && r(), u(t)
        }, _[t] = function (t) {
            s = t
        }, f[v] = function () {
            h.test(this.readyState) && (u(t), s ? (s.id = t, n && n(s)) : l || r && r())
        };
        var m = i();
        m.insertBefore(f, m.firstChild), o(t, f)
    }

    function l(t, e, n, i) {
        return t || (t = r()), f(function () {
            u(t), s(t, e, n, i)
        }), t
    }

    function u(t) {
        if (t) {
            for (var e = 0, n = null, i = m.length; e < i; e++)
                if (m[e].name === t) {
                    n = m.splice(e, 1)[0];
                    break
                } n && a(n.sender), _[t] && delete _[t]
        }
    }
    var c = n(100),
        f = n(545).domReady,
        d = window.document,
        h = /loaded|complete|undefined/i,
        v = d.dispatchEvent ? "onload" : "onreadystatechange",
        _ = window[c]._svcb || (window[c]._svcb = {}),
        p = c + "._svcb",
        m = [],
        y = 0;
    e.send = l, e.cancel = u
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        switch (t.type) {
            case _.LIGHT_TYPE.POINT:
                return new S(t);
            case _.LIGHT_TYPE.DIRECTION:
                return new b(t);
            case _.LIGHT_TYPE.AMBIENT:
            default:
                return new x(t)
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(2),
        a = i(o),
        s = n(4),
        l = i(s),
        u = n(3),
        c = i(u),
        f = n(0),
        d = i(f),
        h = n(1),
        v = i(h);
    e.default = r;
    var _ = n(202),
        p = n(6),
        m = n(93),
        y = n(159),
        g = i(y),
        x = function () {
            function t(e) {
                var n = e.id,
                    i = e.color,
                    r = void 0 === i ? "#FFFFFF" : i,
                    o = e.intensity,
                    a = void 0 === o ? 1 : o,
                    s = e.type;
                (0, d.default)(this, t), this.id = n || (0, p.uniqueId)(), this.color = r, this.intensity = a, this.type = s
            }
            return (0, v.default)(t, [{
                key: "color",
                get: function () {
                    var t = this;
                    return this._color.map(function (e) {
                        return e * t.intensity
                    })
                },
                set: function (t) {
                    this._color = new g.default(t, {
                        max: 1
                    }).toArray().slice(0, 3)
                }
            }]), t
        }(),
        b = function (t) {
            function e(t) {
                (0, d.default)(this, e);
                var n = (0, l.default)(this, (e.__proto__ || (0, a.default)(e)).call(this, t));
                return n.direction = t.direction, n
            }
            return (0, c.default)(e, t), (0, v.default)(e, [{
                key: "direction",
                get: function () {
                    return this._direction.elements
                },
                set: function (t) {
                    this._direction = new m.Vector3(t || [0, 0, -1]).normalize().scale(-1, -1, -1)
                }
            }]), e
        }(x),
        S = function (t) {
            function e(t) {
                (0, d.default)(this, e);
                var n = (0, l.default)(this, (e.__proto__ || (0, a.default)(e)).call(this, t));
                return n.position = t.position, n.height = t.height, n.attenuation = t.attenuation || [1, .045, .0075], n
            }
            return (0, c.default)(e, t), e
        }(x);
    ! function (t) {
        function e(t) {
            return (0, d.default)(this, e), (0, l.default)(this, (e.__proto__ || (0, a.default)(e)).call(this, t))
        }(0, c.default)(e, t)
    }(x)
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = t[0],
            n = [];
        return n = e ? e.color : [0, 0, 0], {
            lighting_uAmbientColor: n
        }
    }

    function o(t) {
        var e = [],
            n = [];
        return t.forEach(function (t) {
            e.push.apply(e, (0, l.default)(t.direction)), n.push.apply(n, (0, l.default)(t.color))
        }), t.length || (e.push(0, 0, 0), n.push(0, 0, 0)), {
            lighting_uDirDirection: e,
            lighting_uDirColor: n,
            lighting_uDirCount: t.length
        }
    }

    function a(t, e) {
        var n = [],
            i = [],
            r = [];
        return t.forEach(function (t) {
            var o = e.latLngToCenterLocalPixel(t.position),
                a = 1 / (0, S.getSpatialResolution)(e.zoom),
                s = a * t.height;
            n.push(o.x, o.y, s), i.push.apply(i, (0, l.default)(t.attenuation)), r.push.apply(r, (0, l.default)(t.color))
        }), t.length || (n.push(0, 0, 0), i.push(0, 0, 0), r.push(0, 0, 0)), {
            lighting_uPointPosition: n,
            lighting_uPointAtt: i,
            lighting_uPointColor: r,
            lighting_uPointCount: t.length
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = n(32),
        l = i(s),
        u = n(12),
        c = i(u),
        f = n(107),
        d = i(f),
        h = n(0),
        v = i(h),
        _ = n(1),
        p = i(_),
        m = n(562),
        y = i(m),
        g = n(202),
        x = n(381),
        b = i(x),
        S = n(83),
        w = n(93),
        E = n(6),
        A = i(E),
        T = function () {
            function t() {
                var e;
                (0, v.default)(this, t), this.lights = (e = {}, (0, d.default)(e, g.LIGHT_TYPE.AMBIENT, []), (0, d.default)(e, g.LIGHT_TYPE.DIRECTION, []), (0, d.default)(e, g.LIGHT_TYPE.POINT, []), e), this.setConfig(), this._uniforms = {}, this._cameraVer = null
            }
            return (0, p.default)(t, [{
                key: "setConfig",
                value: function (t) {
                    var e = this,
                        n = (0, c.default)({}, y.default, t),
                        i = n.active,
                        r = n.toneMapping,
                        o = n.intensity,
                        a = n.lightList,
                        s = n.shadowOptions;
                    return i ? this.enable() : this.disable(), this._toneMapping = r, this.setIntensity(o), this.clearLights(), a && a.forEach(function (t) {
                        e.addLight(new b.default(t))
                    }), this.setShadowOptions(s), this
                }
            }, {
                key: "addLight",
                value: function (t) {
                    var e = t.type;
                    return this.lights[e] && this.lights[e].length < 4 ? this.lights[e].push(t) : console.warn(e + "类型光源暂不支持，或已达上限，不可添加。"), this
                }
            }, {
                key: "removeLight",
                value: function (t) {
                    var e = this.lights[t.type],
                        n = e.findIndex(function (e) {
                            return e.id === t.id
                        });
                    return n >= 0 && e.splice(n, 1), this
                }
            }, {
                key: "clearLights",
                value: function () {
                    var t = this;
                    return A.default.forIn(this.lights, function (e) {
                        t.lights[e] = []
                    }), this
                }
            }, {
                key: "getLights",
                value: function () {
                    var t = [];
                    return A.default.forIn(this.lights, function (e, n) {
                        t.push.apply(t, (0, l.default)(n))
                    }), t
                }
            }, {
                key: "setIntensity",
                value: function (t) {
                    return this.intensity = (0, c.default)({
                        ambient: 0,
                        diffuse: 0,
                        specular: 0
                    }, this.intensity, t), this
                }
            }, {
                key: "getIntensity",
                value: function () {
                    return this.intensity
                }
            }, {
                key: "enable",
                value: function () {
                    return this.active = !0, this
                }
            }, {
                key: "disable",
                value: function () {
                    return this.active = !1, this
                }
            }, {
                key: "isActive",
                value: function () {
                    return this.active
                }
            }, {
                key: "setShadowOptions",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        e = t.lightId,
                        n = t.intensity,
                        i = void 0 === n ? 1 : n,
                        r = t.enabled,
                        o = void 0 !== r && r;
                    return this._shadowEnabled = o, this._shadowLightId = e, this._shadowIntensity = Math.max(0, Math.min(i, 1)), this
                }
            }, {
                key: "getShadowOptions",
                value: function () {
                    return {
                        enabled: this._shadowEnabled,
                        lightId: this._shadowLightId,
                        intensity: this._shadowIntensity
                    }
                }
            }, {
                key: "getShadowLight",
                value: function () {
                    return this._shadowEnabled && this.lights[g.LIGHT_TYPE.DIRECTION][this._getShadowLightIndex()]
                }
            }, {
                key: "_getShadowLightIndex",
                value: function () {
                    var t = this;
                    return this.lights[g.LIGHT_TYPE.DIRECTION].findIndex(function (e) {
                        return e.id === t._shadowLightId
                    })
                }
            }, {
                key: "_updateViewPos",
                value: function (t) {
                    t ? t.version !== this._cameraVer && (this._uniforms.lighting_uViewPos = t.getLookPosition().elements, this._cameraVer = t.version) : this._uniforms.lighting_uViewPos = [0, 0, 1e3]
                }
            }, {
                key: "getLightPVMatrix",
                value: function (t) {
                    var e;
                    if (!this.getShadowLight()) return new w.Matrix4;
                    var n = new w.Vector3(this.getShadowLight().direction),
                        i = new w.Vector3(n.elements).scale(3e3, 3e3, 3e3),
                        r = new w.Vector3(0, 0, 1);
                    n.equals(r) && (r = new w.Vector3(0, 1, 0));
                    var o = (e = new w.Matrix4).setLookAt.apply(e, (0, l.default)(i.elements).concat([0, 0, 0], (0, l.default)(r.elements)));
                    return (new w.Matrix4).setOrtho(t.left, t.right, t.bottom, t.top, 1, 6e3).scale(.75, .75, 1).multiply(o)
                }
            }, {
                key: "update",
                value: function (t) {
                    var e = t.camera,
                        n = t.transform,
                        i = t.view,
                        s = this.isActive(),
                        l = this.intensity,
                        u = this._toneMapping;
                    this._updateViewPos(e);
                    var f = r(this.lights[g.LIGHT_TYPE.AMBIENT]),
                        d = o(this.lights[g.LIGHT_TYPE.DIRECTION]),
                        h = a(this.lights[g.LIGHT_TYPE.POINT], n);
                    (0, c.default)(this._uniforms, {
                        lighting_uBase: [s, l.ambient, l.diffuse, l.specular],
                        lighting_uToneMapping: [u.enable, u.exposure],
                        lighting_uShadow: [this._shadowEnabled && this._shadowIntensity, this._getShadowLightIndex()],
                        lighting_uShadowLightPVMatrix: this.getLightPVMatrix(i).elements
                    }, f, d, h)
                }
            }, {
                key: "uniforms",
                get: function () {
                    return this._uniforms
                }
            }]), t
        }();
    e.default = T
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(387),
        m = i(p),
        y = n(442),
        g = i(y),
        x = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.shaderSource = g.default, n.shaderParams = {
                    getAttribLocation: ["a_position"],
                    getUniformLocation: ["u_matrix", "u_size", "u_texInfo", "u_opacity", "u_sampler"]
                }, n.vertices = new Uint8Array([0, 0, 0, 1, 1, 0, 1, 1]), n.indices = new Uint8Array([0, 1, 2, 2, 1, 3]), n
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "preDraw",
                value: function () {
                    (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "preDraw", this).call(this), this.buffers || (this.buffers = this.createBuffer(null, this.vertices, this.indices)), this.bindBuffer()
                }
            }, {
                key: "bindBuffer",
                value: function () {
                    var t = this.gl;
                    this.buffers.vertices.bind(), this.buffers.vertices.pointToAttrib({
                        location: this.a_position,
                        size: 2,
                        type: t.UNSIGNED_BYTE
                    }), this.buffers.indices.bind()
                }
            }, {
                key: "draw",
                value: function (t) {
                    var e = t.matrix,
                        n = t.size,
                        i = t.texInfo,
                        r = t.opacity,
                        o = this.gl;
                    o.uniformMatrix4fv(this.u_matrix, !1, e.elements), o.uniform1i(this.u_sampler, 0), o.uniform2f(this.u_size, n.width, n.height), o.uniform4f(this.u_texInfo, i.s, i.t, i.w, i.h), o.uniform1f(this.u_opacity, r), o.drawElements(o.TRIANGLES, this.buffers.length, o.UNSIGNED_BYTE, 0)
                }
            }, {
                key: "destroy",
                value: function () {
                    this.buffers && (this.buffers.vertices.delete(), this.buffers.indices.delete()), this.vertices = null, this.indices = null, (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "destroy", this).call(this)
                }
            }]), e
        }(m.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(72),
        m = i(p),
        y = [-1, -1, 1, -1, -1, 1, 1, 1],
        g = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.shaderParams = {
                    getAttribLocation: ["aClipSpacePosition"],
                    getUniformLocation: t.uniformList || []
                }, n.vertices = new Float32Array(y), n
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "preDraw",
                value: function () {
                    (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "preDraw", this).call(this), this.buffers || (this.buffers = this.createBuffer(null, this.vertices)), this.bindBuffer()
                }
            }, {
                key: "bindBuffer",
                value: function () {
                    var t = this.gl;
                    this.buffers.vertices.bind(), this.buffers.vertices.pointToAttrib({
                        location: this.aClipSpacePosition,
                        size: 2,
                        type: t.FLOAT
                    })
                }
            }, {
                key: "draw",
                value: function (t) {
                    var e = this.gl;
                    e.useProgram(e.program), this.setUniforms(t), e.drawArrays(e.TRIANGLE_STRIP, 0, 4)
                }
            }, {
                key: "setUniforms",
                value: function (t) {}
            }]), e
        }(m.default);
    e.default = g
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(11),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(72),
        g = i(y),
        x = n(51),
        b = n(73),
        S = n(82),
        w = i(S),
        E = n(92),
        A = n(6),
        T = i(A),
        k = function (t) {
            function e(t) {
                (0, u.default)(this, e);
                var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t)),
                    i = t.attribList || [],
                    r = t.uniformList || [];
                return n.shaderParams = {
                    getAttribLocation: i.concat(["positions", "instancePositions", "instancePositions64xyLow", "instanceSizes", "instanceInfos", "instancePickingColors", "instanceFrames", "instancePixelOffset"]),
                    getUniformLocation: r.concat(["uMatrix", "uCenter", "uZoom", "uPixelsPerMeter", "uResolution", "uProject_uCommonUnitsPerWorldUnit", "uProject_uCommonUnitsPerWorldUnit2", "picking_usePickingColor", "picking_zindex", "u_sizeScale", "u_sizeMinPixels", "u_sizeMaxPixels", "u_textureDim", "u_opacity", "u_sampler", "u_mapScale"])
                }, n.modelPositions = new Int16Array([-1, -1, 0, -1, 1, 0, 1, 1, 0, 1, -1, 0]), n.store = new x.Store("buffer", 128, 16, E.deleteInstanceCacllback), n.symbolManager = null, n
            }
            return (0, m.default)(e, t), (0, f.default)(e, [{
                key: "draw",
                value: function (t, e, n, i) {
                    var r = this.gl;
                    if (e && this.symbolManager.canvas) {
                        var o = t.center,
                            a = t.zoom,
                            s = t.getDistanceRatio(),
                            l = i.distanceScales,
                            u = (0, b.splitLatLngNumber)(o.lat),
                            c = (0, b.splitLatLngNumber)(o.lng);
                        r.useProgram(r.program), r.uniformMatrix4fv(this.uMatrix, !1, e.elements), r.uniform4f(this.uCenter, c.high, u.high, c.low, u.low), r.uniform1f(this.uZoom, a), r.uniform3f(this.uPixelsPerMeter, s, s, s), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit, l.pixelsPerDegree[0], l.pixelsPerDegree[1], l.pixelsPerDegree[2]), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit2, l.pixelsPerDegree2[0], l.pixelsPerDegree2[1], l.pixelsPerDegree2[2]), r.uniform2f(this.uResolution, t.width, t.height), r.uniform1f(this.picking_usePickingColor, i.usePicking ? 1 : 0), r.uniform1f(this.picking_zindex, i.picking_zindex || 0), r.uniform1f(this.u_sizeScale, 1), r.uniform1f(this.u_sizeMinPixels, 0), r.uniform1f(this.u_sizeMaxPixels, 1e3), r.uniform2f(this.u_textureDim, this.symbolManager.canvas.width, this.symbolManager.canvas.height), r.uniform1f(this.u_opacity, 1), r.uniform1f(this.u_mapScale, t.scale), this._onDraw(), this.drawTileInstance(n.uid, n)
                    }
                }
            }, {
                key: "drawTileInstance",
                value: function (t, e) {
                    var n = this.gl,
                        i = this.store,
                        r = !1;
                    if (i) {
                        if (i.exist(t)) {
                            var o = i.get(t).instanceBuffers;
                            this.isBufferChanged(o, e) && (r = !0)
                        } else i.set(t, this.createBuffer(t, e));
                        var a = i.get(t);
                        a.positions.bind(), a.positions.pointToAttrib({
                            location: this.positions,
                            size: 3,
                            type: n.SHORT
                        }), T.default.forIn(a.instanceBuffers, function (t, i) {
                            var o = i.buffer,
                                a = i.location,
                                s = i.size,
                                l = i.type;
                            o.bind(), r && (o.bufferData(e[t], {
                                usage: n.DYNAMIC_DRAW
                            }), i.data = e[t]), o.pointToAttrib({
                                location: a,
                                size: s,
                                type: l
                            }), n.vertexAttribDivisor(a, 1)
                        }), n.drawArraysInstanced(n.TRIANGLE_FAN, 0, 4, e.count), n.bindBuffer(n.ARRAY_BUFFER, null), n.vertexAttribDivisor(this.instancePositions, 0), n.vertexAttribDivisor(this.instancePositions64xyLow, 0), n.vertexAttribDivisor(this.instanceSizes, 0), n.vertexAttribDivisor(this.instanceInfos, 0), n.vertexAttribDivisor(this.instancePickingColors, 0), n.vertexAttribDivisor(this.instanceFrames, 0), n.vertexAttribDivisor(this.instancePixelOffset, 0), this._onDrawInstanceTile()
                    }
                }
            }, {
                key: "getInstanceConfig",
                value: function () {
                    var t = this.gl;
                    return {
                        instancePositionList: {
                            location: this.instancePositions,
                            size: 3,
                            type: t.FLOAT
                        },
                        instancePosition64xyLowList: {
                            location: this.instancePositions64xyLow,
                            size: 2,
                            type: t.FLOAT
                        },
                        instanceSizeList: {
                            location: this.instanceSizes,
                            size: 2,
                            type: t.UNSIGNED_SHORT
                        },
                        instanceInfoList: {
                            location: this.instanceInfos,
                            size: 4,
                            type: t.FLOAT
                        },
                        instancePickingColorList: {
                            location: this.instancePickingColors,
                            size: 3,
                            type: t.UNSIGNED_BYTE
                        },
                        instanceFrameList: {
                            location: this.instanceFrames,
                            size: 4,
                            type: t.UNSIGNED_SHORT
                        },
                        instancePixelOffsetList: {
                            location: this.instancePixelOffset,
                            size: 3,
                            type: t.FLOAT
                        }
                    }
                }
            }, {
                key: "createBuffer",
                value: function (t, e) {
                    var n = this.gl,
                        i = {
                            positions: null,
                            indices: null,
                            instanceBuffers: {}
                        };
                    if (this.modelPositions && (i.positions = new w.default(n, {
                            data: this.modelPositions
                        })), e) {
                        var r = this.getInstanceConfig();
                        T.default.forIn(r, function (t, r) {
                            i.instanceBuffers[t] = (0, o.default)({
                                data: e[t],
                                buffer: new w.default(n, {
                                    data: e[t],
                                    usage: n.DYNAMIC_DRAW
                                })
                            }, r)
                        })
                    }
                    return i
                }
            }, {
                key: "afterDraw",
                value: function () {
                    this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, null)
                }
            }, {
                key: "loadTexture",
                value: function () {
                    this.symbolManager.canvas && this.symbolManager.uploadToGPU({
                        textureIndex: 0,
                        minFilter: this.gl.LINEAR,
                        magFilter: this.gl.LINEAR,
                        wrapS: this.gl.CLAMP_TO_EDGE,
                        wrapT: this.gl.CLAMP_TO_EDGE,
                        premultiply: !0,
                        useMipmap: !1,
                        fliyY: !0
                    })
                }
            }, {
                key: "_onDraw",
                value: function () {}
            }, {
                key: "_onDrawInstanceTile",
                value: function () {}
            }, {
                key: "destroy",
                value: function () {
                    this.modelPositions = null, this.symbolManager = null, (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "destroy", this).call(this)
                }
            }]), e
        }(g.default);
    e.default = k
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return {
            x: t && t.width || 1,
            y: t && t.height || 1
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(12),
        a = i(o),
        s = n(10),
        l = i(s),
        u = n(2),
        c = i(u),
        f = n(0),
        d = i(f),
        h = n(1),
        v = i(h),
        _ = n(4),
        p = i(_),
        m = n(11),
        y = i(m),
        g = n(3),
        x = i(g),
        b = n(387),
        S = i(b),
        w = n(449),
        E = i(w),
        A = n(450),
        T = i(A),
        k = n(62),
        P = i(k),
        I = n(51),
        M = n(82),
        L = i(M),
        C = n(6),
        V = i(C),
        R = 1 / 16 / window.devicePixelRatio,
        O = function (t) {
            function e(t) {
                (0, d.default)(this, e);
                var n = (0, p.default)(this, (e.__proto__ || (0, c.default)(e)).call(this, t));
                return n.textCache = t.textCache, n.glyphManager = t.glyphManager, n.markerManager = t.markerManager, n.shaderSource = n.textCache ? T.default : E.default, n._store = new I.Store("buffer", 100, function (t) {
                    t.positions && t.positions.delete(), t.indices && t.indices.delete(), t.instanceBuffers && (0, l.default)(t.instanceBuffers).forEach(function (e) {
                        var n = t.instanceBuffers[e];
                        n.data = null, n.buffer.delete()
                    })
                }), n.shaderParams = {
                    getAttribLocation: ["a_Positions", "a_InstanceTrans", "a_InstanceCoords", "a_InstanceTextBounds", "a_InstanceInfo", "a_InstanceColors", "a_InstanceStrokeColors"],
                    getUniformLocation: ["u_matrix", "u_resolution", "u_fadeChange", "u_showPoint", "u_showLabel", "u_mapScale", "u_InstanceTileTextureOffset", "u_iconTextureResolution", "u_billboardTextureResolution", "u_textTextureResolution", "u_glyphTextureResolution", "u_SamplerGlyph", "u_SamplerText", "u_SamplerIcon", "u_SamplerMask", "u_asbackground", "u_gamma", "u_buffer", "u_maskScale"]
                }, n.positions = new Int16Array([-1, 1, 1, 1, -1, -1, 1, -1]), n.indices = new Uint8Array([0, 2, 1, 1, 2, 3]), n
            }
            return (0, x.default)(e, t), (0, v.default)(e, [{
                key: "setCommonUniforms",
                value: function (t, e) {
                    var n = this.gl;
                    n.uniform2f(this.u_resolution, t.width, t.height), n.uniform2f(this.u_billboardTextureResolution, r(this.markerManager.canvas).x, r(this.markerManager.canvas).y), n.uniform2f(this.u_textTextureResolution, r(this.textCache).x, r(this.textCache).y), n.uniform2f(this.u_glyphTextureResolution, r(this.glyphManager.canvas).x, r(this.glyphManager.canvas).y), n.uniform2f(this.u_iconTextureResolution, r(e.iconsLoader.img).x, r(e.iconsLoader.img).y), n.uniform1f(this.u_asbackground, e.asBackground ? 1 : 0), n.uniform1f(this.u_fadeChange, e.fadeChange || 0), n.uniform1f(this.u_maskScale, e.maskScale || 1), n.uniform1f(this.u_showPoint, !1 === e.showPoint ? 0 : 1), n.uniform1f(this.u_showLabel, !1 === e.showLabel ? 0 : 1), n.uniform1f(this.u_mapScale, t.scale), n.uniform1i(this.u_SamplerText, 0), n.uniform1i(this.u_SamplerGlyph, 2), n.uniform1f(this.u_gamma, R), n.uniform1f(this.u_buffer, .71)
                }
            }, {
                key: "draw",
                value: function (t, e, n, i) {
                    var r = this,
                        o = this.gl;
                    n && ((0, l.default)(n.textDataSet).length > 0 || (0, l.default)(n.poiDataSet).length > 0) && (o.useProgram(o.program), this.setCommonUniforms(t, i), o.uniform1i(this.u_SamplerIcon, 1), o.uniform1i(this.u_SamplerMask, 3), V.default.forIn(e, function (t, e) {
                        if (n.instanceSet[t] && !n.instanceSet[t].isIndoor && (!r.textCache || r.textCache.tiles[t])) {
                            var a = r.textCache && r.textCache.tiles[t] || {};
                            o.uniformMatrix4fv(r.u_matrix, !1, e.elements), o.uniform2f(r.u_InstanceTileTextureOffset, a.x || 0, a.y || 0), r.drawTileInstance(t, n.instanceSet[t], i.updateSubData)
                        }
                    }))
                }
            }, {
                key: "drawTileInstance",
                value: function (t, e, n) {
                    if (!(e.count < 1)) {
                        var i = this.gl,
                            r = this._store;
                        r.exist(t) || r.set(t, this.createBuffer(t, e));
                        var o = r.get(t);
                        o.positions.bind(), o.positions.pointToAttrib({
                            location: this.a_Positions,
                            size: 2,
                            type: i.SHORT
                        }), o.indices.bind(), V.default.forIn(o.instanceBuffers, function (t, r) {
                            var o = r.buffer,
                                a = r.location,
                                s = r.size,
                                l = r.type;
                            o.bind(), n && r.updatable && (o.bufferData(e[t], {
                                usage: i.DYNAMIC_DRAW
                            }), r.data = e[t]), o.pointToAttrib({
                                location: a,
                                size: s,
                                type: l
                            }), i.vertexAttribDivisor(a, 1)
                        }), i.drawElementsInstanced(i.TRIANGLES, this.indices.length, i.UNSIGNED_BYTE, 0, e.count), i.bindBuffer(i.ARRAY_BUFFER, null), i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, null), i.vertexAttribDivisor(this.a_InstanceTrans, 0), i.vertexAttribDivisor(this.a_InstanceCoords, 0), i.vertexAttribDivisor(this.a_InstanceTextBounds, 0), i.vertexAttribDivisor(this.a_InstanceInfo, 0), this.textCache || (i.vertexAttribDivisor(this.a_InstanceColors, 0), i.vertexAttribDivisor(this.a_InstanceStrokeColors, 0))
                    }
                }
            }, {
                key: "createBuffer",
                value: function (t, e) {
                    var n = this.gl,
                        i = {
                            positions: null,
                            indices: null,
                            instanceBuffers: {}
                        };
                    if (this.positions && (i.positions = new L.default(n, {
                            data: this.positions
                        })), this.indices && (i.indices = new L.default(n, {
                            target: n.ELEMENT_ARRAY_BUFFER,
                            data: this.indices
                        })), e) {
                        var r = {
                            instanceTransTypeArray: {
                                location: this.a_InstanceTrans,
                                size: 3,
                                type: n.FLOAT,
                                updatable: !0
                            },
                            instanceCoordsTypeArray: {
                                location: this.a_InstanceCoords,
                                size: 4,
                                type: n.FLOAT
                            },
                            instanceTextBoundsTypeArray: {
                                location: this.a_InstanceTextBounds,
                                size: 4,
                                type: n.FLOAT,
                                updatable: !0
                            },
                            instanceInfosTypeArray: {
                                location: this.a_InstanceInfo,
                                size: 4,
                                type: n.FLOAT,
                                updatable: !0
                            }
                        };
                        this.textCache || (r.instanceColorsTypeArray = {
                            location: this.a_InstanceColors,
                            size: 4,
                            type: n.UNSIGNED_BYTE
                        }, r.instanceStrokeColorsTypeArray = {
                            location: this.a_InstanceStrokeColors,
                            size: 4,
                            type: n.UNSIGNED_BYTE
                        }), V.default.forIn(r, function (t, r) {
                            i.instanceBuffers[t] = (0, a.default)({
                                data: e[t],
                                buffer: new L.default(n, {
                                    data: e[t],
                                    usage: n.DYNAMIC_DRAW
                                })
                            }, r)
                        })
                    }
                    return i
                }
            }, {
                key: "afterDraw",
                value: function () {
                    (0, y.default)(e.prototype.__proto__ || (0, c.default)(e.prototype), "afterDraw", this).call(this), this.gl.activeTexture(this.gl.TEXTURE2), this.gl.bindTexture(this.gl.TEXTURE_2D, null)
                }
            }, {
                key: "loadTexture",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    this.textCache ? this.textCache.loadTexture() : this.loadManagerTexture(this.markerManager, 0), this.loadIconTexture(t), this.loadManagerTexture(this.glyphManager, 2), t.maskTexture && t.maskTexture.bind(this.gl, {
                        textureIndex: 3
                    })
                }
            }, {
                key: "loadIconTexture",
                value: function (t) {
                    var e = t.iconsLoader;
                    if (e && e.img) {
                        var n = this.gl;
                        if (this.texture) this.texture.bind(null, {
                            textureIndex: 1
                        });
                        else {
                            n.useProgram(n.program);
                            var i = new P.default(n, {
                                tex: e.img
                            });
                            i.upload({
                                flipY: !0,
                                textureIndex: 1
                            });
                            var r = n.getUniformLocation(n.program, "u_SamplerIcon");
                            n.uniform1i(r, 1), this.texture = i
                        }
                    }
                }
            }, {
                key: "loadManagerTexture",
                value: function (t, e) {
                    t && t.canvas && t.uploadToGPU({
                        textureIndex: e,
                        minFilter: this.gl.LINEAR,
                        magFilter: this.gl.LINEAR,
                        wrapS: this.gl.CLAMP_TO_EDGE,
                        wrapT: this.gl.CLAMP_TO_EDGE,
                        premultiply: !0,
                        useMipmap: !1,
                        fliyY: !0
                    })
                }
            }, {
                key: "clear",
                value: function () {
                    this._store.clear(), this.texture && (this.texture.destroy(), this.texture = null)
                }
            }, {
                key: "destroy",
                value: function () {
                    this.textCache = null, this.glyphManager = null, this.markerManager = null, this.positions = null, this.indices = null, this._store.clear(), this._store = null, this.texture && (this.texture.destroy(), this.texture = null), (0, y.default)(e.prototype.__proto__ || (0, c.default)(e.prototype), "destroy", this).call(this)
                }
            }]), e
        }(S.default);
    e.default = O
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(72),
        _ = i(v),
        p = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.textureShader = !0, n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "afterDraw",
                value: function () {
                    this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, null), this.gl.activeTexture(this.gl.TEXTURE1), this.gl.bindTexture(this.gl.TEXTURE_2D, null)
                }
            }]), e
        }(_.default);
    e.default = p
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(383),
        f = i(c),
        d = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, -1, 1, 0, 1]),
        h = function () {
            function t(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                (0, s.default)(this, t);
                var i = n.id,
                    r = void 0 === i ? "pass" : i;
                this.id = r, this.gl = e, this.props = {}, (0, o.default)(this.props, n)
            }
            return (0, u.default)(t, [{
                key: "setProps",
                value: function (t) {
                    (0, o.default)(this.props, t)
                }
            }, {
                key: "render",
                value: function (t) {
                    var e = t.inputBuffer,
                        n = t.outputBuffer,
                        i = t.preserve,
                        r = void 0 !== i && i,
                        o = this.gl;
                    n ? n.bind(o) : o.frameBuffer && o.frameBuffer.unbind(), r || o.clear(o.COLOR_BUFFER_BIT | o.DEPTH_BUFFER_BIT), this._renderPass({
                        inputBuffer: e
                    })
                }
            }, {
                key: "destroy",
                value: function () {
                    this._onDestroy(), this._painter && this._painter.destroy(), this.id = null, this.gl = null, this.props = null
                }
            }, {
                key: "_onDestroy",
                value: function () {}
            }, {
                key: "_renderPass",
                value: function (t) {
                    var e = t.inputBuffer,
                        n = this.gl;
                    this._painter || (this._painter = new f.default({
                        gl: n
                    })), e.color.bind(n), this._painter.preDraw(), this._painter.draw({
                        matrix: {
                            elements: d
                        },
                        size: {
                            width: 2,
                            height: 2
                        },
                        texInfo: {
                            s: 0,
                            t: 0,
                            w: 1,
                            h: 1
                        },
                        opacity: 1
                    })
                }
            }]), t
        }();
    e.default = h
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(141),
        _ = i(v),
        p = n(62),
        m = i(p),
        y = n(390),
        g = i(y),
        x = function (t) {
            function e(t, n) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_onCreate",
                value: function () {
                    return this.gl.createFramebuffer()
                }
            }, {
                key: "_onDelete",
                value: function (t) {
                    t || (this._colorAttach.delete(), this._depthAttach.delete()), this._colorAttach = null, this._depthAttach = null, this.unbind(!0), this.gl.deleteFramebuffer(this._object)
                }
            }, {
                key: "_initialize",
                value: function (t) {
                    var e = t.width,
                        n = void 0 === e ? 1 : e,
                        i = t.height,
                        r = void 0 === i ? 1 : i,
                        o = t.attachments,
                        a = void 0 === o ? {} : o;
                    this.width = n, this.height = r;
                    var s = void 0,
                        l = void 0;
                    a && (s = a.color, l = a.depth), this.attach("color", s), this.attach("depth", l)
                }
            }, {
                key: "_createDefaultAttachment",
                value: function (t) {
                    var e = this.gl,
                        n = null;
                    switch (t) {
                        case "color":
                            n = new m.default(e, {
                                tex: null
                            });
                            break;
                        case "depth":
                            n = new g.default(e, {
                                format: e.DEPTH_COMPONENT16
                            })
                    }
                    return n
                }
            }, {
                key: "bind",
                value: function (t) {
                    t = t || this.gl, t.bindFramebuffer(t.FRAMEBUFFER, this._object), t.frameBuffer = this
                }
            }, {
                key: "unbind",
                value: function (t) {
                    t || (this._colorAttach.unbind(), this._depthAttach.unbind()), this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null), this.gl.frameBuffer = null
                }
            }, {
                key: "attach",
                value: function (t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        i = n.resizeAttach,
                        r = void 0 === i || i,
                        o = this.gl,
                        a = this.width,
                        s = this.height;
                    switch (this.bind(), e || (e = this._createDefaultAttachment(t)), r && e.resize(a, s), t) {
                        case "color":
                            o.framebufferTexture2D(o.FRAMEBUFFER, o.COLOR_ATTACHMENT0, o.TEXTURE_2D, e.texture, 0), this._colorAttach = e;
                            break;
                        case "depth":
                            e instanceof g.default ? o.framebufferRenderbuffer(o.FRAMEBUFFER, o.DEPTH_ATTACHMENT, o.RENDERBUFFER, e.buffer) : e instanceof m.default && o.framebufferTexture2D(o.FRAMEBUFFER, o.DEPTH_ATTACHMENT, o.TEXTURE_2D, e.texture, 0), this._depthAttach = e
                    }
                }
            }, {
                key: "checkStatus",
                value: function () {
                    this.bind();
                    var t = this.gl.checkFramebufferStatus(gl.FRAMEBUFFER);
                    return t === this.gl.FRAMEBUFFER_COMPLETE || (console.error("Framebuffer object is incomplete: " + t.toString() + "."), !1)
                }
            }, {
                key: "resize",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                    this.width = t, this.height = e, this._colorAttach.resize(t, e), this._depthAttach.resize(t, e, {
                        minFilter: this.gl.NEAREST,
                        magFilter: this.gl.NEAREST
                    })
                }
            }, {
                key: "color",
                get: function () {
                    return this._colorAttach
                }
            }, {
                key: "depth",
                get: function () {
                    return this._depthAttach
                }
            }, {
                key: "texture",
                get: function () {
                    return this._colorAttach.texture
                }
            }, {
                key: "buffer",
                get: function () {
                    return this._object
                }
            }]), e
        }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(141),
        _ = i(v),
        p = function (t) {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_onCreate",
                value: function () {
                    return this.gl.createRenderbuffer()
                }
            }, {
                key: "_onDelete",
                value: function () {
                    this.unbind(), this.gl.deleteRenderbuffer(this._object)
                }
            }, {
                key: "_initialize",
                value: function (t) {
                    var e = t.width,
                        n = void 0 === e ? 1 : e,
                        i = t.height,
                        r = void 0 === i ? 1 : i,
                        o = t.format;
                    this.width = n, this.height = r, this.format = o || this.gl.DEPTH_COMPONENT16
                }
            }, {
                key: "bind",
                value: function (t) {
                    t = t || this.gl, t.bindRenderbuffer(t.RENDERBUFFER, this._object)
                }
            }, {
                key: "unbind",
                value: function () {
                    this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, null)
                }
            }, {
                key: "resize",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                    this.width = t, this.height = e, this.bind(), this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.format, this.width, this.height)
                }
            }, {
                key: "buffer",
                get: function () {
                    return this._object
                }
            }]), e
        }(_.default);
    e.default = p
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(141),
        _ = i(v),
        p = function (t) {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_onCreate",
                value: function (t) {
                    var e = t.type;
                    return this.gl.createShader(e)
                }
            }, {
                key: "_onDelete",
                value: function () {
                    this.gl.deleteShader(this._object)
                }
            }, {
                key: "_initialize",
                value: function (t) {
                    var e = t.source;
                    e && this.setSource(e)
                }
            }, {
                key: "setSource",
                value: function (t) {
                    this._source = t, this.gl.shaderSource(this._object, t), this.compile(), this.check()
                }
            }, {
                key: "compile",
                value: function () {
                    this.gl.compileShader(this._object)
                }
            }, {
                key: "check",
                value: function () {
                    var t = this.gl;
                    this.getParameter(t.COMPILE_STATUS) || (console.error(t.getShaderInfoLog(this._object)), console.log(this._source))
                }
            }, {
                key: "getParameter",
                value: function (t) {
                    return this.gl.getShaderParameter(this._object, t)
                }
            }, {
                key: "shader",
                get: function () {
                    return this._object
                }
            }]), e
        }(_.default);
    e.default = p
}, function (t, e, n) {
    t.exports = {
        default: n(625),
        __esModule: !0
    }
}, function (t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(12),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = r.default || function (t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])
        }
        return t
    }
}, function (t, e, n) {
    var i = n(88);
    t.exports = function (t, e) {
        if ("number" != typeof t && "Number" != i(t)) throw TypeError(e);
        return +t
    }
}, function (t, e, n) {
    "use strict";
    var i = n(45),
        r = n(133),
        o = n(26);
    t.exports = [].copyWithin || function (t, e) {
        var n = i(this),
            a = o(n.length),
            s = r(t, a),
            l = r(e, a),
            u = arguments.length > 2 ? arguments[2] : void 0,
            c = Math.min((void 0 === u ? a : r(u, a)) - l, a - s),
            f = 1;
        for (l < s && s < l + c && (f = -1, l += c - 1, s += c - 1); c-- > 0;) l in n ? n[s] = n[l] : delete n[s], s += f, l += f;
        return n
    }
}, function (t, e, n) {
    var i = n(75),
        r = n(45),
        o = n(187),
        a = n(26);
    t.exports = function (t, e, n, s, l) {
        i(e);
        var u = r(t),
            c = o(u),
            f = a(u.length),
            d = l ? f - 1 : 0,
            h = l ? -1 : 1;
        if (n < 2)
            for (;;) {
                if (d in c) {
                    s = c[d], d += h;
                    break
                }
                if (d += h, l ? d < 0 : f <= d) throw TypeError("Reduce of empty array with no initial value")
            }
        for (; l ? d >= 0 : f > d; d += h) d in c && (s = e(s, c[d], d, u));
        return s
    }
}, function (t, e, n) {
    var i = n(648);
    t.exports = function (t, e) {
        return new(i(t))(e)
    }
}, function (t, e, n) {
    "use strict";
    var i = n(75),
        r = n(19),
        o = n(402),
        a = [].slice,
        s = {},
        l = function (t, e, n) {
            if (!(e in s)) {
                for (var i = [], r = 0; r < e; r++) i[r] = "a[" + r + "]";
                s[e] = Function("F,a", "return new F(" + i.join(",") + ")")
            }
            return s[e](t, n)
        };
    t.exports = Function.bind || function (t) {
        var e = i(this),
            n = a.call(arguments, 1),
            s = function () {
                var i = n.concat(a.call(arguments));
                return this instanceof s ? l(e, i.length, i) : o(e, i, t)
            };
        return r(e.prototype) && (s.prototype = e.prototype), s
    }
}, function (t, e, n) {
    "use strict";
    var i = n(35).f,
        r = n(128),
        o = n(146),
        a = n(77),
        s = n(144),
        l = n(215),
        u = n(325),
        c = n(406),
        f = n(147),
        d = n(34),
        h = n(97).fastKey,
        v = n(135),
        _ = d ? "_s" : "size",
        p = function (t, e) {
            var n, i = h(e);
            if ("F" !== i) return t._i[i];
            for (n = t._f; n; n = n.n)
                if (n.k == e) return n
        };
    t.exports = {
        getConstructor: function (t, e, n, u) {
            var c = t(function (t, i) {
                s(t, c, e, "_i"), t._t = e, t._i = r(null), t._f = void 0, t._l = void 0, t[_] = 0, void 0 != i && l(i, n, t[u], t)
            });
            return o(c.prototype, {
                clear: function () {
                    for (var t = v(this, e), n = t._i, i = t._f; i; i = i.n) i.r = !0, i.p && (i.p = i.p.n = void 0), delete n[i.i];
                    t._f = t._l = void 0, t[_] = 0
                },
                delete: function (t) {
                    var n = v(this, e),
                        i = p(n, t);
                    if (i) {
                        var r = i.n,
                            o = i.p;
                        delete n._i[i.i], i.r = !0, o && (o.n = r), r && (r.p = o), n._f == i && (n._f = r), n._l == i && (n._l = o), n[_]--
                    }
                    return !!i
                },
                forEach: function (t) {
                    v(this, e);
                    for (var n, i = a(t, arguments.length > 1 ? arguments[1] : void 0, 3); n = n ? n.n : this._f;)
                        for (i(n.v, n.k, this); n && n.r;) n = n.p
                },
                has: function (t) {
                    return !!p(v(this, e), t)
                }
            }), d && i(c.prototype, "size", {
                get: function () {
                    return v(this, e)[_]
                }
            }), c
        },
        def: function (t, e, n) {
            var i, r, o = p(t, e);
            return o ? o.v = n : (t._l = o = {
                i: r = h(e, !0),
                k: e,
                v: n,
                p: i = t._l,
                n: void 0,
                r: !1
            }, t._f || (t._f = o), i && (i.n = o), t[_]++, "F" !== r && (t._i[r] = o)), t
        },
        getEntry: p,
        setStrong: function (t, e, n) {
            u(t, e, function (t, n) {
                this._t = v(t, e), this._k = n, this._l = void 0
            }, function () {
                for (var t = this, e = t._k, n = t._l; n && n.r;) n = n.p;
                return t._t && (t._l = n = n ? n.n : t._t._f) ? "keys" == e ? c(0, n.k) : "values" == e ? c(0, n.v) : c(0, [n.k, n.v]) : (t._t = void 0, c(1))
            }, n ? "entries" : "values", !n, !0), f(e)
        }
    }
}, function (t, e, n) {
    "use strict";
    var i = n(146),
        r = n(97).getWeak,
        o = n(16),
        a = n(19),
        s = n(144),
        l = n(215),
        u = n(76),
        c = n(58),
        f = n(135),
        d = u(5),
        h = u(6),
        v = 0,
        _ = function (t) {
            return t._l || (t._l = new p)
        },
        p = function () {
            this.a = []
        },
        m = function (t, e) {
            return d(t.a, function (t) {
                return t[0] === e
            })
        };
    p.prototype = {
        get: function (t) {
            var e = m(this, t);
            if (e) return e[1]
        },
        has: function (t) {
            return !!m(this, t)
        },
        set: function (t, e) {
            var n = m(this, t);
            n ? n[1] = e : this.a.push([t, e])
        },
        delete: function (t) {
            var e = h(this.a, function (e) {
                return e[0] === t
            });
            return ~e && this.a.splice(e, 1), !!~e
        }
    }, t.exports = {
        getConstructor: function (t, e, n, o) {
            var u = t(function (t, i) {
                s(t, u, e, "_i"), t._t = e, t._i = v++, t._l = void 0, void 0 != i && l(i, n, t[o], t)
            });
            return i(u.prototype, {
                delete: function (t) {
                    if (!a(t)) return !1;
                    var n = r(t);
                    return !0 === n ? _(f(this, e)).delete(t) : n && c(n, this._i) && delete n[this._i]
                },
                has: function (t) {
                    if (!a(t)) return !1;
                    var n = r(t);
                    return !0 === n ? _(f(this, e)).has(t) : n && c(n, this._i)
                }
            }), u
        },
        def: function (t, e, n) {
            var i = r(o(e), !0);
            return !0 === i ? _(t).set(e, n) : i[t._i] = n, t
        },
        ufstore: _
    }
}, function (t, e, n) {
    t.exports = !n(34) && !n(17)(function () {
        return 7 != Object.defineProperty(n(318)("div"), "a", {
            get: function () {
                return 7
            }
        }).a
    })
}, function (t, e) {
    t.exports = function (t, e, n) {
        var i = void 0 === n;
        switch (e.length) {
            case 0:
                return i ? t() : t.call(n);
            case 1:
                return i ? t(e[0]) : t.call(n, e[0]);
            case 2:
                return i ? t(e[0], e[1]) : t.call(n, e[0], e[1]);
            case 3:
                return i ? t(e[0], e[1], e[2]) : t.call(n, e[0], e[1], e[2]);
            case 4:
                return i ? t(e[0], e[1], e[2], e[3]) : t.call(n, e[0], e[1], e[2], e[3])
        }
        return t.apply(n, e)
    }
}, function (t, e, n) {
    var i = n(19),
        r = Math.floor;
    t.exports = function (t) {
        return !i(t) && isFinite(t) && r(t) === t
    }
}, function (t, e, n) {
    var i = n(16);
    t.exports = function (t, e, n, r) {
        try {
            return r ? e(i(n)[0], n[1]) : e(n)
        } catch (e) {
            var o = t.return;
            throw void 0 !== o && i(o.call(t)), e
        }
    }
}, function (t, e, n) {
    "use strict";
    var i = n(128),
        r = n(132),
        o = n(148),
        a = {};
    n(59)(a, n(23)("iterator"), function () {
        return this
    }), t.exports = function (t, e, n) {
        t.prototype = i(a, {
            next: r(1, n)
        }), o(t, e + " Iterator")
    }
}, function (t, e) {
    t.exports = function (t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}, function (t, e) {
    t.exports = Math.log1p || function (t) {
        return (t = +t) > -1e-8 && t < 1e-8 ? t - t * t / 2 : Math.log(1 + t)
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        var e, n;
        this.promise = new t(function (t, i) {
            if (void 0 !== e || void 0 !== n) throw TypeError("Bad Promise constructor");
            e = t, n = i
        }), this.resolve = r(e), this.reject = r(n)
    }
    var r = n(75);
    t.exports.f = function (t) {
        return new i(t)
    }
}, function (t, e, n) {
    "use strict";
    var i = n(34),
        r = n(131),
        o = n(218),
        a = n(188),
        s = n(45),
        l = n(187),
        u = Object.assign;
    t.exports = !u || n(17)(function () {
        var t = {},
            e = {},
            n = Symbol(),
            i = "abcdefghijklmnopqrst";
        return t[n] = 7, i.split("").forEach(function (t) {
            e[t] = t
        }), 7 != u({}, t)[n] || Object.keys(u({}, e)).join("") != i
    }) ? function (t, e) {
        for (var n = s(t), u = arguments.length, c = 1, f = o.f, d = a.f; u > c;)
            for (var h, v = l(arguments[c++]), _ = f ? r(v).concat(f(v)) : r(v), p = _.length, m = 0; p > m;) h = _[m++], i && !d.call(v, h) || (n[h] = v[h]);
        return n
    } : u
}, function (t, e, n) {
    var i = n(35),
        r = n(16),
        o = n(131);
    t.exports = n(34) ? Object.defineProperties : function (t, e) {
        r(t);
        for (var n, a = o(e), s = a.length, l = 0; s > l;) i.f(t, n = a[l++], e[n]);
        return t
    }
}, function (t, e, n) {
    var i = n(60),
        r = n(129).f,
        o = {}.toString,
        a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
        s = function (t) {
            try {
                return r(t)
            } catch (t) {
                return a.slice()
            }
        };
    t.exports.f = function (t) {
        return a && "[object Window]" == o.call(t) ? s(t) : r(i(t))
    }
}, function (t, e, n) {
    var i = n(58),
        r = n(60),
        o = n(211)(!1),
        a = n(330)("IE_PROTO");
    t.exports = function (t, e) {
        var n, s = r(t),
            l = 0,
            u = [];
        for (n in s) n != a && i(s, n) && u.push(n);
        for (; e.length > l;) i(s, n = e[l++]) && (~o(u, n) || u.push(n));
        return u
    }
}, function (t, e, n) {
    var i = n(34),
        r = n(131),
        o = n(60),
        a = n(188).f;
    t.exports = function (t) {
        return function (e) {
            for (var n, s = o(e), l = r(s), u = l.length, c = 0, f = []; u > c;) n = l[c++], i && !a.call(s, n) || f.push(t ? [n, s[n]] : s[n]);
            return f
        }
    }
}, function (t, e, n) {
    var i = n(129),
        r = n(218),
        o = n(16),
        a = n(18).Reflect;
    t.exports = a && a.ownKeys || function (t) {
        var e = i.f(o(t)),
            n = r.f;
        return n ? e.concat(n(t)) : e
    }
}, function (t, e, n) {
    var i = n(18).parseFloat,
        r = n(149).trim;
    t.exports = 1 / i(n(334) + "-0") != -1 / 0 ? function (t) {
        var e = r(String(t), 3),
            n = i(e);
        return 0 === n && "-" == e.charAt(0) ? -0 : n
    } : i
}, function (t, e, n) {
    var i = n(18).parseInt,
        r = n(149).trim,
        o = n(334),
        a = /^[-+]?0[xX]/;
    t.exports = 8 !== i(o + "08") || 22 !== i(o + "0x16") ? function (t, e) {
        var n = r(String(t), 3);
        return i(n, e >>> 0 || (a.test(n) ? 16 : 10))
    } : i
}, function (t, e, n) {
    var i = n(16),
        r = n(19),
        o = n(408);
    t.exports = function (t, e) {
        if (i(t), r(e) && e.constructor === t) return e;
        var n = o.f(t);
        return (0, n.resolve)(e), n.promise
    }
}, function (t, e) {
    t.exports = Object.is || function (t, e) {
        return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e
    }
}, function (t, e, n) {
    var i = n(26),
        r = n(333),
        o = n(89);
    t.exports = function (t, e, n, a) {
        var s = String(o(t)),
            l = s.length,
            u = void 0 === n ? " " : String(n),
            c = i(e);
        if (c <= l || "" == u) return s;
        var f = c - l,
            d = r.call(u, Math.ceil(f / u.length));
        return d.length > f && (d = d.slice(0, f)), a ? d + s : s + d
    }
}, function (t, e, n) {
    var i = n(80),
        r = n(26);
    t.exports = function (t) {
        if (void 0 === t) return 0;
        var e = i(t),
            n = r(e);
        if (e !== n) throw RangeError("Wrong length!");
        return n
    }
}, function (t, e, n) {
    var i = n(18),
        r = n(30),
        o = n(127),
        a = n(337),
        s = n(35).f;
    t.exports = function (t) {
        var e = r.Symbol || (r.Symbol = o ? {} : i.Symbol || {});
        "_" == t.charAt(0) || t in e || s(e, t, {
            value: a.f(t)
        })
    }
}, function (t, e, n) {
    "use strict";
    var i, r, o, a, s = n(127),
        l = n(18),
        u = n(77),
        c = n(186),
        f = n(5),
        d = n(19),
        h = n(75),
        v = n(144),
        _ = n(215),
        p = n(189),
        m = n(335).set,
        y = n(655)(),
        g = n(408),
        x = n(656),
        b = n(222),
        S = n(417),
        w = l.TypeError,
        E = l.process,
        A = E && E.versions,
        T = A && A.v8 || "",
        k = l.Promise,
        P = "process" == c(E),
        I = function () {},
        M = r = g.f,
        L = !! function () {
            try {
                var t = k.resolve(1),
                    e = (t.constructor = {})[n(23)("species")] = function (t) {
                        t(I, I)
                    };
                return (P || "function" == typeof PromiseRejectionEvent) && t.then(I) instanceof e && 0 !== T.indexOf("6.6") && -1 === b.indexOf("Chrome/66")
            } catch (t) {}
        }(),
        C = function (t) {
            var e;
            return !(!d(t) || "function" != typeof (e = t.then)) && e
        },
        V = function (t, e) {
            if (!t._n) {
                t._n = !0;
                var n = t._c;
                y(function () {
                    for (var i = t._v, r = 1 == t._s, o = 0; n.length > o;) ! function (e) {
                        var n, o, a, s = r ? e.ok : e.fail,
                            l = e.resolve,
                            u = e.reject,
                            c = e.domain;
                        try {
                            s ? (r || (2 == t._h && F(t), t._h = 1), !0 === s ? n = i : (c && c.enter(), n = s(i), c && (c.exit(), a = !0)), n === e.promise ? u(w("Promise-chain cycle")) : (o = C(n)) ? o.call(n, l, u) : l(n)) : u(i)
                        } catch (t) {
                            c && !a && c.exit(), u(t)
                        }
                    }(n[o++]);
                    t._c = [], t._n = !1, e && !t._h && R(t)
                })
            }
        },
        R = function (t) {
            m.call(l, function () {
                var e, n, i, r = t._v,
                    o = O(t);
                if (o && (e = x(function () {
                        P ? E.emit("unhandledRejection", r, t) : (n = l.onunhandledrejection) ? n({
                            promise: t,
                            reason: r
                        }) : (i = l.console) && i.error && i.error("Unhandled promise rejection", r)
                    }), t._h = P || O(t) ? 2 : 1), t._a = void 0, o && e.e) throw e.v
            })
        },
        O = function (t) {
            return 1 !== t._h && 0 === (t._a || t._c).length
        },
        F = function (t) {
            m.call(l, function () {
                var e;
                P ? E.emit("rejectionHandled", t) : (e = l.onrejectionhandled) && e({
                    promise: t,
                    reason: t._v
                })
            })
        },
        z = function (t) {
            var e = this;
            e._d || (e._d = !0, e = e._w || e, e._v = t, e._s = 2, e._a || (e._a = e._c.slice()), V(e, !0))
        },
        N = function (t) {
            var e, n = this;
            if (!n._d) {
                n._d = !0, n = n._w || n;
                try {
                    if (n === t) throw w("Promise can't be resolved itself");
                    (e = C(t)) ? y(function () {
                        var i = {
                            _w: n,
                            _d: !1
                        };
                        try {
                            e.call(t, u(N, i, 1), u(z, i, 1))
                        } catch (t) {
                            z.call(i, t)
                        }
                    }): (n._v = t, n._s = 1, V(n, !1))
                } catch (t) {
                    z.call({
                        _w: n,
                        _d: !1
                    }, t)
                }
            }
        };
    L || (k = function (t) {
        v(this, k, "Promise", "_h"), h(t), i.call(this);
        try {
            t(u(N, this, 1), u(z, this, 1))
        } catch (t) {
            z.call(this, t)
        }
    }, i = function (t) {
        this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
    }, i.prototype = n(146)(k.prototype, {
        then: function (t, e) {
            var n = M(p(this, k));
            return n.ok = "function" != typeof t || t, n.fail = "function" == typeof e && e, n.domain = P ? E.domain : void 0, this._c.push(n), this._a && this._a.push(n), this._s && V(this, !1), n.promise
        },
        catch: function (t) {
            return this.then(void 0, t)
        }
    }), o = function () {
        var t = new i;
        this.promise = t, this.resolve = u(N, t, 1), this.reject = u(z, t, 1)
    }, g.f = M = function (t) {
        return t === k || t === a ? new o(t) : r(t)
    }), f(f.G + f.W + f.F * !L, {
        Promise: k
    }), n(148)(k, "Promise"), n(147)("Promise"), a = n(30).Promise, f(f.S + f.F * !L, "Promise", {
        reject: function (t) {
            var e = M(this);
            return (0, e.reject)(t), e.promise
        }
    }), f(f.S + f.F * (s || !L), "Promise", {
        resolve: function (t) {
            return S(s && this === a ? k : this, t)
        }
    }), f(f.S + f.F * !(L && n(217)(function (t) {
        k.all(t).catch(I)
    })), "Promise", {
        all: function (t) {
            var e = this,
                n = M(e),
                i = n.resolve,
                r = n.reject,
                o = x(function () {
                    var n = [],
                        o = 0,
                        a = 1;
                    _(t, !1, function (t) {
                        var s = o++,
                            l = !1;
                        n.push(void 0), a++, e.resolve(t).then(function (t) {
                            l || (l = !0, n[s] = t, --a || i(n))
                        }, r)
                    }), --a || i(n)
                });
            return o.e && r(o.v), n.promise
        },
        race: function (t) {
            var e = this,
                n = M(e),
                i = n.reject,
                r = x(function () {
                    _(t, !1, function (t) {
                        e.resolve(t).then(n.resolve, i)
                    })
                });
            return r.e && i(r.v), n.promise
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(328);
    n(5)({
        target: "RegExp",
        proto: !0,
        forced: i !== /./.exec
    }, {
        exec: i
    })
}, function (t, e, n) {
    n(34) && "g" != /./g.flags && n(35).f(RegExp.prototype, "flags", {
        configurable: !0,
        get: n(214)
    })
}, , function (t, e, n) {
    "use strict";

    function i(t, e) {
        if (e < 65534 && (t.subarray && a || !t.subarray && o)) return String.fromCharCode.apply(null, r.shrinkBuf(t, e));
        for (var n = "", i = 0; i < e; i++) n += String.fromCharCode(t[i]);
        return n
    }
    var r = n(99),
        o = !0,
        a = !0;
    try {
        String.fromCharCode.apply(null, [0])
    } catch (t) {
        o = !1
    }
    try {
        String.fromCharCode.apply(null, new Uint8Array(1))
    } catch (t) {
        a = !1
    }
    for (var s = new r.Buf8(256), l = 0; l < 256; l++) s[l] = l >= 252 ? 6 : l >= 248 ? 5 : l >= 240 ? 4 : l >= 224 ? 3 : l >= 192 ? 2 : 1;
    s[254] = s[254] = 1, e.string2buf = function (t) {
        var e, n, i, o, a, s = t.length,
            l = 0;
        for (o = 0; o < s; o++) n = t.charCodeAt(o), 55296 == (64512 & n) && o + 1 < s && 56320 == (64512 & (i = t.charCodeAt(o + 1))) && (n = 65536 + (n - 55296 << 10) + (i - 56320), o++), l += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4;
        for (e = new r.Buf8(l), a = 0, o = 0; a < l; o++) n = t.charCodeAt(o), 55296 == (64512 & n) && o + 1 < s && 56320 == (64512 & (i = t.charCodeAt(o + 1))) && (n = 65536 + (n - 55296 << 10) + (i - 56320), o++), n < 128 ? e[a++] = n : n < 2048 ? (e[a++] = 192 | n >>> 6, e[a++] = 128 | 63 & n) : n < 65536 ? (e[a++] = 224 | n >>> 12, e[a++] = 128 | n >>> 6 & 63, e[a++] = 128 | 63 & n) : (e[a++] = 240 | n >>> 18, e[a++] = 128 | n >>> 12 & 63, e[a++] = 128 | n >>> 6 & 63, e[a++] = 128 | 63 & n);
        return e
    }, e.buf2binstring = function (t) {
        return i(t, t.length)
    }, e.binstring2buf = function (t) {
        for (var e = new r.Buf8(t.length), n = 0, i = e.length; n < i; n++) e[n] = t.charCodeAt(n);
        return e
    }, e.buf2string = function (t, e) {
        var n, r, o, a, l = e || t.length,
            u = new Array(2 * l);
        for (r = 0, n = 0; n < l;)
            if ((o = t[n++]) < 128) u[r++] = o;
            else if ((a = s[o]) > 4) u[r++] = 65533, n += a - 1;
        else {
            for (o &= 2 === a ? 31 : 3 === a ? 15 : 7; a > 1 && n < l;) o = o << 6 | 63 & t[n++], a--;
            a > 1 ? u[r++] = 65533 : o < 65536 ? u[r++] = o : (o -= 65536, u[r++] = 55296 | o >> 10 & 1023, u[r++] = 56320 | 1023 & o)
        }
        return i(u, r)
    }, e.utf8border = function (t, e) {
        var n;
        for (e = e || t.length, e > t.length && (e = t.length), n = e - 1; n >= 0 && 128 == (192 & t[n]);) n--;
        return n < 0 ? e : 0 === n ? e : n + s[t[n]] > e ? n : e
    }
}, function (t, e, n) {
    "use strict";

    function i(t, e, n, i) {
        for (var r = 65535 & t | 0, o = t >>> 16 & 65535 | 0, a = 0; 0 !== n;) {
            a = n > 2e3 ? 2e3 : n, n -= a;
            do {
                r = r + e[i++] | 0, o = o + r | 0
            } while (--a);
            r %= 65521, o %= 65521
        }
        return r | o << 16 | 0
    }
    t.exports = i
}, function (t, e, n) {
    "use strict";
    t.exports = {
        Z_NO_FLUSH: 0,
        Z_PARTIAL_FLUSH: 1,
        Z_SYNC_FLUSH: 2,
        Z_FULL_FLUSH: 3,
        Z_FINISH: 4,
        Z_BLOCK: 5,
        Z_TREES: 6,
        Z_OK: 0,
        Z_STREAM_END: 1,
        Z_NEED_DICT: 2,
        Z_ERRNO: -1,
        Z_STREAM_ERROR: -2,
        Z_DATA_ERROR: -3,
        Z_BUF_ERROR: -5,
        Z_NO_COMPRESSION: 0,
        Z_BEST_SPEED: 1,
        Z_BEST_COMPRESSION: 9,
        Z_DEFAULT_COMPRESSION: -1,
        Z_FILTERED: 1,
        Z_HUFFMAN_ONLY: 2,
        Z_RLE: 3,
        Z_FIXED: 4,
        Z_DEFAULT_STRATEGY: 0,
        Z_BINARY: 0,
        Z_TEXT: 1,
        Z_UNKNOWN: 2,
        Z_DEFLATED: 8
    }
}, function (t, e, n) {
    "use strict";

    function i(t, e, n, i) {
        var o = r,
            a = i + n;
        t ^= -1;
        for (var s = i; s < a; s++) t = t >>> 8 ^ o[255 & (t ^ e[s])];
        return -1 ^ t
    }
    var r = function () {
        for (var t, e = [], n = 0; n < 256; n++) {
            t = n;
            for (var i = 0; i < 8; i++) t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1;
            e[n] = t
        }
        return e
    }();
    t.exports = i
}, function (t, e, n) {
    "use strict";

    function i() {
        this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
    }
    t.exports = i
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABkCAMAAAAIYWa2AAAC8VBMVEVHcEwAAAAAAAAAAAAAAAAzMzPQRUXlSUnnS0vqS0vrTEzhSEgAAADFRUXmS0vtTk7xTU3yTk7yTk6vPz/oTEzvTk7yTk7MRETrS0vyT0/FQUHFPj7uTU3yTk7sTExVKiroS0vyTk5IJCS4QEDuTU3SRETxTU0AAADhSkreSUkAAADoSkryTk7pSkoAAADoTEzmTEziSUndSEjMRETDQUFtJCTwTU3vTExfHx/mSUkAAADFPz/yTk68PDztTEwAAADMRUXBQUHsTEzqTEyzPj7yTk6lOTnjSUnfSEjuTk7yUVH2iYn6wMD95OT+9vYAAADBPT32hob95ub///+2OTkAAADfSUnyT0/5ra3aR0cAAADqS0vwTU3vTU0AAABmKChbJCTBPT24OjrQQkIAAADXRUXRQ0PVRUUAAADcR0fYRkYAAADXRETQQkLNRETIQkLDQUG9Pj6qNzegNTUhCwvxTk4cCQkAAADrTEwAAAAAAADkSkriSEgAAADLQUFnIiLyTk5gHx/oS0vnSkoAAAAAAADOQ0NLHh7wTk4/FRXaRkbXRUVuJSXxTU1vKCgAAADfSEjZRkYAAADwTU3vTU1XHBzSRETIQEAmDw/rTEzoSkoIBQWhNDSMLS3NQkIAAAAAAAAlDw/oSkrnSkqBKyvwTU3vTU1lISG5PT2qODgAAADURUXKQkIBAQHjSUncRkYAAAAAAAA1FBTkSkoYCgpjISHsS0s/FxcAAABtJSXsTU3pS0tTGhp0JibsTExYHR1bHBzsTExpIyOVMzPuTU19KyujNjbxTk7uTU2MLS2xOTnxTk6bMTHCPj60OTniSEjcR0fuTU07FxefNDTbR0fTRUXpS0uiNDThSEiDKyvXRkZ6JyfhSUmSLi7pS0vIQUFQGBjmSkrGQUGCKSntTEzrTEzdSEjbR0edMzOYMTHZR0eTLy8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6Ei6pAAAA+3RSTlMAAQIDBAUhRVhlcUYFFlSTzvX/EGC6/B6P8h8YmPiZBmvtBxe7MNwGVlcHhf6PCHx8WlwtLw7T1BCDCSz3LrQLNzqwsSX9KICC2///////DjL///81CnP//3UMtOPkERkcPkFcDWdqdg98fhBvcmFjUlY8Phf4GxTRFxKlqBZsJfopwMIaE3ci7iSRky/5MhimnBvy7C2DeiHVzSBIQoceFSLQxTvw6zVnWx2Qgh+3qSEZJsAkMtssHDbh1jE73zQ14jpL6UFU9e9IXfRScma0p+crU56T0k2vOpQ0rULLdCm4cTHY1JeWPD6aQC42PDkwKCsvMjQsKSUnKiijw/sAAAUASURBVHgB1M8DcoRBEIbhNNbutW3EtnP/E2V/rDUzKeUpo9/q7+gfATA/tSAiORARpjQLiMTs8fr8gWAw4A95PWEmO6SRII5EY/GEzCXisWgkzIodu5BMpTOyIZNOJZmsjEIim8vLDvlcIXwgYw3hYqkse5QrRTuz741qrS4H1GsN3lmx3mimRUGrGabtkwAo3O6Ikk67u3USIIV7eVGU7w82JwEgdYcjUTYablasRk60jCdrFQDqHoumk3ll3jgVbWfWokUDw+d50Za/GND8FUC+vBID1zddt2KNGdyKkdu7MLoR7N4/iJGHR3cQIN89iaGnZ+cVoO7LSAyNXicMYD/yJsben7sI1iMfn2Ls82vC0wjffcsf/DyH8ZdUskbLIIyBcJCSag+BQ4+36+7uisv58d+T6pt23ic6sH1wJ5CEKMmKqiqyJJKIoB3vwM6xTgKGaf3LNEjIdnZh99IlXM+3luR7BBaEB7B3FxGub63IJ7BIO4ZjLSZ2sdZEbJSkl3Ce4UkTzfUipojnLXfgssAbSNaGJJwsQ3Aq3JI3i8g4WdVw1+CWsllEwclWgzDALXWziIqTXQ/1wFpknKC+Z13n4bvII+thn1Kon1lf/DJB/cqxhY17myB8v2aL/cdXKWYNHLcWheGlcmt3r32URP2E1FeqQoatDJrRpI0sJTIzyTEzoxIzY9gMYWY0M1fRXWXOsizdvf18c/6Dv3SNNpBspH8DGMlRhgv8df9WwQ0h1HDaFuXfUopiSQNBR8f4sx5jYvkLhn9ChTh/FnV8AkPImy0xyR9IEidvNstpJjkFn5GSypJWeduHCmn4kPQE5rTFYJL1ZGTiMjKzhFD57hgtBC1m40Ju5vAXrCbkTgLZjFw8Rl4+RxFm+RbLoTBiAR6kMIdXDIo9lKJiHEZJqYACsUPkrHBlMRhmqzzBdsEeCKJYST4nXT+korIqVPFsinsMraqu0cuoLRWZ02CHkeNixLp6fYyGxhweeS2jw5XLgpp02b+AZskhBgSx0i09kNstHA1i0FMqJLS0ame0tXfYKwMQ5RPhAiN2lmhldHUn8IH/gBjntHT09Gpj1PT1s6GODxXntAQm5gwMamEMDUtVFOHCgLTIyc0ZGdXAuCMJNPq+8ISg5Iay/SMhxzF671Z6ZQCFquovb1Bn3LtfydEXrJBUD4oVUR6otu7DRy0c450BlNNUlTQ27psxMYkYUFxfFFqQpnzu3OmZFlGdAZTKWV+QuVLRRqow4K/DaYZrmffOeNzewasygIIGIP+JN8bo05zEwP/NJnUGDEDClJe9EPBMgmZXeTAAbP9zT8iLFoEmjmfAXqCETo9ZfNkN06+JYr1g63jlJihgsj/RY/rV0xKY2P/arTItAkyudkFvXFpufKCDgT8D2gUluOT2rcTqEOM4Re9inK5dj0jrEQOnqOO9A5Ldn2j/oNf1UG6ryoBx8gMKRIcYCMWW8BFOpqQnEHgoKwL4yk8djM5AoEB87F9/0vq5KlBnIBAKxX1RIPM5NjiZekMh2asK5CtHybcb63+5nNpvSm2yWMWaYer5jiA/kBojHsT0D8n+RJBfeGqgVRam5RW/yGLVBlqlanFpaRm8GVYoTPvK6tra+ka7TbcagEibW9s7q6u7G3v7lbgQy8Hh/tbe9vbK1tHhgcWA+Yj+w839o62j/cN+ApeBskIyPM8EQlaxQcd32W/E9Jewb6BBFAAAAABJRU5ErkJggg=="
}, function (t, e) {
    var n;
    n = function () {
        return this
    }();
    try {
        n = n || Function("return this")() || (0, eval)("this")
    } catch (t) {
        "object" == typeof window && (n = window)
    }
    t.exports = n
}, function (t, e, n) {
    "use strict";
    e.Event = n(40), e.Map = n(240).default, e.LatLng = n(29), e.LatLngBounds = n(61), e.Point = n(41), e.VectorTileLayer = n(361).default, e.ImageTileLayer = n(359).default, e.CanvasGroundLayer = n(498).default, e.ImageGroundLayer = n(500).default, e.GeometryOverlay = n(158).default, e.MultiPolygon = n(376), e.PolygonStyle = n(140).PolygonStyle, e.ExtrudablePolygonStyle = n(140).ExtrudablePolygonStyle, e.MultiCircle = n(539), e.CircleStyle = n(140).CircleStyle, e.MultiPolyline = n(377), e.PolylineStyle = n(201).default, e.LabelStyle = n(242).default, e.MultiLabel = n(540), e.MultiMarker = n(541), e.MarkerStyle = n(375), e.InfoWindow = n(538).default, e.DOMOverlay = n(241).default, e.MarkerCluster = n(543).default, e.Light = n(381).default, e.VisualPlugin = n(559), e.constants = {
        CONTROL_POSITION: n(153).CONTROL_POSITION,
        DEFAULT_CONTROL_ID: n(153).DEFAULT_CONTROL_ID,
        GEOMETRY_TYPES: n(105).GEOMETRY_TYPES,
        LIGHT_TYPE: n(202).LIGHT_TYPE,
        IMAGE_DISPLAY: n(81).IMAGE_DISPLAY
    }, e.geometry = n(525)
}, , , function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.default = {
        v: "\nattribute vec2 a_Position;\nattribute vec4 a_Info;\nuniform mat4 u_matrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_lightPVMatrix;\nvarying vec4 v_pos;\nvarying vec4 v_flatNDCCoord;\n\nvoid main(){\n\tv_pos = vec4(a_Position.xy - 2048.0, a_Info.x, 1.0);\n\n\t\n    v_flatNDCCoord = u_matrix * vec4(v_pos.xy, 0.0, 1.0);\n    \n    vec4 posInLightView = u_lightPVMatrix * u_modelMatrix *  vec4(v_pos.xyz, 1.0);\n\n\tgl_Position = posInLightView;\n}",
        f: "\nprecision mediump float;\n\nuniform float u_maskScale;\nuniform sampler2D u_maskSampler;\n\nvarying vec4 v_pos;\nvarying vec4 v_flatNDCCoord;\n\nvoid main(){ \n\tvec2 v_texCoord = (v_flatNDCCoord.xy / v_flatNDCCoord.w * u_maskScale + 1.0) / 2.0;\n\n\t\n\tvec4 maskColor = texture2D(u_maskSampler, v_texCoord);\n\tfloat isCulledByMask = maskColor.r;\n\tfloat alpha = 1.0;\n\tif(isCulledByMask > 0.99) {\n\t\tdiscard;\n\t}\n\tif(v_pos.x < -.17 || v_pos.y > .17 || v_pos.x > 256.0 || v_pos.y < -256.0){\n\t\tdiscard;\n\t}\n\n    gl_FragColor = vec4(1.0);\n}",
        name: "building-shadow"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(151),
        r = "\nattribute vec2 a_Position;\nattribute vec4 a_Color;\nattribute vec4 a_Info;\nattribute vec4 a_Transform;\nuniform mat4 u_matrix;\nuniform mat4 u_modelMatrix;\nuniform float u_use3D;\nvarying vec4 v_coord;\nvarying vec4 v_color;\nvarying vec2 v_Transform;\n" + i.LIGHT_UNIFORM + "\n" + i.LIGHT_VARYING + "\n" + i.LIGHT_VERTEX + "\n\nvoid main(){\n\tvec4 v_pos = vec4(a_Position.xy - 2048.0, mix(0.0, a_Info.x, u_use3D), 1.0);\n\tvec3 a_normal = normalize(vec3(a_Info.yzw-128.0));\n\n\t\n\tv_color = vec4(float(a_Color.r), float(a_Color.g), float(a_Color.b), float(a_Color.a)) / 255.0;\n\tvec2 objSpec = vec2(0.5, 32.0);\n\tlighting_apply_on_vertex(v_pos.xyz, a_normal, u_modelMatrix, objSpec);\n\n\t\n\tvec4 v_flatNDCCoord = u_matrix * vec4(v_pos.xy, 0.0, 1.0);\n\tv_coord = vec4(v_pos.xy, v_flatNDCCoord.xy / v_flatNDCCoord.w);\n\tv_Transform = a_Transform.xy;\n\n\tgl_Position = u_matrix * v_pos;\n}",
        o = "\nprecision mediump float;\n\nuniform float u_maskScale;\nuniform sampler2D u_maskSampler;\n\nvarying vec4 v_coord;\nvarying vec4 v_color;\nvarying vec2 v_Transform;\n\n" + i.LIGHT_VARYING + "\n" + i.LIGHT_FRAG + "\n\nvoid main(){ \n\tvec2 v_texCoord = (v_coord.zw * u_maskScale + 1.0) / 2.0;\n\n\t\n\tvec4 maskColor = texture2D(u_maskSampler, v_texCoord);\n\tfloat isCulledByMask = maskColor.r;\n\t\n\t\n\tif(isCulledByMask > 0.99) {\n\t\tdiscard;\n\t}\n\n\t\n\tvec2 transformRound = floor(v_Transform + 0.5);\n\tvec2 translate = vec2(fract(transformRound.x / 16.0) * 16.0, floor(transformRound.x / 16.0));\n\tfloat scale = transformRound.y;\n\tvec2 coord = vec2(v_coord.x, - v_coord.y) * scale - translate * 256.0;\n\tbool isOutSide = coord.x < -.17 || coord.x > 256.0 || coord.y < -.17 || coord.y > 256.0;\n\t\n\tif(isOutSide){\n\t\t\n\t\tdiscard;\n\t}\n\n\tvec4 color = lighting_apply_on_color(v_color);\n\tgl_FragColor = vec4(color.rgb * color.a, color.a);\n}";
    e.default = {
        v: r,
        f: o,
        name: "building"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.gradientNoise = "\n\nvec2 random(vec2 p) {\n\treturn -1.0 + 2.0 * fract(\n            sin(\n                vec2(\n                    dot(p, vec2(127.1, 311.7)),\n                    dot(p, vec2(269.5, 183.3))\n                )\n            ) * 43758.5453123\n        );\n}\n\n\nfloat noise(vec2 p) {\n\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n\n\n    float a1 = dot(random(i), f);\n    float a2 = dot(random(i + vec2(1., 0.)), f + vec2(-1., 0.));\n    float a3 = dot(random(i + vec2(1., 1.)), f + vec2(-1., -1.));\n    float a4 = dot(random(i + vec2(0., 1.)), f + vec2(0., -1.));\n\n\n    vec2 w = smoothstep(0., 1., f);\n    return mix(\n        mix(a1, a2, w.x),\n        mix(a4, a3, w.x),\n        w.y\n    );\n}\n\nconst int FBM_NUM = 5;\nconst float FREQ = 2.;\nfloat fbm(vec2 p, vec2 cellScale) {\n    float f = 0.0;\n    float a = 1.0;\n    p *= cellScale;\n\n    for (int i = 0; i < FBM_NUM; i++) {\n        f += a * noise(p);\n        p *= FREQ;\n        a /= FREQ;\n    }\n    return f;\n}\n"
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(438),
        r = n(230),
        o = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        a = o.default ? "\n\nfloat edgeY = (uFogEdge.x + 1.) / 2.;\nfloat x = fract((vPosition.x * uViewInfo.y + uViewInfo.x) / 2. / PI);\nvec2 skyCoord = vec2(\n\tgetCoordByDisplay(x, uSkyInfo.x * uViewInfo.y / PI, uSkyInfo.z),\n\tgetCoordByDisplay((texCoord.y - edgeY) / (1.0 - edgeY), uSkyInfo.y / (1.0 - edgeY), uSkyInfo.w)\n);\nvec4 skyColor = mix(\n\tuSkyColor,\n\ttexture2D(uSkySampler, skyCoord),\n\tstep(0.001, uSkyInfo.x * uSkyInfo.y)\n);\n\n\nvec2 p = vec2(texCoord.x - uViewInfo.w + uViewInfo.x / uViewInfo.y / 2., texCoord.y - edgeY);\nfloat mask = smoothstep(0., 0.5, p.y);\nfloat n = mix(\n\t0.,\n\tmax(0., fbm(p, vec2(2., 4.)) * mask),\n\tuViewInfo.z\n);\nvec4 skyWithCloud = vec4(mix(skyColor.rgb, vec3(1.0), n) * uSkyBrightness, 1.);\n" : "vec4 skyWithCloud = uSkyColor;",
        s = "\n#define SHADER_NAME FogShader-fragment-shader\nprecision highp float;\n\nconst float PI = 3.141592653589793;\n\n\nuniform vec2 uRange;\n\n\nuniform vec3 uFogEdge;\n\nuniform sampler2D uSampler;\nuniform sampler2D uDepthSampler;\nuniform sampler2D uSkySampler;\nuniform vec4 uSkyInfo;\nuniform vec4 uViewInfo;\nuniform float uSkyBrightness;\nuniform vec4 uFogColor;\nuniform vec4 uSkyColor;\n\nvarying vec2 vPosition;\n\nfloat LinearizeDepth(float depth) {\n    float near = 0.1;\n    float far = 100.0;\n    float z = depth * 2.0 - 1.0;\n    return (2.0 * near) / (far + near - z * (far - near));\n}\n\nfloat getDepthFromY(float y) {\n\t\n\treturn min(uFogEdge.z + (uFogEdge.y - uFogEdge.z) * y / uFogEdge.x, 1.);\n}\n\nfloat getCoordByDisplay(float value, float max, float displayType) {\n\t\n\treturn mix(\n\t\tvalue / max,\n\t\tmix(\n\t\t\tvalue,\n\t\t\tfract(value / max),\n\t\t\tstep(2.0, displayType)\n\t\t),\n\t\tstep(1.0, displayType)\n\t);\n}\n\n" + i.gradientNoise + "\n\nvoid main() {\n\tvec2 texCoord = (vPosition + vec2(1.0)) / 2.0;\n\n\t\n\tfloat depth = texture2D(uDepthSampler, texCoord).x;\n\n\t\n\tdepth = min(getDepthFromY(vPosition.y), depth);\n\t\n\n\t\n\tfloat fogFactor = mix(\n\t\tsmoothstep(getDepthFromY(uFogEdge.x - uRange.x), uFogEdge.y, depth),\n\t\t1. - smoothstep(uFogEdge.y, getDepthFromY(uFogEdge.x + uRange.y), depth),\n\t\tstep(uFogEdge.y, depth)\n\t);\n\n\t\n\tvec4 sceneColor = texture2D(uSampler, texCoord);\n\n\t" + a + "\n\t\n\t\n\tvec4 bgColor = mix(sceneColor, skyWithCloud, step(uFogEdge.y, depth));\n\n\t\n\tvec4 blendColor = vec4(mix(bgColor.rgb, uFogColor.rgb, fogFactor), bgColor.a);\n\t\n\t\n\t\n\n\tgl_FragColor = mix(\n\t\tblendColor,\n\t\tsceneColor,\n\t\tfloat(vPosition.y < uFogEdge.x - uRange.x)\n\t);\n}\n";
    e.default = {
        v: "\n#define SHADER_NAME FogShader-vertex-shader\nattribute vec2 aClipSpacePosition;\nvarying vec2 vPosition;\n\n\nuniform vec2 uRange;\n\nuniform vec3 uFogEdge;\n\nvoid main() {\n\tvPosition = mix(\n\t\tvec2(aClipSpacePosition.x, uFogEdge.x - uRange.x),\n\t\taClipSpacePosition,\n\t\tstep(0., aClipSpacePosition.y)\n\t);\n\t\n\tgl_Position = vec4(vPosition, 1.0, 1.0);\n}\n",
        f: s,
        name: "fog"
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return {
            v: "\n\t#define SHADER_NAME FXAA3Shader-vertex-shader\n\tattribute vec2 aClipSpacePosition;\n\n\tvoid main() {\n\tgl_Position = vec4(aClipSpacePosition, 1.0, 1.0);\n\t}\n\t",
            f: "\n\t#define SHADER_NAME FXAA3Shader-fragment-shader\n\tprecision highp float;\n\n\t" + (0, r.getFxaaFunPart)(t) + "\n\n\n\tuniform vec2 uResolution;\n\tuniform sampler2D uSampler;\n\tuniform bool uEnabled;\n\n\tconst float fxaaQualitySubpix = 0.5;\n\tconst float fxaaQualityEdgeThreshold = 0.125;\n\tconst float fxaaQualityEdgeThresholdMin = 0.0833;\n\n\tvoid main()\n\t{\n\t\tvec2 v_textureCoordinates = vec2(gl_FragCoord.xy / uResolution.xy);\n\t\tvec2 fxaaQualityRcpFrame = vec2(1.0) / uResolution.xy;\n\t\tvec4 color = texture2D(uSampler, v_textureCoordinates);\n\n\t\tcolor.rgb = mix(color.rgb,\n\t\tFxaaPixelShader(\n\t\t\tv_textureCoordinates,\n\t\t\tuSampler,\n\t\t\tfxaaQualityRcpFrame,\n\t\t\tfxaaQualitySubpix,\n\t\t\tfxaaQualityEdgeThreshold,\n\t\t\tfxaaQualityEdgeThresholdMin\n\t\t).rgb,\n\t\tfloat(uEnabled)\n\t\t);\n\t\tgl_FragColor = color;\n\t}",
            name: "fxaa3"
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = i;
    var r = n(441)
}, function (t, e, n) {
    "use strict";
    /**
     * @license
     * Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.
     *
     * Redistribution and use in source and binary forms, with or without
     * modification, are permitted provided that the following conditions
     * are met:
     *  * Redistributions of source code must retain the above copyright
     *    notice, this list of conditions and the following disclaimer.
     *  * Redistributions in binary form must reproduce the above copyright
     *    notice, this list of conditions and the following disclaimer in the
     *    documentation and/or other materials provided with the distribution.
     *  * Neither the name of NVIDIA CORPORATION nor the names of its
     *    contributors may be used to endorse or promote products derived
     *    from this software without specific prior written permission.
     *
     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY
     * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
     * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
     * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
     * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
     * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     */
    function i(t) {
        return "\n    #define FXAA_QUALITY_PRESET " + t + "\n\n    #if (FXAA_QUALITY_PRESET == 10)\n        #define FXAA_QUALITY_PS 3\n        #define FXAA_QUALITY_P0 1.5\n        #define FXAA_QUALITY_P1 3.0\n        #define FXAA_QUALITY_P2 12.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 11)\n        #define FXAA_QUALITY_PS 4\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 3.0\n        #define FXAA_QUALITY_P3 12.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 12)\n        #define FXAA_QUALITY_PS 5\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 4.0\n        #define FXAA_QUALITY_P4 12.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 13)\n        #define FXAA_QUALITY_PS 6\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 4.0\n        #define FXAA_QUALITY_P5 12.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 14)\n        #define FXAA_QUALITY_PS 7\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 4.0\n        #define FXAA_QUALITY_P6 12.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 15)\n        #define FXAA_QUALITY_PS 8\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 2.0\n        #define FXAA_QUALITY_P6 4.0\n        #define FXAA_QUALITY_P7 12.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 20)\n        #define FXAA_QUALITY_PS 3\n        #define FXAA_QUALITY_P0 1.5\n        #define FXAA_QUALITY_P1 2.0\n        #define FXAA_QUALITY_P2 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 21)\n        #define FXAA_QUALITY_PS 4\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 22)\n        #define FXAA_QUALITY_PS 5\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 23)\n        #define FXAA_QUALITY_PS 6\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 24)\n        #define FXAA_QUALITY_PS 7\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 3.0\n        #define FXAA_QUALITY_P6 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 25)\n        #define FXAA_QUALITY_PS 8\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 2.0\n        #define FXAA_QUALITY_P6 4.0\n        #define FXAA_QUALITY_P7 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 26)\n        #define FXAA_QUALITY_PS 9\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 2.0\n        #define FXAA_QUALITY_P6 2.0\n        #define FXAA_QUALITY_P7 4.0\n        #define FXAA_QUALITY_P8 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 27)\n        #define FXAA_QUALITY_PS 10\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 2.0\n        #define FXAA_QUALITY_P6 2.0\n        #define FXAA_QUALITY_P7 2.0\n        #define FXAA_QUALITY_P8 4.0\n        #define FXAA_QUALITY_P9 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 28)\n        #define FXAA_QUALITY_PS 11\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 2.0\n        #define FXAA_QUALITY_P6 2.0\n        #define FXAA_QUALITY_P7 2.0\n        #define FXAA_QUALITY_P8 2.0\n        #define FXAA_QUALITY_P9 4.0\n        #define FXAA_QUALITY_P10 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 29)\n        #define FXAA_QUALITY_PS 12\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.5\n        #define FXAA_QUALITY_P2 2.0\n        #define FXAA_QUALITY_P3 2.0\n        #define FXAA_QUALITY_P4 2.0\n        #define FXAA_QUALITY_P5 2.0\n        #define FXAA_QUALITY_P6 2.0\n        #define FXAA_QUALITY_P7 2.0\n        #define FXAA_QUALITY_P8 2.0\n        #define FXAA_QUALITY_P9 2.0\n        #define FXAA_QUALITY_P10 4.0\n        #define FXAA_QUALITY_P11 8.0\n    #endif\n    #if (FXAA_QUALITY_PRESET == 39)\n        #define FXAA_QUALITY_PS 12\n        #define FXAA_QUALITY_P0 1.0\n        #define FXAA_QUALITY_P1 1.0\n        #define FXAA_QUALITY_P2 1.0\n        #define FXAA_QUALITY_P3 1.0\n        #define FXAA_QUALITY_P4 1.0\n        #define FXAA_QUALITY_P5 1.5\n        #define FXAA_QUALITY_P6 2.0\n        #define FXAA_QUALITY_P7 2.0\n        #define FXAA_QUALITY_P8 2.0\n        #define FXAA_QUALITY_P9 2.0\n        #define FXAA_QUALITY_P10 4.0\n        #define FXAA_QUALITY_P11 8.0\n    #endif\n\n    #define FxaaBool bool\n    #define FxaaFloat float\n    #define FxaaFloat2 vec2\n    #define FxaaFloat3 vec3\n    #define FxaaFloat4 vec4\n    #define FxaaHalf float\n    #define FxaaHalf2 vec2\n    #define FxaaHalf3 vec3\n    #define FxaaHalf4 vec4\n    #define FxaaInt2 vec2\n    #define FxaaTex sampler2D\n\n    #define FxaaSat(x) clamp(x, 0.0, 1.0)\n    #define FxaaTexTop(t, p) texture2D(t, p)\n    #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n\n    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n\n    FxaaFloat4 FxaaPixelShader(\n\n\n\n        FxaaFloat2 pos,\n\n\n\n\n\n        FxaaTex tex,\n\n\n\n\n\n        FxaaFloat2 fxaaQualityRcpFrame,\n\n\n\n\n\n\n\n\n\n\n\n        FxaaFloat fxaaQualitySubpix,\n\n\n\n\n\n\n\n\n\n\n        FxaaFloat fxaaQualityEdgeThreshold,\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        FxaaFloat fxaaQualityEdgeThresholdMin\n    ) {\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat2 posM;\n        posM.x = pos.x;\n        posM.y = pos.y;\n        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n        #define lumaM rgbyM.y\n        FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat maxSM = max(lumaS, lumaM);\n        FxaaFloat minSM = min(lumaS, lumaM);\n        FxaaFloat maxESM = max(lumaE, maxSM);\n        FxaaFloat minESM = min(lumaE, minSM);\n        FxaaFloat maxWN = max(lumaN, lumaW);\n        FxaaFloat minWN = min(lumaN, lumaW);\n        FxaaFloat rangeMax = max(maxWN, maxESM);\n        FxaaFloat rangeMin = min(minWN, minESM);\n        FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n        FxaaFloat range = rangeMax - rangeMin;\n        FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n        FxaaBool earlyExit = range < rangeMaxClamped;\n    /*--------------------------------------------------------------------------*/\n        if(earlyExit)\n            return rgbyM;\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat lumaNS = lumaN + lumaS;\n        FxaaFloat lumaWE = lumaW + lumaE;\n        FxaaFloat subpixRcpRange = 1.0/range;\n        FxaaFloat subpixNSWE = lumaNS + lumaWE;\n        FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n        FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat lumaNESE = lumaNE + lumaSE;\n        FxaaFloat lumaNWNE = lumaNW + lumaNE;\n        FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n        FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat lumaNWSW = lumaNW + lumaSW;\n        FxaaFloat lumaSWSE = lumaSW + lumaSE;\n        FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n        FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n        FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n        FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n        FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n        FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n        FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n        FxaaBool horzSpan = edgeHorz >= edgeVert;\n        FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n    /*--------------------------------------------------------------------------*/\n        if(!horzSpan) lumaN = lumaW;\n        if(!horzSpan) lumaS = lumaE;\n        if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n        FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat gradientN = lumaN - lumaM;\n        FxaaFloat gradientS = lumaS - lumaM;\n        FxaaFloat lumaNN = lumaN + lumaM;\n        FxaaFloat lumaSS = lumaS + lumaM;\n        FxaaBool pairN = abs(gradientN) >= abs(gradientS);\n        FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n        if(pairN) lengthSign = -lengthSign;\n        FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat2 posB;\n        posB.x = posM.x;\n        posB.y = posM.y;\n        FxaaFloat2 offNP;\n        offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n        offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n        if(!horzSpan) posB.x += lengthSign * 0.5;\n        if( horzSpan) posB.y += lengthSign * 0.5;\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat2 posN;\n        posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n        posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n        FxaaFloat2 posP;\n        posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n        posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n        FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n        FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n        FxaaFloat subpixE = subpixC * subpixC;\n        FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n    /*--------------------------------------------------------------------------*/\n        if(!pairN) lumaNN = lumaSS;\n        FxaaFloat gradientScaled = gradient * 1.0/4.0;\n        FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n        FxaaFloat subpixF = subpixD * subpixE;\n        FxaaBool lumaMLTZero = lumaMM < 0.0;\n    /*--------------------------------------------------------------------------*/\n        lumaEndN -= lumaNN * 0.5;\n        lumaEndP -= lumaNN * 0.5;\n        FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n        FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n        FxaaBool doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n    /*--------------------------------------------------------------------------*/\n        if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\n    /*--------------------------------------------------------------------------*/\n            #if (FXAA_QUALITY_PS > 3)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\n    /*--------------------------------------------------------------------------*/\n                #if (FXAA_QUALITY_PS > 4)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\n    /*--------------------------------------------------------------------------*/\n                    #if (FXAA_QUALITY_PS > 5)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\n    /*--------------------------------------------------------------------------*/\n                        #if (FXAA_QUALITY_PS > 6)\n                        if(doneNP) {\n                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                            doneN = abs(lumaEndN) >= gradientScaled;\n                            doneP = abs(lumaEndP) >= gradientScaled;\n                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\n                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\n                            doneNP = (!doneN) || (!doneP);\n                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\n                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\n    /*--------------------------------------------------------------------------*/\n                            #if (FXAA_QUALITY_PS > 7)\n                            if(doneNP) {\n                                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                                doneN = abs(lumaEndN) >= gradientScaled;\n                                doneP = abs(lumaEndP) >= gradientScaled;\n                                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\n                                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\n                                doneNP = (!doneN) || (!doneP);\n                                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\n                                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\n    /*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PS > 8)\n        if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\n    /*--------------------------------------------------------------------------*/\n            #if (FXAA_QUALITY_PS > 9)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\n    /*--------------------------------------------------------------------------*/\n                #if (FXAA_QUALITY_PS > 10)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\n    /*--------------------------------------------------------------------------*/\n                    #if (FXAA_QUALITY_PS > 11)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\n    /*--------------------------------------------------------------------------*/\n                        #if (FXAA_QUALITY_PS > 12)\n                        if(doneNP) {\n                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                            doneN = abs(lumaEndN) >= gradientScaled;\n                            doneP = abs(lumaEndP) >= gradientScaled;\n                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\n                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\n                            doneNP = (!doneN) || (!doneP);\n                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\n                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\n    /*--------------------------------------------------------------------------*/\n                        }\n                        #endif\n    /*--------------------------------------------------------------------------*/\n                    }\n                    #endif\n    /*--------------------------------------------------------------------------*/\n                }\n                #endif\n    /*--------------------------------------------------------------------------*/\n            }\n            #endif\n    /*--------------------------------------------------------------------------*/\n        }\n        #endif\n    /*--------------------------------------------------------------------------*/\n                            }\n                            #endif\n    /*--------------------------------------------------------------------------*/\n                        }\n                        #endif\n    /*--------------------------------------------------------------------------*/\n                    }\n                    #endif\n    /*--------------------------------------------------------------------------*/\n                }\n                #endif\n    /*--------------------------------------------------------------------------*/\n            }\n            #endif\n    /*--------------------------------------------------------------------------*/\n        }\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat dstN = posM.x - posN.x;\n        FxaaFloat dstP = posP.x - posM.x;\n        if(!horzSpan) dstN = posM.y - posN.y;\n        if(!horzSpan) dstP = posP.y - posM.y;\n    /*--------------------------------------------------------------------------*/\n        FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n        FxaaFloat spanLength = (dstP + dstN);\n        FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n        FxaaFloat spanLengthRcp = 1.0/spanLength;\n    /*--------------------------------------------------------------------------*/\n        FxaaBool directionN = dstN < dstP;\n        FxaaFloat dst = min(dstN, dstP);\n        FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n        FxaaFloat subpixG = subpixF * subpixF;\n        FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n        FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n    /*--------------------------------------------------------------------------*/\n        FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n        FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n        if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n        if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\n\t}"
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.getFxaaFunPart = i
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.default = {
        v: "\nattribute vec2 a_position;\n\nuniform mat4 u_matrix;\nuniform vec2 u_size;\nuniform vec4 u_texInfo;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\t\n\tv_texCoord = vec2(u_texInfo[0] + a_position.x * u_texInfo[2], u_texInfo[1] + a_position.y * u_texInfo[3]);\n\n\t\n\tvec2 position = vec2(a_position.x * u_size.x, (a_position.y - 1.0) * u_size.y);\n\n\tgl_Position = u_matrix * vec4(position, 0.0, 1.0);\n}\n",
        f: "\nprecision mediump float;\n\nuniform float u_opacity;\nuniform sampler2D u_sampler;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\tvec4 color = texture2D(u_sampler, v_texCoord);\n\t\n\tgl_FragColor = color * u_opacity;\n}\n",
        name: "instance_tex"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(91),
        r = n(151),
        o = "\n#define SHADER_NAME indoor-vertex-shader\n\nattribute vec3 aPosition;\nattribute vec3 aColor;\nattribute vec3 aNormal;\n\n" + i.UNIFORM_PART + "\n" + r.LIGHT_UNIFORM + "\nuniform vec4 uRelativeCenter;\n\nvarying vec3 vColor;\n\n" + r.LIGHT_VARYING + "\n\n" + i.PROJECTION_PART + "\n" + r.LIGHT_VERTEX + "\n\nvoid main(void) {\n\tvec3 relativeCenterPoint = vec3(project_view_local_position_precision(uRelativeCenter.xy, uRelativeCenter.zw), 0.0);\n\tvec3 worldspaceCoord = relativeCenterPoint + project_scale(aPosition);\n\tgl_Position = uMatrix * vec4(worldspaceCoord, 1.0);\n\n\tlighting_apply_on_vertex(worldspaceCoord, aNormal, mat4(1.0));\n\n\tvColor = aColor / 255.;\n}\n",
        a = "\n#define SHADER_NAME indoor-fragment-shader\nprecision mediump float;\n\nvarying vec3 vColor;\n\n" + r.LIGHT_VARYING + "\n" + r.LIGHT_FRAG + "\n\nvoid main(void) {\n\tgl_FragColor = lighting_apply_on_color(vec4(vColor, 1.));\n}\n";
    e.default = {
        v: o,
        f: a,
        name: "indoor"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(91),
        r = n(151),
        o = "\n#define SHADER_NAME indoor-vertex-shader\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec3 aColor;\n\nattribute vec2 aInstanceCoord;\nattribute vec4 aInstanceInfo;\n\n" + i.UNIFORM_PART + "\n" + r.LIGHT_UNIFORM + "\nuniform vec4 uRelativeCenter;\nuniform bool uEnableLighting;\nuniform vec3 uBoxMin;\nuniform vec3 uBoxMax;\n\nvarying vec3 vColor;\n" + r.LIGHT_VARYING + "\n\n" + i.PROJECTION_PART + "\n" + r.LIGHT_VERTEX + "\n\nmat3 rotateZ(float deg){\n    float rad = degree_to_radian(deg);\n    return mat3(\n        vec3(cos(rad), -sin(rad), 0.),\n        vec3(sin(rad), cos(rad), 0.),\n        vec3(0., 0., 1.)\n    );\n}\n\nmat3 rotateX(float deg){\n    float rad = degree_to_radian(deg);\n    return mat3(\n        vec3(1.0, 0.0, 0.0),\n        vec3(0.0, cos(rad), -sin(rad)),\n        vec3(0.0, sin(rad), cos(rad))\n    );\n}\n\nvoid main(void) {\n\n\tmat3 modelMatrix = rotateZ(-aInstanceInfo.w);\n\n\n\tvec3 modelNormal = rotateX(-90.0) * aNormal;\n\tmodelNormal = modelMatrix * modelNormal;\n\n\n    vec3 relativeCenterPoint = vec3(project_view_local_position_precision(uRelativeCenter.xy, uRelativeCenter.zw), 0.0);\n    vec3 modelCenterPoint = relativeCenterPoint + project_scale(vec3(aInstanceCoord, 0.0));\n\n\n\n    float scale = pow(2.0, uZoom - 20.0);\n    vec3 modelSize = vec3(aInstanceInfo.xy * scale, aInstanceInfo.z * uPixelsPerMeter.z);\n    vec3 localPosition = modelMatrix * (aPosition * modelSize / (uBoxMax - uBoxMin));\n    \n\n    vec3 worldspaceCoord = modelCenterPoint + localPosition;\n\n    gl_Position = uMatrix * vec4(worldspaceCoord, 1.0);\n\n    lighting_apply_on_vertex(worldspaceCoord, modelNormal, mat4(1.0));\n    \n\n    vColor = aColor / 255.;\n}\n",
        a = "\n#define SHADER_NAME indoor-fragment-shader\nprecision mediump float;\n\nvarying vec3 vColor;\n" + r.LIGHT_VARYING + "\n" + r.LIGHT_FRAG + "\n\nvoid main(void) {\n\tgl_FragColor = lighting_apply_on_color(vec4(vColor, 1.));\n}\n";
    e.default = {
        v: o,
        f: a,
        name: "instance_escalator"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(91),
        r = n(192);
    e.default = {
        v: "\n        #define SHADER_NAME instance-polyline-vertex-shader\n        \n        \n        attribute vec2 positions;\n        \n        attribute vec3 instanceStartPositions;\n        attribute vec3 instanceEndPositions;\n        attribute vec3 instanceLeftDeltas;\n        attribute vec3 instanceRightDeltas;\n        attribute vec4 instanceStartEndPositions64xyLow;\n        attribute float instanceWidths;\n        attribute vec4 instanceColors;\n        attribute vec3 instanceLineInfo;\n        attribute vec4 instanceArrowInfo;\n        \n        \n        attribute vec3 instancePickingColors;\n        \n        uniform float u_isBorder;\n        uniform float u_widthScale;\n        uniform float u_widthMinPixels;\n        uniform float u_widthMaxPixels;\n        uniform float u_miterLimit;\n        \n        uniform float u_lineJoin;\n        \n        uniform float u_opacity;\n        \n        const float EPSILON = 0.001;\n        const float PIXEL_EPSILON = 0.1;\n        \n        " + i.UNIFORM_PART + "\n        \n        " + r.PICK_UNIFORM + "\n        \n        varying vec4 vColor;\n        varying vec2 vCornerOffset;\n\n        varying vec3 vLineInfo;\n\n\n\n\n        varying float vWidth;\n        varying float vHalfLength;\n\t\tvarying vec2 vDashArray;\n\t\tvarying vec4 vArrowArray;\n\n        varying vec4 vLineSegmentInfo;\n\n\n\n\n        \n        " + i.PROJECTION_PART + "\n        \n        " + r.PICK_FUNCTION + "\n        \n        vec3 calculateLinePosition(vec3 prevPoint, vec3 currPoint, vec3 nextPoint) {\n            float lineCap = instanceLineInfo.x;\n            vDashArray = instanceLineInfo.yz;\n            vLineSegmentInfo.w = lineCap;\n\n            float isEnd = positions.x;\n            vLineSegmentInfo.x = isEnd;\n            float width = clamp(instanceWidths * uPixelsPerMeter[0] * u_widthScale, u_widthMinPixels, u_widthMaxPixels) / 2.0;\n            vWidth = width;\n\n        \n            vec2 deltaA = currPoint.xy - prevPoint.xy;\n            vec2 deltaB = nextPoint.xy - currPoint.xy;\n        \n            float lenA = length(deltaA);\n            float lenB = length(deltaB);\n        \n            lenA = mix(0.0, lenA, step(PIXEL_EPSILON, lenA));\n            lenB = mix(0.0, lenB, step(PIXEL_EPSILON, lenB));\n        \n\n            vec2 dirA = mix(vec2(0.0), normalize(deltaA), step(PIXEL_EPSILON, lenA));\n            vec2 dirB = mix(vec2(0.0), normalize(deltaB), step(PIXEL_EPSILON, lenB));\n        \n            vec2 perpA = vec2(-dirA.y, dirA.x);\n            vec2 perpB = vec2(-dirB.y, dirB.x);\n        \n\n            vec2 tangent = vec2(dirA + dirB);\n            tangent = mix(perpA, normalize(tangent), step(EPSILON, length(tangent)));\n        \n            vec2 miterVec = vec2(-tangent.y, tangent.x);\n            vec2 perp = mix(perpB, perpA, isEnd);\n        \n            float L = mix(lenB, lenA, isEnd);\n        \n            float offsetScale = 1.0 / dot(miterVec, perp);\n        \n\n            float offsetLength = clamp(offsetScale * width, width, u_miterLimit);\n            vec2 vertical_offset = mix(\n                miterVec * offsetLength * -positions.y,\n                perp * width * -positions.y,\n                1.0\n            );\n\n            vLineInfo.x = length(vertical_offset);\n        \n        \n\n            bool isPathStart = step(0.0, -lenA) > 0.5;\n            bool isPathEnd = step(0.0, -lenB) > 0.5;\n            vec2 dir = mix(dirB, dirA, isEnd);\n            vLineSegmentInfo.z = float(isPathEnd);\n            vLineSegmentInfo.y = float(isPathStart);\n            \n\n            vec2 horizontal_offset = vec2(0.0);\n\n\n\n            horizontal_offset = mix(-dir, dir, isEnd) * width;\n            vHalfLength = L / width / 2.0;\n            float capLength = mix(-1.0 - vHalfLength, 1.0 + vHalfLength, isEnd);\n            vCornerOffset = vec2(capLength, positions.y);\n            vLineInfo.z = capLength;\n\n        \n            horizontal_offset = mix(vec2(0.0), horizontal_offset, step(0.1, u_lineJoin));\n            if (isPathStart || isPathEnd) {\n                capLength = mix(0.0, capLength, step(1.1, lineCap));\n                vCornerOffset = mix(vec2(capLength, positions.y), vCornerOffset, step(1.1, lineCap));\n\n\n                horizontal_offset = mix(vec2(0.0), horizontal_offset, step(0.1, lineCap));\n                vLineInfo.z = mix(mix(-vHalfLength,  vHalfLength, isEnd), vLineInfo.z, step(0.1, lineCap));\n            }\n            vLineInfo.y = capLength;\n            \n            return currPoint + vec3(vertical_offset, 0.0) + vec3(horizontal_offset, 0.0);\n        }\n        \n        void main(void) {\n            float isEnd = positions.x;\n        \n\n            vec3 startLocalPosition = vec3(project_view_local_position_precision(\n                instanceStartPositions.xy, instanceStartEndPositions64xyLow.xy\n            ), 0.0);\n\n            vec3 endLocalPosition = vec3(project_view_local_position_precision(\n                instanceEndPositions.xy, instanceStartEndPositions64xyLow.zw\n            ), 0.0);\n            vec3 segmentDirection = normalize(mix(startLocalPosition - endLocalPosition, endLocalPosition - startLocalPosition, isEnd));\n\n\n\n\n            segmentDirection *= 0.01;\n        \n        \n            vec3 prevPosition = instanceStartPositions;\n            vec2 prevPosition64xyLow = instanceStartEndPositions64xyLow.xy;\n            prevPosition = vec3(project_view_local_position_precision(\n                prevPosition.xy, prevPosition64xyLow + mix(-instanceLeftDeltas, vec3(0.0), isEnd).xy\n            ), 0.0) + segmentDirection;\n        \n            vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n            vec2 currPositionxy64Low = mix(instanceStartEndPositions64xyLow.xy, instanceStartEndPositions64xyLow.zw, isEnd);\n            currPosition = vec3(project_view_local_position_precision(\n                currPosition.xy, currPositionxy64Low\n            ), 0.0);\n        \n            vec3 nextPosition = instanceEndPositions;\n            vec2 nextPosition64xyLow = instanceStartEndPositions64xyLow.zw;\n            nextPosition = vec3(project_view_local_position_precision(\n                nextPosition.xy, nextPosition64xyLow + mix(vec3(0.0), instanceRightDeltas, isEnd).xy\n            ), 0.0) + segmentDirection;\n        \n            vec3 pos = calculateLinePosition(prevPosition, currPosition, nextPosition);\n        \n            gl_Position = uMatrix * vec4(pos, 1.0);\n        \n            vec4 vertexColor = instanceColors.rgba / 255.0 * u_opacity;\n\t\t\tvColor = picking_getFinalColor(vertexColor, instancePickingColors);\n\t\t\tvArrowArray = instanceArrowInfo; \n        }\n    \n    ",
        f: "\n        #define SHADER_NAME instance-polyline-fragment-shader\n        \n        precision highp float;\n        uniform float u_isBorder;\n        uniform float u_miterLimit;\n        \n\t\tuniform float u_lineJoin;\n\t\tuniform sampler2D u_arrowSampler;\n        \n        varying vec4 vColor;\n        varying vec2 vCornerOffset;\n        varying vec3 vLineInfo;\n\n\n\n\n        varying float vWidth;\n        varying float vHalfLength;\n\t\tvarying vec2 vDashArray;\n\t\tvarying vec4 vArrowArray;\n\n        varying vec4 vLineSegmentInfo;\n\n\n\n\n\n        \n        void main(void) {\n            vec4 fColor = vColor;\n            vec4 opacity = vec4(0.0, 0.0, 0.0, 0.0);\n\n            fColor = mix(vColor, opacity, float(u_lineJoin == 0.0 && vLineInfo.x > u_miterLimit));\n            fColor = mix(\n                fColor,\n                opacity,\n                float(u_lineJoin == 1.0 &&\n                    length(vec2(abs(vCornerOffset.x) - vHalfLength, vCornerOffset.y)) > 1.0 &&\n                    (abs(vLineInfo.y) - vHalfLength) >= 0.0\n                )\n            );\n\n            float shim = mix(\n\n                vCornerOffset.x,\n                vLineInfo.z,\n                float(vLineSegmentInfo.y > 0.0 && vLineSegmentInfo.w < 2.0)\n            );\n\n\n\n            fColor = mix(\n                fColor,\n                opacity,\n                float(u_lineJoin == 1.0 &&\n                    vLineSegmentInfo.x > 0.5 && vLineSegmentInfo.z == 0.0 &&\n                    (shim - vHalfLength > 0.99 ||\n                        length(vec2(shim - vHalfLength, vCornerOffset.y)) < 0.99\n                    )\n                )\n            );\n\t\t\t\n\t\t\t\n\t\t\tfloat segmentLength = vLineInfo.z + vHalfLength;\n\t\t\t\n\t\t\t\n\t\t\tvec2 normalDashArray = vDashArray / vWidth;\n            float useDash = step(0.1, vDashArray.y) * step(-vHalfLength, -abs(vLineInfo.z));\n            float isInGap = step(normalDashArray.x, mod(segmentLength, normalDashArray.x + normalDashArray.y));\n\n\t\t\t\n\t\t\tvec3 normalArrowArray = vArrowArray.xyz / vWidth;\n\t\t\t\n\t\t\tfloat useArrow = (1.0 - u_isBorder) * step(0.1, vArrowArray.x) * step(0.1, vArrowArray.y) * step(-vHalfLength, -abs(vLineInfo.z));\n\t\t\t\n\t\t\t\n\t\t\tfloat offsetX = mix(\n\t\t\t\tmix(\n\t\t\t\t\t0.5,\n\t\t\t\t\t1.0 / normalArrowArray.x,\n\t\t\t\t\tstep(0.1, vArrowArray.w)\n\t\t\t\t),\n\t\t\t\t1.0 - 1.0 / normalArrowArray.x,\n\t\t\t\tstep(1.1, vArrowArray.w)\n\t\t\t);\n            float yMod = mod(segmentLength, normalArrowArray.y + normalArrowArray.z);\n            float texCoordY = yMod / normalArrowArray.y;\n            float texCoordX = offsetX + vCornerOffset.y / normalArrowArray.x;\n            \n\n            float isComplete = step(0.0, vHalfLength * 2.0 - 1.0 - (segmentLength + normalArrowArray.y - yMod));\n\t\t\tfloat isFilled = (1.0 - step(1.0, texCoordY)) * step(0.0, texCoordX) * (1.0 - step(1.0, texCoordX));\n\t\t\tvec4 arrowColor = texture2D(u_arrowSampler, vec2(texCoordX, texCoordY));\n\n            fColor = mix(\n                fColor,\n                mix(fColor, opacity, isInGap),\n                useDash\n\t\t\t);\n\t\t\tfColor = mix(\n\t\t\t\tfColor,\n\t\t\t\tvec4(mix(\n\t\t\t\t\tfColor.rgb,\n\t\t\t\t\tarrowColor.rgb,\n\t\t\t\t\tarrowColor.a\n\t\t\t\t), fColor.a),\n\t\t\t\tuseArrow * isFilled * isComplete\n\t\t\t);\n        \n            gl_FragColor = fColor;\n        }\n    ",
        name: "instance_polyline"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(91),
        r = "\n#define SHADER_NAME mask-vertex-shader\n\nattribute vec3 aPosition;\n\n" + i.UNIFORM_PART + "\nuniform vec4 uRelativeCenter;\n\n" + i.PROJECTION_PART + "\n\nvoid main(void) {\n\tvec3 maskCenterPoint = vec3(project_view_local_position_precision(uRelativeCenter.xy, uRelativeCenter.zw), 0.0);\n\tgl_Position = uMatrix * vec4(maskCenterPoint + project_scale(aPosition), 1.0);\n}\n";
    e.default = {
        v: r,
        f: "\n#define SHADER_NAME mask-fragment-shader\nprecision mediump float;\n\nuniform vec4 uColor;\n\nvoid main(void) {\n\tgl_FragColor = uColor;\n}\n",
        name: "mask"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(91),
        r = n(192),
        o = n(345);
    e.default = {
        v: "\n        #define SHADER_NAME instance-glyph-vertex-shader\n\n        " + o.INSTANCE_PARTS + "\n        attribute vec4 instanceColors;\n\t\t\t\tattribute float instanceShow;\n        \n        " + i.UNIFORM_PART + "\n        \n        " + r.PICK_UNIFORM + "\n\n        " + o.UNIFORM_PARTS + "\n        uniform float u_gamma;\n        \n        varying float vColorMode;\n        varying vec4 vColor;\n        varying vec2 vTextureCoords;\n        varying float vGamma;\n        varying float vOpacity;\n\n        \n        " + i.PROJECTION_PART + "\n        \n        " + r.PICK_FUNCTION + "\n        \n        void main(void) {\n            " + (0, o.generateMainPart)("\n\n                vec2 instanceScale = mix(sizePixels / imageSize.y, vec2(0.0), float(imageSize.y == 0.0));\n                \n\n                vec2 pixelOffset = positions / 2.0 * imageSize + instanceInfos.xy;\n            \n                pixelOffset = rotate_by_angle_onScreen(pixelOffset, instanceInfos.z) * instanceScale;\n                pixelOffset += instancePixelOffset.xy;\n                pixelOffset.y *= -1.0;\n            ", "\n                vColor = vec4(instanceColors.rgb, instanceColors.a * u_opacity) / 255.;\n            ") + "\n            \n\t\t\t\t\t\tvGamma = u_gamma / (u_sizeScale * instanceSizes.x / imageSize.y);\n\t\t\t\t\t\tvOpacity = instanceShow * vOpacity;\n            \n\n        }\n    ",
        f: "\n        #define SHADER_NAME instance-marker-fragment-shader\n\n        precision highp float;\n        \n        uniform sampler2D u_sampler;\n        uniform float u_buffer;\n\n        " + r.PICK_UNIFORM + "\n        \n        varying vec4 vColor;\n        varying vec2 vTextureCoords;\n        varying float vGamma;\n        varying float vOpacity;\n        \n        const float MIN_ALPHA = 0.05;\n        const bool useSdf = true;\n        \n        void main(void) {\n            vec4 texColor = texture2D(u_sampler, vTextureCoords);\n            \n            float alpha = texColor.a;\n            \n\n                float distance = texture2D(u_sampler, vTextureCoords).a;\n                alpha = smoothstep(u_buffer - vGamma, u_buffer + vGamma, distance);\n\n            \n            float a = alpha * vColor.a;\n            \n            a = mix(a, 0.0, float(a < MIN_ALPHA && picking_usePickingColor == 0.0));\n            \n            gl_FragColor = mix(vec4(vColor.rgb, a) * vOpacity, vColor, picking_usePickingColor);\n        }\n    ",
        name: "instance_glyph"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(91),
        r = n(192),
        o = n(345);
    e.default = {
        v: "\n        #define SHADER_NAME instance-marker-vertex-shader\n\n        " + o.INSTANCE_PARTS + "\n        \n        " + i.UNIFORM_PART + "\n        \n        " + r.PICK_UNIFORM + "\n\n        " + o.UNIFORM_PARTS + "\n        \n        varying vec4 vColor;\n        varying vec2 vTextureCoords;\n        varying float vOpacity;\n\n        \n        " + i.PROJECTION_PART + "\n        \n        " + r.PICK_FUNCTION + "\n        \n        void main(void) {\n            " + (0, o.generateMainPart)("\n\n                vec2 instanceScale = mix(sizePixels / imageSize, vec2(0.0), float(imageSize.y == 0.0));\n                \n\n                vec2 pixelOffset = positions / 2.0 * imageSize;\n            \n\n                pixelOffset = rotate_by_angle_onScreen((pixelOffset * instanceScale + instanceInfos.xy), instanceInfos.z);\n                pixelOffset += instancePixelOffset.xy;\n                pixelOffset.y *= -1.0;\n            ", "\n                vColor = vec4(0.0, 0.0, 0.0, 0.0);\n            ") + "\n        }\n    ",
        f: "\n        #define SHADER_NAME instance-marker-fragment-shader\n\n        precision highp float;\n        \n\t\tuniform sampler2D u_sampler;\n\t\t\n        " + r.PICK_UNIFORM + "\n        \n        varying vec4 vColor;\n        varying vec2 vTextureCoords;\n        varying float vOpacity;\n        \n        const float MIN_ALPHA = 0.05;\n\n        \n        void main(void) {\n            vec4 texColor = texture2D(u_sampler, vTextureCoords);\n            \n            gl_FragColor = mix(texColor * vOpacity, vColor, picking_usePickingColor);\n        }\n    ",
        name: "instance_marker"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(228);
    e.default = {
        v: [i.attributePart, "attribute vec4 a_InstanceColors;", "attribute vec4 a_InstanceStrokeColors;", i.uniformPart, "uniform vec2 u_glyphTextureResolution;", "uniform vec2 u_billboardTextureResolution;", "uniform float u_gamma;", i.varyingPart, "varying float v_gamma;", "varying vec4 v_color;", "varying vec4 v_strokeColor;", "varying float v_fontScale;", "varying float v_gammaScale;", i.projectScreenPart, i.filterPart, "void main(){", "\tvec2 transCoord = a_InstanceTrans.xy;", i.glPositionPart, "    vec2 texCoords = a_Positions.xy * 0.5 + 0.5;", "vec4 textureBounds = vec4(a_InstanceTextBounds.x, u_billboardTextureResolution.y - a_InstanceTextBounds.y - a_InstanceTextBounds.w, a_InstanceTextBounds.zw);", "\tvec2 billboradTextureCoords = mix(\n\t\t\t\ttextureBounds.xy,\n\t\t\t\ttextureBounds.xy + textureBounds.zw,\n\t\t\t\t\ttexCoords\n\t\t\t\t) / u_billboardTextureResolution;\n\t\t\t\n\t\t", "       float xRoad = (a_InstanceTextBounds.x) / u_glyphTextureResolution.x;", "       float yRoad = (u_glyphTextureResolution.y - (a_InstanceTextBounds.y)) / u_glyphTextureResolution.y;", "       float wRoad = a_InstanceTextBounds.z / u_glyphTextureResolution.x;", "       float hRoad = a_InstanceTextBounds.w / u_glyphTextureResolution.y;", "       v_TexCoord = mix(\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tbillboradTextureCoords,\n\t\t\t\t\t\t\t\tmix(\n\t\t\t\t\t\t\t\t\tvec2(xRoad + texCoords.x * wRoad, yRoad + (texCoords.y - 1.0) * hRoad),\n\t\t\t\t\t\t\t\t\tvec2(a_InstanceTextBounds.x + a_InstanceTextBounds.z * texCoords.x, a_InstanceTextBounds.y + a_InstanceTextBounds.w * texCoords.y),\n\t\t\t\t\t\t\t\t\ta_InstanceInfo.z\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tstep(0.0, a_InstanceInfo.z)\n\t\t\t\t\t\t\t);", "    v_isShow = a_InstanceInfo.y;", "    v_isIcon = a_InstanceInfo.z;", "    v_opacity = max(0.0, min(1.0, a_InstanceInfo.w + mix(-u_fadeChange, u_fadeChange, v_isShow)));", "\t v_opacity = getFilterOpacity(v_opacity, a_InstanceTrans.z);", "\t v_color = a_InstanceColors / 255.0;", "\t v_strokeColor = a_InstanceStrokeColors / 255.0;", "\t v_gamma = u_gamma / (a_InstanceCoords.y / a_InstanceTextBounds.w);", "\t v_fontScale = a_InstanceCoords.y / a_InstanceTextBounds.w;", "\t v_gammaScale = 1.0;", "}"].join("\n"),
        f: ["#define SDF_PX 8.0", "#define EDGE_GAMMA 0.105 / 2.0", "precision highp float;", i.fragPart, "uniform sampler2D u_SamplerGlyph;", "uniform float u_buffer;", i.varyingPart, "varying float v_gamma;", "varying vec4 v_color;", "varying vec4 v_strokeColor;", "varying float v_fontScale;", "varying float v_gammaScale;", "void main() {", i.maskPart, "\t vec4 vColor = v_color * v_color.a;", "\tvec4 color = mix(\n\t\t\t\ttexture2D(u_SamplerGlyph, v_TexCoord),\n\t\t\t\tmix(\n\t\t\t\t\ttexture2D(u_SamplerText, v_TexCoord),\n\t\t\t\t\ttexture2D(u_SamplerIcon, v_TexCoord),\n\t\t\t\t\tstep(0.0, v_isIcon)\n\t\t\t\t),\n\t\t\t\tabs(v_isIcon)\n\t\t\t);\n\t\t", "\n\t\t\tfloat alpha = color.a;\n\t\t\tfloat distance = alpha;\n\n\t\t\tfloat usedBuff = u_buffer;\n\t\t\tfloat usedGamma = v_gamma;\n\t\t\talpha = smoothstep(usedBuff - usedGamma, usedBuff + usedGamma, distance);\n\t\t\tfloat a = mix(alpha, color.a, step(0.5, abs(v_isIcon)));\n\n\t\t\tfloat outlineFactor = smoothstep(usedBuff - usedGamma, usedBuff + usedGamma, distance);\n\t\t\tfloat finallAlpha = smoothstep(0.5 - usedGamma, 0.5 + usedGamma, distance);\n\n\t\t\t\n\t\t\tcolor = mix(\n\t\t\t\tmix(v_strokeColor * v_strokeColor.a, vColor, outlineFactor),\n\t\t\t\tcolor,\n\t\t\t\tstep(0.5, abs(v_isIcon))\n\t\t\t) * finallAlpha;\n\t\t\t\n\t\t\t\n\t\t\t\n\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t", "    gl_FragColor = color * mix(v_opacity, 0.0, step(0.99, isCulledByMask));", "}"].join("\n"),
        name: "instance_symbol_custom_style"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(228);
    e.default = {
        v: [i.attributePart, i.uniformPart, i.varyingPart, i.projectScreenPart, i.filterPart, "void main(){", "\tvec2 transCoord = a_InstanceTrans.xy;", i.glPositionPart, "        vec2 texCoords = a_Positions.xy * 0.5 + 0.5;", "        if (a_InstanceInfo.z != 1.0) {", "           float x = (u_InstanceTileTextureOffset.x + a_InstanceTextBounds.x) / u_textTextureResolution.x;", "           float y = (u_textTextureResolution.y - (u_InstanceTileTextureOffset.y + a_InstanceTextBounds.y)) / u_textTextureResolution.y;", "           float w = a_InstanceTextBounds.z / u_textTextureResolution.x;", "           float h = a_InstanceTextBounds.w / u_textTextureResolution.y;", "           v_TexCoord = vec2(x + texCoords.x * w, y + (texCoords.y - 1.0) * h);", "        } else {", "           v_TexCoord = vec2(a_InstanceTextBounds.x + a_InstanceTextBounds.z * texCoords.x, a_InstanceTextBounds.y + a_InstanceTextBounds.w * texCoords.y);", "        }", "    v_isShow = a_InstanceInfo.y;", "    v_isIcon = a_InstanceInfo.z;", "    v_opacity = max(0.0, min(1.0, a_InstanceInfo.w + mix(-u_fadeChange, u_fadeChange, v_isShow)));", "\t v_opacity = getFilterOpacity(v_opacity, a_InstanceTrans.z);", "}"].join("\n"),
        f: ["precision mediump float;", i.fragPart, i.varyingPart, "void main() {", i.maskPart, "    vec4 color = mix(texture2D(u_SamplerText, v_TexCoord), texture2D(u_SamplerIcon, v_TexCoord), v_isIcon);", "    gl_FragColor = mix(color, vec4(1.0, 1.0, 1.0, color.a), u_asbackground) * color.a * mix(v_opacity, 0.0, step(0.99, isCulledByMask));", "}"].join("\n"),
        name: "instance_symbol_default_style"
    }
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(228),
        r = n(91),
        o = "\n\t" + r.PROJECTION_PART + "\n\n\tvec2 getWorldspaceCoord(vec4 relativeCenter, vec2 localPosition) {\n\t\tvec2 relativeCenterPoint = project_view_local_position_precision(relativeCenter.xy, relativeCenter.zw);\n\t\tvec2 worldspaceCoord = relativeCenterPoint + project_scale(vec3(localPosition, 0.0)).xy;\n\t\treturn worldspaceCoord;\n\t}\n";
    e.default = {
        v: [i.attributePart, "attribute vec4 a_InstanceColors;", "attribute vec4 a_InstanceStrokeColors;", i.uniformPart, "uniform vec2 u_glyphTextureResolution;", "uniform vec2 u_billboardTextureResolution;", "uniform float u_gamma;", "\n\tuniform vec4 uCenter;\n\tuniform float uZoom;\n\tuniform vec3 uPixelsPerMeter;\n\tuniform vec2 uResolution;\n\tuniform vec3 uProject_uCommonUnitsPerWorldUnit;\n\tuniform vec3 uProject_uCommonUnitsPerWorldUnit2;\n\tuniform vec4 uRelativeCenter;\n", i.varyingPart, "varying float v_gamma;", "varying vec4 v_color;", "varying vec4 v_strokeColor;", "varying float v_fontScale;", "varying float v_gammaScale;", i.projectScreenPart, o, i.filterPart, "void main(){", "\tvec2 transCoord = getWorldspaceCoord(uRelativeCenter, a_InstanceTrans.xy);", i.glPositionPart, "\n\t\t\tvec2 texCoords = a_Positions.xy * 0.5 + 0.5;\n\t\t\t\n\t\t\t\n\t\t\tvec2 resolution = mix(\n\t\t\t\tu_glyphTextureResolution,\n\t\t\t\tu_billboardTextureResolution,\n\t\t\t\tabs(a_InstanceInfo.z)\n\t\t\t);\n\t\t\tvec4 textureBounds = vec4(a_InstanceTextBounds.x, resolution.y - a_InstanceTextBounds.y - a_InstanceTextBounds.w, a_InstanceTextBounds.zw);\n\t\t\tv_TexCoord = mix(\n\t\t\t\ttextureBounds.xy,\n\t\t\t\ttextureBounds.xy + textureBounds.zw,\n\t\t\t\ttexCoords\n\t\t\t) / resolution;\n\n\t\t\tv_isShow = a_InstanceInfo.y;\n\t\t\tv_isIcon = a_InstanceInfo.z;\n\t\t\tv_opacity = max(0.0, min(1.0, a_InstanceInfo.w + mix(-u_fadeChange, u_fadeChange, v_isShow)));\n\t\t\tv_color = a_InstanceColors / 255.0;\n\t\t\tv_strokeColor = a_InstanceStrokeColors / 255.0;\n\n\t\t\tv_gamma = u_gamma / (a_InstanceCoords.y / a_InstanceTextBounds.w);\n\n\t\t\tv_fontScale = a_InstanceCoords.y / a_InstanceTextBounds.w;\n\t\t\tv_gammaScale = 1.0;\n\t\t}"].join("\n"),
        f: ["#define SDF_PX 8.0", "#define EDGE_GAMMA 0.105 / 2.0", "precision highp float;", "uniform sampler2D u_SamplerText;", "uniform sampler2D u_SamplerGlyph;", "uniform float u_buffer;", "uniform float u_asbackground;", i.varyingPart, "varying float v_gamma;", "varying vec4 v_color;", "varying vec4 v_strokeColor;", "varying float v_fontScale;", "varying float v_gammaScale;", "void main() {", "\t vec4 vColor = v_color * v_color.a;", "\n\t\t\tvec4 color = mix(\n\t\t\t\ttexture2D(u_SamplerGlyph, v_TexCoord),\n\t\t\t\ttexture2D(u_SamplerText, v_TexCoord),\n\t\t\t\tabs(v_isIcon)\n\t\t\t);\n\t\t", "\n\t\t\tfloat alpha = color.a;\n\t\t\tfloat distance = alpha;\n\n\t\t\tfloat usedBuff = u_buffer;\n\t\t\tfloat usedGamma = v_gamma;\n\t\t\tfloat outlineFactor = smoothstep(usedBuff - usedGamma, usedBuff + usedGamma, distance);\n\t\t\tfloat finalAlpha = smoothstep(0.5 - usedGamma, 0.5 + usedGamma, distance);\n\n\t\t\tcolor = mix(\n\t\t\t\tmix(v_strokeColor * v_strokeColor.a, vColor, outlineFactor),\n\t\t\t\tcolor,\n\t\t\t\tstep(0.5, abs(v_isIcon))\n\t\t\t) * finalAlpha;\n\t\t\t\n\t\t\tgl_FragColor = color * v_opacity;\n\t\t}"].join("\n"),
        name: "instance_symbol_indoor"
    }
}, , , , , , , function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(6),
        u = n(349),
        c = function () {
            function t(e, n) {
                (0, o.default)(this, t), this.workerPool = e, this.actors = [], this.currentActor = 0, this.id = l.uniqueId();
                for (var i = this.workerPool.acquire(this.id), r = 0; r < i.length; r++) {
                    var a = i[r],
                        s = new u(a, n, this.id);
                    s.name = "Worker " + r, this.actors.push(s)
                }
            }
            return (0, s.default)(t, [{
                key: "send",
                value: function (t, e, n, i) {
                    return ("number" != typeof i || isNaN(i)) && (i = this.currentActor = (this.currentActor + 1) % this.actors.length), this.actors[i].send(t, e, n), i
                }
            }, {
                key: "remove",
                value: function () {
                    this.actors.forEach(function (t) {
                        t.remove()
                    }), this.actors = [], this.workerPool.release(this.id)
                }
            }, {
                key: "broadcast",
                value: function (t, e, n) {
                    n = n || function () {}, l.asyncAll(this.actors, function (n, i) {
                        n.send(t, e, i)
                    }, n)
                }
            }, {
                key: "destroy",
                value: function () {
                    this.remove()
                }
            }]), t
        }();
    e.default = c
}, function (t, e, n) {
    "use strict";
    var i = n(460),
        r = i(461);
    t.exports = function () {
        var t = new window.Worker(r);
        return t.objectURL = r, t
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        function e(i) {
            if (n[i]) return n[i].exports;
            var r = n[i] = {
                i: i,
                l: !1,
                exports: {}
            };
            return t[i].call(r.exports, r, r.exports, e), r.l = !0, r.exports
        }
        var n = {};
        e.m = t, e.c = n, e.i = function (t) {
            return t
        }, e.d = function (t, n, i) {
            e.o(t, n) || (0, _.default)(t, n, {
                configurable: !1,
                enumerable: !0,
                get: i
            })
        }, e.r = function (t) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            })
        }, e.n = function (t) {
            var n = t && t.__esModule ? function () {
                return t.default
            } : function () {
                return t
            };
            return e.d(n, "a", n), n
        }, e.o = function (t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }, e.p = "/", e.oe = function (t) {
            throw console.error(t), t
        };
        var i = e(e.s = ENTRY_MODULE);
        return i.default || i
    }

    function o(t) {
        return (t + "").replace(/[.?*+^$[\]\\(){}|-]/g, "\\$&")
    }

    function a(t) {
        return !isNaN(1 * t)
    }

    function s(t, e, i) {
        var r = {};
        r[i] = [];
        var s = e.toString(),
            l = s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);
        if (!l) return r;
        for (var u, c = l[1], f = new RegExp("(\\\\n|\\W)" + o(c) + m, "g"); u = f.exec(s);) "dll-reference" !== u[3] && r[i].push(u[3]);
        for (f = new RegExp("\\(" + o(c) + '\\("(dll-reference\\s(' + p + '))"\\)\\)' + m, "g"); u = f.exec(s);) t[u[2]] || (r[i].push(u[1]), t[u[2]] = n(u[1]).m), r[u[2]] = r[u[2]] || [], r[u[2]].push(u[4]);
        for (var d = (0, h.default)(r), v = 0; v < d.length; v++)
            for (var _ = 0; _ < r[d[v]].length; _++) a(r[d[v]][_]) && (r[d[v]][_] = 1 * r[d[v]][_]);
        return r
    }

    function l(t) {
        return (0, h.default)(t).reduce(function (e, n) {
            return e || t[n].length > 0
        }, !1)
    }

    function u(t, e) {
        for (var n = {
                main: [e]
            }, i = {
                main: []
            }, r = {
                main: {}
            }; l(n);)
            for (var o = (0, h.default)(n), a = 0; a < o.length; a++) {
                var u = o[a],
                    c = n[u],
                    f = c.pop();
                if (r[u] = r[u] || {}, !r[u][f] && t[u][f]) {
                    r[u][f] = !0, i[u] = i[u] || [], i[u].push(f);
                    for (var d = s(t, t[u][f], u), v = (0, h.default)(d), _ = 0; _ < v.length; _++) n[v[_]] = n[v[_]] || [], n[v[_]] = n[v[_]].concat(d[v[_]])
                }
            }
        return i
    }
    var c = n(55),
        f = i(c),
        d = n(10),
        h = i(d),
        v = n(106),
        _ = i(v),
        p = "[\\.|\\-|\\+|\\w|/|@]+",
        m = "\\(\\s*(/\\*.*?\\*/)?\\s*.*?(" + p + ").*?\\)";
    t.exports = function (t, e) {
        e = e || {};
        var i = {
                main: n.m
            },
            o = e.all ? {
                main: (0, h.default)(i.main)
            } : u(i, t),
            a = "";
        (0, h.default)(o).filter(function (t) {
            return "main" !== t
        }).forEach(function (t) {
            for (var e = 0; o[t][e];) e++;
            o[t].push(e), i[t][e] = "(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })", a = a + "var " + t + " = (" + r.toString().replace("ENTRY_MODULE", (0, f.default)(e)) + ")({" + o[t].map(function (e) {
                return (0, f.default)(e) + ": " + i[t][e].toString()
            }).join(",") + "});\n"
        }), a = a + "new ((" + r.toString().replace("ENTRY_MODULE", (0, f.default)(t)) + ")({" + o.main.map(function (t) {
            return (0, f.default)(t) + ": " + i.main[t].toString()
        }).join(",") + "}))(self);";
        var s = new window.Blob([a], {
            type: "text/javascript"
        });
        return e.bare ? s : (window.URL || window.webkitURL || window.mozURL || window.msURL).createObjectURL(s)
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(107),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l);
    n(343);
    var c = n(505),
        f = i(c),
        d = n(508),
        h = i(d),
        v = n(511),
        _ = i(v),
        p = n(513),
        m = i(p),
        y = n(48),
        g = n(349),
        x = n(520),
        b = function () {
            function t(e) {
                var n, i = this;
                (0, s.default)(this, t), this.self = e, this.actor = new g(e, this), this.layerIndexes = {}, this.workerSourceTypes = (n = {}, (0, o.default)(n, y.SOURCE_TYPE.vector, x), (0, o.default)(n, y.SOURCE_TYPE.geojson, f.default), (0, o.default)(n, y.SOURCE_TYPE.geoTask, h.default), (0, o.default)(n, y.SOURCE_TYPE.imageTile, _.default), (0, o.default)(n, y.SOURCE_TYPE.indoor, m.default), n), this.workerSources = {}, this.self.registerWorkerSource = function (t, e) {
                    if (i.workerSourceTypes[t]) throw new Error('Worker source with name "' + t + '" already registered.');
                    i.workerSourceTypes[t] = e
                }
            }
            return (0, u.default)(t, [{
                key: "loadTile",
                value: function (t, e, n) {
                    this.getWorkerSource(t, e.type).loadTile(e, n)
                }
            }, {
                key: "reloadTile",
                value: function (t, e, n) {
                    this.getWorkerSource(t, e.type).reloadTile(e, n)
                }
            }, {
                key: "abortTile",
                value: function (t, e) {
                    this.getWorkerSource(t, e.type).abortTile(e)
                }
            }, {
                key: "removeTile",
                value: function (t, e) {
                    this.getWorkerSource(t, e.type).removeTile(e)
                }
            }, {
                key: "removeSource",
                value: function (t, e) {
                    var n = this.getWorkerSource(t, e.type);
                    void 0 !== n.removeSource && n.removeSource(e)
                }
            }, {
                key: "getWorkerSource",
                value: function (t, e) {
                    var n = this;
                    if (this.workerSources[t] || (this.workerSources[t] = {}), !this.workerSources[t][e]) {
                        var i = {
                            send: function (e, i, r, o) {
                                n.actor.send(e, i, r, t)
                            }
                        };
                        this.workerSources[t][e] = new this.workerSourceTypes[e](i, t)
                    }
                    return this.workerSources[t][e]
                }
            }, {
                key: "tileOffset",
                value: function (t, e, n) {
                    this.getWorkerSource(t, e.type).tileOffset(e, n)
                }
            }]), t
        }();
    t.exports = function (t) {
        return new b(t)
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(10),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(13),
        f = i(c),
        d = n(459),
        h = f.default.isLowMobileDevice() ? 2 : Math.max(Math.floor(f.default.hardwareConcurrency / 2), 4),
        v = function () {
            function t() {
                (0, s.default)(this, t), this.activeSet = {}
            }
            return (0, u.default)(t, [{
                key: "acquire",
                value: function (t) {
                    if (!this.workers)
                        for (this.workers = []; this.workers.length < h;) this.workers.push(new d);
                    return this.activeSet[t] = !0, this.workers.slice()
                }
            }, {
                key: "release",
                value: function (t) {
                    delete this.activeSet[t], (0, o.default)(this.activeSet).length > 0 || this.reset()
                }
            }, {
                key: "reset",
                value: function () {
                    this.activeSet = {}, this.workers.forEach(function (t) {
                        t.terminate()
                    }), this.workers = null
                }
            }]), t
        }(),
        _ = new v;
    e.default = _
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(150),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i);
    e.default = r.default.key || ""
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(143),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(40),
        m = i(p),
        y = n(136),
        g = i(y),
        x = n(31),
        b = ["left:0;", "top:0;", "overflow:visible;", "z-index:102;"],
        S = function (t) {
            function e(t) {
                (0, u.default)(this, e);
                var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this));
                return n.map = t, n.controls = {}, n.createControlContainer(t), n
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "createControlContainer",
                value: function (t) {
                    var e = t._overlayer.root,
                        n = this.controlContainer = document.createElement("div");
                    n.style.cssText = b.join(""), e.appendChild(n), t._overlayer.childs.controlLayer = n
                }
            }, {
                key: "addControl",
                value: function (t) {
                    if (t instanceof g.default) {
                        var e = t.id;
                        this.controls[e] ? console.warn("addControl失败：id重复。") : (this.controls[e] = t, t.addTo(this.map, this.controlContainer), this._fire("control_added", {}, !0))
                    } else new x.BaseTypeError("control", "Control", t).error();
                    return this
                }
            }, {
                key: "removeControl",
                value: function (t) {
                    if (this.controls[t]) {
                        this.controls[t].remove(), delete this.controls[t], this._fire("control_removed", {}, !0)
                    }
                    return this
                }
            }, {
                key: "getControl",
                value: function (t) {
                    return this.controls[t]
                }
            }, {
                key: "destroy",
                value: function () {
                    (0, o.default)(this.controls).forEach(function (t) {
                        t && t.destroy && t.destroy()
                    }), this.controls = {}, this.map = null
                }
            }]), e
        }(m.default);
    e.default = S
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = {
        TOP_LEFT: 0,
        TOP_CENTER: 1,
        TOP_RIGHT: 2,
        CENTER_LEFT: 3,
        CENTER: 4,
        CENTER_RIGHT: 5,
        BOTTOM_LEFT: 6,
        BOTTOM_CENTER: 7,
        BOTTOM_RIGHT: 8
    };
    e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(136),
        _ = i(v),
        p = n(836),
        m = i(p),
        y = function (t) {
            function e(t) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "createDOM",
                value: function () {
                    var t = document.createElement("div"),
                        e = "margin-bottom: 30px; width: 230px; height:34px; background: rgba(255,255,255,0.90); z-index:200;";
                    e += "border: 1px solid #DEDEDE; border-radius: 3px; padding:0 15px 0 40px; box-sizing:border-box; line-height: 32px;", e += "font-family: PingFangSC-Medium;font-size: 13px;color: #EF4D4D;letter-spacing: 0;", t.style.cssText = e, t.innerHTML = "鉴权失败，请传入正确的key";
                    var n = document.createElement("img");
                    return n.style.cssText = "width:20px; height:20px; position:absolute; top:6px; left:15px", n.src = m.default, t.appendChild(n), t
                }
            }]), e
        }(_.default);
    e.default = y
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(136),
        _ = i(v),
        p = n(837),
        m = i(p),
        y = n(838),
        g = i(y),
        x = (new Date).getFullYear(),
        b = function (t) {
            function e(t) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "createDOM",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        e = t.style,
                        n = void 0 === e ? "default" : e,
                        i = document.createElement("div");
                    i.style.cssText = "width:80px;height:18px;overflow:visible;margin:1px;";
                    var r = document.createElement("a");
                    r.style.cssText = "z-index:1;", r.href = "http://map.qq.com?ref=jsapi_v3", r.target = "_blank", r.style.cssText = "position:absolute;", i.appendChild(r);
                    var o = document.createElement("div");
                    o.className = "logo-text", o.style.cssText = "position:absolute;left:85px;bottom:0;line-height:18px;font-size:10px;color:#333;font-family:Arial,sans-serif;white-space:nowrap;z-index:0;", o.innerText = "©" + x + " Tencent - GS(2020)1720号 - Data© NavInfo", i.appendChild(o);
                    var a = new Image;
                    return a.src = "gray" === n ? g.default : m.default, a.height = 18, a.width = 81, r.appendChild(a), i
                }
            }]), e
        }(_.default);
    t.exports = b
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(136),
        _ = i(v),
        p = {
            Scale: {
                m: "米",
                km: "公里",
                mile: "英里",
                feet: "英尺"
            }
        },
        m = function (t, e) {
            "[object String]" === Object.prototype.toString.call(t.innerText) ? t.innerText = e : t.textContent = e
        },
        y = "position:absolute;border:1px solid #ffffff;width:2px;height:6px;background:#000;font-size:0;line-height:0;",
        g = y + "border-bottom-width:0px;",
        x = y + "border-top-width:0px;",
        b = function (t) {
            var e = Math.pow(10, (Math.floor(t) + "").length - 1),
                n = t / e;
            return n = n >= 10 ? 10 : n >= 5 ? 5 : n >= 2 ? 2 : 1, e * n
        },
        S = function (t) {
            return Math.round(125 * t) - 10
        },
        w = function (t, e) {
            if (t && e) return Math.abs(156543.04 * Math.cos(t.lat * Math.PI / 180)) / Math.pow(2, e)
        },
        E = function (t) {
            var e = document.createElement("div");
            return "up" === t ? (e.style.cssText = g + ";border-right-width:0px", e.style.top = "7px", e.style.height = "9px") : "down" === t && (e.style.cssText = x + ";border-right-width:0px", e.style.top = "17px", e.style.height = "6px"), e.style.left = 0, e.style.zIndex = 0, e.className = "tmap-scale-line", e
        },
        A = function (t) {
            var e = document.createElement("div");
            return "up" === t ? (e.style.cssText = g, e.style.top = "0px") : "down" === t && (e.style.cssText = x, e.style.top = "9px"), e.style.left = "81px", e.style.zIndex = 2, e.className = "tmap-scale-line", e
        },
        T = function () {
            var t = document.createElement("div");
            return t.style.cssText = "position:absolute;border:1px solid #ffffff;width:2px;height:6px;background:#000;font-size:0;line-height:0;z-index:1;border-left-width:0px;", t.style.left = "3px", t.style.width = "80px", t.style.height = "2px", t.style.top = "6px", t.className = "tmap-scale-line", t
        },
        k = function (t) {
            var e = document.createElement("div"),
                n = "up" === t ? "top: 0px;" : "bottom:-17px;";
            return e.style.cssText = "position:relative; " + n + " font:11px arial,simsun;color:#000;text-align:left; left:5px;", e.className = "tmap-scale-text", e
        },
        P = function (t) {
            for (var e = [], n = ["up", "down"], i = 0; i < 2; i++) {
                var r = n[i],
                    o = document.createElement("div");
                o.style.cssText = "width:100px;position:absolute;";
                var a = document.createElement("div");
                a.style.cssText = "position:absolute;height:7px;width:84px;bottom:0px;";
                var s = E(r),
                    l = A(r),
                    u = T(),
                    c = k(r);
                o.appendChild(s), a.appendChild(l), a.appendChild(u), o.appendChild(c), o.appendChild(a), e[r + "_rr"] = l, e[r + "_rl"] = s, e[r + "_rm"] = u, e[r + "_ruler"] = a, e[r + "_text"] = c, e[r + "_rl"] = s, t.appendChild(o)
            }
            var f = void 0;
            return {
                getMaxWidth: function () {
                    return f
                },
                refresh: function (t) {
                    var n = void 0,
                        i = void 0,
                        r = e.up_rr,
                        o = e.up_rm,
                        a = e.up_text,
                        s = e.up_ruler,
                        l = e.down_rr,
                        u = e.down_rm,
                        c = e.down_ruler,
                        d = e.down_text,
                        h = b(t),
                        v = n = S(h / t);
                    i = h < 1e3 ? h + " " + p.Scale.m : h / 1e3 + " " + p.Scale.km, m(a, i), a.style.width = "80px", o.style.width = n + "px", r.style.left = n + 0 + "px";
                    var _ = 3.2808399 * t,
                        y = void 0,
                        g = void 0,
                        x = void 0;
                    _ > 5280 ? (y = _ / 5280, g = b(y), n = S(g / y), i = g + " " + p.Scale.mile) : (x = b(_), n = S(x / _), i = x + " " + p.Scale.feet), m(d, i);
                    var w = parseInt(o.style.width),
                        E = n > w ? n : w;
                    d.style.width = "80px", u.style.width = E + "px", l.style.left = n + "px", u.style.visibility = n > w ? "" : "hidden", o.style.visibility = n > w ? "hidden" : "", c.style.zIndex = n > w ? 0 : 1, s.style.zIndex = n > w ? 1 : 0, f = Math.max(v, E)
                }
            }
        },
        I = function (t, e, n) {
            var i = document.createElement("div");
            i.style.cssText = "position:absolute;";
            var r = P(i),
                o = function (e, n) {
                    var i = w(e, n);
                    if (i) {
                        var o = 125 * i;
                        r.refresh(o), t.style.width = r.getMaxWidth() + 10 + "px"
                    }
                };
            return o(e, n), t.style.width = "100px", t.style.height = "35px", t.appendChild(i), {
                node: t,
                updateZoom: o
            }
        },
        M = function (t, e) {
            var n = document.createElement("div");
            return n.className = "tmap-scale-control", I(n, t, e)
        },
        L = function (t) {
            function e(t) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "createDOM",
                value: function (t) {
                    var e = t.center,
                        n = t.zoom,
                        i = document.createElement("div");
                    return i.style.margin = "20px 0px", this.scaleControlView = M(e, n), i.appendChild(this.scaleControlView.node), i
                }
            }, {
                key: "onAdd",
                value: function () {
                    this.onZoomChange = this.onZoomChange.bind(this), this.map.on("zoom_changed", this.onZoomChange)
                }
            }, {
                key: "onRemove",
                value: function () {
                    this.map.off("zoom_changed", this.onZoomChange)
                }
            }, {
                key: "onZoomChange",
                value: function () {
                    var t = this.map.getCenter(),
                        e = this.map.getZoom();
                    this.scaleControlView.updateZoom(t, e)
                }
            }]), e
        }(_.default);
    e.default = L
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(95),
        o = i(r),
        a = n(21),
        s = i(a),
        l = n(142),
        u = i(l),
        c = n(2),
        f = i(c),
        d = n(0),
        h = i(d),
        v = n(1),
        _ = i(v),
        p = n(4),
        m = i(p),
        y = n(3),
        g = i(y),
        x = n(136),
        b = i(x),
        S = n(197),
        w = n(471),
        E = n(470),
        A = n(13),
        T = n(47),
        k = n(828),
        P = n(835),
        I = n(834);
    n(831);
    var M = function (t) {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if ((0, h.default)(this, e), !t.floorList || !t.buildingId) return console.error("楼层参数不合法!", t), (0, m.default)(n);
            var n = (0, m.default)(this, (e.__proto__ || (0, f.default)(e)).call(this, t));
            return n._construct(), n
        }
        return (0, g.default)(e, t), (0, _.default)(e, [{
            key: "onInit",
            value: function () {
                var t = this,
                    e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = e.buildingId,
                    i = e.selectedFloor,
                    r = e.floorList;
                this.buildingId = n, this.floorMap = new u.default, this.floors = [], r.map(function (e, n) {
                    t.floorMap.set(e.name, String(n)), t.floors.push(e.name)
                }), this.list = null, this.selectedFloorIdx = this.floorMap.get(i), this._floorIndex = this._getFloorIndex(this.selectedFloorIdx)
            }
        }, {
            key: "createDOM",
            value: function () {
                var t = (0, S.Template)(k, {
                        floors: this.floors
                    }),
                    e = (0, T.toDom)(t),
                    n = document.createElement("div");
                return n.appendChild(e.querySelector(".floor-control")), n
            }
        }, {
            key: "_construct",
            value: function () {
                var t = this;
                this.wrapperNode = this.dom.querySelector(".floor-control-wrapper"), this.list = this.dom.querySelector(".floor-control-list"), this.arrTopImg = this.dom.querySelector(".arr-top"), this.arrBottomImg = this.dom.querySelector(".arr-bottom"), this.arrTopImg.src = P, this.arrBottomImg.src = I, (0, w.Transform)(this.list), this.floorListScroll = new E.Scroll({
                    touch: this.wrapperNode,
                    vertical: !0,
                    target: this.list,
                    property: "translateY",
                    bindSelf: !0,
                    maxSpeed: 2,
                    outFactor: .2,
                    min: -40 * Math.max(this.floors.length - 4, 0),
                    max: 0,
                    lockDirection: !1,
                    maxRegion: 10,
                    springMaxRegion: 1,
                    touchStart: function () {
                        t.floorListScroll.min = -40 * Math.max(t.floors.length - 4, 0)
                    }
                }), this._bindEvents(), "number" == typeof this._floorIndex && this._floorIndex > -1 && this._updateSelectedFloor(this._floorIndex, !0)
            }
        }, {
            key: "setFreezing",
            value: function (t) {
                t ? (0, T.addClass)(this.wrapperNode, "freezing") : (0, T.removeClass)(this.wrapperNode, "freezing")
            }
        }, {
            key: "selectFloor",
            value: function (t, e) {
                var n = this.floorMap.get(t),
                    i = this._getFloorIndex(n);
                i > -1 ? this._updateSelectedFloor(i, !1, e) : console.error("楼层不存在!", n)
            }
        }, {
            key: "_bindEvents",
            value: function () {
                var t = this,
                    e = this._bindClick();
                if ((0, A.isPC)()) {
                    e.remove();
                    var n = {},
                        i = {};
                    (0, A.on)(this.list, "mousedown", function (t) {
                        n = (0, T.getPointerXY)(t)
                    }), (0, A.on)(this.list, "mouseup", function (e) {
                        if (i = (0, T.getPointerXY)(e), Math.abs(i.y - n.y) <= 2 && Math.abs(i.x - n.x) <= 2) {
                            if ((0, T.hasClass)(t.wrapperNode, "freezing")) return !0;
                            var r = e.target.getAttribute("data-floor");
                            t.selectFloor(r)
                        }
                    })
                }
            }
        }, {
            key: "_bindClick",
            value: function () {
                var t = this;
                return (0, A.on)(this.list, ".floor-control-item:click", function (e) {
                    if ((0, T.hasClass)(t.wrapperNode, "freezing")) return !0;
                    var n = e.selectorTarget.getAttribute("data-floor");
                    t.selectFloor(n)
                })
            }
        }, {
            key: "getFloorName",
            value: function (t) {
                var e = t.toString(),
                    n = !0,
                    i = !1,
                    r = void 0;
                try {
                    for (var a, l = (0, s.default)(this.floorMap.entries()); !(n = (a = l.next()).done); n = !0) {
                        var u = (0, o.default)(a.value, 2),
                            c = u[0];
                        if (u[1] === e) return c
                    }
                } catch (t) {
                    i = !0, r = t
                } finally {
                    try {
                        !n && l.return && l.return()
                    } finally {
                        if (i) throw r
                    }
                }
            }
        }, {
            key: "_getFloorIndex",
            value: function (t) {
                var e = this.getFloorName(t);
                return this.floors.indexOf(e)
            }
        }, {
            key: "_getFloorItem",
            value: function (t) {
                return this.dom.querySelector('.floor-control-item[data-index="' + t + '"]')
            }
        }, {
            key: "_addSelected",
            value: function (t) {
                (0, T.addClass)(t, "selected-item"), 3 === t.innerHTML.length ? t.style.fontSize = "13px" : 4 === t.innerHTML.length ? t.style.fontSize = "10px" : t.innerHTML.length > 4 && (t.style.fontSize = "8px")
            }
        }, {
            key: "_removeSelected",
            value: function (t) {
                (0, T.removeClass)(t, "selected-item"), t.style.fontSize = ""
            }
        }, {
            key: "_updateSelectedFloor",
            value: function (t, e, n) {
                var i = this,
                    r = this._getFloorItem(this._floorIndex),
                    o = this._getFloorItem(t);
                if (this._removeSelected(r), this._addSelected(o), this.floorListScroll) {
                    var a = this.floorListScroll.getComputedPosition(),
                        s = Math.floor((this.floorListScroll.max - a) / 40);
                    [0, 1, 2, 3].map(function (t) {
                        return t + s
                    }).includes(t) || this.floorListScroll.to(Math.min(this.floorListScroll.max, Math.max(-40 * (t - 2), this.floorListScroll.min)), 200)
                }
                if (e || t !== this._floorIndex) {
                    this._floorIndex = t;
                    var l = parseInt(this.floorMap.get(this.floors[t]), 10),
                        u = l > this.selectedFloorIdx;
                    this.selectedFloorIdx = l, n || setTimeout(function () {
                        i.emit("floor-change", {
                            floorIdx: i.selectedFloorIdx,
                            floorName: i.floors[i.selectedFloorIdx],
                            upper: u
                        })
                    }, 0)
                }
            }
        }, {
            key: "show",
            value: function () {
                this.dom.style.display = "block"
            }
        }, {
            key: "hide",
            value: function () {
                this.dom.style.display = "none"
            }
        }, {
            key: "changeBottom",
            value: function (t) {
                if (isNaN(t)) return void console.error("top需要传数字");
                this.dom.style.bottom = t + "px"
            }
        }]), e
    }(b.default);
    e.default = M
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return 1 - Math.sqrt(1 - t * t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Scroll = void 0;
    var o = n(0),
        a = i(o),
        s = n(1),
        l = i(s),
        u = n(13),
        c = n(47),
        f = "cubic-bezier(0.1, 0.57, 0.1, 1)";
    e.Scroll = function () {
        function t(e) {
            (0, a.default)(this, t), this.element = "string" == typeof e.touch ? document.querySelector(e.touch) : e.touch, this.scroller = this._getValue(e.target, this.element), this.vertical = this._getValue(e.vertical, !0), this.property = e.property, this.sensitivity = this._getValue(e.sensitivity, 1), this.lockDirection = this._getValue(e.lockDirection, !0), this.tickID = 0, this.handlers = [], this.initialValue = this._getValue(e.initialValue, this.scroller[this.property]), this.scroller[this.property] = this.initialValue, this.moveFactor = this._getValue(e.moveFactor, 1), this.factor = this._getValue(e.factor, 1), this.outFactor = this._getValue(e.outFactor, .3), this.min = e.min, this.max = e.max, this.maxRegion = this._getValue(e.maxRegion, 600), this.deceleration = 6e-4, this.springMaxRegion = this._getValue(e.springMaxRegion, 60), this.fixed = this._getValue(e.fixed, !1);
            var n = function () {};
            if (this.change = e.change || n, this.touchEnd = e.touchEnd || n, this.touchStart = e.touchStart || n, this.touchMove = e.touchMove || n, this.touchCancel = e.touchCancel || n, this.animationEnd = e.animationEnd || n, this.hasMin = !(void 0 === this.min), this.hasMax = !(void 0 === this.max), this.isTouchStart = !1, this.step = e.step, this.inertia = this._getValue(e.inertia, !0), this.maxSpeed = e.maxSpeed, this.hasMaxSpeed = !(void 0 === this.maxSpeed), this.hasMax && this.hasMin) {
                if (this.min > this.max) throw "min value can't be greater than max value";
                this.currentPage = Math.round((this.max - this.scroller[this.property]) / this.step)
            }
            this.preventDefault = this._getValue(e.preventDefault, !0), this.eventTarget = self, e.bindSelf && (this.eventTarget = this.element), this.bindEvents(), this._endCallbackTag = !0, this._endTimeout = null
        }
        return (0, l.default)(t, [{
            key: "bindEvents",
            value: function () {
                var t = this;
                (0, u.isPC)() ? (this.handlers.push((0, u.on)(this.eventTarget, "mousedown", function (e) {
                    t._start(e)
                })), this.handlers.push((0, u.on)(this.eventTarget, "mouseup", function (e) {
                    t._end(e)
                })), this.handlers.push((0, u.on)(this.eventTarget, "mouseleave", function (e) {
                    t._end(e)
                })), this.handlers.push((0, u.on)(this.eventTarget, "mousemove", function (e) {
                    t._move(e)
                })), this.handlers.push((0, u.on)(this.eventTarget, "click", function (t) {
                    t.stopPropagation()
                }))) : (this.handlers.push((0, u.on)(this.eventTarget, "touchstart", function (e) {
                    t._start(e)
                })), this.handlers.push((0, u.on)(this.eventTarget, "touchend", function (e) {
                    t._end(e)
                })), this.handlers.push((0, u.on)(this.eventTarget, "touchcancel", function (e) {
                    t._cancel(e)
                })), this.handlers.push((0, u.on)(this.eventTarget, "touchmove", function (e) {
                    t._move(e)
                }))), this.handlers.push((0, u.on)(this.scroller, c.TRANSITIONEND, function (e) {
                    t._transitionEnd(e)
                }))
            }
        }, {
            key: "_getValue",
            value: function (t, e) {
                return void 0 === t ? e : t
            }
        }, {
            key: "_transitionEnd",
            value: function () {
                var t = this;
                if (this._triggerTransitionEnd) {
                    var e = this.scroller[this.property];
                    return e < this.min ? void this.to(this.min, 600, f) : e > this.max ? void this.to(this.max, 600, f) : void(this.step ? (this._correction(), this._endCallbackTag && (this._endCallbackTag = setTimeout(function () {
                        t.animationEnd(e), (0, u.cancelFrame)(t.tickID)
                    }, 400), this._endCallbackTag = !1)) : (this.animationEnd(e), (0, u.cancelFrame)(this.tickID)))
                }
            }
        }, {
            key: "_cancelAnimation",
            value: function () {
                this.scroller.style[c.TRANSITIONDURATION] = "0ms", this.scroller[this.property] = this.getComputedPosition()
            }
        }, {
            key: "getComputedPosition",
            value: function () {
                var t = self.getComputedStyle(this.scroller, null);
                return t = t[c.TRANSFORM].split(")")[0].split(", "), this.vertical ? +(t[13] || t[5]) : +(t[12] || t[4])
            }
        }, {
            key: "_tick",
            value: function () {
                this.change(this.getComputedPosition()), this.tickID = (0, u.frame)(this._tick.bind(this))
            }
        }, {
            key: "_start",
            value: function (t) {
                (0, u.cancelFrame)(this.tickID), this._endCallbackTag = !0, this.isTouchStart = !0, this._firstTouchMove = !0, this._preventMove = !1, this.touchStart(t, this.scroller[this.property]), this._cancelAnimation(), clearTimeout(this._endTimeout), this.hasMax && this.hasMin && (this.currentPage = Math.round((this.max - this.scroller[this.property]) / this.step)), this.startTime = (new Date).getTime();
                var e = (0, c.getPointerXY)(t);
                this._startX = this.preX = e.x, this._startY = this.preY = e.y, this.start = this.vertical ? this.preY : this.preX, t.stopPropagation()
            }
        }, {
            key: "_move",
            value: function (t) {
                if (this.isTouchStart) {
                    var e = (0, c.getPointerXY)(t),
                        n = Math.abs(e.x - this._startX),
                        i = Math.abs(e.y - this._startY);
                    if (this._firstTouchMove && this.lockDirection) {
                        var r = n - i;
                        r > 0 && this.vertical ? this._preventMove = !0 : r < 0 && !this.vertical && (this._preventMove = !0), this._firstTouchMove = !1
                    }
                    if (n < 10 && i < 10) return;
                    if (!this._preventMove) {
                        var o = this.moveFactor,
                            a = (this.vertical ? e.y - this.preY : e.x - this.preX) * this.sensitivity;
                        this.hasMax && this.scroller[this.property] > this.max && a > 0 ? o = this.outFactor : this.hasMin && this.scroller[this.property] < this.min && a < 0 && (o = this.outFactor), a *= o, this.preX = e.x, this.preY = e.y, this.scroller[this.property] += a;
                        var s = (new Date).getTime();
                        s - this.startTime > 300 && (this.startTime = s, this.start = this.vertical ? this.preY : this.preX), this.touchMove(t, this.scroller[this.property])
                    }
                    this.preventDefault && t.cancelable && t.preventDefault(), t.stopPropagation()
                }
            }
        }, {
            key: "_end",
            value: function (t) {
                if (this.isTouchStart) {
                    var e = this.scroller[this.property],
                        n = (0, c.getPointerXY)(t);
                    if ((n.x - this._startX >= 2 || n.y - this._startY >= 2) && (0, u.isPC)(), !1 === this.touchEnd(t, e)) return void(this._triggerTransitionEnd = !1);
                    if (this._triggerTransitionEnd = !0, this.hasMax && e > this.max) this.to(this.max, 600, f);
                    else if (this.hasMin && e < this.min) this.to(this.min, 600, f);
                    else if (this.inertia && !this._preventMove) {
                        var i = (new Date).getTime() - this.startTime;
                        if (i < 300) {
                            var o = ((this.vertical ? n.y : n.x) - this.start) * this.sensitivity,
                                a = Math.abs(o) / i,
                                s = this.factor * a;
                            this.hasMaxSpeed && s > this.maxSpeed && (s = this.maxSpeed);
                            var l = e + s * s / (2 * this.deceleration) * (o < 0 ? -1 : 1),
                                d = 1;
                            l < this.min ? l < this.min - this.maxRegion ? (d = r((e - this.min + this.springMaxRegion) / (e - l)), l = this.min - this.springMaxRegion) : (d = r((e - this.min + this.springMaxRegion * (this.min - l) / this.maxRegion) / (e - l)), l = this.min - this.springMaxRegion * (this.min - l) / this.maxRegion) : l > this.max && (l > this.max + this.maxRegion ? (d = r((this.max + this.springMaxRegion - e) / (l - e)), l = this.max + this.springMaxRegion) : (d = r((this.max + this.springMaxRegion * (l - this.max) / this.maxRegion - e) / (l - e)), l = this.max + this.springMaxRegion * (l - this.max) / this.maxRegion));
                            var h = Math.round(a / this.deceleration) * d;
                            this.to(Math.round(l), h, f)
                        } else this.step && this._correction()
                    } else this.step && this._correction();
                    this.isTouchStart = !1, t.stopPropagation()
                }
            }
        }, {
            key: "_cancel",
            value: function (t) {
                (0, u.cancelFrame)(this.tickID), this.step && this._correction(), this.touchCancel(t)
            }
        }, {
            key: "goMin",
            value: function (t) {
                var e = this.scroller[this.property];
                (t || this.hasMin && e < this.min) && this.to(this.min, 200, f)
            }
        }, {
            key: "goMax",
            value: function (t) {
                var e = this.scroller[this.property];
                (t || this.hasMax && e > this.max) && this.to(this.max, 200, f)
            }
        }, {
            key: "to",
            value: function (t, e, n) {
                var i = this.scroller,
                    r = this.property;
                i.style[c.TRANSITIONDURATION] = this._getValue(e, 600) + "ms", i.style[c.TRANSITIONTIMINGFUNCTION] = n || f, i[r] = t
            }
        }, {
            key: "_correction",
            value: function () {
                var t = self.getComputedStyle(this.scroller)[c.TRANSFORM],
                    e = this.vertical ? parseInt(t.split(",")[13]) : parseInt(t.split(",")[12]),
                    n = Math.floor(Math.abs(e / this.step)),
                    i = e % this.step,
                    r = void 0;
                Math.abs(i) > this.step / 2 ? (r = (e < 0 ? -1 : 1) * (n + 1) * this.step, r > this.max && (r = this.max), r < this.min && (r = this.min), this.to(r, 400, f)) : (r = (e < 0 ? -1 : 1) * n * this.step, r > this.max && (r = this.max), r < this.min && (r = this.min), this.to(r, 400, f))
            }
        }, {
            key: "destroy",
            value: function () {
                this.handlers.forEach(function (t) {
                    t && t.remove && t.remove()
                })
            }
        }]), t
    }()
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        for (var i = 0, r = e.length; i < r; i++) {
            o(t, e[i], n)
        }
    }

    function o(t, e, n) {
        (0, f.default)(t, e, {
            get: function () {
                return this["_" + e]
            },
            set: function (t) {
                this["_" + e] = t, n()
            }
        })
    }

    function a(t) {
        return "object" === ("undefined" == typeof HTMLElement ? "undefined" : (0, u.default)(HTMLElement)) ? t instanceof HTMLElement : t && "object" === (void 0 === t ? "undefined" : (0, u.default)(t)) && null !== t && 1 === t.nodeType && "string" == typeof t.nodeName
    }

    function s(t, e) {
        if (!t.hasOwnProperty("translateX")) {
            var n = ["translateX", "translateY", "translateZ", "scaleX", "scaleY", "scaleZ", "rotateX", "rotateY", "rotateZ", "skewX", "skewY", "originX", "originY", "originZ"],
                i = a(t);
            e || n.push("perspective"), r(t, n, function () {
                var n = t.matrix3d.identity().appendTransform(t.translateX, t.translateY, t.translateZ, t.scaleX, t.scaleY, t.scaleZ, t.rotateX, t.rotateY, t.rotateZ, t.skewX, t.skewY, t.originX, t.originY, t.originZ),
                    r = (e ? "" : "perspective(" + t.perspective + "px) ") + "matrix3d(" + Array.prototype.slice.call(n.elements).join(",") + ")";
                i ? t.style.transform = t.style.msTransform = t.style.OTransform = t.style.MozTransform = t.style.webkitTransform = r : t.transform = r
            }), t.matrix3d = new h, e || (t.perspective = 500), t.scaleX = t.scaleY = t.scaleZ = 1, t.translateX = t.translateY = t.translateZ = t.rotateX = t.rotateY = t.rotateZ = t.skewX = t.skewY = t.originX = t.originY = t.originZ = 0
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.Transform = void 0;
    var l = n(37),
        u = i(l),
        c = n(106),
        f = i(c),
        d = .017453292519943295,
        h = function (t, e, n, i, r, o, a, s, l, u, c, f, d, h, v, _) {
            this.elements = window.Float32Array ? new Float32Array(16) : [];
            var p = this.elements;
            p[0] = void 0 !== t ? t : 1, p[4] = e || 0, p[8] = n || 0, p[12] = i || 0, p[1] = r || 0, p[5] = void 0 !== o ? o : 1, p[9] = a || 0, p[13] = s || 0, p[2] = l || 0, p[6] = u || 0, p[10] = void 0 !== c ? c : 1, p[14] = f || 0, p[3] = d || 0, p[7] = h || 0, p[11] = v || 0, p[15] = void 0 !== _ ? _ : 1
        };
    h.prototype = {
        set: function (t, e, n, i, r, o, a, s, l, u, c, f, d, h, v, _) {
            var p = this.elements;
            return p[0] = t, p[4] = e, p[8] = n, p[12] = i, p[1] = r, p[5] = o, p[9] = a, p[13] = s, p[2] = l, p[6] = u, p[10] = c, p[14] = f, p[3] = d, p[7] = h, p[11] = v, p[15] = _, this
        },
        identity: function () {
            return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
        },
        multiplyMatrices: function (t, e) {
            var n = t.elements,
                i = this.elements,
                r = n[0],
                o = n[4],
                a = n[8],
                s = n[12],
                l = n[1],
                u = n[5],
                c = n[9],
                f = n[13],
                d = n[2],
                h = n[6],
                v = n[10],
                _ = n[14],
                p = n[3],
                m = n[7],
                y = n[11],
                g = n[15],
                x = e[0],
                b = e[1],
                S = e[2],
                w = e[3],
                E = e[4],
                A = e[5],
                T = e[6],
                k = e[7],
                P = e[8],
                I = e[9],
                M = e[10],
                L = e[11],
                C = e[12],
                V = e[13],
                R = e[14],
                O = e[15];
            return i[0] = r * x + o * E + a * P + s * C, i[4] = r * b + o * A + a * I + s * V, i[8] = r * S + o * T + a * M + s * R, i[12] = r * w + o * k + a * L + s * O, i[1] = l * x + u * E + c * P + f * C, i[5] = l * b + u * A + c * I + f * V, i[9] = l * S + u * T + c * M + f * R, i[13] = l * w + u * k + c * L + f * O, i[2] = d * x + h * E + v * P + _ * C, i[6] = d * b + h * A + v * I + _ * V, i[10] = d * S + h * T + v * M + _ * R, i[14] = d * w + h * k + v * L + _ * O, i[3] = p * x + m * E + y * P + g * C, i[7] = p * b + m * A + y * I + g * V, i[11] = p * S + m * T + y * M + g * R, i[15] = p * w + m * k + y * L + g * O, this
        },
        _rounded: function (t, e) {
            return e = Math.pow(10, e || 15), Math.round(t * e) / e
        },
        _arrayWrap: function (t) {
            return self.Float32Array ? new Float32Array(t) : t
        },
        appendTransform: function (t, e, n, i, r, o, a, s, l, u, c, f, h, v) {
            var _ = a * d,
                p = this._rounded(Math.cos(_)),
                m = this._rounded(Math.sin(_)),
                y = s * d,
                g = this._rounded(Math.cos(y)),
                x = this._rounded(Math.sin(y)),
                b = l * d,
                S = this._rounded(Math.cos(-1 * b)),
                w = this._rounded(Math.sin(-1 * b));
            return this.multiplyMatrices(this, this._arrayWrap([1, 0, 0, t, 0, p, m, e, 0, -m, p, n, 0, 0, 0, 1])), this.multiplyMatrices(this, this._arrayWrap([g, 0, x, 0, 0, 1, 0, 0, -x, 0, g, 0, 0, 0, 0, 1])), this.multiplyMatrices(this, this._arrayWrap([S * i, w * r, 0, 0, -w * i, S * r, 0, 0, 0, 0, 1 * o, 0, 0, 0, 0, 1])), (u || c) && this.multiplyMatrices(this, this._arrayWrap([this._rounded(Math.cos(u * d)), this._rounded(Math.sin(u * d)), 0, 0, -1 * this._rounded(Math.sin(c * d)), this._rounded(Math.cos(c * d)), 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])), (f || h || v) && (this.elements[12] -= f * this.elements[0] + h * this.elements[4] + v * this.elements[8], this.elements[13] -= f * this.elements[1] + h * this.elements[5] + v * this.elements[9], this.elements[14] -= f * this.elements[2] + h * this.elements[6] + v * this.elements[10]), this
        }
    };
    var v = function (t, e, n, i, r, o) {
        return this.a = null === t ? 1 : t, this.b = e || 0, this.c = n || 0, this.d = null === i ? 1 : i, this.tx = r || 0, this.ty = o || 0, this
    };
    v.prototype = {
        identity: function () {
            return this.a = this.d = 1, this.b = this.c = this.tx = this.ty = 0, this
        },
        appendTransform: function (t, e, n, i, r, o, a, s, l) {
            if (r % 360) var u = r * d,
                c = Math.cos(u),
                f = Math.sin(u);
            else c = 1, f = 0;
            return o || a ? (o *= d, a *= d, this.append(Math.cos(a), Math.sin(a), -Math.sin(o), Math.cos(o), t, e), this.append(c * n, f * n, -f * i, c * i, 0, 0)) : this.append(c * n, f * n, -f * i, c * i, t, e), (s || l) && (this.tx -= s * this.a + l * this.c, this.ty -= s * this.b + l * this.d), this
        },
        append: function (t, e, n, i, r, o) {
            var a = this.a,
                s = this.b,
                l = this.c,
                u = this.d;
            return this.a = t * a + e * l, this.b = t * s + e * u, this.c = n * a + i * l, this.d = n * s + i * u, this.tx = r * a + o * l + this.tx, this.ty = r * s + o * u + this.ty, this
        },
        initialize: function (t, e, n, i, r, o) {
            return this.a = t, this.b = e, this.c = n, this.d = i, this.tx = r, this.ty = o, this
        },
        setValues: function (t, e, n, i, r, o) {
            return this.a = null === t ? 1 : t, this.b = e || 0, this.c = n || 0, this.d = null === i ? 1 : i, this.tx = r || 0, this.ty = o || 0, this
        },
        copy: function (t) {
            return this.setValues(t.a, t.b, t.c, t.d, t.tx, t.ty)
        }
    }, s.getMatrix3D = function (t) {
        var e = {
            translateX: 0,
            translateY: 0,
            translateZ: 0,
            rotateX: 0,
            rotateY: 0,
            rotateZ: 0,
            skewX: 0,
            skewY: 0,
            originX: 0,
            originY: 0,
            originZ: 0,
            scaleX: 1,
            scaleY: 1,
            scaleZ: 1
        };
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        return (new h).identity().appendTransform(e.translateX, e.translateY, e.translateZ, e.scaleX, e.scaleY, e.scaleZ, e.rotateX, e.rotateY, e.rotateZ, e.skewX, e.skewY, e.originX, e.originY, e.originZ).elements
    }, s.getMatrix2D = function (t) {
        var e = {
            translateX: 0,
            translateY: 0,
            rotation: 0,
            skewX: 0,
            skewY: 0,
            originX: 0,
            originY: 0,
            scaleX: 1,
            scaleY: 1
        };
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        return (new v).identity().appendTransform(e.translateX, e.translateY, e.scaleX, e.scaleY, e.rotation, e.skewX, e.skewY, e.originX, e.originY)
    };
    var _ = s;
    e.Transform = _
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(136),
        _ = i(v),
        p = n(197),
        m = n(196),
        y = n(13),
        g = n(829);
    n(832);
    var x = function (t) {
        function e(t) {
            (0, s.default)(this, e);
            var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
            return n._bindEvents(), n
        }
        return (0, h.default)(e, t), (0, u.default)(e, [{
            key: "createDOM",
            value: function () {
                var t = document.createElement("div"),
                    e = (0, p.Template)(g, {});
                return t.innerHTML = e, t
            }
        }, {
            key: "_bindEvents",
            value: function () {
                var t = this;
                this.zoomIn = this.dom.querySelector(".tmap-zoom-in"), this.zoomOut = this.dom.querySelector(".tmap-zoom-out"), this.handlers = [], this.zoomInFinger = new m.Finger(this.zoomIn, {
                    preventDefaultMove: !0,
                    preventDefaultEnd: !0,
                    stopPropagation: !0
                }), this.zoomOutFinger = new m.Finger(this.zoomOut, {
                    preventDefaultMove: !0,
                    preventDefaultEnd: !0,
                    stopPropagation: !0
                }), this.handlers.push((0, y.on)(this.zoomInFinger, "tap", function (e) {
                    t.map && t.map.zoomBy(1)
                })), this.handlers.push((0, y.on)(this.zoomOutFinger, "tap", function (e) {
                    t.map && t.map.zoomBy(-1)
                })), this.handlers.push((0, y.on)(this.dom, "dblclick", function (t) {
                    t.stopPropagation()
                })), this.handlers.push((0, y.on)(this.dom, "mousedown,mousemove,mouseup,mouseover,mouseleave,click,dblclick, touchstart,touchmove,touchend", function (t) {
                    t.stopPropagation()
                }))
            }
        }, {
            key: "onDestroy",
            value: function () {
                this.handlers.forEach(function (t) {
                    t && t.remove()
                })
            }
        }]), e
    }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t, e, n, i, r) {
        var o = (e[1] - t[1]) * (n[2] - t[2]) - (e[2] - t[2]) * (n[1] - t[1]),
            a = (e[2] - t[2]) * (n[0] - t[0]) - (e[0] - t[0]) * (n[2] - t[2]),
            s = (e[0] - t[0]) * (n[1] - t[1]) - (e[1] - t[1]) * (n[0] - t[0]),
            l = Math.max(Math.abs(o), Math.abs(a), Math.abs(s));
        if (i > 0 && l > 0) {
            var u = i / l;
            o *= u, a *= u, s *= u
        }
        return r = r || 0, o += r, a += r, s += r, [~~o, ~~a, ~~s]
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = i
}, function (t, e, n) {
    "use strict";
    n(343);
    var i = n(150),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        o = n(46),
        a = n(100),
        s = window[a] || (window[a] = {}),
        l = n(433),
        u = n(342);
    for (var c in l) l.hasOwnProperty(c) && (s[c] = l[c]);
    s.Handler = u;
    var f = +new Date,
        d = r.default.key,
        h = r.default.version,
        v = r.default.loadScriptTime;
    (0, o.pv)({
        key: d,
        version: h,
        loadDeltaTime: f - v
    }), location.protocol.indexOf("file") > -1 && console.error("腾讯地图 JavaScript API 不支持在file协议使用，请在http或https协议下使用！"), t.exports = s
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(40),
        m = i(p),
        y = n(29),
        g = i(y),
        x = n(61),
        b = i(x),
        S = n(501),
        w = i(S),
        E = n(27),
        A = n(48),
        T = function (t) {
            function e(t, n) {
                (0, u.default)(this, e);
                var i = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this));
                return i._buildingId = t, i._cityId = t.substring(0, 6), i._map = n.map, i._id = "indoor_bulding_" + i._buildingId, i._manager = n.manager, i._buildingInfo = null, i._buildingBounds = null, i._isActiveStatus = !1, i._destroyed = !1, i._createLayer(n), i
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "isActive",
                value: function () {
                    return this._isActiveStatus
                }
            }, {
                key: "_setActiveStatus",
                value: function (t) {
                    this._isActiveStatus = t
                }
            }, {
                key: "_createLayer",
                value: function () {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    this._sourceId = this._id, this._map.addSource(this._sourceId, {
                        type: A.SOURCE_TYPE.indoor,
                        data: {
                            buildingId: this._buildingId,
                            cityId: this._cityId,
                            indoorStyleId: e.indoorStyleId
                        }
                    }), this._regionLayer = new w.default((0, o.default)(e, {
                        map: this._map,
                        id: this._id + "_region",
                        sourceId: this._sourceId,
                        type: E.RENDER_LAYER_TYPE.indoorRegion
                    })), this._poiLayer = new w.default((0, o.default)(e, {
                        map: this._map,
                        id: this._id + "_poi",
                        sourceId: this._sourceId,
                        type: E.RENDER_LAYER_TYPE.indoorPoi
                    })), this._escalatorLayer = new w.default((0, o.default)(e, {
                        map: this._map,
                        id: this._id + "_escalator",
                        sourceId: this._sourceId,
                        type: E.RENDER_LAYER_TYPE.indoorEscalator
                    })), this._map.getSource(this._sourceId).on("loaded", function () {
                        t._destroyed || t.getManager().emit("building_source_loaded")
                    })
                }
            }, {
                key: "_setVisible",
                value: function (t) {
                    this._regionLayer.setVisible(t), this._poiLayer.setVisible(t), this._escalatorLayer.setVisible(t)
                }
            }, {
                key: "setSelectedFloor",
                value: function (t) {
                    if (this.isActive()) {
                        var e = this.getSelectedFloor();
                        if (this._map && e !== t) {
                            this._map.getSource(this._sourceId).setSelectedFloor(t) < 0 ? console.warn("该室内建筑物无对应楼层: ", t) : this.emit("floor_changed")
                        }
                    } else console.warn("该室内建筑物处于非激活状态，该方法无效!");
                    return this
                }
            }, {
                key: "getMap",
                value: function () {
                    return this._map
                }
            }, {
                key: "getManager",
                value: function () {
                    return this._manager
                }
            }, {
                key: "getSelectedFloor",
                value: function () {
                    if (this._map) return this._map.getSource(this._sourceId).getSelectedFloor()
                }
            }, {
                key: "getBuildingInfo",
                value: function () {
                    if (this._buildingInfo) return this._buildingInfo;
                    var t = this._map && this._map.getSource(this._sourceId),
                        e = t && t.getMetaData();
                    if (e) {
                        var n = e.floorInfo.bounds[0],
                            i = e.floorInfo.bounds[1],
                            r = new g.default(n.lat, n.lng),
                            o = new g.default(i.lat, i.lng),
                            a = new b.default(r, o);
                        this._buildingBounds = a;
                        var s = {
                            cityId: this._cityId,
                            buildingId: this._buildingId,
                            buildingName: e.buildingName,
                            defaultFloor: e.floorInfo.floorStrArr[e.floorInfo.defaultNum],
                            center: new g.default(e.center.lat, e.center.lng),
                            floorList: e.floorInfo.floorStrArr.map(function (t) {
                                return {
                                    name: t,
                                    bounds: a
                                }
                            }),
                            bounds: a
                        };
                        this._buildingInfo = s
                    }
                    return this._buildingInfo
                }
            }, {
                key: "destroy",
                value: function () {
                    this._regionLayer = null, this._poiLayer = null, this._escalatorLayer = null, this._buildingId = null, this._cityId = null, this._map = null, this._id = null, this._manager = null, this._buildingInfo = null, this._buildingBounds = null, this._isActiveStatus = !1, this._destroyed = !0
                }
            }, {
                key: "buildingId",
                get: function () {
                    return this._buildingId
                }
            }]), e
        }(m.default);
    e.default = T
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        var n = t.getActiveIndoorBuilding();
        e !== n && (n && (n._setActiveStatus(!1), n.off("floor_changed", t._onActiveIndoorBuildingFloorChange)), e && (e._setActiveStatus(!0), e.on("floor_changed", t._onActiveIndoorBuildingFloorChange)), t._activeIndoorBuilding = e, t._updateFloorControl(), t.emit("active_changed", t._activeIndoorBuilding))
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(12),
        a = i(o),
        s = n(2),
        l = i(s),
        u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(4),
        v = i(h),
        _ = n(3),
        p = i(_),
        m = n(9),
        y = i(m),
        g = n(40),
        x = i(g),
        b = n(193),
        S = n(13),
        w = i(S),
        E = n(475),
        A = i(E),
        T = n(469),
        k = i(T),
        P = n(465),
        I = i(P),
        M = n(236),
        L = n(198),
        C = n(153),
        V = {
            map: null,
            visible: !0,
            minZoom: y.default.minShowIndoorZoom,
            maxZoom: y.default.maxZoom
        },
        R = 0,
        O = function (t) {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                (0, c.default)(this, e);
                var n = (0, v.default)(this, (e.__proto__ || (0, l.default)(e)).call(this)),
                    i = (0, a.default)({}, V, t);
                return n._map = i.map, n._visible = i.visible, n._minZoom = i.minZoom, n._maxZoom = i.maxZoom, n._indoorBuildingList = [], n._autoActive = !0, n._activeIndoorBuilding = null, n._floorControl = null, n._initialized = !1, n._isFloorControlVisible = !0, n._indoorStyleId = R, n._onActiveIndoorBuildingFloorChange = n._onActiveIndoorBuildingFloorChange.bind(n), n._initializePromise = n._init(i), n
            }
            return (0, p.default)(e, t), (0, d.default)(e, [{
                key: "_init",
                value: function (t) {
                    var e = this,
                        n = L.IndoorStyleMap.getInstance(),
                        i = this._indoorStyleId;
                    return (0, b.checkKey)(this._map.id).then(function (t) {
                        var r = t && t.indoor_map && t.indoor_map.building_list;
                        return r && r.length > 0 ? n.has(i) ? r : (0, M.loadIndoorStyleFile)(i).then(function (t) {
                            return t && n.set(e._indoorStyleId, t), r
                        }) : null
                    }).then(function (n) {
                        n && (e._createIndoorBuildingList(n, t), e._map.on("center_changed", w.default.throttle(e._onMapCenterChanged.bind(e), 50)), e.on("building_source_loaded", e._onBuildingSourceLoaded.bind(e)))
                    }).then(function () {
                        e._initialized = !0
                    })
                }
            }, {
                key: "_createIndoorBuildingList",
                value: function (t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    this._indoorBuildingList = t.map(function (t) {
                        return new A.default(t, (0, a.default)(n, {
                            map: e._map,
                            manager: e,
                            indoorStyleId: e._indoorStyleId
                        }))
                    })
                }
            }, {
                key: "_onBuildingSourceLoaded",
                value: function () {
                    this.getActiveIndoorBuilding() || this._autoActiveCheck()
                }
            }, {
                key: "_onMapCenterChanged",
                value: function () {
                    this._autoActiveCheck()
                }
            }, {
                key: "_autoActiveCheck",
                value: function () {
                    var t = this;
                    if (this._autoActive) {
                        var e = this._map.getCenter(),
                            n = this._map.getZoom();
                        n >= this._minZoom && n <= this._maxZoom && this._indoorBuildingList.some(function (n) {
                            var i = n.getBuildingInfo(),
                                o = i && i.bounds && i.bounds.contains(e);
                            return o && r(t, n), o
                        }) || r(this, null)
                    }
                }
            }, {
                key: "_updateFloorControl",
                value: function () {
                    var t = this,
                        e = this.getActiveIndoorBuilding();
                    if (!e) return void(this._floorControl && this._floorControl.hide());
                    var n = e.getBuildingInfo();
                    this._floorControl && this._floorControl.buildingId === n.buildingId || (this._floorControl && this._floorControl.destroy(), this._floorControl = new k.default({
                        id: C.DEFAULT_CONTROL_ID.FLOOR,
                        position: I.default.BOTTOM_RIGHT,
                        buildingId: n.buildingId,
                        selectedFloor: e.getSelectedFloor() || n.defaultFloor,
                        floorList: n.floorList
                    }), this._map.addControl(this._floorControl), this._floorControl.on("floor-change", function (e) {
                        var n = e.floorName;
                        t.getActiveIndoorBuilding() && t.getActiveIndoorBuilding().setSelectedFloor(n)
                    })), this._isFloorControlVisible && this._floorControl.show()
                }
            }, {
                key: "_onActiveIndoorBuildingFloorChange",
                value: function () {
                    var t = this.getActiveIndoorBuilding();
                    this._floorControl && this._initialized && t && this._floorControl.selectFloor(t.getSelectedFloor())
                }
            }, {
                key: "initialize",
                value: function () {
                    return this._initializePromise
                }
            }, {
                key: "setAutoActive",
                value: function (t) {
                    return this._autoActive = !!t, this._autoActiveCheck(), this
                }
            }, {
                key: "setActiveIndoorBuilding",
                value: function (t) {
                    if (this._initialized || console.warn("室内地图管理器尚未初始化完毕，该方法无效!"), this._autoActive) return console.warn("自动激活模式下，该方法无效!"), this;
                    if (!t) return r(this, null), this;
                    var e = this.getIndoorBuilding(t);
                    return e && r(this, e), this
                }
            }, {
                key: "setVisible",
                value: function (t) {
                    return t = !!t, this._visible = t, this._indoorBuildingList.forEach(function (e) {
                        e._setVisible(t)
                    }), this
                }
            }, {
                key: "showFloorControl",
                value: function () {
                    this.getActiveIndoorBuilding() && (this._isFloorControlVisible = !0, this._floorControl && this._floorControl.show())
                }
            }, {
                key: "hideFloorControl",
                value: function () {
                    this._isFloorControlVisible = !1, this._floorControl && this._floorControl.hide()
                }
            }, {
                key: "getMap",
                value: function () {
                    return this._map
                }
            }, {
                key: "getAutoActive",
                value: function () {
                    return this._autoActive
                }
            }, {
                key: "getActiveIndoorBuilding",
                value: function () {
                    return this._initialized || console.warn("室内地图管理器尚未初始化完毕，该方法无效!"), this._activeIndoorBuilding
                }
            }, {
                key: "getVisible",
                value: function () {
                    return this._visible
                }
            }, {
                key: "getIndoorBuilding",
                value: function (t) {
                    return this._initialized || console.warn("室内地图管理器尚未初始化完毕，该方法无效!"), this._indoorBuildingList.filter(function (e) {
                        return e.buildingId === t
                    })[0] || null
                }
            }, {
                key: "getIndoorBuildingList",
                value: function () {
                    return this._indoorBuildingList
                }
            }, {
                key: "destroy",
                value: function () {
                    this.removeAllListeners(), this._floorControl && this._floorControl.destroy()
                }
            }], [{
                key: "getInstance",
                value: function (t) {
                    return this(t)
                }
            }]), e
        }(x.default);
    e.default = O
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        var i = function (e) {
                var n = t.styles[e.styleId];
                return n ? (0, d.default)({}, {
                    text: e.content || S.text,
                    color: n.color || S.color,
                    size: n.size || S.size,
                    scale: n.scale || S.scale,
                    offset: n.offset || S.offset,
                    angle: n.angle || S.angle,
                    alignment: x[n.alignment] || x[S.alignment],
                    verticalAlignment: b[n.verticalAlignment] || b[S.verticalAlignment]
                }) : (0, d.default)({}, S, {
                    color: "rgba(0, 0, 0, 0)"
                })
            },
            r = {};
        t.geometries.forEach(function (t, e) {
            var n = i(t),
                o = n.text;
            o && (0, c.default)(o).forEach(function (t) {
                r[t] = 1
            })
        });
        var s = (0, l.default)(r);
        e.send("addGlyphs", {
            glyphs: s
        }, function (e, r) {
            var s = JSON.parse(r.mapping),
                l = o(t.geometries, s, i),
                u = a(l, s, i);
            n && n(u)
        })
    }

    function o(t, e, n) {
        var i = [];
        return t.forEach(function (t, r) {
            if (t.position) {
                var o = n(t),
                    a = o.text;
                if (a) {
                    var s = (0, c.default)(a),
                        l = [0],
                        u = 0;
                    s.forEach(function (n, o) {
                        var s = {
                                letter: n,
                                index: o,
                                offsets: l,
                                len: a.length,
                                geometry: t,
                                geometryIndex: r
                            },
                            c = e[n];
                        u += c ? c.width : g, l.push(u), i.push(s)
                    })
                }
            }
        }), i
    }

    function a(t, e, n) {
        var i = t.length,
            r = new Float32Array(3 * i),
            o = new Float32Array(2 * i),
            a = new Uint16Array(2 * i),
            s = new Float32Array(4 * i),
            l = new Uint16Array(4 * i),
            u = new Uint8ClampedArray(4 * i),
            c = new Uint8ClampedArray(i),
            f = new Uint8ClampedArray(3 * i),
            d = new Float32Array(3 * i),
            _ = 0,
            m = 0,
            y = 0,
            g = 0,
            x = 0,
            b = 0,
            S = 0,
            w = 0,
            E = 0,
            A = [];
        return t.forEach(function (t) {
            var i = n(t.geometry),
                T = e[t.letter],
                k = new p.default(i.color).toUpArray(),
                P = t.geometry.position,
                I = "lat" in P && "lng" in P,
                M = (0, h.splitLatLngNumber)(P.lng || 0),
                L = (0, h.splitLatLngNumber)(P.lat || 0);
            r[_++] = M.high, r[_++] = L.high, r[_++] = 0, o[m++] = M.low, o[m++] = L.low, a[y++] = i.size, a[y++] = i.size;
            var C = t.offsets[t.offsets.length - 1],
                V = t.offsets[t.index];
            s[g++] = (i.alignment - 1) * C / 2 + T.width / 2 + V || 0, s[g++] = T.height / 2 * i.verticalAlignment || 0, s[g++] = i.angle, s[g++] = 1, l[x++] = T.x || 0, l[x++] = T.y || 0, l[x++] = T.width || 0, l[x++] = T.height || 0, u[b++] = I ? k[0] : 0, u[b++] = I ? k[1] : 0, u[b++] = I ? k[2] : 0, u[b++] = I ? k[3] : 0, c[S++] = 1;
            var R = (0, v.encodePickingColor)(t.geometryIndex);
            f[w++] = I ? R[0] : 0, f[w++] = I ? R[1] : 0, f[w++] = I ? R[2] : 0, d[E++] = i.offset.x, d[E++] = i.offset.y, d[E++] = 1;
            var O = t.geometryIndex;
            if (A[O]) A[O].lettersCount += 1, A[O].widthSum += T.width;
            else {
                var F = t.geometry;
                A[O] = {
                    geometryIndex: O,
                    geometry: F,
                    style: i,
                    lettersCount: 1,
                    fontSize: T.fontSize,
                    widthSum: T.width
                }
            }
        }), {
            count: i,
            instancePositionList: r,
            instancePosition64xyLowList: o,
            instanceSizeList: a,
            instanceInfoList: s,
            instanceFrameList: l,
            instanceColorList: u,
            instanceShowList: c,
            instancePickingColorList: f,
            instancePixelOffsetList: d,
            labelInfoList: A
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = n(10),
        l = i(s),
        u = n(94),
        c = i(u),
        f = n(12),
        d = i(f),
        h = n(73),
        v = n(161),
        _ = n(159),
        p = i(_),
        m = n(242),
        y = i(m),
        g = 32,
        x = {
            left: 1,
            center: 0,
            right: -1
        },
        b = {
            top: 1,
            middle: 0,
            bottom: -1
        },
        S = new y.default;
    S.text = "", e.default = r
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        var i = function (e) {
                var n = t.styles[e.styleId];
                return n ? (0, u.default)({}, {
                    src: n.src || d.src,
                    width: n.width || d.width,
                    height: n.height || d.height,
                    anchor: n.anchor || d.anchor,
                    rotate: n.rotate || d.rotate,
                    offset: n.offset || d.offset,
                    opacity: "opacity" in n ? n.opacity : d.opacity,
                    faceTo: "faceTo" in n ? n.faceTo : d.faceTo
                }) : (0, u.default)({}, d)
            },
            r = [];
        (0, s.default)(t.styles).forEach(function (e) {
            t.styles[e].src && r.push(t.styles[e].src)
        }), e.send("addMarkers", {
            markerSrcs: r
        }, function (e, r) {
            var a = JSON.parse(r.mapping),
                s = o(t.geometries, a, i);
            n && n(s)
        })
    }

    function o(t, e, n) {
        var i = t.length,
            r = new Float32Array(3 * i),
            o = new Float32Array(2 * i),
            a = new Uint16Array(2 * i),
            s = new Float32Array(4 * i),
            l = new Uint16Array(4 * i),
            u = new Uint8ClampedArray(3 * i),
            d = new Float32Array(3 * i),
            h = 0,
            v = 0,
            _ = 0,
            p = 0,
            m = 0,
            y = 0,
            g = 0;
        return t.forEach(function (t, i) {
            var x = n(t),
                b = e[x.src],
                S = t.position,
                w = (0, c.splitLatLngNumber)(S.lng),
                E = (0, c.splitLatLngNumber)(S.lat);
            r[h++] = w.high, r[h++] = E.high, r[h++] = 0, o[v++] = w.low, o[v++] = E.low, a[_++] = parseInt(x.width, 10), a[_++] = parseInt(x.height, 10), s[p++] = x.width / 2 - x.anchor.x || 0, s[p++] = x.height / 2 - x.anchor.y || 0, s[p++] = t.properties && "$angle" in t.properties ? t.properties.$angle : x.rotate, s[p++] = x.faceTo, l[m++] = b && b.x || 0, l[m++] = b && b.y || 0, l[m++] = b && b.width || 0, l[m++] = b && b.height || 0;
            var A = (0, f.encodePickingColor)(i);
            u[y++] = A[0], u[y++] = A[1], u[y++] = A[2], d[g++] = x.offset.x, d[g++] = x.offset.y, d[g++] = x.opacity
        }), {
            count: i,
            instancePositionList: r,
            instancePosition64xyLowList: o,
            instanceSizeList: a,
            instanceInfoList: s,
            instanceFrameList: l,
            instancePickingColorList: u,
            instancePixelOffsetList: d
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(10),
        s = i(a),
        l = n(12),
        u = i(l),
        c = n(73),
        f = n(161),
        d = {
            src: "",
            width: 32,
            height: 32,
            anchor: {
                x: 0,
                y: 0
            },
            rotate: 0,
            offset: {
                x: 0,
                y: 0
            },
            opacity: 1,
            faceTo: 1
        };
    e.default = r
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = function (e) {
            var n = t.styles[e.styleId] || d,
                i = new l.default(n.color).toUpArray(),
                r = new l.default(n.borderColor).toUpArray();
            return {
                color: i.slice(0, 3),
                borderColor: r.slice(0, 3),
                width: n.width,
                borderWidth: n.borderWidth ? 2 * n.borderWidth + n.width : 0,
                opacity: i[3],
                borderOpacity: r[3],
                lineCap: n.lineCap || 0,
                dashArray: n.dashArray,
                arrowInfo: n.arrowInfo
            }
        };
        t.geometries.forEach(function (t) {
            t.paths = (0, u.normalize)(t.paths)
        });
        var n = t.geometries.reduce(function (t, e, n) {
                return t + e.paths.reduce(function (t, e) {
                    return t + e.length - 1
                }, 0)
            }, 0),
            i = new Float32Array(3 * n),
            r = new Float32Array(3 * n),
            s = new Float32Array(3 * n),
            c = new Float32Array(3 * n),
            f = new Float32Array(4 * n),
            h = new Uint8ClampedArray(4 * n),
            v = new Uint8ClampedArray(4 * n),
            _ = new Uint8ClampedArray(3 * n),
            p = new Float32Array(1 * n),
            m = new Float32Array(1 * n),
            y = new Uint8ClampedArray(3 * n),
            g = new Uint8ClampedArray(4 * n),
            x = 0,
            b = 0,
            S = 0,
            w = 0,
            E = 0,
            A = 0,
            T = 0,
            k = 0,
            P = 0,
            I = 0;
        return t.geometries.forEach(function (t, n) {
            var l = e(t);
            t.paths.forEach(function (t, e) {
                for (var u = t[0], d = 0; d < t.length; d++) {
                    var M = t[d],
                        L = (0, o.splitLatLngNumber)(M.lat),
                        C = (0, o.splitLatLngNumber)(M.lng);
                    if (d < t.length - 1) {
                        i[x++] = C.high, i[x++] = L.high, i[x++] = 0, s[S++] = M.lng - u.lng, s[S++] = M.lat - u.lat, s[S++] = 0, u = M;
                        var V = t[d + 1],
                            R = (0, o.splitLatLngNumber)(V.lat),
                            O = (0, o.splitLatLngNumber)(V.lng);
                        f[E++] = C.low, f[E++] = L.low, f[E++] = O.low, f[E++] = R.low
                    }
                    if (d > 0) {
                        var F = t[d + 1];
                        F || (F = M), r[b++] = C.high, r[b++] = L.high, r[b++] = 0, c[w++] = F.lng - M.lng, c[w++] = F.lat - M.lat, c[w++] = 0
                    }
                    if (d > 0) {
                        h[A] = l.color[0], v[A++] = l.borderColor[0], h[A] = l.color[1], v[A++] = l.borderColor[1], h[A] = l.color[2], v[A++] = l.borderColor[2], h[A] = l.opacity, v[A++] = l.borderOpacity;
                        var z = (0, a.encodePickingColor)(n);
                        _[3 * T + 0] = z[0], _[3 * T + 1] = z[1], _[3 * T + 2] = z[2], T++, y[P++] = l.lineCap, y[P++] = l.dashArray[0], y[P++] = l.dashArray[1], p[k] = l.width, m[k++] = l.borderWidth, g[I++] = l.arrowInfo[0], g[I++] = l.arrowInfo[1], g[I++] = l.arrowInfo[2], g[I++] = l.arrowInfo[3]
                    }
                }
            })
        }), {
            instanceStartPositionList: i,
            instanceEndPositionList: r,
            instanceLeftDeltaList: s,
            instanceRightDeltaList: c,
            instanceStartEndPostions64xyLowList: f,
            instanceColorList: h,
            instanceBorderColorList: v,
            instancePickingColorList: _,
            instanceWidthList: p,
            instanceBorderWidthList: m,
            instanceLineInfoList: y,
            instanceArrowInfoList: g,
            count: n
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(73),
        a = n(161),
        s = n(159),
        l = i(s),
        u = n(354),
        c = n(201),
        f = i(c),
        d = new f.default;
    e.default = r
}, function (t, e, n) {
    "use strict";

    function i(t) {
        var e = t.getSouthWest(),
            n = t.getNorthEast(),
            i = t.getSouthEast();
        return [n, t.getNorthWest(), e, i]
    }

    function r(t) {
        return (0, a.default)(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.getBoundsPath = i;
    var o = n(231),
        a = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(o);
    e.default = r
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        if (t.getLng() < e.getLng()) {
            n.getLng() >= 0 ? t.lng = 180 : e.lng = -179.9999
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0),
        a = i(o),
        s = n(1),
        l = i(s),
        u = n(29),
        c = i(u),
        f = n(61),
        d = i(f),
        h = n(245),
        v = i(h),
        _ = n(352),
        p = i(_),
        m = function () {
            function t(e, n) {
                (0, a.default)(this, t), this.geometries = e.map(function (t) {
                    return t.position = c.default.convert(t.position), t
                }), this.clusters = [], this.minimumClusterSize = n.minimumClusterSize, this.gridSize = n.gridSize, this.averageCenter = n.averageCenter, this.projection = new v.default
            }
            return (0, l.default)(t, [{
                key: "createClusters",
                value: function (t) {
                    var e = this,
                        n = t.zoom > t.maxZoom;
                    (t.resetCluster || n) && this._resetClusters();
                    var i = t.pixelsPerDegree,
                        r = new d.default(c.default.convert(t.mapBounds.sw), c.default.convert(t.mapBounds.ne)),
                        o = this._getExtendedBounds(r, t.zoom);
                    return this.geometries.filter(function (t) {
                        return o.contains(t.position) && !t.hasCluster
                    }).forEach(function (r) {
                        n ? (e._createNewCluster(r, t.zoom), r.hasCluster = !0) : e._addToClosestCluster(r, i, t.zoom)
                    }), this.clusters.forEach(function (t) {
                        t.getGeometries().length < e.minimumClusterSize && e._breakUpCluster(t)
                    }), this.clusters = this.clusters.filter(function (t) {
                        return t.getGeometries().length
                    }), this.clusters.map(function (t) {
                        return t.getClusterInfo()
                    })
                }
            }, {
                key: "_resetClusters",
                value: function () {
                    this.clusters.forEach(function (t) {
                        return t.remove()
                    }), this.clusters = [], this.geometries.forEach(function (t) {
                        return delete t.hasCluster
                    })
                }
            }, {
                key: "_addToClosestCluster",
                value: function (t, e, n) {
                    var i = null,
                        r = 4e3;
                    this.clusters.filter(function (e) {
                        return e.isInBounds(t)
                    }).forEach(function (n) {
                        var o = n.getCenter();
                        if (o) {
                            var a = (o.lng - t.position.lng) * e[0],
                                s = (o.lat - t.position.lat) * e[1],
                                l = Math.sqrt(a * a + s * s);
                            l < r && (r = l, i = n)
                        }
                    }), i && i.isInBounds(t) ? i.add(t) : this._createNewCluster(t, n), t.hasCluster = !0
                }
            }, {
                key: "_createNewCluster",
                value: function (t, e) {
                    var n = new p.default(this, e);
                    n.add(t), this.clusters.push(n)
                }
            }, {
                key: "_getExtendedBounds",
                value: function (t, e) {
                    var n = t.getNorthEast(),
                        i = t.getSouthWest(),
                        o = this.projection.latLngToCoord(n, e),
                        a = this.projection.latLngToCoord(i, e);
                    o.x += this.gridSize, o.y -= this.gridSize, a.x -= this.gridSize, a.y += this.gridSize;
                    var s = this.projection.coordToLatLng(o, e),
                        l = this.projection.coordToLatLng(a, e);
                    return r(s, l, t.getCenter()), new d.default(l, s)
                }
            }, {
                key: "_breakUpCluster",
                value: function (t) {
                    var e = this;
                    t.getGeometries().length < 2 || (t.getGeometries().forEach(function (n) {
                        e._createNewCluster(n, t.zoom)
                    }), t.remove())
                }
            }]), t
        }();
    e.default = m
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(487),
        _ = i(v),
        p = n(353),
        m = i(p),
        y = function (t) {
            function e() {
                (0, s.default)(this, e);
                var t = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this));
                return t.materials = {
                    escalator2: [.34999999403954, .34999999403954, .34999999403954],
                    escalator3: [1, 1, 1]
                }, t
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "parse",
                value: function (t) {
                    var e = this,
                        n = (0, m.default)(t),
                        i = n.meshes;
                    i.forEach(function (t) {
                        var n = t.materials[0] && t.materials[0].name;
                        if (n) {
                            for (var i = new Float32Array(t.attributes.POSITION.value.length), r = 0; r < i.length; r += 3) i[r] = e.materials[n][0], i[r + 1] = e.materials[n][1], i[r + 2] = e.materials[n][2];
                            t.attributes.COLOR_0 = {
                                size: 3,
                                value: i
                            }
                        }
                    });
                    var r = i.reduce(function (t, e) {
                        return t + e.header.vertexCount
                    }, 0);
                    return {
                        mode: 4,
                        vertexCount: r,
                        attributes: this.mergeAttributes(i, r)
                    }
                }
            }]), e
        }(_.default);
    e.default = y
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        var n = (0, E.latLng2Mercator)(t.x || t.lng, t.y || t.lat),
            i = new T.default;
        return i.x = n.x - e.x, i.y = n.y - e.y, i
    }

    function o(t, e) {
        return r((0, E.pixels2LongLat)(t.x, t.y), e)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(21),
        s = i(a),
        l = n(94),
        u = i(l),
        c = n(163),
        f = i(c),
        d = n(10),
        h = i(d),
        v = n(12),
        _ = i(v),
        p = n(32),
        m = i(p),
        y = n(95),
        g = i(y),
        x = n(0),
        b = i(x),
        S = n(1),
        w = i(S),
        E = n(233),
        A = n(41),
        T = i(A),
        k = n(29),
        P = i(k),
        I = n(6),
        M = i(I),
        L = n(596),
        C = i(L),
        V = n(245),
        R = i(V),
        O = (n(83), n(198)),
        F = n(232),
        z = n(199),
        N = function () {
            function t(e, n) {
                (0, b.default)(this, t), this.buildingId = e, this.dataView = n.buffer, this.zoom = 20, this.areaCenter = (0, E.latLng2Mercator)(n.areaCenter.lng, n.areaCenter.lat), this.floorInfo = n.floorInfo, this.selectedFloorNum = n.selectedFloorNum, this.indoorStyle = n.indoorStyle, this.projection = new R.default, this._initialize()
            }
            return (0, w.default)(t, [{
                key: "_initialize",
                value: function () {
                    var t = this,
                        e = (0, g.default)(this.floorInfo.bounds, 2),
                        n = e[0],
                        i = e[1],
                        o = [new P.default(i.lat, n.lng), n, new P.default(n.lat, i.lng), i],
                        a = o.map(function (e) {
                            return r(e, t.areaCenter)
                        }),
                        s = {
                            displayType: 2,
                            gateNum: 0,
                            gates: [],
                            height: 0,
                            point: a,
                            regionId: "",
                            brickness: 1
                        },
                        l = this._translateLatLngForSingleRegion(s, 0, !0, null, 0);
                    l.isWall = !1, this._boundsRegion = l
                }
            }, {
                key: "parseBuilding",
                value: function () {
                    var t = this.buildingId,
                        e = new DataView(this.dataView.buffer),
                        n = 0,
                        i = {};
                    i.Attribute_size = e.getInt32(n, !0), n += 4, i.Data_size = e.getInt32(n, !0), n += 4, i.Topology_size = e.getInt32(n, !0), n += 4, i.Name_CN_size = e.getUint8(n, !0), n += 1, i.Name_CN = String.fromCharCode.apply(String, (0, m.default)(new Uint16Array(e.buffer.slice(n, n + i.Name_CN_size)))), n += i.Name_CN_size, i.DefaultFloor = e.getUint8(n, !0), n += 1, i.Floor_num = e.getUint8(n, !0), n += 1, i.Floor_str_size = e.getUint8(n, !0), n += 1;
                    for (var r = [], o = 0; o < i.Floor_str_size; o++) {
                        var a = e.getUint8(n, !0);
                        r.push(a), n++
                    }
                    i.floorStr = String.fromCharCode.apply(null, r);
                    for (var s = [], l = 0; l < 4; l++) {
                        var u = e.getInt32(n, !0);
                        s.push(u), n += 4
                    }
                    i.Floor_num = e.getInt32(n, !0), n += 4;
                    for (var c = [], f = 0; f < i.Floor_num; f++) {
                        var d = e.getInt32(n, !0);
                        c.push(d), n += 4
                    }
                    for (var h = [], v = [], _ = [], p = [], y = [], g = [], x = [], b = [], S = [], w = [], E = [], A = 0; A < i.Floor_num; A++)
                        if (A === this.selectedFloorNum + 1) {
                            var T = A,
                                k = [],
                                P = [],
                                I = [],
                                M = [],
                                L = [],
                                C = [],
                                V = [],
                                R = [],
                                O = [],
                                F = [],
                                z = T,
                                N = e.getInt32(n, !0);
                            n += 4;
                            for (var D = [], B = 0; B < N; B++) {
                                var U = {},
                                    j = e.getInt32(n, !0);
                                n += 4;
                                var Y = e.getInt32(n, !0);
                                U.type = j, U.size = Y, D.push(U), n += 4
                            }
                            for (var G = 0; G < N; G++) {
                                var W = D[G].type,
                                    X = D[G].size,
                                    Z = G;
                                if (9 === W) {
                                    var Q = this._parseFloorPointLayer(e, n, z, {
                                        nowFloorPoints22: M,
                                        nowFloorPoints21: L,
                                        nowFloorPoints20: C,
                                        nowFloorPoints19: V,
                                        nowFloorPoints18: R,
                                        nowFloorPoints17: O,
                                        nowFloorPoints16: F
                                    });
                                    n = Q.offset, M = Q.nowFloorPoints22, L = Q.nowFloorPoints21, C = Q.nowFloorPoints20, V = Q.nowFloorPoints19, R = Q.nowFloorPoints18, O = Q.nowFloorPoints17, F = Q.nowFloorPoints16
                                } else if (4 === W) {
                                    var H = this._parseFloorRegionLayer(e, n, G);
                                    n = H.offset;
                                    var q = H.nowLayerRegions,
                                        J = H.nowLayerEscalatorRegions;
                                    0 === P.length && k.push({
                                        styleId: q.styleId,
                                        points: [this._boundsRegion],
                                        layerId: Z
                                    }), J.length > 0 && I.push.apply(I, (0, m.default)(J)), P.push(q)
                                } else if (11 === W) {
                                    n += X;
                                    continue
                                }
                            }
                            for (var K = [], $ = 0; $ < 4; $++) {
                                var tt = e.getUint8(n, !0);
                                K.push(tt), n++
                            }
                            String.fromCharCode(K[0], K[1], K[2], K[3]);
                            _[T] = k, h[T] = P, v[T] = I, x[T] = this._refactorFloorPoints(C, t, T), b[T] = this._refactorFloorPoints(V, t, T), S[T] = this._refactorFloorPoints(R, t, T), w[T] = this._refactorFloorPoints(O, t, T), E[T] = this._refactorFloorPoints(F, t, T);
                            var et = {};
                            et.zoom22 = y, et.zoom21 = g, et.zoom20 = x, et.zoom19 = b, et.zoom18 = S, et.zoom17 = w, et.zoom16 = E
                        } else n += c[A];
                    return i.floorBoundsData = _, i.buildingData = h, i.buildingEscalator = v, i.buildingPoint = et, i.buildingLine = p, i
                }
            }, {
                key: "_parseFloorPointLayer",
                value: function (t, e, n, i) {
                    var r = i.nowFloorPoints22,
                        o = i.nowFloorPoints21,
                        a = i.nowFloorPoints20,
                        s = i.nowFloorPoints19,
                        l = i.nowFloorPoints18,
                        u = i.nowFloorPoints17,
                        c = i.nowFloorPoints16;
                    t.getUint16(e, !0);
                    e += 2;
                    t.getUint16(e, !0);
                    e += 2;
                    var f = t.getInt32(e, !0);
                    e += 4;
                    for (var d = [], h = [], v = 0; v < f; v++) {
                        var _ = {},
                            p = (0, E.readUint24)(new Uint8Array(t.buffer.slice(e, e + 3))),
                            y = 4095 & p;
                        y ^= 65536, _.classCode = y;
                        var g = p >> 12 & 15,
                            x = p >> 16 & 255;
                        e += 3;
                        var b = t.getUint16(e, !0);
                        e += 2, _.hPoi_count = b;
                        var S = t.getInt32(e, !0);
                        e += 4, _.poiPriority = S;
                        var w = t.getUint8(e, !0);
                        e += 1, _.Strace = w;
                        var A = {};
                        A.strace16 = 1 & w, A.strace17 = 2 & w, A.strace18 = 4 & w, A.strace19 = 8 & w, A.strace20 = 16 & w, A.strace21 = 32 & w, A.strace22 = 64 & w, _.zoomStrace = A;
                        var T = t.getUint32(e, !0);
                        e += 4, _.direct = T;
                        var k = String.fromCharCode.apply(String, (0, m.default)(new Uint16Array(t.buffer.slice(e, e + 2 * g))));
                        e += 2 * g, _.Name_str1 = k;
                        var P = x - g,
                            I = String.fromCharCode.apply(String, (0, m.default)(new Uint16Array(t.buffer.slice(e, e + 2 * P))));
                        h.push(I), e += 2 * P, _.Name_str2 = I, d.push(_)
                    }
                    for (var L = [], C = 0; C < d.length; C++)
                        for (var V = d[C].hPoi_count, R = 0; R < V; R++) {
                            var O = t.getInt32(e, !0);
                            e += 4;
                            var F = t.getInt32(e, !0);
                            e += 4;
                            var z = (0, E.pixels2LongLat)(O, F);
                            L.push(z)
                        }
                    var N = new Uint8Array(t.buffer.slice(e, e + 4));
                    N = String.fromCharCode.apply(null, N), N = N.toUpperCase(), e += 4;
                    var D = [];
                    if ("EXPH" === N)
                        for (var B = 0; B < f; B++) {
                            var U = t.getUint16(e, !0);
                            e += 2, D.push(U)
                        }
                    N = new Uint8Array(t.buffer.slice(e, e + 4)), N = String.fromCharCode.apply(null, N), N = N.toUpperCase(), e += 4;
                    var j = [];
                    if ("EXNR" === N) {
                        for (var Y = [], G = 0; G < f; G++) {
                            var W = t.getUint16(e, !0);
                            e += 2;
                            for (var X = 15 & W, Z = [], Q = 0; Q < X; Q++) Z.push(t.getUint8(e, !0)), e += 1;
                            Y.push(Z)
                        }
                        for (var H = 0; H < Y.length; H++) {
                            for (var q = [], J = Y[H], K = 0; K < J.length; K++) {
                                var $ = new Uint16Array(t.buffer.slice(e, e + 2 * J[K])),
                                    tt = String.fromCharCode.apply(null, $);
                                q.push(tt), e += 2 * J[K]
                            }
                            j.push(q)
                        }
                    }
                    for (var et = 0; et < L.length; et++) {
                        for (var nt = {}, it = [], rt = d[et].hPoi_count, ot = 0; ot < rt; ot++);
                        var at = "";
                        d[et].Name_str2 && (at = "\\" + d[et].Name_str2), it.push(L[et]), nt.points = it, nt.styleId = d[et].classCode, nt.rank = d[et].poiPriority, nt.uuid = M.default.uniqueId(), nt.text = d[et].Name_str1 + at, nt.buildingId = this.buildingId;
                        var st = d[et].zoomStrace;
                        if (0 !== st.strace20) {
                            var lt = d[et].direct;
                            lt = lt >> 16 & 15;
                            var ut = (0, E.extendCopy)(nt);
                            ut.direct = lt;
                            var ct = D[et],
                                ft = this._translateLatLngPointForSinglePoint(ut, ct, n, a.length);
                            a.push(ft)
                        }
                        if (0 !== st.strace19) {
                            var dt = d[et].direct;
                            dt = dt >> 12 & 15;
                            var ht = (0, E.extendCopy)(nt);
                            ht.direct = dt;
                            var vt = D[et],
                                _t = this._translateLatLngPointForSinglePoint(ht, vt, n, s.length);
                            s.push(_t)
                        }
                        if (0 !== st.strace18) {
                            var pt = d[et].direct;
                            pt = pt >> 8 & 15;
                            var mt = (0, E.extendCopy)(nt);
                            mt.direct = pt;
                            var yt = D[et],
                                gt = this._translateLatLngPointForSinglePoint(mt, yt, n, l.length);
                            l.push(gt)
                        }
                        if (0 !== st.strace17) {
                            var xt = d[et].direct;
                            xt = xt >> 4 & 15;
                            var bt = (0, E.extendCopy)(nt);
                            bt.direct = xt;
                            var St = D[et],
                                wt = this._translateLatLngPointForSinglePoint(bt, St, n, u.length);
                            u.push(wt)
                        }
                        if (0 !== st.strace16) {
                            var Et = d[et].direct;
                            Et &= 15;
                            var At = (0, E.extendCopy)(nt);
                            At.direct = Et;
                            var Tt = D[et],
                                kt = this._translateLatLngPointForSinglePoint(At, Tt, n, c.length);
                            c.push(kt)
                        }
                    }
                    return {
                        offset: e,
                        nowFloorPoints22: r,
                        nowFloorPoints21: o,
                        nowFloorPoints20: a,
                        nowFloorPoints19: s,
                        nowFloorPoints18: l,
                        nowFloorPoints17: u,
                        nowFloorPoints16: c
                    }
                }
            }, {
                key: "_parseFloorRegionLayer",
                value: function (t, e, n) {
                    var i = this,
                        r = {};
                    t.getUint16(e, !0);
                    e += 2;
                    var a = t.getUint16(e, !0);
                    e += 2;
                    t.getInt32(e, !0);
                    e += 4;
                    var s = t.getInt32(e, !0);
                    e += 4;
                    for (var l = [], u = 0; u < s; u++) {
                        var c = t.getInt32(e, !0);
                        l.push(c), e += 4
                    }
                    for (var f = [], d = {}, h = 0, v = 0; v < s; v++) {
                        d[v] = {}, d[v].start = h;
                        var p = t.getUint16(e, !0);
                        f.push(p), h += p, d[v].end = h, e += 2
                    }
                    for (var y = [], g = 0; g < h; g++) {
                        var x = t.getUint32(e, !0);
                        e += 4;
                        var b = t.getUint32(e, !0);
                        e += 4;
                        var S = {
                            x: x,
                            y: b
                        };
                        y.push(S)
                    }
                    var w = new Uint8Array(t.buffer.slice(e, e + 4));
                    w = String.fromCharCode.apply(null, w), w = w.toUpperCase(), e += 4;
                    var E = [];
                    if ("EXPI" === w) {
                        for (var A = [], T = 0; T < s; T++) {
                            var k = t.getUint8(e, !0);
                            A.push(k), e += 1
                        }
                        for (var P = 0; P < A.length; P++) {
                            var I = A[P],
                                M = String.fromCharCode.apply(String, (0, m.default)(new Uint8Array(t.buffer.slice(e, e + I))));
                            E.push(M), e += A[P]
                        }
                    }
                    if (w = new Uint8Array(t.buffer.slice(e, e + 4)), w = String.fromCharCode.apply(null, w), w = w.toUpperCase(), e += 4, "EXMP" === w)
                        for (var L = 0; L < y.length; L++) {
                            var C = t.getUint8(e, !0);
                            e += 1;
                            var V = t.getUint8(e, !0);
                            e += 1, y[L].x += C / 100, y[L].y += V / 100
                        }
                    for (var R = [], O = 0, F = 0; F < f.length; F++) {
                        var z = void 0;
                        z = 0 === F ? y.slice(F, f[F]) : y.slice(O, O + f[F]), O += f[F], R.push(z)
                    }
                    for (var N = [], D = 0; D < R.length; D++) {
                        var B = R[D].map(function (t) {
                                return o(t, i.areaCenter)
                            }),
                            U = E[D],
                            j = {
                                point: B,
                                height: l[D],
                                regionId: U
                            };
                        N.push(j)
                    }
                    if (w = new Uint8Array(t.buffer.slice(e, e + 4)), w = String.fromCharCode.apply(null, w), w = w.toUpperCase(), e += 4, "EX3D" === w)
                        for (var Y = 0; Y < N.length; Y++) {
                            var G = t.getInt8(e, !0);
                            e += 1;
                            var W = t.getUint8(e, !0);
                            e += 1;
                            var X = t.getUint8(e, !0);
                            e += 1;
                            var Z = t.getInt16(e, !0);
                            e += 2;
                            var Q = t.getUint16(e, !0);
                            e += 2;
                            var H = t.getUint16(e, !0);
                            e += 2;
                            var q = t.getUint32(e, !0);
                            e += 4;
                            var J = t.getUint32(e, !0);
                            e += 4, N[Y].height = G / 10, N[Y].displayType = W, N[Y].brickness = X, N[Y].angle = Z, N[Y].rectWidth = Q, N[Y].rectHeight = H, N[Y].centerX = q, N[Y].centerY = J
                        }
                    if (w = new Uint8Array(t.buffer.slice(e, e + 4)), w = String.fromCharCode.apply(null, w), w = w.toUpperCase(), e += 4, "EXGT" === w)
                        for (var K = 0; K < N.length; K++) {
                            var $ = N[K],
                                tt = t.getUint16(e, !0);
                            if (e += 2, $.gateNum = tt, $.gates = [], tt > 0) {
                                for (var et = 0; et < tt; et++) {
                                    var nt = {};
                                    nt.hasCelling = !!t.getUint8(e, !0), e += 1, $.gates.push(nt)
                                }
                                for (var it = 0; it < tt; it++) {
                                    var rt = $.gates[it];
                                    rt.pt = [{}, {}];
                                    for (var ot = 0; ot < 2; ot++) rt.pt[ot].x = t.getUint32(e, !0), e += 4, rt.pt[ot].y = t.getUint32(e, !0), e += 4, rt.pt[ot].x += t.getUint8(e, !0) / 100, e += 1, rt.pt[ot].y += t.getUint8(e, !0) / 100, e += 1
                                }
                            }
                        }
                    for (var at = [], st = [], lt = 0; lt < N.length; lt++) {
                        var ut = N[lt],
                            ct = null;
                        if (1 === ut.displayType) ct = this._translateLatLngForSingleRegion(ut, n, !1);
                        else {
                            if (4 === ut.displayType) {
                                st.push(ut);
                                continue
                            }
                            var ft = this._extrudePolygon(ut.point, 0 === n ? 0 : 1, .2, function (t, e, n) {
                                    return 0 === e ? n[n.length - 1] : n[e - 1]
                                }, function (t, e, n) {
                                    return e === n.length - 1 ? n[0] : n[e + 1]
                                }),
                                dt = (0, _.default)({}, ut, {
                                    point: ft
                                });
                            ct = this._translateLatLngForSingleRegion(dt, 0, !0, null, 0 === n ? 0 : .5)
                        }
                        ct.originRegion = ut, ct.isWall = !1, at.push(ct)
                    }
                    var ht = this._getWallRegions(at, n);
                    return r.styleId = 196608 ^ a, r.points = [].concat(at, (0, m.default)(ht)), r.layerId = n, {
                        offset: e,
                        nowLayerRegions: r,
                        nowLayerEscalatorRegions: st
                    }
                }
            }, {
                key: "_getWallRegions",
                value: function (t, e) {
                    for (var n = this, i = [], r = t, o = r.slice(), a = 0; a < o.length; a++) {
                        (function (t) {
                            var r = o[t],
                                a = r.originRegion;
                            if (2 !== a.displayType) return "continue";
                            var s = a.point,
                                l = s[0],
                                u = s;
                            u[0].x === u[u.length - 1].x && u[0].y === u[u.length - 1].y || u.push(u[0]), (0, E.isClockWise)(u) && u.reverse();
                            var c = {},
                                f = a.gates.map(function (t) {
                                    return {
                                        hasCelling: t.hasCelling,
                                        pt: t.pt.map(function (t) {
                                            var e = (0, E.pixels2LongLat)(t.x, t.y),
                                                i = (0, E.latLng2Mercator)(e.x, e.y),
                                                r = {};
                                            return r.x = i.x - n.areaCenter.x, r.y = i.y - n.areaCenter.y, new T.default(r.x, r.y)
                                        })
                                    }
                                }).filter(function (t) {
                                    var e = t.pt.reduce(function (t, e) {
                                        return t + (e.x + "+") + e.y + ";"
                                    }, "");
                                    if (!c[e]) return c[e] = !0, !0
                                }),
                                d = [
                                    []
                                ],
                                h = 0;
                            u.forEach(function (t, e) {
                                if (e !== u.length - 1) {
                                    d[h].push(t);
                                    var n = u[e + 1],
                                        i = n.clone().sub(t),
                                        r = i.clone().normalize(),
                                        o = [];
                                    f.forEach(function (e, a) {
                                        var s = e.pt[1].clone().sub(e.pt[0]),
                                            l = s.clone().normalize(),
                                            u = Math.abs(i.x * s.y - s.x * i.y),
                                            c = u <= .3,
                                            f = e.pt[0].x >= Math.min(t.x, n.x) && e.pt[0].x <= Math.max(t.x, n.x) && e.pt[0].y >= Math.min(t.y, n.y) && e.pt[0].y <= Math.max(t.y, n.y) && e.pt[1].x >= Math.min(t.x, n.x) && e.pt[1].x <= Math.max(t.x, n.x) && e.pt[1].y >= Math.min(t.y, n.y) && e.pt[1].y <= Math.max(t.y, n.y);
                                        if (c && f) {
                                            var d = e.pt.slice();
                                            r.dot(l) + 1 < .1 && d.reverse(), o.push(d)
                                        }
                                    }), o.sort(function (e, n) {
                                        return e[0].clone().sub(t).lengthSq() - n[0].clone().sub(t).lengthSq()
                                    });
                                    var a = [];
                                    o.forEach(function (t) {
                                        if (0 === a.length) a.push(t);
                                        else {
                                            var e = a[a.length - 1];
                                            (Math.abs(t[0].x - e[0].x) > .1 || Math.abs(t[0].y - e[0].y) > .1) && a.push(t)
                                        }
                                    }), a.forEach(function (t) {
                                        d[h].push(t[0]), d[++h] = [t[1]]
                                    })
                                }
                            }), d[h].push(l);
                            var v = null;
                            if (d.length > 1) {
                                var p = d[0],
                                    y = p[0],
                                    g = d[d.length - 1],
                                    x = g[g.length - 1];
                                x.x === y.x && x.y === y.y && (d.shift(), g.pop(), g.push.apply(g, (0, m.default)(p)))
                            }
                            v = d.map(function (t) {
                                var i = t,
                                    r = i.slice().reverse(),
                                    o = n._extrudePolygon(r, 0 === e ? 1 : -1, .2, function (t, e, n) {
                                        return 0 === e ? 1 === d.length ? n[n.length - 2] : t : n[e - 1]
                                    }, function (t, e, n) {
                                        return e === n.length - 1 ? 1 === d.length ? n[1] : t : n[e + 1]
                                    }),
                                    a = [].concat((0, m.default)(i), (0, m.default)(o));
                                return (0, E.isClockWise)(a) && 0 === e && a.reverse(), a
                            }), v.forEach(function (t) {
                                var e = (0, _.default)({}, a);
                                e.point = t;
                                var r = n._translateLatLngForSingleRegion(e, 1, !1, t.holeIndecies);
                                r.height /= 10, r.isWall = !0, i.push(r)
                            })
                        })(a)
                    }
                    return i
                }
            }, {
                key: "_extrudePolygon",
                value: function (t, e, n, i, r) {
                    var o = t;
                    return o.map(function (t, a) {
                        var s = i(t, a, o),
                            l = r(t, a, o),
                            u = t.clone().sub(s).normalize(),
                            c = l.clone().sub(t).normalize(),
                            f = new T.default(-u.y, u.x),
                            d = new T.default(-c.y, c.x),
                            h = 0 === a ? d : f,
                            v = u.clone().add(c).normalize(),
                            _ = new T.default(-v.y, v.x),
                            p = Math.abs(_.dot(h)),
                            m = _.clone().mult(e).mult(n / (Math.abs(p - 0) < .1 ? 1 : p));
                        return t.clone().add(m)
                    })
                }
            }, {
                key: "getEscalatorAttributes",
                value: function (t) {
                    var e = this,
                        n = new Float32Array(2 * t.length),
                        i = new Int16Array(4 * t.length);
                    return t.forEach(function (t, r) {
                        var o = (0, E.pixels2LongLat)(t.centerX, t.centerY),
                            a = (0, E.latLng2Mercator)(o.x, o.y);
                        n[2 * r] = a.x - e.areaCenter.x, n[2 * r + 1] = a.y - e.areaCenter.y, i[4 * r] = t.rectWidth, i[4 * r + 1] = t.rectHeight, i[4 * r + 2] = t.height, i[4 * r + 3] = t.angle
                    }), {
                        instanceCoordsTypeArray: n,
                        instanceInfosTypeArray: i,
                        count: t.length
                    }
                }
            }, {
                key: "getTopGeometryAttributes",
                value: function (t) {
                    var e = this,
                        n = this.zoom,
                        i = t.reduce(function (t, e) {
                            return t + e.points.reduce(function (t, e) {
                                return t + (e.point && e.point.length || 0)
                            }, 0)
                        }, 0),
                        r = t.reduce(function (t, e) {
                            return t + e.points.reduce(function (t, e) {
                                return t + (e.index.top && e.index.top.length || 0)
                            }, 0)
                        }, 0),
                        o = r > 65535 ? new Uint32Array(r) : new Uint16Array(r),
                        a = new Float32Array(i),
                        s = new Uint8ClampedArray(i),
                        l = 0,
                        u = 0;
                    t.forEach(function (t) {
                        var i = t.styleId,
                            r = (0, O.getStyle)(i, n, e.indoorStyle);
                        r && t.points.forEach(function (t, e) {
                            if (!t._fail) {
                                var n = l,
                                    i = u;
                                t.index.top && (t.index.top.forEach(function (t, e) {
                                    o[i + e] = t + n / 3
                                }), t.point.forEach(function (e, i) {
                                    a[n + i] = e, s[n + i] = t.isWall ? r.topStyle[i % 3] : r.bottomStyle[i % 3]
                                }), u += t.index.top.length, l += t.point.length)
                            }
                        })
                    });
                    var c = this._computeNormals(a, o);
                    return {
                        color: s,
                        position: a,
                        index: o,
                        normal: c
                    }
                }
            }, {
                key: "getSidesGeometryAttributes",
                value: function (t) {
                    var e = this,
                        n = this.zoom,
                        i = t.reduce(function (t, e) {
                            return t + e.points.reduce(function (t, e) {
                                return t + (e.index.sides && 6 * e.index.sides.length * 3 || 0)
                            }, 0)
                        }, 0),
                        r = t.reduce(function (t, e) {
                            return t + e.points.reduce(function (t, e) {
                                return t + (e.index.sides && 6 * e.index.sides.length || 0)
                            }, 0)
                        }, 0),
                        o = r > 65535 ? new Uint32Array(r) : new Uint16Array(r),
                        a = new Float32Array(i),
                        s = new Uint8ClampedArray(i),
                        l = 0,
                        u = 0;
                    t.forEach(function (t) {
                        var i = t.styleId,
                            r = (0, O.getStyle)(i, n, e.indoorStyle);
                        r && t.points.forEach(function (t, e) {
                            if (!t._fail) {
                                var n = l,
                                    i = u;
                                if (t.index.sides) {
                                    var c = t.index.top,
                                        f = Math.max.apply(null, c || [0]);
                                    t.index.sides.forEach(function (e, l) {
                                        var u = t.isWall && f > 0 && e.every(function (t) {
                                            return t > f ? t - f >= f / 2 : t >= f / 2
                                        });
                                        e.forEach(function (e, c) {
                                            var f = t.point[3 * e],
                                                d = t.point[3 * e + 1],
                                                h = t.point[3 * e + 2],
                                                v = n + 6 * l * 3 + 3 * c;
                                            a[v + 0] = f, a[v + 1] = d, a[v + 2] = h, s[v + 0] = u ? r.insideStyle[0] : r.outsideStyle[0], s[v + 1] = u ? r.insideStyle[1] : r.outsideStyle[1], s[v + 2] = u ? r.insideStyle[2] : r.outsideStyle[2];
                                            var _ = n / 3 + 6 * l + c;
                                            o[i + 6 * l + c] = _
                                        })
                                    }), l += 6 * t.index.sides.length * 3, u += 6 * t.index.sides.length
                                }
                            }
                        })
                    });
                    var c = this._computeNormals(a, o);
                    return {
                        color: s,
                        position: a,
                        index: o,
                        normal: c
                    }
                }
            }, {
                key: "getBuildingPointInfo",
                value: function (t) {
                    var e = this.indoorStyle,
                        n = {},
                        i = "",
                        r = [];
                    (0, h.default)(t).forEach(function (o) {
                        var a = parseInt(o.replace("zoom", ""), 10);
                        n[o] = [], t[o].forEach(function (t, s) {
                            return n[o][s] = [], t.directs.map(function (l, u) {
                                var c = t.styleIds[u],
                                    f = t.texts[u],
                                    d = t.ranks[u],
                                    h = t.positions.slice(3 * u, 3 * u + 3),
                                    v = (0, O.getStyle)(c, a, e);
                                if (v) {
                                    var _ = (0, O.getStyle)(v.labelid, a, e);
                                    if (_) {
                                        var p = v.icon_offset,
                                            m = null,
                                            y = _.fontSize,
                                            g = _.font,
                                            x = (0, E.getPoiDrawInfo)(c, a, l, e);
                                        x.drawIcon && (m = F.ConfigUtil.getIconSrc(p), r.push(m)), i += f;
                                        var b = {
                                            direct: l,
                                            styleId: c,
                                            text: f,
                                            rank: d,
                                            font: g,
                                            fontSize: y,
                                            position: [h[0], h[1], h[2]],
                                            iconSrc: m,
                                            drawInfo: x
                                        };
                                        n[o][s].push(b)
                                    }
                                }
                            })
                        }), n[o].shift()
                    });
                    var o = new f.default(i.split("")),
                        a = (0, u.default)(o),
                        s = new f.default(r);
                    return r = (0, u.default)(s), {
                        pointInfoSet: n,
                        glyphList: a,
                        iconSrcList: r
                    }
                }
            }, {
                key: "parseInstanceBuildingPoint",
                value: function (t, e, n, i) {
                    var r = this.indoorStyle;
                    return (0, h.default)(t).forEach(function (o) {
                        var a = parseInt(o.replace("zoom", ""), 10);
                        t[o].filter(function (t) {
                            return !!t
                        }).forEach(function (t, o) {
                            var s = 0,
                                l = [],
                                c = [],
                                f = [],
                                d = [],
                                h = [],
                                v = [],
                                _ = i[a][o];
                            t.forEach(function (t, i) {
                                var o = _[i],
                                    p = (0, O.getStyle)(t.styleId, a, r),
                                    y = (0, O.getStyle)(p.labelid, a, r);
                                if (o.forEach(function (e) {
                                        return e.rank = t.rank
                                    }), t.drawInfo.drawIcon) {
                                    var g = e[t.iconSrc];
                                    if (g) {
                                        var x = F.INDOOR_ICON_SIZE / 2,
                                            b = F.INDOOR_ICON_SIZE / 2;
                                        l.push(t.position[0], t.position[1], 0), c.push(F.INDOOR_ICON_SIZE, F.INDOOR_ICON_SIZE, x, b), f.push(g.x, g.y, g.width, g.height), d.push(0, 1, -1, 1), h.push(1, 1, 1, 1), v.push(0, 0, 0, 0), o.iconSymbolIndex = s++
                                    }
                                }
                                t.drawInfo.drawLabel && o.forEach(function (e) {
                                    var i = e.anchor,
                                        r = e.textBounds,
                                        o = r.w,
                                        a = r.h,
                                        _ = new Uint16Array(e.text.length),
                                        p = e.text.length,
                                        g = [0],
                                        x = 0,
                                        b = 0;
                                    (0, u.default)(e.text).forEach(function (e) {
                                        var i = t.fontSize / n[e].fontSize;
                                        x = g[g.length - 1] + n[e].width * i, b = Math.max(b, n[e].height * i), g.push(x)
                                    });
                                    for (var S = Math.max(1, x / o, b / a), w = {
                                            x: x / 2 - i.x * S,
                                            y: b / 2 - i.y * S
                                        }, E = 0; E < p; E++) {
                                        var A = n[e.text[E]],
                                            T = t.fontSize / A.fontSize;
                                        l.push(t.position[0], t.position[1], 0), c.push(A.width * T, A.height * T, w.x - g[E], w.y), f.push(A.x, A.y, A.width, A.height), d.push(0, 1, 0, 1), h.push.apply(h, (0, m.default)(y.fillStyle)), v.push.apply(v, (0, m.default)(y.strokeStyle)), _[E] = s++
                                    }
                                    e.textSymbolIndexList = _, e.instance_trans = t.position, e.instance_coords = [x, b, w.x, w.y]
                                })
                            });
                            var p = new Float32Array(l),
                                y = new Float32Array(c),
                                g = new Float32Array(f),
                                x = new Float32Array(d),
                                b = new Uint8ClampedArray(h),
                                S = new Uint8ClampedArray(v);
                            _.instance = {
                                isIndoor: !0,
                                instanceTransTypeArray: p,
                                instanceCoordsTypeArray: y,
                                instanceTextBoundsTypeArray: g,
                                instanceInfosTypeArray: x,
                                instanceColorsTypeArray: b,
                                instanceStrokeColorsTypeArray: S,
                                count: d.length / 4
                            }
                        })
                    }), i
                }
            }, {
                key: "_computeNormals",
                value: function (t, e) {
                    var n = t,
                        i = new Float32Array(t.length),
                        r = void 0,
                        o = void 0,
                        a = void 0,
                        s = C.default.create(),
                        l = C.default.create(),
                        u = C.default.create(),
                        c = C.default.create(),
                        f = C.default.create();
                    if (e)
                        for (var d = e, h = 0; h < d.length; h += 3) r = 3 * d[h + 0], o = 3 * d[h + 1], a = 3 * d[h + 2], s[0] = n[r + 0], s[1] = n[r + 1], s[2] = n[r + 2], l[0] = n[o + 0], l[1] = n[o + 1], l[2] = n[o + 2], u[0] = n[a + 0], u[1] = n[a + 1], u[2] = n[a + 2], C.default.subtract(c, u, l), C.default.subtract(f, s, l), C.default.cross(c, c, f), i[r] += c[0], i[r + 1] += c[1], i[r + 2] += c[2], i[o] += c[0], i[o + 1] += c[1], i[o + 2] += c[2], i[a] += c[0], i[a + 1] += c[1], i[a + 2] += c[2];
                    else
                        for (var v = 0; v < n.length; v += 9) s[0] = n[v + 0], s[1] = n[v + 1], s[2] = n[v + 2], l[0] = n[v + 3], l[1] = n[v + 4], l[2] = n[v + 5], u[0] = n[v + 6], u[1] = n[v + 7], u[2] = n[v + 8], C.default.subtract(c, u, l), C.default.subtract(f, s, l), C.default.cross(c, c, f), i[r] += c[0], i[r + 1] += c[1], i[r + 2] += c[2], i[o] += c[0], i[o + 1] += c[1], i[o + 2] += c[2], i[a] += c[0], i[a + 1] += c[1], i[a + 2] += c[2];
                    for (var _ = C.default.create(), p = 0; p < i.length; p += 3) _[0] = i[p + 0], _[1] = i[p + 1], _[2] = i[p + 2], C.default.normalize(_, _), i[p + 0] = _[0], i[p + 1] = _[1], i[p + 2] = _[2];
                    return i
                }
            }, {
                key: "_translateLatLngPointForSinglePoint",
                value: function (t, e, n, i) {
                    var r = (0, _.default)({}, t),
                        o = r.points[0],
                        a = (0, E.latLng2Mercator)(o.x, o.y);
                    return r.points = [{
                        x: a.x - this.areaCenter.x,
                        y: a.y - this.areaCenter.y,
                        z: e
                    }], r.height = this.poiHeight / 9, r.floorId = n, r
                }
            }, {
                key: "_translateLatLngForSingleRegion",
                value: function (t, e, n, i, r) {
                    var o = e,
                        a = "",
                        l = t.height,
                        u = t.regionId;
                    t = t.point;
                    var c = {},
                        f = [],
                        d = [];
                    c.height = l;
                    var h = "";
                    if (t.length >= 3 && (0 === o ? (h = "bottom", a = "floor") : h = "other", f = this.cutTrianleRegion(t, h, i)), "bottom" !== h && !n) {
                        var v = !0,
                            _ = !1,
                            p = void 0;
                        try {
                            for (var m, y = (0, s.default)(t); !(v = (m = y.next()).done); v = !0) {
                                var g = m.value;
                                d.push(g.x), d.push(g.y), d.push(l)
                            }
                        } catch (t) {
                            _ = !0, p = t
                        } finally {
                            try {
                                !v && y.return && y.return()
                            } finally {
                                if (_) throw p
                            }
                        }
                    }
                    var x = !0,
                        b = !1,
                        S = void 0;
                    try {
                        for (var w, E = (0, s.default)(t); !(x = (w = E.next()).done); x = !0) {
                            var A = w.value;
                            d.push(A.x), d.push(A.y), d.push(r || 0)
                        }
                    } catch (t) {
                        b = !0, S = t
                    } finally {
                        try {
                            !x && E.return && E.return()
                        } finally {
                            if (b) throw S
                        }
                    }
                    return c.index = {
                        top: f.top || "",
                        sides: f.sides || "",
                        bottom: f.bottom || ""
                    }, c.point = d, c.type = a, c.regionId = u, c
                }
            }, {
                key: "cutTrianleRegion",
                value: function (t, e, n) {
                    var i = t,
                        r = [],
                        o = !0,
                        a = !1,
                        l = void 0;
                    try {
                        for (var u, c = (0, s.default)(i); !(o = (u = c.next()).done); o = !0) {
                            var f = u.value;
                            r.push(f.x), r.push(f.y)
                        }
                    } catch (t) {
                        a = !0, l = t
                    } finally {
                        try {
                            !o && c.return && c.return()
                        } finally {
                            if (a) throw l
                        }
                    }
                    var d = n && n.length > 0 ? z(r, n) : z(r);
                    if ("bottom" === e) return {
                        top: d
                    };
                    var h = [],
                        v = !0,
                        _ = !1,
                        p = void 0;
                    try {
                        for (var m, y = (0, s.default)(d); !(v = (m = y.next()).done); v = !0) {
                            var g = m.value;
                            h.push(g + i.length)
                        }
                    } catch (t) {
                        _ = !0, p = t
                    } finally {
                        try {
                            !v && y.return && y.return()
                        } finally {
                            if (_) throw p
                        }
                    }
                    for (var x = [], b = 0; b < i.length; b++) {
                        var S = [];
                        S.push(b), S.push(b + i.length), S.push((b + 1) % i.length), S.push(b + i.length), S.push(b === i.length - 1 ? b + 1 : b + i.length + 1), S.push((b + 1) % i.length), x.push(S)
                    }
                    return {
                        top: d,
                        sides: x,
                        bottom: h
                    }
                }
            }, {
                key: "_translateLatLngForSingleLine",
                value: function (t) {
                    var e = [],
                        n = !0,
                        i = !1,
                        r = void 0;
                    try {
                        for (var o, a = (0, s.default)(t); !(n = (o = a.next()).done); n = !0) {
                            var l = o.value,
                                u = (0, E.latLng2Mercator)(l.x, l.y);
                            u.x = u.x - this.areaCenter.x, u.y = u.y - this.areaCenter.y;
                            var c = {};
                            c.x = u.x, c.y = u.y, c.z = 0, e.push(c)
                        }
                    } catch (t) {
                        i = !0, r = t
                    } finally {
                        try {
                            !n && a.return && a.return()
                        } finally {
                            if (i) throw r
                        }
                    }
                    return e
                }
            }, {
                key: "_refactorFloorPoints",
                value: function (t, e, n) {
                    var i = {
                        buildingId: e,
                        floorId: n,
                        positions: new Float32Array(3 * t.length),
                        styleIds: new Uint32Array(t.length),
                        poiIds: [],
                        texts: [],
                        ranks: [],
                        heights: new Uint32Array(t.length),
                        directs: new Uint32Array(t.length),
                        uuids: []
                    };
                    return t.forEach(function (t, e) {
                        i.positions[3 * e] = t.points[0].x, i.positions[3 * e + 1] = t.points[0].y, i.positions[3 * e + 2] = t.points[0].z, i.styleIds[e] = t.styleId, i.poiIds.push(t.poiId), i.texts.push(t.text), i.ranks.push(t.rank), i.heights[e] = t.height, i.directs[e] = t.direct, i.uuids.push(t.uuid)
                    }), i
                }
            }]), t
        }();
    e.default = N
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.STYLE = function () {
        return {
            regionStyles: {
                196609: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: 0,
                    maxScaleVal: 22,
                    color_side: -1118482,
                    color_border: 0,
                    bottom_color: -1
                }],
                196610: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1,
                    maxScaleVal: 22,
                    color_side: -1118482,
                    color_border: -1,
                    bottom_color: -1
                }],
                196611: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -2953734,
                    maxScaleVal: 22,
                    color_side: -5712919,
                    color_border: -5712919,
                    bottom_color: -2953734
                }],
                196612: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -203803,
                    maxScaleVal: 22,
                    color_side: -1520948,
                    color_border: -1520948,
                    bottom_color: -203803
                }],
                196613: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1117483,
                    maxScaleVal: 22,
                    color_side: -3025487,
                    color_border: -3025487,
                    bottom_color: -1117483
                }],
                196614: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -3283714,
                    maxScaleVal: 22,
                    color_side: -5519384,
                    color_border: -5519384,
                    bottom_color: -3283714
                }],
                196615: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -202279,
                    maxScaleVal: 22,
                    color_side: -1191237,
                    color_border: -1191237,
                    bottom_color: -202279
                }],
                196616: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1117483,
                    maxScaleVal: 22,
                    color_side: -3025487,
                    color_border: -3025487,
                    bottom_color: -1117483
                }],
                196617: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -202279,
                    maxScaleVal: 22,
                    color_side: -1191237,
                    color_border: -1191237,
                    bottom_color: -202279
                }],
                196618: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -855310,
                    maxScaleVal: 22,
                    color_side: -2039584,
                    color_border: -2039584,
                    bottom_color: -855310
                }],
                196619: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1117483,
                    maxScaleVal: 22,
                    color_side: -3025487,
                    color_border: -3025487,
                    bottom_color: -1117483
                }],
                196620: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -2698028,
                    maxScaleVal: 22,
                    color_side: -2039584,
                    color_border: -2039584,
                    bottom_color: -2698028
                }],
                196621: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -202279,
                    maxScaleVal: 22,
                    color_side: -1191237,
                    color_border: -1191237,
                    bottom_color: -202279
                }],
                196622: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -202279,
                    maxScaleVal: 22,
                    color_side: -1191237,
                    color_border: -1191237,
                    bottom_color: -202279
                }],
                196623: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -3283714,
                    maxScaleVal: 22,
                    color_side: -5519384,
                    color_border: -5519384,
                    bottom_color: -3283714
                }],
                196624: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -2953734,
                    maxScaleVal: 22,
                    color_side: -5712919,
                    color_border: -5712919,
                    bottom_color: -2953734
                }],
                196625: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -202279,
                    maxScaleVal: 22,
                    color_side: -1191237,
                    color_border: -1191237,
                    bottom_color: -202279
                }],
                196626: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1316376,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -1316376
                }],
                196627: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -2170631,
                    maxScaleVal: 22,
                    color_side: -4012824,
                    color_border: -4012824,
                    bottom_color: -2170631
                }],
                196628: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -2170631,
                    maxScaleVal: 22,
                    color_side: -4012824,
                    color_border: -4012824,
                    bottom_color: -2170631
                }],
                196629: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -2953734,
                    maxScaleVal: 22,
                    color_side: -5712919,
                    color_border: -5712919,
                    bottom_color: -2953734
                }],
                196630: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -2953734,
                    maxScaleVal: 22,
                    color_side: -5712919,
                    color_border: -5712919,
                    bottom_color: -2953734
                }],
                196631: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -202279,
                    maxScaleVal: 22,
                    color_side: -1191237,
                    color_border: -1191237,
                    bottom_color: -202279
                }],
                196632: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -202279,
                    maxScaleVal: 22,
                    color_side: -1191237,
                    color_border: -1191237,
                    bottom_color: -202279
                }],
                196633: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -202279,
                    maxScaleVal: 22,
                    color_side: -1191237,
                    color_border: -1191237,
                    bottom_color: -202279
                }],
                196634: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1117483,
                    maxScaleVal: 22,
                    color_side: -3025487,
                    color_border: -3025487,
                    bottom_color: -1117483
                }],
                196635: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1316376,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -1316376
                }],
                196636: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -657931,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -657931
                }],
                196637: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -657931,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -657931
                }],
                196638: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -656385,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -656385
                }],
                196639: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -1545,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -1545
                }],
                196640: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -1545,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -1545
                }],
                196641: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -656385,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -656385
                }],
                196642: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -459272,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -459272
                }],
                196643: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -656385,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -656385
                }],
                196644: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -328961,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -328961
                }],
                196645: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -328961,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -328961
                }],
                196646: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -66569,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -66569
                }],
                196647: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -66569,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -66569
                }],
                196648: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -328961,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -328961
                }],
                196649: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -2953734,
                    maxScaleVal: 22,
                    color_side: -5712919,
                    color_border: -5712919,
                    bottom_color: -2953734
                }],
                196650: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -657931,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -657931
                }],
                196651: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -657931,
                    maxScaleVal: 22,
                    color_side: -1644826,
                    color_border: -6513508,
                    bottom_color: -657931
                }],
                196652: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -1969153,
                    maxScaleVal: 22,
                    color_side: -2889739,
                    color_border: -2889739,
                    bottom_color: -1969153
                }],
                196653: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -135449,
                    maxScaleVal: 22,
                    color_side: -859430,
                    color_border: -859430,
                    bottom_color: -135449
                }],
                196654: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -135449,
                    maxScaleVal: 22,
                    color_side: -859430,
                    color_border: -859430,
                    bottom_color: -135449
                }],
                196655: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -1969153,
                    maxScaleVal: 22,
                    color_side: -2889739,
                    color_border: -2889739,
                    bottom_color: -1969153
                }],
                196656: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -1378325,
                    maxScaleVal: 22,
                    color_side: -2101793,
                    color_border: -2101793,
                    bottom_color: -1378325
                }],
                196657: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -1969153,
                    maxScaleVal: 22,
                    color_side: -2889739,
                    color_border: -2889739,
                    bottom_color: -1969153
                }],
                196658: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -986625,
                    maxScaleVal: 22,
                    color_side: -1776139,
                    color_border: -1776139,
                    bottom_color: -986625
                }],
                196659: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -986625,
                    maxScaleVal: 22,
                    color_side: -1776139,
                    color_border: -1776139,
                    bottom_color: -986625
                }],
                196660: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -199962,
                    maxScaleVal: 22,
                    color_side: -858152,
                    color_border: -858152,
                    bottom_color: -199962
                }],
                196661: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -199962,
                    maxScaleVal: 22,
                    color_side: -858152,
                    color_border: -858152,
                    bottom_color: -199962
                }],
                196662: [{
                    outside_color: -2039584,
                    minScaleVal: 19,
                    sidewidth: 1,
                    top_color: -1,
                    color_fill: -986625,
                    maxScaleVal: 22,
                    color_side: -1776139,
                    color_border: -1776139,
                    bottom_color: -986625
                }],
                196663: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -596290,
                    maxScaleVal: 22,
                    color_side: -596290,
                    color_border: -1,
                    bottom_color: -596290
                }],
                196664: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -3289606,
                    maxScaleVal: 22,
                    color_side: -3289606,
                    color_border: -1,
                    bottom_color: -3289606
                }],
                196665: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -4861953,
                    maxScaleVal: 22,
                    color_side: -4861953,
                    color_border: -1,
                    bottom_color: -4861953
                }],
                196666: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -5513217,
                    maxScaleVal: 22,
                    color_side: -5513217,
                    color_border: -1,
                    bottom_color: -5513217
                }],
                196667: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -4656129,
                    maxScaleVal: 22,
                    color_side: -4656129,
                    color_border: -1,
                    bottom_color: -4656129
                }],
                196668: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -4984092,
                    maxScaleVal: 22,
                    color_side: -4984092,
                    color_border: -1,
                    bottom_color: -4984092
                }],
                196669: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -4069182,
                    maxScaleVal: 22,
                    color_side: -4069182,
                    color_border: -1,
                    bottom_color: -4069182
                }],
                196670: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1972315,
                    maxScaleVal: 22,
                    color_side: -1972315,
                    color_border: -1,
                    bottom_color: -1972315
                }],
                196671: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -663120,
                    maxScaleVal: 22,
                    color_side: -663120,
                    color_border: -1,
                    bottom_color: -663120
                }],
                196672: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -337216,
                    maxScaleVal: 22,
                    color_side: -337216,
                    color_border: -1,
                    bottom_color: -337216
                }],
                196673: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -796706,
                    maxScaleVal: 22,
                    color_side: -796706,
                    color_border: -1,
                    bottom_color: -796706
                }],
                196674: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -863247,
                    maxScaleVal: 22,
                    color_side: -863247,
                    color_border: -1,
                    bottom_color: -863247
                }],
                196675: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -2108430,
                    maxScaleVal: 22,
                    color_side: -2108430,
                    color_border: -1,
                    bottom_color: -2108430
                }],
                196676: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1514785,
                    maxScaleVal: 22,
                    color_side: -1514785,
                    color_border: -1,
                    bottom_color: -1514785
                }],
                196677: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -596290,
                    maxScaleVal: 22,
                    color_side: -596290,
                    color_border: -1,
                    bottom_color: -596290
                }],
                196678: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -3289606,
                    maxScaleVal: 22,
                    color_side: -3289606,
                    color_border: -1,
                    bottom_color: -3289606
                }],
                196679: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -4861953,
                    maxScaleVal: 22,
                    color_side: -4861953,
                    color_border: -1,
                    bottom_color: -4861953
                }],
                196680: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -5513217,
                    maxScaleVal: 22,
                    color_side: -5513217,
                    color_border: -1,
                    bottom_color: -5513217
                }],
                196681: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -4656129,
                    maxScaleVal: 22,
                    color_side: -4656129,
                    color_border: -1,
                    bottom_color: -4656129
                }],
                196682: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -4984092,
                    maxScaleVal: 22,
                    color_side: -4984092,
                    color_border: -1,
                    bottom_color: -4984092
                }],
                196683: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -4069182,
                    maxScaleVal: 22,
                    color_side: -4069182,
                    color_border: -1,
                    bottom_color: -4069182
                }],
                196684: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -1972315,
                    maxScaleVal: 22,
                    color_side: -1972315,
                    color_border: -1,
                    bottom_color: -1972315
                }],
                196685: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -663120,
                    maxScaleVal: 22,
                    color_side: -663120,
                    color_border: -1,
                    bottom_color: -663120
                }],
                196686: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -337216,
                    maxScaleVal: 22,
                    color_side: -337216,
                    color_border: -1,
                    bottom_color: -337216
                }],
                196687: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -796706,
                    maxScaleVal: 22,
                    color_side: -796706,
                    color_border: -1,
                    bottom_color: -796706
                }],
                196688: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -329739,
                    maxScaleVal: 22,
                    color_side: -1186079,
                    color_border: -4543842,
                    bottom_color: -329739
                }],
                196689: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -6710887,
                    color_fill: -1,
                    maxScaleVal: 22,
                    color_side: -1118482,
                    color_border: -6710887,
                    bottom_color: -1
                }],
                196690: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -6710887,
                    color_fill: -1,
                    maxScaleVal: 22,
                    color_side: -1118482,
                    color_border: -6710887,
                    bottom_color: -1
                }],
                196691: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -6710887,
                    color_fill: -1,
                    maxScaleVal: 22,
                    color_side: -1118482,
                    color_border: -6710887,
                    bottom_color: -1
                }],
                196692: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -6710887,
                    color_fill: -1,
                    maxScaleVal: 22,
                    color_side: -1118482,
                    color_border: -6710887,
                    bottom_color: -1
                }],
                196693: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -265762,
                    maxScaleVal: 22,
                    color_side: -1648708,
                    color_border: -1648708,
                    bottom_color: -265762
                }],
                196694: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -6710887,
                    color_fill: -1,
                    maxScaleVal: 22,
                    color_side: -1118482,
                    color_border: -6710887,
                    bottom_color: -1
                }],
                196695: [{
                    outside_color: -2039584,
                    minScaleVal: 16,
                    sidewidth: .2,
                    top_color: -1,
                    color_fill: -265762,
                    maxScaleVal: 22,
                    color_side: -1648708,
                    color_border: -1648708,
                    bottom_color: -265762
                }]
            },
            labelStyles: {
                262145: [{
                    font_size: 0,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11385024,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 0,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11385024,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 0,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11385024,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262146: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262147: [{
                    font_size: 13,
                    maxScaleVal: 17,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 18,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: 1
                }],
                262148: [{
                    font_size: 13,
                    maxScaleVal: 17,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 18,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: 1
                }],
                262149: [{
                    font_size: 13,
                    maxScaleVal: 17,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 18,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: 1
                }],
                262150: [{
                    font_size: 13,
                    maxScaleVal: 17,
                    effect: 5,
                    font_weight: 1,
                    font_color: -16743471,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -16743471,
                    minScaleVal: 18,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -16743471,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: 1
                }],
                262151: [{
                    font_size: 13,
                    maxScaleVal: 17,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 18,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -3050966,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: 1
                }],
                262152: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11564867,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11564867,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11564867,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262153: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262154: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -8288957,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -8288957,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -8288957,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262155: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10847555,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10847555,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10847555,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262156: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: 1
                }],
                262157: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11052612,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 12,
                    maxScaleVal: 21,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11052612,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11052612,
                    minScaleVal: 22,
                    background_color: -1,
                    effect_size: 1
                }],
                262158: [{
                    font_size: 13,
                    maxScaleVal: 17,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10008623,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10008623,
                    minScaleVal: 18,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10008623,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: 1
                }],
                262159: [{
                    font_size: 13,
                    maxScaleVal: 17,
                    effect: 5,
                    font_weight: 1,
                    font_color: -16743471,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -16743471,
                    minScaleVal: 18,
                    background_color: -1,
                    effect_size: 1
                }, {
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -16743471,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: 1
                }],
                262160: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10847555,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 21,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10847555,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10847555,
                    minScaleVal: 22,
                    background_color: -1,
                    effect_size: .9
                }],
                262161: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262162: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -13278798,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262163: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7248559,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262164: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7248559,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262165: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -13278798,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262166: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -12878512,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262167: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -13278798,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262168: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262169: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262170: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7182279,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262171: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7182279,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262172: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262173: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -13278798,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262174: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7248559,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262175: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7248559,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262176: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -13278798,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262177: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -12878512,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262178: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -13278798,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262179: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262180: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262181: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7182279,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262182: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7182279,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262183: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262184: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262185: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11844161,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262186: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -13870145,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262187: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -15305788,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262188: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -16739907,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262189: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -14250907,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262190: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -12480718,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262191: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -7568090,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262192: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -5013962,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262193: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -4559043,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262194: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -6204330,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262195: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -7583631,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262196: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -9223276,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262197: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -7568770,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262198: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262199: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262200: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262201: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262202: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262203: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262204: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262205: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262206: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262207: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262208: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 0,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262209: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262210: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4687280,
                    minScaleVal: 20,
                    background_color: -1,
                    effect_size: .9
                }],
                262211: [{
                    font_size: 14,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -16752231,
                    minScaleVal: 0,
                    background_color: 1291845631,
                    effect_size: 1
                }, {
                    font_size: 0,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: 0,
                    minScaleVal: 19,
                    background_color: 16777215,
                    effect_size: 0
                }],
                262212: [{
                    font_size: 14,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4023420,
                    minScaleVal: 0,
                    background_color: 1291845631,
                    effect_size: 1
                }, {
                    font_size: 0,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: 0,
                    minScaleVal: 19,
                    background_color: 16777215,
                    effect_size: 0
                }],
                262213: [{
                    font_size: 14,
                    maxScaleVal: 19,
                    effect: 5,
                    font_weight: 1,
                    font_color: -10057525,
                    minScaleVal: 0,
                    background_color: 1291845631,
                    effect_size: 1
                }, {
                    font_size: 0,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: 0,
                    minScaleVal: 20,
                    background_color: 16777215,
                    effect_size: 0
                }],
                262214: [{
                    font_size: 14,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11848551,
                    minScaleVal: 0,
                    background_color: 1291845631,
                    effect_size: 1
                }, {
                    font_size: 0,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: 0,
                    minScaleVal: 19,
                    background_color: 16777215,
                    effect_size: 0
                }],
                262215: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11844161,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262216: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -13870145,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262217: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -15305788,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262218: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -16739907,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262219: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -14250907,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262220: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -12480718,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262221: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7568090,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262222: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -5013962,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262223: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4559043,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262224: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -6204330,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262225: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7583631,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262226: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -9223276,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262227: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -7568770,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262228: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262229: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262230: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262231: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262232: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262233: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262234: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262235: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262236: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262237: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262238: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11777112,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262239: [{
                    font_size: 12,
                    maxScaleVal: 18,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4756097,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 21,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4756097,
                    minScaleVal: 19,
                    background_color: -1,
                    effect_size: .9
                }, {
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4756097,
                    minScaleVal: 22,
                    background_color: -1,
                    effect_size: .9
                }],
                262240: [{
                    font_size: 10,
                    maxScaleVal: 18,
                    effect: 4,
                    font_weight: 0,
                    font_color: -1,
                    minScaleVal: 0,
                    background_color: -8411598,
                    effect_size: 1
                }, {
                    font_size: 10,
                    maxScaleVal: 19,
                    effect: 4,
                    font_weight: 0,
                    font_color: -1,
                    minScaleVal: 19,
                    background_color: -8411598,
                    effect_size: 1
                }, {
                    font_size: 10,
                    maxScaleVal: 22,
                    effect: 4,
                    font_weight: 0,
                    font_color: -1,
                    minScaleVal: 20,
                    background_color: -8411598,
                    effect_size: 1
                }],
                262241: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -4023420,
                    minScaleVal: 0,
                    background_color: 1291845631,
                    effect_size: 1
                }],
                262242: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -11385024,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262243: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -8288957,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262244: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -8288957,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262245: [{
                    font_size: 12,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -6127544,
                    minScaleVal: 0,
                    background_color: -1,
                    effect_size: .9
                }],
                262246: [{
                    font_size: 14,
                    maxScaleVal: 22,
                    effect: 5,
                    font_weight: 1,
                    font_color: -5923176,
                    minScaleVal: 0,
                    background_color: 1291845631,
                    effect_size: 1
                }]
            },
            lineStyles: {
                131072: [{
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 16,
                    sidewidth: 1.5,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 16,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 1.5,
                    dash_space: 0,
                    has_dash: 0
                }, {
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 17,
                    sidewidth: 3.2,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 18,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 3.2,
                    dash_space: 0,
                    has_dash: 0
                }, {
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 19,
                    sidewidth: 3.2,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 22,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 3.2,
                    dash_space: 0,
                    has_dash: 0
                }],
                131073: [{
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 20,
                    sidewidth: 1,
                    joinround: 1,
                    color_fill: -6052957,
                    maxScaleVal: 22,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 2,
                    width: 1,
                    dash_space: 2,
                    has_dash: 1
                }],
                131074: [{
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 20,
                    sidewidth: 1,
                    joinround: 1,
                    color_fill: -6052957,
                    maxScaleVal: 22,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 1,
                    dash_space: 0,
                    has_dash: 0
                }],
                131075: [{
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 20,
                    sidewidth: 1,
                    joinround: 1,
                    color_fill: -6052957,
                    maxScaleVal: 22,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 1,
                    dash_space: 0,
                    has_dash: 0
                }],
                131076: [{
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 20,
                    sidewidth: 1,
                    joinround: 1,
                    color_fill: -2894893,
                    maxScaleVal: 22,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 1,
                    dash_space: 0,
                    has_dash: 0
                }],
                131077: [{
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 16,
                    sidewidth: 1.5,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 16,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 1.5,
                    dash_space: 0,
                    has_dash: 0
                }, {
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 17,
                    sidewidth: 3.2,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 18,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 3.2,
                    dash_space: 0,
                    has_dash: 0
                }, {
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 19,
                    sidewidth: 3.2,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 22,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 3.2,
                    dash_space: 0,
                    has_dash: 0
                }],
                131078: [{
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 16,
                    sidewidth: 1.5,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 16,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 1.5,
                    dash_space: 0,
                    has_dash: 0
                }, {
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 17,
                    sidewidth: 3.2,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 18,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 3.2,
                    dash_space: 0,
                    has_dash: 0
                }, {
                    linelevel: 0,
                    has_side: 1,
                    minScaleVal: 19,
                    sidewidth: 3.2,
                    joinround: 1,
                    color_fill: -6313288,
                    maxScaleVal: 22,
                    color_side: 0,
                    joincap: 0,
                    dash_length: 0,
                    width: 3.2,
                    dash_space: 0,
                    has_dash: 0
                }]
            },
            pointStyles: {
                65537: [{
                    icon_offset: 0,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 6
                }],
                65538: [{
                    icon_offset: 1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65539: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 2,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262145,
                    density: 0
                }],
                65540: [{
                    icon_offset: 16,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 16,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262243,
                    density: 0
                }],
                65541: [{
                    icon_offset: 4,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65542: [{
                    icon_offset: 5,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262239,
                    density: 0
                }],
                65543: [{
                    icon_offset: 6,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 6,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262153,
                    density: 0
                }],
                65544: [{
                    icon_offset: 7,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65545: [{
                    icon_offset: -1,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 8,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262145,
                    density: 0
                }],
                65546: [{
                    icon_offset: 9,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65547: [{
                    icon_offset: 10,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262245,
                    density: 0
                }],
                65548: [{
                    icon_offset: 11,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65549: [{
                    icon_offset: 12,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65550: [{
                    icon_offset: 13,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262239,
                    density: 0
                }],
                65551: [{
                    icon_offset: 14,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65552: [{
                    icon_offset: 15,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65553: [{
                    icon_offset: 16,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 16,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262243,
                    density: 0
                }],
                65554: [{
                    icon_offset: 17,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65555: [{
                    icon_offset: 18,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65556: [{
                    icon_offset: 19,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65557: [{
                    icon_offset: 109,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65558: [{
                    icon_offset: 21,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65559: [{
                    icon_offset: 22,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65560: [{
                    icon_offset: 23,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262239,
                    density: 0
                }],
                65561: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 24,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262244,
                    density: 0
                }],
                65562: [{
                    icon_offset: 25,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65563: [{
                    icon_offset: 26,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 26,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262153,
                    density: 0
                }],
                65564: [{
                    icon_offset: 27,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65565: [{
                    icon_offset: 28,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 28,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262145,
                    density: 0
                }],
                65566: [{
                    icon_offset: 29,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 29,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262154,
                    density: 0
                }],
                65567: [{
                    icon_offset: 30,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 30,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262145,
                    density: 0
                }],
                65568: [{
                    icon_offset: 31,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262239,
                    density: 0
                }],
                65569: [{
                    icon_offset: 32,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65570: [{
                    icon_offset: 33,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262155,
                    density: 0
                }],
                65571: [{
                    icon_offset: 34,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 34,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262244,
                    density: 0
                }],
                65572: [{
                    icon_offset: 35,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }],
                65573: [{
                    icon_offset: 36,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 36,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262153,
                    density: 0
                }],
                65574: [{
                    icon_offset: 37,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 37,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262145,
                    density: 0
                }],
                65575: [{
                    icon_offset: 38,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65576: [{
                    icon_offset: 39,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65577: [{
                    icon_offset: 40,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 40,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262145,
                    density: 0
                }],
                65578: [{
                    icon_offset: 41,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65579: [{
                    icon_offset: 143,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 143,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262239,
                    density: 0
                }],
                65580: [{
                    icon_offset: 43,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262155,
                    density: 0
                }],
                65581: [{
                    icon_offset: 44,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 44,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262153,
                    density: 0
                }],
                65582: [{
                    icon_offset: 45,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262239,
                    density: 0
                }],
                65583: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 46,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262145,
                    density: 0
                }],
                65584: [{
                    icon_offset: 47,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 47,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262145,
                    density: 0
                }],
                65585: [{
                    icon_offset: 48,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65586: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262147,
                    density: 0
                }],
                65587: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }],
                65588: [{
                    icon_offset: 49,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262239,
                    density: 0
                }],
                65589: [{
                    icon_offset: 50,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }],
                65590: [{
                    icon_offset: 52,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262155,
                    density: 0
                }],
                65591: [{
                    icon_offset: 53,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262155,
                    density: 0
                }],
                65592: [{
                    icon_offset: 54,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 54,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262153,
                    density: 0
                }],
                65593: [{
                    icon_offset: 82,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65594: [{
                    icon_offset: -1,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 149,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262156,
                    density: 0
                }],
                65595: [{
                    icon_offset: 84,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65596: [{
                    icon_offset: 85,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65597: [{
                    icon_offset: 55,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262239,
                    density: 0
                }],
                65598: [{
                    icon_offset: 56,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 56,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262245,
                    density: 0
                }],
                65599: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262148,
                    density: 0
                }],
                65600: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262149,
                    density: 0
                }],
                65601: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262150,
                    density: 0
                }],
                65602: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262151,
                    density: 0
                }],
                65603: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 109,
                    maxScaleVal: 19,
                    minScaleVal: 19,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 109,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262153,
                    density: 0
                }],
                65604: [{
                    icon_offset: -1,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262153,
                    density: 0
                }],
                65605: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 110,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262152,
                    density: 0
                }],
                65606: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 111,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262155,
                    density: 0
                }],
                65607: [{
                    icon_offset: 112,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65608: [{
                    icon_offset: 113,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65609: [{
                    icon_offset: 114,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65610: [{
                    icon_offset: 115,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65611: [{
                    icon_offset: 116,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65612: [{
                    icon_offset: 117,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65613: [{
                    icon_offset: 118,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65614: [{
                    icon_offset: 132,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65615: [{
                    icon_offset: 118,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65616: [{
                    icon_offset: 118,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65617: [{
                    icon_offset: 119,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65618: [{
                    icon_offset: 116,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65619: [{
                    icon_offset: 119,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65620: [{
                    icon_offset: 119,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65621: [{
                    icon_offset: 119,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65622: [{
                    icon_offset: 115,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65623: [{
                    icon_offset: 120,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65624: [{
                    icon_offset: 119,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65625: [{
                    icon_offset: 121,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65626: [{
                    icon_offset: 122,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65627: [{
                    icon_offset: 123,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65628: [{
                    icon_offset: 124,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65629: [{
                    icon_offset: 125,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262154,
                    density: 0
                }],
                65630: [{
                    icon_offset: 126,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262154,
                    density: 0
                }],
                65631: [{
                    icon_offset: 127,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262154,
                    density: 0
                }],
                65632: [{
                    icon_offset: 128,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262154,
                    density: 0
                }],
                65633: [{
                    icon_offset: 129,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65634: [{
                    icon_offset: 130,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65635: [{
                    icon_offset: 131,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65636: [{
                    icon_offset: 133,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65637: [{
                    icon_offset: 134,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262157,
                    density: 0
                }],
                65638: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262158,
                    density: 0
                }],
                65639: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262159,
                    density: 0
                }],
                65640: [{
                    icon_offset: 136,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65641: [{
                    icon_offset: 137,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65642: [{
                    icon_offset: 138,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65643: [{
                    icon_offset: 139,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65644: [{
                    icon_offset: 140,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65645: [{
                    icon_offset: 141,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65646: [{
                    icon_offset: 140,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                65647: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262146,
                    density: 0
                }],
                65648: [{
                    icon_offset: 146,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262162,
                    density: 0
                }],
                65649: [{
                    icon_offset: 143,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262163,
                    density: 0
                }],
                65650: [{
                    icon_offset: 143,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262164,
                    density: 0
                }],
                65651: [{
                    icon_offset: 146,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262165,
                    density: 0
                }],
                65652: [{
                    icon_offset: 145,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262166,
                    density: 0
                }],
                65653: [{
                    icon_offset: 146,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262167,
                    density: 0
                }],
                65654: [{
                    icon_offset: 147,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262168,
                    density: 0
                }],
                65655: [{
                    icon_offset: 147,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262169,
                    density: 0
                }],
                65656: [{
                    icon_offset: 144,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262170,
                    density: 0
                }],
                65657: [{
                    icon_offset: 144,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262171,
                    density: 0
                }],
                65658: [{
                    icon_offset: 147,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262172,
                    density: 0
                }],
                65659: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262146,
                    density: 0
                }],
                65660: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262173,
                    density: 0
                }],
                65661: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262174,
                    density: 0
                }],
                65662: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262175,
                    density: 0
                }],
                65663: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262176,
                    density: 0
                }],
                65664: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262177,
                    density: 0
                }],
                65665: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262178,
                    density: 0
                }],
                65666: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262179,
                    density: 0
                }],
                65667: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262180,
                    density: 0
                }],
                65668: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262181,
                    density: 0
                }],
                65669: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262182,
                    density: 0
                }],
                65670: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262183,
                    density: 0
                }],
                65671: [{
                    icon_offset: 42,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                65672: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262185,
                    density: 0
                }],
                65673: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262186,
                    density: 0
                }],
                65674: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262187,
                    density: 0
                }],
                65675: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262188,
                    density: 0
                }],
                65676: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262189,
                    density: 0
                }],
                65677: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262190,
                    density: 0
                }],
                65678: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262191,
                    density: 0
                }],
                65679: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262192,
                    density: 0
                }],
                65680: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262193,
                    density: 0
                }],
                65681: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262194,
                    density: 0
                }],
                65682: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262195,
                    density: 0
                }],
                65683: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262196,
                    density: 0
                }],
                65684: [{
                    icon_offset: -1,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 8,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262145,
                    density: 0
                }],
                65685: [{
                    icon_offset: 40,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }],
                65686: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 29,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262145,
                    density: 0
                }],
                65687: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 46,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262145,
                    density: 0
                }],
                65688: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }],
                65689: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }],
                65690: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262197,
                    density: 0
                }],
                65691: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262198,
                    density: 0
                }],
                65692: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262199,
                    density: 0
                }],
                65693: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262200,
                    density: 0
                }],
                65694: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262201,
                    density: 0
                }],
                65695: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262202,
                    density: 0
                }],
                65696: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262203,
                    density: 0
                }],
                65697: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262204,
                    density: 0
                }],
                65698: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262205,
                    density: 0
                }],
                65699: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262206,
                    density: 0
                }],
                65700: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262207,
                    density: 0
                }],
                65701: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262208,
                    density: 0
                }],
                65702: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262211,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262145,
                    density: 0
                }],
                65703: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262212,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262145,
                    density: 0
                }],
                65704: [{
                    icon_offset: -1,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262213,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262145,
                    density: 0
                }],
                65705: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262214,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262145,
                    density: 0
                }],
                65706: [{
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }],
                65707: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262215,
                    density: 0
                }],
                65708: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262216,
                    density: 0
                }],
                65709: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262217,
                    density: 0
                }],
                65710: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262218,
                    density: 0
                }],
                65711: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262219,
                    density: 0
                }],
                65712: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262220,
                    density: 0
                }],
                65713: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262221,
                    density: 0
                }],
                65714: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262222,
                    density: 0
                }],
                65715: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262223,
                    density: 0
                }],
                65716: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262224,
                    density: 0
                }],
                65717: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262225,
                    density: 0
                }],
                65718: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262226,
                    density: 0
                }],
                65719: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262227,
                    density: 0
                }],
                65720: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262228,
                    density: 0
                }],
                65721: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262229,
                    density: 0
                }],
                65722: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262230,
                    density: 0
                }],
                65723: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262231,
                    density: 0
                }],
                65724: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262232,
                    density: 0
                }],
                65725: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262233,
                    density: 0
                }],
                65726: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262234,
                    density: 0
                }],
                65727: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262235,
                    density: 0
                }],
                65728: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262236,
                    density: 0
                }],
                65729: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262237,
                    density: 0
                }],
                65730: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262238,
                    density: 0
                }],
                65731: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 51,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262156,
                    density: 0
                }],
                65732: [{
                    icon_offset: 148,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262156,
                    density: 0
                }],
                65733: [{
                    icon_offset: -1,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 50,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262156,
                    density: 0
                }],
                65734: [{
                    icon_offset: 150,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262156,
                    density: 0
                }],
                65735: [{
                    icon_offset: -1,
                    maxScaleVal: 17,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 18,
                    labelid: 262241,
                    density: 0
                }],
                65736: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 143,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262239,
                    density: 0
                }],
                65737: [{
                    icon_offset: 13,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262239,
                    density: 0
                }],
                65738: [{
                    icon_offset: -1,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 109,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262153,
                    density: 0
                }],
                65739: [{
                    icon_offset: 110,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 110,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                65740: [{
                    icon_offset: 29,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: -1,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262246,
                    density: 0
                }],
                65741: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 152,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262245,
                    density: 0
                }],
                65742: [{
                    icon_offset: -1,
                    maxScaleVal: 18,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 152,
                    maxScaleVal: 22,
                    minScaleVal: 19,
                    labelid: 262245,
                    density: 0
                }],
                66437: [{
                    icon_offset: 57,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 57,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66438: [{
                    icon_offset: 58,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 58,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66439: [{
                    icon_offset: 59,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 59,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66440: [{
                    icon_offset: 60,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 60,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66441: [{
                    icon_offset: 61,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 61,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66442: [{
                    icon_offset: 62,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 62,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66443: [{
                    icon_offset: 63,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 63,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66444: [{
                    icon_offset: 64,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 64,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66445: [{
                    icon_offset: 65,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 65,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66446: [{
                    icon_offset: 66,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 66,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262155,
                    density: 0
                }],
                66447: [{
                    icon_offset: 67,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 67,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66448: [{
                    icon_offset: 68,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                66449: [{
                    icon_offset: 69,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }],
                66450: [{
                    icon_offset: 70,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 70,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66451: [{
                    icon_offset: 71,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66452: [{
                    icon_offset: 72,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66453: [{
                    icon_offset: 73,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66454: [{
                    icon_offset: 74,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66455: [{
                    icon_offset: 75,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66456: [{
                    icon_offset: 76,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66457: [{
                    icon_offset: 77,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66458: [{
                    icon_offset: 78,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66459: [{
                    icon_offset: 79,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66460: [{
                    icon_offset: 80,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262153,
                    density: 0
                }],
                66461: [{
                    icon_offset: 81,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262146,
                    density: 0
                }],
                66462: [{
                    icon_offset: 86,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262146,
                    density: 0
                }],
                66463: [{
                    icon_offset: 87,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262146,
                    density: 0
                }],
                66464: [{
                    icon_offset: 88,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 88,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66465: [{
                    icon_offset: 89,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 89,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66466: [{
                    icon_offset: 90,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 90,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66467: [{
                    icon_offset: 91,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 91,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66468: [{
                    icon_offset: 92,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 92,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66469: [{
                    icon_offset: 93,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 93,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66470: [{
                    icon_offset: 94,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 94,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66471: [{
                    icon_offset: 95,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 95,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66472: [{
                    icon_offset: 96,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 96,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66473: [{
                    icon_offset: 97,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 97,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66474: [{
                    icon_offset: 98,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 98,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66475: [{
                    icon_offset: 99,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 99,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66476: [{
                    icon_offset: 100,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 100,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66477: [{
                    icon_offset: 101,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 101,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66478: [{
                    icon_offset: 102,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 102,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66479: [{
                    icon_offset: 103,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 103,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66480: [{
                    icon_offset: 104,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 104,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66481: [{
                    icon_offset: 105,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 105,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262152,
                    density: 0
                }],
                66482: [{
                    icon_offset: 106,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 106,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262146,
                    density: 0
                }],
                66483: [{
                    icon_offset: 107,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 107,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262146,
                    density: 0
                }],
                66484: [{
                    icon_offset: 108,
                    maxScaleVal: 19,
                    minScaleVal: 16,
                    labelid: 262145,
                    density: 0
                }, {
                    icon_offset: 108,
                    maxScaleVal: 22,
                    minScaleVal: 20,
                    labelid: 262146,
                    density: 0
                }],
                66485: [{
                    icon_offset: 151,
                    maxScaleVal: 22,
                    minScaleVal: 16,
                    labelid: 262152,
                    density: 0
                }]
            },
            arrowStyles: {},
            bgColor: "#123182",
            stylesId: "default"
        }
    }()
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t = (0, s.colorToRGBA)(t), [t[0], t[1], t[2], 255 * t[3]]
    }

    function r(t) {
        return ""
    }

    function o(t) {
        return l ? "bold" : ""
    }

    function a(t) {
        var e = l ? "Microsoft YaHei UI,Microsoft YaHei,黑体,Hiragino Sans GB,sans-serif" : "Microsoft YaHei UI,Microsoft YaHei,黑体,sans-serif";
        return t && t.length > 0 ? t : e
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.convertColorToHex = i, e.getFontStyle = r, e.getFontWeight = o, e.getFontFamily = a;
    var s = n(6),
        l = !1
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return t.reduce(function (t, e) {
            return t + g.getVertexCount(e)
        }, 0)
    }

    function o(t) {
        return t.reduce(function (t, e) {
            return t + g.getTriangleCount(e)
        }, 0)
    }

    function a(t) {
        var e = new Array(t.length + 1);
        e[0] = 0;
        var n = 0;
        return t.forEach(function (t, i) {
            n += g.getVertexCount(t), e[i + 1] = n
        }), e
    }

    function s(t) {
        var e = t.complexPolygons,
            n = t.IndexType,
            i = void 0 === n ? Uint32Array : n,
            r = 3 * o(e),
            s = a(e),
            l = new i(r),
            u = 0;
        return e.forEach(function (t, e) {
            var n = g.getSurfaceIndices(t, i),
                r = !0,
                o = !1,
                a = void 0;
            try {
                for (var c, f = (0, h.default)(n); !(r = (c = f.next()).done); r = !0) {
                    var d = c.value;
                    l[u++] = d + s[e]
                }
            } catch (t) {
                o = !0, a = t
            } finally {
                try {
                    !r && f.return && f.return()
                } finally {
                    if (o) throw a
                }
            }
        }), l
    }

    function l(t) {
        var e = t.cache,
            n = e.positions,
            i = e.positions64xyLow,
            r = e.vertexValid,
            o = t.complexPolygons,
            a = (t.extruded, t.fp64),
            s = 0;
        o.forEach(function (t, e) {
            t.forEach(function (t) {
                t.forEach(function (t) {
                    t.forEach(function (t, e) {
                        var r = t.lng,
                            o = t.lat,
                            l = t.z || 0;
                        n[3 * s] = r, n[3 * s + 1] = o, n[3 * s + 2] = l, a && (i[2 * s] = (0, S.fp64LowPart)(r), i[2 * s + 1] = (0, S.fp64LowPart)(o)), s++
                    }), r[s - 1] = 0
                })
            })
        })
    }

    function u(t) {
        var e = t.cache,
            n = t.complexPolygons,
            i = t.pointCount,
            r = t.getElevation,
            o = e || new Float32Array(i),
            a = 0;
        return n.forEach(function (t, e) {
            var n = r(e),
                i = g.getVertexCount(t);
            E({
                target: o,
                source: [n],
                start: a,
                count: i
            }), a += i
        }), o
    }

    function c(t) {
        var e = t.cache,
            n = t.complexPolygons,
            i = t.pointCount,
            r = t.getColor,
            o = e || new Uint8ClampedArray(4 * i),
            a = 0;
        return n.forEach(function (t, e) {
            var n = r(e);
            isNaN(n[3]) && (n[3] = 255);
            var i = g.getVertexCount(t);
            E({
                target: o,
                source: n,
                start: a,
                count: i
            }), a += n.length * i
        }), o
    }

    function f(t) {
        var e = t.complexPolygons,
            n = t.pointCount,
            i = new Uint8ClampedArray(3 * n),
            r = 0;
        return e.forEach(function (t, e) {
            var n = (0, w.encodePickingColor)(e),
                o = g.getVertexCount(t);
            E({
                target: i,
                source: n,
                start: r,
                count: o
            }), r += n.length * o
        }), i
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.PolygonParseHelper = void 0;
    var d = n(21),
        h = i(d),
        v = n(0),
        _ = i(v),
        p = n(1),
        m = i(p),
        y = n(234),
        g = function (t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e.default = t, e
        }(y),
        x = n(137),
        b = i(x),
        S = n(73),
        w = n(161),
        E = b.default.fillArray,
        A = [0, 0, 0, 255];
    e.PolygonParseHelper = function () {
        function t(e) {
            var n = e.complexPolygons,
                i = e.IndexType;
            (0, _.default)(this, t), n = n.map(function (t) {
                return g.normalize(t)
            });
            var o = r(n);
            this.complexPolygons = n, this.pointCount = o, this.IndexType = i, this.attributes = {
                pickingColors: f({
                    complexPolygons: n,
                    pointCount: o
                })
            }
        }
        return (0, m.default)(t, [{
            key: "updatePositions",
            value: function (t) {
                var e = t.fp64,
                    n = t.extruded;
                e = !0;
                var i = this.attributes,
                    r = this.complexPolygons,
                    o = this.pointCount;
                i.positions = i.positions || new Float32Array(3 * o), i.vertexValid = i.vertexValid || new Uint8ClampedArray(o).fill(1), e && (i.positions64xyLow = i.positions64xyLow || new Float32Array(2 * o)), l({
                    cache: i,
                    complexPolygons: r,
                    extruded: n,
                    fp64: e
                })
            }
        }, {
            key: "getIndices",
            value: function () {
                return s({
                    complexPolygons: this.complexPolygons,
                    IndexType: this.IndexType
                })
            }
        }, {
            key: "getPositions",
            value: function () {
                return this.attributes.positions
            }
        }, {
            key: "getPositions64xyLow",
            value: function () {
                return this.attributes.positions64xyLow
            }
        }, {
            key: "getVertexValid",
            value: function () {
                return this.attributes.vertexValid
            }
        }, {
            key: "getElevations",
            value: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = t.key,
                    n = void 0 === e ? "elevations" : e,
                    i = t.getElevation,
                    r = void 0 === i ? function (t) {
                        return 100
                    } : i,
                    o = this.attributes,
                    a = this.complexPolygons,
                    s = this.pointCount,
                    l = u({
                        cache: o[n],
                        complexPolygons: a,
                        pointCount: s,
                        getElevation: r
                    });
                return o[n] = l, l
            }
        }, {
            key: "getColors",
            value: function () {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    e = t.key,
                    n = void 0 === e ? "colors" : e,
                    i = t.getColor,
                    r = void 0 === i ? function (t) {
                        return A
                    } : i,
                    o = this.attributes,
                    a = this.complexPolygons,
                    s = this.pointCount,
                    l = c({
                        cache: o[n],
                        complexPolygons: a,
                        pointCount: s,
                        getColor: r
                    });
                return o[n] = l, l
            }
        }, {
            key: "getPickingColors",
            value: function () {
                return this.attributes.pickingColors
            }
        }]), t
    }()
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(21),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(353),
        f = i(c),
        d = function () {
            function t() {
                (0, s.default)(this, t)
            }
            return (0, u.default)(t, [{
                key: "parse",
                value: function (t) {
                    var e = (0, f.default)(t),
                        n = e.meshes,
                        i = n.reduce(function (t, e) {
                            return t + e.header.vertexCount
                        }, 0);
                    return {
                        mode: 4,
                        vertexCount: i,
                        attributes: this.mergeAttributes(n, i)
                    }
                }
            }, {
                key: "mergeAttributes",
                value: function (t, e) {
                    var n = new Float32Array(3 * e),
                        i = void 0,
                        r = void 0,
                        a = void 0,
                        s = 0,
                        l = !0,
                        u = !1,
                        c = void 0;
                    try {
                        for (var f, d = (0, o.default)(t); !(l = (f = d.next()).done); l = !0) {
                            var h = f.value,
                                v = h.attributes,
                                _ = v.POSITION,
                                p = v.NORMAL,
                                m = v.COLOR_0,
                                y = v.TEXCOORD_0;
                            n.set(_.value, 3 * s), p && (i = i || new Int8Array(3 * e), i.set(p.value, 3 * s)), m && (r = r || new Uint8Array(3 * e), r.set(m.value.map(function (t) {
                                return Math.round(255 * t)
                            }), 3 * s)), y && (a = a || new Float32Array(2 * e), a.set(y.value, 2 * s)), s += _.value.length / 3
                        }
                    } catch (t) {
                        u = !0, c = t
                    } finally {
                        try {
                            !l && d.return && d.return()
                        } finally {
                            if (u) throw c
                        }
                    }
                    var g = {};
                    return g.POSITION = {
                        value: n,
                        size: 3
                    }, i && (g.NORMAL = {
                        value: i,
                        size: 3
                    }), r && (g.COLOR_0 = {
                        value: r,
                        size: 3
                    }), a && (g.TEXCOORD_0 = {
                        value: a,
                        size: 2
                    }), g
                }
            }]), t
        }();
    e.default = d
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = {
            Int8: Int8Array,
            Uint8: Uint8Array,
            Uint8Clamped: Uint8ClampedArray,
            Int16: Int16Array,
            Uint16: Uint16Array,
            Int32: Int32Array,
            Uint32: Uint32Array,
            Float32: Float32Array,
            Float64: Float64Array
        },
        u = function () {
            function t(e, n, i) {
                (0, o.default)(this, t), n = [].concat(n), this.extendEntitySize = 256, this.entitySize = e || this.extendEntitySize, this.struct = n, this.attributes = i;
                for (var r = void 0, a = void 0, s = 0, u = 0, c = n.length; u < c; u++) r = n[u], a = l[r].BYTES_PER_ELEMENT, n[u] = {
                    type: r,
                    BYTES_PER_ELEMENT: a
                }, s += a;
                this.unit8 = new Uint8Array(e * s), this.arrayBuffer = this.unit8.buffer, this.dataView = new DataView(this.arrayBuffer), this.bytesPerElement = s, this.length = 0
            }
            return (0, s.default)(t, [{
                key: "add",
                value: function (t) {
                    if (t instanceof Array && 0 !== t.length) {
                        if (t[0] instanceof Array)
                            for (var e = 0, n = t.length; e < n; e++) this.addItem(t[e]);
                        else
                            for (var i = 0, r = t.length; i < r; i++) this.addItem([t[i]])
                    }
                }
            }, {
                key: "addItem",
                value: function (t) {
                    var e = this.struct;
                    if (t.length !== e.length) throw new Error("add data error");
                    (this.length + 1) * this.bytesPerElement > this.arrayBuffer.byteLength && this.extend();
                    for (var n = this.length, i = this.bytesPerElement, r = void 0, o = void 0, a = this.dataView, s = 0, l = 0, u = e.length; l < u; l++) r = e[l ? l - 1 : 0], o = e[l], l > 0 && (s += r.BYTES_PER_ELEMENT), a["set" + o.type](n * i + s, t[l], !0);
                    this.length += 1
                }
            }, {
                key: "extend",
                value: function () {
                    this.resize(this.entitySize + this.extendEntitySize)
                }
            }, {
                key: "compress",
                value: function () {
                    this.resize(this.length)
                }
            }, {
                key: "resize",
                value: function (t) {
                    var e = this.unit8;
                    t > this.entitySize ? (this.arrayBuffer = new ArrayBuffer(t * this.bytesPerElement), this.unit8 = new Uint8Array(this.arrayBuffer), this.unit8.set(e)) : this.entitySize, this.entitySize = t, this.dataView = new DataView(this.arrayBuffer)
                }
            }, {
                key: "toArray",
                value: function () {
                    for (var t = this.struct, e = this.length, n = this.bytesPerElement, i = this.dataView, r = [], o = void 0, a = 0; a < e; a++)
                        for (var s = 0, l = 0; l < t.length; l++) o = t[l], r.push(i["get" + o.type](n * a + s, !0)), s += o.BYTES_PER_ELEMENT;
                    return r
                }
            }]), t
        }();
    e.default = u
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        for (var n = void 0, i = new _.default, r = [], a = (0, h.default)(t).sort(function (t, e) {
                return Number(t) - Number(e)
            }), s = 0, l = a.length; s < l; s++) {
            n = t[a[s]];
            var c = n[0].type;
            c === p.BASE_LAYER_TYPE.line ? (r.push(Number(a[s])), o(n, i)) : c === p.BASE_LAYER_TYPE.region && u(n, i)
        }
        return {
            vertices: i.vertiesDataBuffer,
            indeices: i.indicesDataBuffer,
            size: i.indicesDataBuffer.length,
            id: e,
            vertiesCount: i.vertiesDataBuffer.length,
            lineCount: i.lineCount,
            lineRankKeys: r
        }
    }

    function o(t, e) {
        for (var n = 0, i = t.length; n < i; n++) l(t[n], e, "side");
        for (var r = 0, o = t.length; r < o; r++) l(t[r], e, "fill")
    }

    function a(t) {
        return t = Math.ceil(t || 0)
    }

    function s(t, e) {
        var n = t.style,
            i = n.has_side,
            r = n.has_dash,
            o = n.sidewidth,
            s = n.width,
            l = n.color_side,
            u = n.color_fill,
            c = n.dash_length,
            d = n.dash_space,
            h = t.preStyle,
            v = t.nextStyle,
            _ = t.zLevel,
            p = t.options,
            m = t.transform;
        return s = a(s), o = a(o), "side" === e ? i ? (o = o - s < 2 ? s + 2 : o, {
            hasDash: !1,
            color: f(l),
            width: o,
            preWidth: a(h && h.sidewidth),
            nextWidth: a(v && v.sidewidth),
            noTerminal: _ || r,
            deltaSideWidth: Math.ceil(o - s),
            isSide: 1,
            styleId: t.layerId,
            transform: m
        }) : null : {
            hasDash: r,
            dashLength: r ? c : 0,
            dashSpace: r ? d : 0,
            color: f(u),
            width: s,
            preWidth: a(h && h.width),
            nextWidth: a(v && v.width),
            noTerminal: _ || r,
            startDistance: p && p.startDistance || 0,
            isSide: 0,
            styleId: t.layerId,
            transform: m
        }
    }

    function l(t, e, n) {
        var i = s(t, n);
        if (i) {
            var r = i.color,
                o = i.width,
                a = i.dashLength,
                l = i.dashSpace,
                u = i.startDistance;
            t.datas.forEach(function (t) {
                e.addLine(i, t, r, o, a, l, u)
            })
        }
    }

    function u(t, e) {
        for (var n = 0, i = t.length; n < i; n++) c(t[n], e)
    }

    function c(t, e) {
        var n = t.datas,
            i = t.style,
            r = f(i.color_border || i.color_side),
            o = f(i.color_fill),
            a = i.sidewidth;
        if (0 !== o[3]) {
            if (r[3] > 0 && a > 0)
                for (var s = 0, l = n.length; s < l; s++) {
                    var u = n[s];
                    if (!(u.length <= 4)) {
                        var c = {
                            transform: t.transform
                        };
                        e.addLine(c, u, r, a, null, null, null, !0)
                    }
                }
            for (var d = 0, h = n.length; d < h; d++) {
                var v = n[d];
                v.length <= 4 || e.addPolygon(v, o, {
                    transform: t.transform
                })
            }
        }
    }

    function f(t) {
        return t[0] <= 1 && t[1] <= 1 && t[2] <= 1 && (t[0] = Math.floor(255 * t[0]), t[1] = Math.floor(255 * t[1]), t[2] = Math.floor(255 * t[2])), t[3] < 2 && (t[3] = Math.floor(255 * t[3])), t
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var d = n(10),
        h = i(d),
        v = n(494),
        _ = i(v),
        p = n(27);
    e.default = r
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return t.map(function (t, e) {
            return 3 === e ? Math.round(255 * t) : Math.round(t)
        })
    }

    function o(t, e) {
        var n = new u.default,
            i = !0,
            o = !1,
            a = void 0;
        try {
            for (var l, c = (0, s.default)(t); !(i = (l = c.next()).done); i = !0) {
                var f = l.value;
                n.add({
                    points: f.datas,
                    height: f.h,
                    colorFill: r(f.colorFill),
                    colorSide: r(f.colorSide),
                    transform: f.transform
                })
            }
        } catch (t) {
            o = !0, a = t
        } finally {
            try {
                !i && c.return && c.return()
            } finally {
                if (o) throw a
            }
        }
        return {
            vertices: n.vertiesDataBuffer,
            indeices: n.indicesDataBuffer,
            size: n.indicesDataBuffer.length,
            id: e
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(21),
        s = i(a),
        l = n(495),
        u = i(l);
    e.default = o
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        var n = e.info,
            i = !0,
            r = !1,
            a = void 0;
        try {
            for (var s, l = (0, o.default)(t); !(i = (s = l.next()).done); i = !0) {
                var u = s.value,
                    c = u.datas[0];
                if (c && c.icon && c.icon_coords) {
                    if (!n[String(c.icon)]) continue;
                    u.id = "icon_" + u.id
                }
            }
        } catch (t) {
            r = !0, a = t
        } finally {
            try {
                !i && l.return && l.return()
            } finally {
                if (r) throw a
            }
        }
        return t
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(21),
        o = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r);
    e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        return t && !(0, _.isInterceptForPlacement)(e, t.coordZ) ? t : null
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0),
        a = i(o),
        s = n(1),
        l = i(s),
        u = n(9),
        c = (i(u), n(13)),
        f = i(c),
        d = n(493),
        h = i(d),
        v = n(27),
        _ = n(357),
        p = function () {
            function t(e, n) {
                (0, a.default)(this, t), this._textCache = e, this.placement = new h.default({
                    textCache: this._textCache
                }), this._currentPlacementIndex = n.length - 1, this._currentTileIndex = 0, this._isDone = !1, this._batchedUpdate = !1, this._fadeUntil = 0, this._batchUpdateTime = 0, this._destroyed = !1
            }
            return (0, l.default)(t, [{
                key: "isDone",
                value: function () {
                    return this._isDone
                }
            }, {
                key: "continuePlacement",
                value: function (t, e, n, i) {
                    if (!this._destroyed) {
                        for (var o = i.zoom, a = Math.round(o), s = f.default.now(), l = !1; this._currentPlacementIndex >= 0;) {
                            var u = t[this._currentPlacementIndex];
                            if (u && u.type === v.BASE_LAYER_TYPE.text) {
                                var c = t.filter(function (t) {
                                        return t.type === v.BASE_LAYER_TYPE.point
                                    })[0],
                                    d = t.filter(function (t) {
                                        return t.type === v.BASE_LAYER_TYPE.label
                                    })[0];
                                for (u = c || d || u; this._currentTileIndex < u.tiles.length;) {
                                    var h = u.tiles[this._currentTileIndex],
                                        _ = d && d.tiles[this._currentTileIndex],
                                        p = c && c.tiles[this._currentTileIndex],
                                        m = e[h.id],
                                        y = this._textCache ? this._textCache.tiles[h.id] : null,
                                        g = _ && _.features && _.features.instance && _.features.instance.count > 0 || p && p.features && p.features.instance && p.features.instance.count > 0;
                                    if (m && (this._textCache ? y : g) && (this.placement.calculateTextByTile({
                                            label: r(_, o),
                                            poi: r(p, o),
                                            icon: r(p, o)
                                        }, m, n, i), this.placement.impactTextByTile(h)), this._currentTileIndex++, f.default.now() - s > 4) {
                                        l = !0;
                                        break
                                    }
                                }
                                if (l) return
                            }
                            if (u && u.type === v.RENDER_LAYER_TYPE.indoorPoi && u.tiles.length > 0) {
                                var x = u.tiles[0],
                                    b = n.pvMatrix,
                                    S = x.features.pois[a] && x.features.pois[a][0],
                                    w = S && S.instance && S.instance.count > 0;
                                b && w && (this.placement.calculateAllIndoorPois(S, x.features.center, b, n, i, x), this.placement.impactTextByTile(x))
                            }
                            this._currentPlacementIndex--
                        }
                        this._isDone = !0
                    }
                }
            }, {
                key: "batchUpdate",
                value: function (t) {
                    return this.placement.batchUpdate(t), this._batchedUpdate = !0, this._fadeUntil = f.default.now() + 300, this.placement
                }
            }, {
                key: "isFading",
                value: function () {
                    return this._isDone && f.default.now() < this._fadeUntil
                }
            }, {
                key: "destroy",
                value: function () {
                    this._destroyed || (this._textCache = null, this.placement.clear(), this.placement = null, this._currentPlacementIndex = null, this._currentTileIndex = null, this._isDone = null, this._batchedUpdate = null, this._fadeUntil = null, this._batchUpdateTime = null, this._destroyed = !0)
                }
            }]), t
        }();
    e.default = p
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(95),
        o = i(r),
        a = n(12),
        s = i(a),
        l = n(21),
        u = i(l),
        c = n(10),
        f = i(c),
        d = n(0),
        h = i(d),
        v = n(1),
        _ = i(v),
        p = n(93),
        m = n(29),
        y = (i(m), n(9)),
        g = i(y),
        x = n(6),
        b = i(x),
        S = n(13),
        w = i(S),
        E = n(83),
        A = 80,
        T = function () {
            function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                (0, h.default)(this, t), this.DELTA_SCREEN_CELL = Math.round(A * (e.textCache && e.textCache.scale || 1)), this.boundsBuffer = 0, this.iconBoundsBuffer = 0, this.textScreenCoordList = {}, this.textDataSet = {}, this.textTileCellSet = {}, this.textFeatureSet = {}, this.poiScreenCoordList = {}, this.poiDataSet = {}, this.poiTileCellSet = {}, this.iconScreenCoordList = {}, this.iconDataSet = {}, this.iconTileCellSet = {}, this.v = 1, this.instanceSet = {}, this.cellSet = {}, this._batchUpdateTime = 0
            }
            return (0, _.default)(t, [{
                key: "updateVersion",
                value: function () {
                    this.v++
                }
            }, {
                key: "clear",
                value: function () {
                    this.clearText(), this.clearPoi(), this.clearIcon(), this.instanceSet = {}, this.cellSet = {}
                }
            }, {
                key: "clearText",
                value: function () {
                    var t = this,
                        e = this.v,
                        n = this.textDataSet,
                        i = this.textScreenCoordList;
                    b.default.forIn(n, function (i, r) {
                        if (r.v !== e) {
                            var o = r.tileId,
                                a = r.roadSymbolIndex;
                            t.instanceSet[o] && (t.instanceSet[o].instanceInfosTypeArray[4 * a + 1] = 0), delete n[i]
                        }
                    }), b.default.forIn(i, function (t, n) {
                        b.default.forIn(n, function (t, i) {
                            "cell" !== t && i.v !== e && delete n[t]
                        })
                    }), this.textTileCellSet = {}
                }
            }, {
                key: "clearPoi",
                value: function () {
                    var t = this;
                    (0, f.default)(this.poiDataSet).forEach(function (e) {
                        var n = t.poiDataSet[e],
                            i = n.tileId,
                            r = n.textSymbolIndexList;
                        t.instanceSet[i] && r.forEach(function (e) {
                            t.instanceSet[i].instanceInfosTypeArray[4 * e + 1] = 1
                        })
                    }), this.poiDataSet = {}, this.poiScreenCoordList = {}, this.poiTileCellSet = {}
                }
            }, {
                key: "clearIcon",
                value: function () {
                    var t = this;
                    (0, f.default)(this.iconDataSet).forEach(function (e) {
                        var n = t.iconDataSet[e],
                            i = n.tileId,
                            r = n.iconSymbolIndex;
                        t.instanceSet[i] && (t.instanceSet[i].instanceInfosTypeArray[4 * r + 1] = 1)
                    }), this.iconDataSet = {}, this.iconScreenCoordList = {}, this.iconTileCellSet = {}
                }
            }, {
                key: "_sortValue",
                value: function (t, e) {
                    return e.y - t.y > t.x - e.x ? 1 : -1
                }
            }, {
                key: "getFadeChange",
                value: function () {
                    return (w.default.now() - this._batchUpdateTime) / 500
                }
            }, {
                key: "batchUpdate",
                value: function (t) {
                    this._batchUpdateTime = w.default.now(), this.batchUpdateShow();
                    var e = 0;
                    t && (e = (this._batchUpdateTime - t._batchUpdateTime) / 500), this.batchChangeOpacity(t, e), this.batchUpdateOpacities()
                }
            }, {
                key: "batchUpdateShow",
                value: function () {
                    var t = this;
                    (0, f.default)(this.textDataSet).forEach(function (e) {
                        var n = t.textDataSet[e];
                        n.updateShow && n.updateShow()
                    }), (0, f.default)(this.poiDataSet).forEach(function (e) {
                        var n = t.poiDataSet[e];
                        n.updateShow && n.updateShow()
                    }), (0, f.default)(this.iconDataSet).forEach(function (e) {
                        var n = t.iconDataSet[e];
                        n.updateShow && n.updateShow()
                    })
                }
            }, {
                key: "batchChangeOpacity",
                value: function (t, e) {
                    var n = this;
                    (0, f.default)(this.textDataSet).forEach(function (i) {
                        var r = n.textDataSet[i];
                        if (r.setOpacity) {
                            var o = t && t.textDataSet && t.textDataSet[i];
                            o && null !== o._opacity ? r.setOpacity(o.getShow() !== r.getShow() ? o.getOpacity() : b.default.clamp(o._opacity + (r.getShow() ? e : -e), 0, 1)) : r.setOpacity(r.getShow() ? 1 : 0)
                        }
                    }), (0, f.default)(this.poiDataSet).forEach(function (i) {
                        var r = n.poiDataSet[i];
                        if (r.setOpacity) {
                            var o = t && t.poiDataSet && t.poiDataSet[i];
                            o && null !== o._opacity ? r.setOpacity(o.getShow() !== r.getShow() ? o.getOpacity() : b.default.clamp(o._opacity + (r.getShow() ? e : -e), 0, 1)) : o && o.getShow() ? r.setOpacity(1) : r.setOpacity(r.isIndoor && r.getShow() ? 1 : 0)
                        }
                    }), (0, f.default)(this.iconDataSet).forEach(function (i) {
                        var r = n.iconDataSet[i];
                        if (r.setOpacity) {
                            var o = t && t.iconDataSet && t.iconDataSet[i];
                            o && null !== o._opacity ? r.setOpacity(o.getShow() !== r.getShow() ? o.getOpacity() : b.default.clamp(o._opacity + (r.getShow() ? e : -e), 0, 1)) : o && o.getShow() ? r.setOpacity(1) : r.setOpacity(r.isIndoor && r.getShow() ? 1 : 0)
                        }
                    })
                }
            }, {
                key: "batchUpdateOpacities",
                value: function () {
                    var t = this;
                    (0, f.default)(this.textDataSet).forEach(function (e) {
                        var n = t.textDataSet[e];
                        n.updateOpacity && n.updateOpacity()
                    }), (0, f.default)(this.poiDataSet).forEach(function (e) {
                        var n = t.poiDataSet[e];
                        n.updateOpacity && n.updateOpacity()
                    }), (0, f.default)(this.iconDataSet).forEach(function (e) {
                        var n = t.iconDataSet[e];
                        n.updateOpacity && n.updateOpacity()
                    })
                }
            }, {
                key: "calculateAlsoShowedLabel",
                value: function (t, e, n) {
                    var i = this;
                    (0, f.default)(this.textFeatureSet).filter(function (t) {
                        return i.textFeatureSet[t].getShow()
                    }).forEach(function (r) {
                        var o = i.textFeatureSet[r];
                        t[o.tileId] && i.calculateLabelFeatures({
                            matrix: t[o.tileId]
                        }, o.roadFeature.roads, e, o.tile, n, o.tileFeatures, o.roadFeature)
                    })
                }
            }, {
                key: "calculateTextByTile",
                value: function (t, e, n, i) {
                    t.label && this.calculateLabelByTile(t.label, e, n, i), t.poi && this.calculatePoiByTile(t.poi, e, n, i), t.icon && this.calculateIconByTile(t.icon, e, n, i)
                }
            }, {
                key: "calculateLabelByTile",
                value: function (t, e, n, i) {
                    var r = !0,
                        o = !1,
                        a = void 0;
                    try {
                        for (var s, l = (0, u.default)(t.features); !(r = (s = l.next()).done); r = !0) {
                            var c = s.value;
                            c.roads instanceof Array && c.roads.length && this.calculateLabelFeatures({
                                matrix: e
                            }, c.roads, n, t, i, t.features, c)
                        }
                    } catch (t) {
                        o = !0, a = t
                    } finally {
                        try {
                            !r && l.return && l.return()
                        } finally {
                            if (o) throw a
                        }
                    }
                }
            }, {
                key: "calculatePoiByTile",
                value: function (t, e, n, i) {
                    var r = !0,
                        o = !1,
                        a = void 0;
                    try {
                        for (var s, l = (0, u.default)(t.features); !(r = (s = l.next()).done); r = !0) {
                            var c = s.value;
                            if (c.datas && c.datas[0] && c.datas[0].text) {
                                var f = void 0;
                                c.datas[0].icon && (f = c.id), this.calculatePoi({
                                    matrix: e
                                }, c, t.scale, null, n, t.offset, f, t, i, t.features)
                            }
                        }
                    } catch (t) {
                        o = !0, a = t
                    } finally {
                        try {
                            !r && l.return && l.return()
                        } finally {
                            if (o) throw a
                        }
                    }
                }
            }, {
                key: "calculateIconByTile",
                value: function (t, e, n, i) {
                    var r = 1 / t.scale,
                        o = !0,
                        a = !1,
                        s = void 0;
                    try {
                        for (var l, c = (0, u.default)(t.features); !(o = (l = c.next()).done); o = !0) {
                            var f = l.value;
                            "iconSymbolIndex" in f && this.calculateIcon({
                                matrix: e,
                                scale: r
                            }, f.id, t, f, n, i, t.features)
                        }
                    } catch (t) {
                        a = !0, s = t
                    } finally {
                        try {
                            !o && c.return && c.return()
                        } finally {
                            if (a) throw s
                        }
                    }
                }
            }, {
                key: "impactTextByTile",
                value: function (t) {
                    var e = this,
                        n = this.textTileCellSet[t.id] || null,
                        i = this.poiTileCellSet[t.id] || null,
                        r = this.iconTileCellSet[t.id] || null,
                        o = (0, s.default)({}, n, i, r);
                    (0, f.default)(o).forEach(function (t) {
                        e.impactTextByCellId(t)
                    })
                }
            }, {
                key: "impactTextByCellId",
                value: function (t) {
                    var e = this,
                        n = this.textDataSet,
                        i = this.poiDataSet,
                        r = this.iconDataSet,
                        o = this.textScreenCoordList,
                        a = this.poiScreenCoordList,
                        s = this.iconScreenCoordList,
                        l = void 0,
                        u = void 0;
                    b.default.forIn(o[t], function (l, c) {
                        if ((u = n[l]) && u.getShow())
                            for (var f = u.linkIds, d = o[t].cell, h = 0; h < 3; h++)
                                if (u && u.getShow())
                                    for (var v = 0; v < 3; v++)
                                        if (u && u.getShow()) {
                                            var _ = d[0] + h - 1 + "_" + (d[1] + v - 1),
                                                p = o[_],
                                                m = a[_],
                                                y = s[_];
                                            p && b.default.forIn(p, function (t, i) {
                                                var r = n[t];
                                                if (r && r.getShow && t !== l && (!f || !f[t]) && e._impact(c, i))
                                                    if (u.rank > r.rank) {
                                                        r.setShow(!1);
                                                        var o = r.linkIds;
                                                        b.default.forIn(o, function (t) {
                                                            n[t].setShow(!1)
                                                        })
                                                    } else {
                                                        u.setShow(!1);
                                                        var a = u.linkIds;
                                                        b.default.forIn(a, function (t) {
                                                            n[t].setShow(!1)
                                                        })
                                                    }
                                            }), m && b.default.forIn(m, function (t, r) {
                                                var o = i[t];
                                                if (o && o.getShow() && e._impact(c, r)) {
                                                    u.setShow(!1);
                                                    var a = u.linkIds;
                                                    b.default.forIn(a, function (t) {
                                                        n[t].setShow(!1)
                                                    })
                                                }
                                            }), y && b.default.forIn(y, function (t, n) {
                                                var i = r[t];
                                                i && i.getShow() && u.rank >= i.rank && e._impact(c, n) && i.setShow(!1)
                                            })
                                        }
                    }), b.default.forIn(a[t], function (n, o) {
                        if ((l = i[n]) && l.getShow())
                            for (var u = l.linkId, c = a[t].cell, f = 0; f < 3; f++)
                                if (l && l.getShow())
                                    for (var d = 0; d < 3; d++)
                                        if (l && l.getShow()) {
                                            var h = c[0] + f - 1 + "_" + (c[1] + d - 1),
                                                v = a[h],
                                                _ = s[h];
                                            _ && b.default.forIn(_, function (t, n) {
                                                var i = r[t];
                                                i && i.getShow() && l.iconId !== i.id && l.rank >= i.rank && e._impact(o, n) && i.setShow(!1)
                                            }), v && b.default.forIn(v, function (t, a) {
                                                var s = i[t];
                                                if (n !== t && s && s.getShow() && (!u || u !== t) && e._impact(o, a))
                                                    if (l.rank > s.rank) {
                                                        s.setShow(!1), r[s.iconId] && r[s.iconId].setShow(!1);
                                                        var c = s.linkId;
                                                        c && i[c] && i[c].setShow(!1)
                                                    } else {
                                                        l.setShow(!1), r[l.iconId] && r[l.iconId].setShow(!1);
                                                        var f = l.linkId;
                                                        f && i[f] && i[f].setShow(!1)
                                                    }
                                            })
                                        }
                    }), b.default.forIn(s[t], function (n, i) {
                        var o = r[n];
                        if (o && o.getShow())
                            for (var a = s[t].cell, l = 0; l < 3; l++)
                                if (o && o.getShow())
                                    for (var u = 0; u < 3; u++)
                                        if (o && o.getShow()) {
                                            var c = a[0] + l - 1 + "_" + (a[1] + u - 1),
                                                f = s[c];
                                            i.isInCell && c !== t || f && b.default.forIn(f, function (t, a) {
                                                var s = r[t];
                                                n !== t && s && s.getShow() && e._impact(i, a) && (o.rank > s.rank ? s.setShow(!1) : o.setShow(!1))
                                            })
                                        }
                    })
                }
            }, {
                key: "textImpact",
                value: function () {
                    var t = this;
                    b.default.forIn(this.cellSet, function (e) {
                        t.impactTextByCellId(e)
                    })
                }
            }, {
                key: "_impactCoord",
                value: function (t, e) {
                    return !(Math.abs(t.z - e.z) > 0 || Math.abs(t.x - e.x) > 1 || Math.abs(t.y - e.y) > 1)
                }
            }, {
                key: "_impact",
                value: function (t, e) {
                    var n = t.x <= e.x ? e.x : t.x,
                        i = t.y <= e.y ? e.y : t.y;
                    return n >= t.x && n <= t.x + t.w && i >= t.y && i <= t.y + t.h && n >= e.x && n <= e.x + e.w && i >= e.y && i <= e.y + e.h
                }
            }, {
                key: "calculateLabelFeatures",
                value: function (t, e, n, i, r, o, a) {
                    if (o.instance) {
                        this.instanceSet[i.id] = o.instance;
                        var s = e.length / 2 - .5,
                            l = Math.floor(s),
                            c = e[0].font_size || 12,
                            f = void 0;
                        if (s % 1 == 0) f = e[s].datas[0].coords;
                        else {
                            var d = e[Math.floor(s)].datas[0].coords,
                                h = e[Math.ceil(s)].datas[0].coords;
                            f = [(d[0] + h[0]) / 2, (d[1] + h[1]) / 2]
                        }
                        var v = new p.Vector4(0, 0, 0, 1),
                            _ = !0,
                            m = !1,
                            y = void 0;
                        try {
                            for (var g, x = (0, u.default)(e); !(_ = (g = x.next()).done); _ = !0) {
                                var b = g.value,
                                    S = b.datas[0].screenCoords;
                                if (!S || S.version !== n.version) {
                                    v.elements[0] = b.datas[0].coords[0] + c / 2, v.elements[1] = -(b.datas[0].coords[1] + c / 2);
                                    var w = n.getScreenCoordsByCustomMatrix(t.matrix, v);
                                    w.rank = b.datas[0].rank, b.datas[0].screenCoords = w
                                }
                            }
                        } catch (t) {
                            m = !0, y = t
                        } finally {
                            try {
                                !_ && x.return && x.return()
                            } finally {
                                if (m) throw y
                            }
                        }
                        for (var E = e[Math.floor(s)], A = e[Math.ceil(s)], T = E.datas[0].screenCoords, k = A.datas[0].screenCoords, P = {
                                x: (T.x + k.x) / 2,
                                y: (T.y + k.y) / 2
                            }, I = e[0].datas[0].coords, M = e[e.length - 1].datas[0].coords, L = {
                                x: I[0],
                                y: I[1]
                            }, C = {
                                x: M[0],
                                y: M[1]
                            }, V = this._sortValue(L, C), R = this._sortValue(e[0].datas[0].screenCoords, e[e.length - 1].datas[0].screenCoords), O = V !== R, F = void 0, z = (n.heading, {}), N = 0, D = 0, B = void 0, U = 0, j = e.length; U < j; U++) {
                            var Y = e[U].datas[0],
                                G = void 0,
                                W = void 0,
                                X = O ? e[j - U - 1] : e[U];
                            Y.text = X.datas[1].text, Y.text_bounds = X.datas[1].text_bounds, Y.glyph_text_bounds = X.datas[1].glyph_text_bounds;
                            var Z = X.roadSymbolIndex,
                                Q = o.instance.instanceTransTypeArray[3 * Z],
                                H = o.instance.instanceTransTypeArray[3 * Z + 1],
                                q = o.instance.instanceTransTypeArray[3 * Z + 2];
                            X.roadSymbolIndex = e[U].roadSymbolIndex, o.instance.instanceTransTypeArray[3 * X.roadSymbolIndex] = o.instance.instanceTransTypeArray[3 * e[U].roadSymbolIndex], o.instance.instanceTransTypeArray[3 * X.roadSymbolIndex + 1] = o.instance.instanceTransTypeArray[3 * e[U].roadSymbolIndex + 1], o.instance.instanceTransTypeArray[3 * X.roadSymbolIndex + 2] = o.instance.instanceTransTypeArray[3 * e[U].roadSymbolIndex + 2], e[U].roadSymbolIndex = Z, o.instance.instanceTransTypeArray[3 * e[U].roadSymbolIndex] = Q, o.instance.instanceTransTypeArray[3 * e[U].roadSymbolIndex + 1] = H, o.instance.instanceTransTypeArray[3 * e[U].roadSymbolIndex + 2] = q, U < j - 1 && (G = e[U + 1].datas[0], W = this.lineAngle(Y.screenCoords, G.screenCoords), F = U === j - 2 ? W : 0), Y.line = U === j - 1 ? F : W, Y.line >= 45 && Y.line <= 135 || Y.line >= 225 && Y.line <= 315 ? D++ : N++;
                            var J = "label_" + e[U].datas[0].text + "_" + e[U].id;
                            z[J] = J
                        }
                        if (N === D) {
                            var K = e[0].datas[0].line;
                            B = !(K >= 45 && K <= 135 || K >= 225 && K <= 315)
                        } else B = N >= D;
                        for (var $ = e.map(function (t) {
                                return t.id
                            }).join(), tt = l; tt >= 0; tt--) {
                            var et = {
                                coords: tt === l ? f : e[tt + 1].datas[0].coords,
                                newCoords: tt === l ? f : e[tt + 1].datas[0].newCoords,
                                screenCoords: tt === l ? P : e[tt + 1].datas[0].screenCoords
                            };
                            this.calculate({
                                transform: t,
                                feature: e[tt],
                                camera: n,
                                tile: i,
                                neighbor: et,
                                linkIds: z,
                                fixType: B,
                                gltrans: r,
                                tileFeatures: o,
                                roadFeature: a,
                                roadFeatureId: $
                            })
                        }
                        for (var nt = l + 1; nt < e.length; nt++) {
                            var it = {
                                coords: nt === l + 1 ? f : e[nt - 1].datas[0].coords,
                                newCoords: nt === l + 1 ? f : e[nt - 1].datas[0].newCoords,
                                screenCoords: nt === l + 1 ? P : e[nt - 1].datas[0].screenCoords
                            };
                            this.calculate({
                                transform: t,
                                feature: e[nt],
                                camera: n,
                                tile: i,
                                neighbor: it,
                                linkIds: z,
                                fixType: B,
                                gltrans: r,
                                tileFeatures: o,
                                roadFeature: a,
                                roadFeatureId: $
                            })
                        }
                    }
                }
            }, {
                key: "calculate",
                value: function (t) {
                    var e = t.transform,
                        n = t.feature,
                        i = t.camera,
                        r = t.tile,
                        o = t.neighbor,
                        a = t.linkIds,
                        s = t.fixType,
                        l = t.gltrans,
                        u = t.tileFeatures,
                        c = t.roadFeature,
                        f = t.roadFeatureId,
                        d = n.datas[0],
                        h = i.scale,
                        v = n.roadSymbolIndex,
                        _ = d.text,
                        m = "label_" + _ + "_" + n.id,
                        y = u.instance.instanceCoordsTypeArray[4 * v] * h,
                        g = u.instance.instanceCoordsTypeArray[4 * v + 1] * h,
                        x = d.screenCoords,
                        b = d.line || 0,
                        S = 360 - this.calMix(s, b) || 0,
                        w = Math.sqrt(Math.pow(x.x - o.screenCoords.x, 2) + Math.pow(x.y - o.screenCoords.y, 2)),
                        E = this.calCoords(o.coords, d.coords, w, o.newCoords, d.coordScale, h),
                        A = E[0],
                        T = E[1];
                    d.newCoords = [A, T], u.instance.instanceTransTypeArray[3 * v] = A, u.instance.instanceTransTypeArray[3 * v + 1] = -T;
                    var k = d.newScreenCoords;
                    if (!k || k.version !== i.version) {
                        var P = new p.Vector4(0, 0, 0, 1);
                        P.elements[0] = A, P.elements[1] = -T, k = d.newScreenCoords = i.getScreenCoordsByCustomMatrix(e.matrix, P), k.rank = d.rank, k.w = y, k.h = g, k.x -= y / 2, k.y -= g / 2
                    }
                    var I = Math.floor(k.x / this.DELTA_SCREEN_CELL),
                        M = Math.floor(k.y / this.DELTA_SCREEN_CELL),
                        L = I + "_" + M;
                    k.isInCell = I === Math.floor((k.x + k.w) / this.DELTA_SCREEN_CELL) && M === Math.floor((k.y + k.h) / this.DELTA_SCREEN_CELL), this.textFeatureSet[f] || (this.textFeatureSet[f] = {
                        _show: !0,
                        tileId: r.id,
                        roadFeature: c,
                        tile: r,
                        tileFeatures: u,
                        getShow: function () {
                            return this._show
                        },
                        setShow: function (t) {
                            this._show = t
                        }
                    });
                    var C = this,
                        V = {
                            v: this.v,
                            _show: !0,
                            roadSymbolIndex: v,
                            rank: d.rank,
                            tileId: r.id,
                            linkIds: a,
                            coordX: r.coordX,
                            coordY: r.coordY,
                            coordZ: r.coordZ,
                            _opacity: null,
                            getOpacity: function () {
                                return this._opacity
                            },
                            setOpacity: function (t) {
                                this._opacity = t
                            },
                            updateOpacity: function () {
                                u.instance.instanceInfosTypeArray[4 * this.roadSymbolIndex + 3] = this._opacity
                            },
                            getShow: function () {
                                return this._show
                            },
                            setShow: function (t) {
                                this._show = t, C.textFeatureSet[f].setShow(t)
                            },
                            updateShow: function () {
                                u.instance.instanceInfosTypeArray[4 * this.roadSymbolIndex + 1] = this._show ? 1 : 0
                            }
                        };
                    k.x + k.w < -120 || k.x > l.width + 120 || k.y + k.h < -120 || k.y > l.height + 120 ? V.setShow(!1) : (k.v = this.v, this.textTileCellSet[r.id] = this.textTileCellSet[r.id] || {}, this.textTileCellSet[r.id][L] = !0, this.textScreenCoordList[L] = this.textScreenCoordList[L] || {
                        cell: [I, M]
                    }, this.textScreenCoordList[L][m] = k, this.cellSet[L] = !0), u.instance.instanceInfosTypeArray[4 * v] = -S % 360 * Math.PI / 180, u.instance.instanceInfosTypeArray[4 * v + 1] = 1;
                    var R = this.textDataSet[m];
                    R && (V.setShow(R.getShow()), V.setOpacity(R.getOpacity())), this.textDataSet[m] = V
                }
            }, {
                key: "calculateAllIndoorPois",
                value: function (t, e, n, i, r, o) {
                    var a = this;
                    if (t.instance) {
                        this.instanceSet[o.id] = t.instance;
                        var s = r.getDistanceScales(),
                            l = r.center,
                            u = 1 / (0, E.getSpatialResolution)(r.zoom);
                        t.forEach(function (c) {
                            var f = "iconSymbolIndex" in c,
                                d = c.length > 0 && c[0].instance_trans;
                            if (f || d) {
                                var h = c.iconSymbolIndex,
                                    v = o.id + "_icon_" + h,
                                    _ = c.map(function (t, e) {
                                        return "indoor_" + t.text + "_" + o.id + "_" + (t.textSymbolIndexList && t.textSymbolIndexList[e] || "")
                                    }),
                                    p = c.map(function (t) {
                                        return t.text
                                    }).join("/"),
                                    m = r.latLngToCenterLocalPixelByDistanceScales(e, {
                                        distanceScales: s,
                                        center: l,
                                        pixelsPerMeter: u,
                                        offsetMercator: f ? {
                                            x: t.instance.instanceTransTypeArray[3 * h],
                                            y: t.instance.instanceTransTypeArray[3 * h + 1]
                                        } : {
                                            x: c[0].instance_trans[0],
                                            y: c[0].instance_trans[1]
                                        }
                                    });
                                a.calculateSingleIndoorPoi(c, {
                                    linkIds: _,
                                    indoorTile: o,
                                    hasIcon: f,
                                    iconId: v,
                                    localPixel: m,
                                    camera: i,
                                    tileMatrix: n,
                                    transform: r,
                                    indoorPois: t,
                                    textName: p
                                }), f && a.calculateIndoorPoiIcon({
                                    indoorPois: t,
                                    iconId: v,
                                    poiInfo: c,
                                    localPixel: m,
                                    tileMatrix: n,
                                    camera: i,
                                    transform: r,
                                    tile: o,
                                    textName: p
                                })
                            }
                        })
                    }
                }
            }, {
                key: "calculateSingleIndoorPoi",
                value: function (t, e) {
                    var n = this,
                        i = t,
                        r = e.linkIds,
                        a = e.indoorTile,
                        s = e.hasIcon,
                        l = e.iconId,
                        u = e.localPixel,
                        c = e.camera,
                        f = e.tileMatrix,
                        d = e.transform,
                        h = e.indoorPois,
                        v = e.textName;
                    i.forEach(function (t, e) {
                        if (0 !== t.textBounds.w && 0 !== t.textBounds.h) {
                            var _ = r[e],
                                p = 0 === e ? r[1] : r[0],
                                m = n._generatePoiDataItem({
                                    isIndoor: !0,
                                    textSymbolIndexList: t.textSymbolIndexList,
                                    rank: t.rank,
                                    tile: a,
                                    linkId: p,
                                    iconId: l,
                                    instance: h.instance,
                                    name: v
                                });
                            if (n.poiDataSet[_] = m, !(e > 0)) {
                                var y = 1,
                                    x = 1,
                                    b = 0;
                                if (i.length > 1) {
                                    var S = i.map(function (t) {
                                            return t.textBounds
                                        }),
                                        w = (0, o.default)(S, 2),
                                        E = w[0],
                                        A = w[1],
                                        T = i.map(function (t) {
                                            return t.anchor
                                        }),
                                        k = (0, o.default)(T, 2),
                                        P = k[0],
                                        I = k[1];
                                    A.w > E.w && (y = A.w / E.w);
                                    var M = Math.abs(I.y - P.y) - (E.h + A.h) / 2;
                                    x = (E.h + A.h + M) / E.h;
                                    var L = P.x - E.w / 2 - (I.x - A.w / 2);
                                    L > 0 && (b = L)
                                }
                                var C = n._generateScreenCoordsForPoi({
                                    screenCoordsContainer: t,
                                    localPixel: u,
                                    textInfo: t,
                                    boundsScale: y,
                                    boundsH: x,
                                    camera: c,
                                    tileMatrix: f,
                                    correctCallback: function (e) {
                                        if (e.x -= b, s) {
                                            var n = g.default.iconSize * c.scale,
                                                i = t.anchor;
                                            i.x > 0 ? (e.x -= n, e.w += n) : i.x < 0 ? e.w += n : (e.h += n, i.y > 0 && (e.y -= n))
                                        }
                                    }
                                });
                                n._packPoiToSet(C, {
                                    item: m,
                                    transform: d,
                                    infoId: _,
                                    tile: a
                                })
                            }
                        }
                    })
                }
            }, {
                key: "calculateIndoorPoiIcon",
                value: function (t) {
                    var e = t.indoorPois,
                        n = t.iconId,
                        i = t.poiInfo,
                        r = t.localPixel,
                        o = t.tileMatrix,
                        a = t.camera,
                        s = t.transform,
                        l = t.tile,
                        u = t.textName,
                        c = new p.Vector4(0, 0, 0, 1);
                    c.elements[0] = r.x, c.elements[1] = r.y;
                    var f = i.iconScreenCoods;
                    if (!f || f.version !== a.version) {
                        f = i.iconScreenCoods = a.getScreenCoordsByCustomMatrix(o, c), f.rank = i[0].rank || 0, f.coord = {
                            x: f.x,
                            y: f.y
                        };
                        var d = g.default.iconSize * a.scale;
                        f.x -= d / 2, f.y -= d / 2, f.w = d, f.h = d, f.iconSymbolIndex = i.iconSymbolIndex
                    }
                    this._packIconToSet(f, {
                        id: n,
                        isIndoor: !0,
                        tileId: l.id,
                        gltrans: s,
                        instance: e.instance,
                        needIcon: !i[0].textSymbolIndex,
                        name: u
                    })
                }
            }, {
                key: "calculatePoi",
                value: function (t, e, n, i, r, o, a, s, l, u) {
                    if (u.instance) {
                        this.instanceSet[s.id] = u.instance;
                        var c = e.datas[0];
                        if (c.coords.length)
                            for (var f = c.text, d = 1, h = 1, v = c.text_bounds, _ = void 0, p = 0, m = f.length; p < m; p++) {
                                var y = "text_" + f[p].text + "_" + e.id,
                                    g = void 0;
                                if (_ = 2 === m ? v.slice(4 * (1 - p), 4 * (1 - p) + 4) : v.slice(4 * p, 4 * p + 4), !(_[2] < 10 || _[3] < 10) && f[p].instance_trans) {
                                    if (2 === m) {
                                        var x = f[1].text,
                                            b = f[0].text;
                                        g = 0 === p ? "text_" + x + "_" + e.id : "text_" + b + "_" + e.id, d = f[0].instance_coords && f[1].instance_coords ? f[0].instance_coords[0] > f[1].instance_coords[0] ? 1 : f[1].instance_coords[0] / f[0].instance_coords[0] : 1, h = 2
                                    }
                                    this.calculateSingle(t, f[p], y, a, e, r, g, s, p, d, h, l, u)
                                }
                            }
                    }
                }
            }, {
                key: "calculateSingle",
                value: function (t, e, n, i, r, o, a, s, l, u, c, f, d) {
                    var h = e.textSymbolIndexList,
                        v = e.rank,
                        _ = this._generatePoiDataItem({
                            isIndoor: !1,
                            textSymbolIndexList: h,
                            rank: v,
                            tile: s,
                            linkId: a,
                            iconId: i,
                            instance: d.instance,
                            index: l,
                            name: r.datas[0].textName
                        });
                    if (this.poiDataSet[n] = _, l) return void(this.poiDataSet[n] = _);
                    var p = this._generateScreenCoordsForPoi({
                        screenCoordsContainer: r.datas[0],
                        localPixel: {
                            x: e.instance_trans[0],
                            y: e.instance_trans[1]
                        },
                        textInfo: e,
                        boundsScale: u,
                        boundsH: c,
                        tileMatrix: t.matrix,
                        camera: o,
                        correctCallback: function (t) {
                            var n = e.centerOffset,
                                r = g.default.iconSize,
                                a = o.scale,
                                s = e.instance_coords[0],
                                l = !!i;
                            if (n) {
                                var c = {
                                        x: 0,
                                        y: 0
                                    },
                                    f = {
                                        x: 0,
                                        y: 0
                                    };
                                if (0 === n.x) {
                                    if (c.x = -s * (u - 1) / 2, l) {
                                        var d = Math.abs(e.instance_coords[3]) + r / 2;
                                        c.y = n.y > 0 ? -d : 0, f.y = d
                                    }
                                } else {
                                    var h = Math.abs(e.instance_coords[2]) + r / 2;
                                    c.x = n.x < 0 ? -s * (u - 1) : -h, f.x = h
                                }
                                t.x += c.x * a, t.y += c.y * a, t.w += f.x * a, t.h += f.y * a
                            }
                        }
                    });
                    this._packPoiToSet(p, {
                        item: _,
                        infoId: n,
                        tile: s,
                        transform: f
                    })
                }
            }, {
                key: "_generateScreenCoordsForPoi",
                value: function (t) {
                    var e = t.screenCoordsContainer,
                        n = t.localPixel,
                        i = t.textInfo,
                        r = t.boundsScale,
                        o = t.boundsH,
                        a = t.camera,
                        s = t.tileMatrix,
                        l = t.correctCallback,
                        u = new p.Vector4(0, 0, 0, 1),
                        c = e.poiScreenCoords,
                        f = a.scale;
                    if (!c || c.version !== a.version) {
                        u.elements[0] = n.x, u.elements[1] = n.y;
                        var d = i.instance_coords[0] * f,
                            h = i.instance_coords[1] * f,
                            v = {
                                x: i.instance_coords[2] * f,
                                y: i.instance_coords[3] * f
                            };
                        c = e.poiScreenCoords = a.getScreenCoordsByCustomMatrix(s, u), c.rank = i.rank || 0, c.coord = {
                            x: c.x,
                            y: c.y
                        }, c.x -= v.x, c.y -= v.y, c.w = d * r, c.h = h * o, l && l(c)
                    }
                    return c
                }
            }, {
                key: "_generatePoiDataItem",
                value: function (t) {
                    return {
                        name: t.name || "",
                        _show: !0,
                        textSymbolIndexList: t.textSymbolIndexList,
                        rank: t.rank,
                        isIndoor: t.isIndoor,
                        tileId: t.tile.id,
                        linkId: t.linkId,
                        iconId: t.iconId,
                        coordX: t.tile.coordX,
                        coordY: t.tile.coordY,
                        coordZ: t.tile.coordZ,
                        index: t.index || 0,
                        _opacity: null,
                        getOpacity: function () {
                            return this._opacity
                        },
                        setOpacity: function (t) {
                            this._opacity = t
                        },
                        updateOpacity: function () {
                            var e = this;
                            this.textSymbolIndexList.forEach(function (n) {
                                t.instance.instanceInfosTypeArray[4 * n + 3] = e._opacity
                            })
                        },
                        getShow: function () {
                            return this._show
                        },
                        setShow: function (t) {
                            this._show = t
                        },
                        updateShow: function () {
                            var e = this;
                            this.textSymbolIndexList.forEach(function (n) {
                                t.instance.instanceInfosTypeArray[4 * n + 1] = e._show ? 1 : 0
                            })
                        }
                    }
                }
            }, {
                key: "_packPoiToSet",
                value: function (t, e) {
                    var n = this.calCellCoord(t),
                        i = n.hIdx,
                        r = n.vIdx,
                        o = n.cellId;
                    t.isInCell = i === Math.floor((t.x + t.w) / this.DELTA_SCREEN_CELL) && r === Math.floor((t.y + t.h) / this.DELTA_SCREEN_CELL), t.x + t.w < -120 || t.x > e.transform.width + 120 || t.y + t.h < -120 || t.y > e.transform.height + 120 ? e.item.setShow(!1) : (this.poiScreenCoordList[o] ? this.poiScreenCoordList[o][e.infoId] = t : (this.poiScreenCoordList[o] = {
                        cell: [i, r]
                    }, this.poiScreenCoordList[o][e.infoId] = t), this.poiTileCellSet[e.tile.id] = this.poiTileCellSet[e.tile.id] || {}, this.poiTileCellSet[e.tile.id][o] = !0, this.cellSet[o] = !0)
                }
            }, {
                key: "calculateIcon",
                value: function (t, e, n, i, r, o, a) {
                    a.instance && (this.instanceSet[n.id] = a.instance);
                    var s = i.datas[0].text,
                        l = g.default.iconSize,
                        u = new p.Vector4(0, 0, 0, 1);
                    u.elements[0] = a.instance.instanceTransTypeArray[3 * i.iconSymbolIndex], u.elements[1] = a.instance.instanceTransTypeArray[3 * i.iconSymbolIndex + 1];
                    var c = i.datas[0].iconScreenCoods;
                    if (!c || c.version !== r.version) {
                        c = i.datas[0].iconScreenCoods = r.getScreenCoordsByCustomMatrix(t.matrix, u), c.rank = s && s[0] && s[0].rank || 0;
                        var f = l * c.depthScale * r.scale,
                            d = l * c.depthScale * r.scale;
                        c.coord = {
                            x: c.x,
                            y: c.y
                        }, c.x -= f / 2 + this.iconBoundsBuffer, c.y -= d / 2 + this.iconBoundsBuffer, c.w = f + 2 * this.iconBoundsBuffer, c.h = d + 2 * this.iconBoundsBuffer, c.iconSymbolIndex = i.iconSymbolIndex
                    }
                    this._packIconToSet(c, {
                        id: e,
                        tileId: n.id,
                        isIndoor: !1,
                        gltrans: o,
                        instance: a.instance,
                        needIcon: s.length <= 0,
                        name: i.datas[0].textName
                    })
                }
            }, {
                key: "_packIconToSet",
                value: function (t, e) {
                    var n = e.id,
                        i = e.tileId,
                        r = e.isIndoor,
                        o = e.gltrans,
                        a = e.instance,
                        s = e.needIcon,
                        l = e.name,
                        u = Math.floor(t.x / this.DELTA_SCREEN_CELL),
                        c = Math.floor(t.y / this.DELTA_SCREEN_CELL),
                        f = u + "_" + c;
                    t.isInCell = u === Math.floor((t.x + t.w) / this.DELTA_SCREEN_CELL) && c === Math.floor((t.y + t.h) / this.DELTA_SCREEN_CELL), this.iconDataSet[n] = {
                        id: n,
                        name: l,
                        isIndoor: r,
                        tileId: i,
                        rank: t.rank,
                        _show: !0,
                        iconSymbolIndex: t.iconSymbolIndex,
                        _opacity: null,
                        getOpacity: function () {
                            return this._opacity
                        },
                        setOpacity: function (t) {
                            this._opacity = t
                        },
                        updateOpacity: function () {
                            a.instanceInfosTypeArray[4 * this.iconSymbolIndex + 3] = this._opacity
                        },
                        getShow: function () {
                            return this._show
                        },
                        setShow: function (t) {
                            this._show = t
                        },
                        updateShow: function () {
                            a.instanceInfosTypeArray[4 * this.iconSymbolIndex + 1] = this._show ? 1 : 0
                        }
                    }, t.x + t.w < -120 || t.x > o.width + 120 || t.y + t.h < -120 || t.y > o.height + 120 ? this.iconDataSet[n].setShow(!1) : s && (this.iconScreenCoordList[f] ? this.iconScreenCoordList[f][n] = t : (this.iconScreenCoordList[f] = {
                        cell: [u, c]
                    }, this.iconScreenCoordList[f][n] = t), this.iconTileCellSet[i] = this.iconTileCellSet[i] || {}, this.iconTileCellSet[i][f] = !0, this.cellSet[f] = !0)
                }
            }, {
                key: "calMix",
                value: function (t, e) {
                    var n = 0;
                    return n = t ? e >= 90 && e <= 270 ? e - 180 : e : e <= 180 ? e - 90 : e - 270, Math.round(n)
                }
            }, {
                key: "lineAngle",
                value: function (t, e) {
                    var n = t.x,
                        i = t.y,
                        r = e.x,
                        o = e.y,
                        a = r - n,
                        s = o - i,
                        l = Math.sqrt(a * a + s * s),
                        u = a / l,
                        c = Math.acos(u),
                        f = 180 * c / Math.PI;
                    return s > 0 ? f = -f : 0 === s && a < 0 && (f = 180), f = f > 90 ? 360 - (f - 90) : 90 - f, Math.round(f)
                }
            }, {
                key: "calCoords",
                value: function (t, e, n, i, r, o) {
                    if (!n) return i;
                    var a = e[0] - t[0],
                        s = e[1] - t[1],
                        l = Math.sqrt(a * a + s * s),
                        u = l / r * o,
                        c = u / n;
                    return [i[0] + a * c, i[1] + s * c]
                }
            }, {
                key: "calCellCoord",
                value: function (t) {
                    var e = Math.floor(t.x / this.DELTA_SCREEN_CELL),
                        n = Math.floor(t.y / this.DELTA_SCREEN_CELL);
                    return {
                        hIdx: e,
                        vIdx: n,
                        cellId: e + "_" + n
                    }
                }
            }, {
                key: "getDataInCell",
                value: function (t, e) {
                    var n = this[e + "ScreenCoordList"],
                        i = this[e + "DataSet"],
                        r = [];
                    return n && i && b.default.forIn(n[t], function (t, e) {
                        "cell" !== t && r.push(b.default.extend({
                            poiId: t
                        }, e, i[t]))
                    }), r
                }
            }, {
                key: "getPoi",
                value: function (t) {
                    var e = this,
                        n = null,
                        i = this.calCellCoord(t),
                        r = i.hIdx,
                        o = i.vIdx,
                        a = [
                            [0, 0],
                            [0, -1],
                            [-1, 0],
                            [-1, -1]
                        ],
                        s = [];
                    a.forEach(function (t) {
                        var n = r + t[0] + "_" + (o + t[1]),
                            i = !!(t[0] + t[1]),
                            a = e.getDataInCell(n, "poi").filter(function (t) {
                                return t._show && !(i && t.isInCell)
                            }),
                            l = e.getDataInCell(n, "icon").filter(function (t) {
                                return t._show && !(i && t.isInCell)
                            });
                        s = s.concat(a).concat(l)
                    });
                    for (var l = 0; l < s.length; l++) {
                        var u = s[l],
                            c = u.x,
                            f = u.y,
                            d = u.w,
                            h = u.h,
                            v = u.coord,
                            _ = u.isIndoor,
                            p = u.name,
                            m = {
                                x: t.x - c,
                                y: t.y - f
                            },
                            y = d + 2,
                            g = h + 2;
                        if (m.x >= -2 && m.x <= y && m.y >= -2 && m.y <= g) {
                            n = {
                                coord: v,
                                bounds: [c, f, d, h],
                                isIndoor: _,
                                name: p ? p.replace("/", "") : ""
                            };
                            break
                        }
                    }
                    return n
                }
            }]), t
        }();
    e.default = T
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r() {
        return [{
            name: "a_Position",
            components: 2,
            type: "UNSIGNED_SHORT",
            offset: 0
        }, {
            name: "a_Color",
            components: 4,
            type: "UNSIGNED_BYTE",
            offset: 4
        }, {
            name: "a_Normal",
            components: 2,
            type: "UNSIGNED_BYTE",
            offset: 8
        }, {
            name: "a_LineInfo",
            components: 2,
            type: "UNSIGNED_BYTE",
            offset: 10
        }, {
            name: "a_LineDistance",
            components: 1,
            type: "UNSIGNED_SHORT",
            offset: 12
        }, {
            name: "a_SideInfo",
            components: 2,
            type: "UNSIGNED_BYTE",
            offset: 14
        }]
    }

    function o() {
        return ["Uint16", "Uint16", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint16", "Uint8", "Uint8"]
    }

    function a(t) {
        var e = t.transX,
            n = void 0 === e ? 0 : e,
            i = t.transY,
            r = void 0 === i ? 0 : i,
            o = t.scale,
            a = void 0 === o ? 1 : o;
        return Math.round(n / 256) + 4 * Math.round(r / 256) + 16 * Math.round(1 / a)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = n(0),
        l = i(s),
        u = n(1),
        c = i(u),
        f = n(41),
        d = i(f),
        h = n(356),
        v = i(h),
        _ = n(199),
        p = i(_),
        m = n(137),
        y = i(m),
        g = n(355),
        x = i(g),
        b = n(9),
        S = i(b),
        w = S.default.batchRender ? "Uint32" : "Uint16",
        E = function () {
            function t(e) {
                (0, l.default)(this, t), e = e || {}, this.normalScale = 63, this.type = e.type || "default", this.noTerminal = e.noTerminal || !1, this.lineDistance = e.startDistance || 0;
                var n = (0, v.default)(o(), r()),
                    i = (0, v.default)([w]);
                this.vertiesDataBuffer = n(1024), this.indicesDataBuffer = i(1024), this.lineCount = 0
            }
            return (0, c.default)(t, [{
                key: "addLine",
                value: function (t, e, n, i, r, o, s, l) {
                    function u(t, e, r, o) {
                        y = e.sub(t);
                        var a = y.perp().unit().mult(g)._round(),
                            s = a.mult(-1),
                            l = e.dist(t),
                            u = Math.max(1, Math.floor(f + l)),
                            c = r.length,
                            d = 1024 + ~~t.x + S,
                            h = 1024 + ~~t.y + w,
                            v = 1024 + ~~e.x + S,
                            _ = 1024 + ~~e.y + w;
                        a.x += 128, a.y += 128, s.x += 128, s.y += 128, r.add([
                            [d, h, n[0], n[1], n[2], n[3], a.x, a.y, i, b, 10 * f + E, P, I],
                            [d, h, n[0], n[1], n[2], n[3], s.x, s.y, i, b, 10 * f + E, P, I],
                            [v, _, n[0], n[1], n[2], n[3], s.x, s.y, i, b, 10 * u + E, P, I],
                            [v, _, n[0], n[1], n[2], n[3], a.x, a.y, i, b, 10 * u + E, P, I]
                        ]), o.add([
                            [c + 0],
                            [c + 1],
                            [c + 3],
                            [c + 1],
                            [c + 2],
                            [c + 3]
                        ]), f = u
                    }

                    function c(t, e, r) {
                        var o = 1.732 * g,
                            a = e.length,
                            s = 1024 + ~~t.x + S,
                            l = 1024 + ~~t.y + w;
                        e.add([
                            [s, l, n[0], n[1], n[2], n[3], 128, 2 * g + 128, i - 0, 0, 10 + E, P, I],
                            [s, l, n[0], n[1], n[2], n[3], 128 - o, -1 * g + 128, i - 0, 0, 10 + E, P, I],
                            [s, l, n[0], n[1], n[2], n[3], o + 128, -1 * g + 128, i - 0, 0, 10 + E, P, I]
                        ]), r.add([
                            [a + 0],
                            [a + 1],
                            [a + 2]
                        ])
                    }
                    this.lineCount++, t = t || {};
                    var f = s || 1,
                        h = t.noTerminal,
                        v = this.vertiesDataBuffer,
                        _ = this.indicesDataBuffer,
                        p = void 0,
                        m = void 0,
                        y = void 0,
                        g = this.normalScale,
                        b = 0;
                    r && o ? b = Math.min(10 * r, 240) + Math.floor(10 - o / r * 10) : (r = 0, o = 0);
                    var S = 2048 * (t.preWidth || 0),
                        w = 2048 * (t.nextWidth || 0),
                        E = t.deltaSideWidth || 0,
                        A = t.isSide || 0,
                        T = t.styleId || 0,
                        k = x.default.isNoSideLine(T),
                        P = A + 2 * k,
                        I = a(t.transform);
                    f = f % (r + o) || 1;
                    for (var M = [], L = 0, C = e.length / 2; L < C; L++) M.push(new d.default(2 * e[2 * L], 2 * -e[2 * L + 1]));
                    if (l && M.push(M[0], M[1]), !b && !h && M.length > 2) {
                        h || c(M[0], v, _);
                        for (var V = 1, R = M.length; V < R; V++) m = M[V], c.bind(this)(m, v, _)
                    }
                    for (var O = 1, F = M.length; O < F; O++) p = M[O - 1], m = M[O], u.bind(this)(p, m, v, _)
                }
            }, {
                key: "addPolygon",
                value: function (t, e) {
                    for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i = this.vertiesDataBuffer, r = this.indicesDataBuffer, o = a(n.transform), s = y.default.mixCoords(t, "polygon", e.concat([0, 0, 0, 0, 0, 0, o]), 1024, 2), l = p.default.flatten([s]), u = l.vertices, c = l.dimensions, f = (0, p.default)(u, l.holes, c, i.length), d = 0, h = u.length / c; d < h; d++) {
                        for (var v = [], _ = d * c, m = (d + 1) * c; _ < m; _++) v.push(u[_]);
                        i.add([v])
                    }
                    r.add(f)
                }
            }]), t
        }();
    e.default = E
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r() {
        return [{
            name: "a_Position",
            components: 2,
            type: "UNSIGNED_SHORT",
            offset: 0
        }, {
            name: "a_Info",
            components: 4,
            type: "UNSIGNED_BYTE",
            offset: 4
        }, {
            name: "a_Color",
            components: 4,
            type: "UNSIGNED_BYTE",
            offset: 8
        }, {
            name: "a_Transform",
            components: 4,
            type: "UNSIGNED_BYTE",
            offset: 12
        }]
    }

    function o() {
        return ["Uint16", "Uint16", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8", "Uint8"]
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(21),
        s = i(a),
        l = n(32),
        u = i(l),
        c = n(0),
        f = i(c),
        d = n(1),
        h = i(d),
        v = n(356),
        _ = i(v),
        p = n(199),
        m = i(p),
        y = n(137),
        g = i(y),
        x = n(473),
        b = i(x),
        S = function () {
            function t(e) {
                (0, f.default)(this, t), e = e || {};
                var n = (0, _.default)(o(), r()),
                    i = (0, _.default)(["Int16"]);
                this.vertiesDataBuffer = n(1024), this.indicesDataBuffer = i(1024)
            }
            return (0, h.default)(t, [{
                key: "add",
                value: function (t) {
                    var e = t.points,
                        n = t.height,
                        i = t.colorFill,
                        r = t.colorSide,
                        o = t.transform;
                    n *= 1;
                    for (var a = o.transX, s = void 0 === a ? 0 : a, l = o.transY, c = void 0 === l ? 0 : l, f = o.scale, d = void 0 === f ? 1 : f, h = [Math.round(s / 256) + 16 * Math.round(c / 256), Math.round(1 / d), 0, 0], v = this.vertiesDataBuffer, _ = this.indicesDataBuffer, p = g.default.mixCoords(e, "polygon", [n, 128, 128, 129].concat((0, u.default)(i), h), 2048), y = m.default.flatten([p]), x = y.vertices, b = y.dimensions, S = (0, m.default)(x, y.holes, b, v.length), w = 0, E = x.length / b; w < E; w++) {
                        for (var A = [], T = w * b, k = (w + 1) * b; T < k; T++) A.push(x[T]);
                        v.add([A])
                    }
                    _.add(S), this.addWalls(e, p, r, h)
                }
            }, {
                key: "addWalls",
                value: function (t, e, n, i) {
                    for (var r = this.vertiesDataBuffer, o = this.indicesDataBuffer, a = r.length, l = e.length, c = g.default.mixCoords(t, "polygon", [0, 0, 0, 0].concat((0, u.default)(n), (0, u.default)(i)), 2048), f = [], d = [], h = 1; h < l; h++) {
                        var v = [
                                [].concat(e[h - 1]), [].concat(e[h]), [].concat(c[h - 1]), [].concat(c[h])
                            ],
                            _ = (0, b.default)(v[0], v[1], v[2], 127, 128),
                            p = !0,
                            m = !1,
                            y = void 0;
                        try {
                            for (var x, S = (0, s.default)(v); !(p = (x = S.next()).done); p = !0) {
                                var w = x.value;
                                w.splice.apply(w, [6, 4].concat((0, u.default)(n))), w.splice(3, 3, _[0], _[1], _[2])
                            }
                        } catch (t) {
                            m = !0, y = t
                        } finally {
                            try {
                                !p && S.return && S.return()
                            } finally {
                                if (m) throw y
                            }
                        } [].push.apply(f, v), d.push(a + 0, a + 1, a + 2, a + 1, a + 3, a + 2), a += v.length
                    }
                    r.add(f), o.add(d)
                }
            }]), t
        }();
    e.default = S
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        var n = {
                increase: {},
                decrease: {}
            },
            i = [a(t), a(e)],
            r = i[0],
            o = i[1],
            s = l((0, p.default)(r), (0, p.default)(o)),
            u = s.sameList,
            c = s.increaseList,
            f = s.decreaseList;
        return c.forEach(function (t) {
            n.increase[t] = o[t]
        }), f.forEach(function (t) {
            n.decrease[t] = r[t]
        }), u.forEach(function (t) {
            var e = l(r[t], o[t]),
                i = e.increaseList,
                a = e.decreaseList;
            i.forEach(function (e) {
                n.increase[t] ? n.increase[t].push(e) : n.increase[t] = [e]
            }), a.forEach(function (e) {
                n.decrease[t] ? n.decrease[t].push(e) : n.decrease[t] = [e]
            })
        }), n
    }

    function o(t) {
        if ("object" !== (void 0 === t ? "undefined" : (0, v.default)(t)) || null === t) return !1;
        if (Array.isArray(t)) {
            var e = !0,
                n = !1,
                i = void 0;
            try {
                for (var r, a = (0, d.default)(t); !(e = (r = a.next()).done); e = !0) {
                    return !!o(r.value)
                }
            } catch (t) {
                n = !0, i = t
            } finally {
                try {
                    !e && a.return && a.return()
                } finally {
                    if (n) throw i
                }
            }
        }
        return !0
    }

    function a(t) {
        var e = {};
        if (Array.isArray(t)) t.forEach(function (t) {
            var n = t.type,
                i = t.features;
            n && (e[n] = s(n, i))
        });
        else {
            var n = t.type,
                i = t.features;
            n && (e[n] = s(n, i))
        }
        return e
    }

    function s(t, e) {
        if (!Array.isArray(e)) return y.DEFAULT_BASEMAP[t] && y.DEFAULT_BASEMAP[t].features;
        switch (t) {
            case y.MAP_TYPE.vector:
                var n = [].concat((0, c.default)(e));
                if (n.includes("building")) {
                    var i = n.indexOf("building");
                    n.includes("building3d") ? n.splice(i, 1) : n.splice(i, 1, "building3d")
                }
                if (n.includes("building2d") && n.includes("building3d")) {
                    var r = n.indexOf("building2d");
                    n.splice(r, 1)
                }
                return n;
            case y.MAP_TYPE.satellite:
            case y.MAP_TYPE.traffic:
            default:
                return e
        }
    }

    function l(t, e) {
        var n = [],
            i = [],
            r = [];
        return Array.isArray(t) && Array.isArray(e) && (e.forEach(function (e) {
            t.includes(e) ? n.push(e) : i.push(e)
        }), r = t.filter(function (t) {
            return !n.includes(t)
        })), {
            sameList: n,
            increaseList: i,
            decreaseList: r
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.isVerifiedBaseMap = e.formatBaseMap = e.compareBaseMap = void 0;
    var u = n(32),
        c = i(u),
        f = n(21),
        d = i(f),
        h = n(37),
        v = i(h),
        _ = n(10),
        p = i(_),
        m = n(6),
        y = (i(m), n(247));
    e.compareBaseMap = r, e.formatBaseMap = a, e.isVerifiedBaseMap = o
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r() {
        return c || (c = new a.default(function (t, e) {
            u(null, l.default.verSrc, function (e) {
                e && e.info && 0 === e.error && (l.default.dataVersion.sat = e.info.sat, l.default.dataVersion.tile = e.info["1d"]), t()
            }, function () {
                t()
            })
        })), c
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(25),
        a = i(o);
    e.default = r;
    var s = n(9),
        l = i(s),
        u = n(380).send,
        c = void 0
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(358),
        m = i(p),
        y = n(27),
        g = n(31),
        x = n(61),
        b = i(x),
        S = n(46),
        w = function (t) {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                (0, s.default)(this, e), t.type = y.RENDER_LAYER_TYPE.canvasGround;
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return (0, S.statCn)("CanvasGroundLayer"), n
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "_initialize",
                value: function (t) {
                    (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "_initialize", this).call(this, t), t.canvas || new g.BaseTypeError("CanvasGroundLayer.canvas", "HTMLCanvasElement", t.canvas).error(), t.bounds instanceof b.default || new g.BaseTypeError("CanvasGroundLayer.bounds", "LatLngBounds", t.bounds).error(), this._mediaSource = t.canvas, this._bounds = t.bounds
                }
            }, {
                key: "setCanvas",
                value: function (t) {
                    t || new g.BaseTypeError("CanvasGroundLayer.canvas", "HTMLCanvasElement", t).error(), this._mediaSource !== t && this._updateMediaSource(t)
                }
            }, {
                key: "refresh",
                value: function () {
                    this._resetData()
                }
            }]), e
        }(m.default);
    e.default = w
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return t === b.RENDER_LAYER_TYPE.marker || t === b.RENDER_LAYER_TYPE.label
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(2),
        a = i(o),
        s = n(0),
        l = i(s),
        u = n(1),
        c = i(u),
        f = n(4),
        d = i(f),
        h = n(11),
        v = i(h),
        _ = n(3),
        p = i(_),
        m = n(154),
        y = i(m),
        g = n(48),
        x = n(138),
        b = n(27),
        S = function (t) {
            function e(t) {
                return (0, l.default)(this, e), (0, d.default)(this, (e.__proto__ || (0, a.default)(e)).call(this, t))
            }
            return (0, p.default)(e, t), (0, c.default)(e, [{
                key: "calculateRank",
                value: function () {
                    return r(this.type) ? (0, x.getRank)(this.zIndex, "OVERLAY_NAA") : (0, x.getRank)(this.zIndex, "OVERLAY_AA")
                }
            }, {
                key: "_initialize",
                value: function (t) {
                    (0, v.default)(e.prototype.__proto__ || (0, a.default)(e.prototype), "_initialize", this).call(this, t), this.sourceData = t.sourceData, this.sourceId = this.id
                }
            }, {
                key: "_addSource",
                value: function () {
                    this.map && !this.map.getSource(this.sourceId) && this.map.addSource(this.sourceId, {
                        type: g.SOURCE_TYPE.geojson,
                        tileSize: this.tileSize,
                        data: this.sourceData
                    })
                }
            }, {
                key: "_removeSource",
                value: function () {
                    this.map && this.map.removeSource(this.sourceId)
                }
            }]), e
        }(y.default);
    e.default = S
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(358),
        m = i(p),
        y = n(27),
        g = n(31),
        x = n(61),
        b = i(x),
        S = n(46),
        w = function (t) {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                (0, s.default)(this, e), t.type = y.RENDER_LAYER_TYPE.imageGround;
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return (0, S.statCn)("ImageGroundLayer"), n
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "_initialize",
                value: function (t) {
                    var n = this;
                    (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "_initialize", this).call(this, t), t.src || new g.BaseTypeError("ImageGroundLayer.src", "URL", t.src).error(), t.bounds instanceof b.default || new g.BaseTypeError("ImageGroundLayer.bounds", "LatLngBounds", t.bounds).error();
                    var i = new Image;
                    this._image = i, i.crossOrigin = "anonymous", i.onload = function () {
                        n._mediaSource = i, n._bounds = t.bounds;
                        var e = n.map;
                        e && n.setMap(null), n.setMap(e), n.emit("image_loaded")
                    }, i.onerror = function () {
                        console.error("图片资源获取失败: " + t.src)
                    }, i.src = t.src
                }
            }, {
                key: "setSrc",
                value: function (t) {
                    var e = this;
                    t || new g.BaseTypeError("ImageGroundLayer.src", "URL", t).error(), this._image.src !== t && (this._image.onload = function () {
                        e._updateMediaSource(e._image), e.emit("image_loaded")
                    }, this._image.src = t)
                }
            }]), e
        }(m.default);
    e.default = w
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(154),
        m = i(p),
        y = n(48),
        g = n(138),
        x = n(27),
        b = function (t) {
            function e(t) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "_initialize",
                value: function (t) {
                    (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "_initialize", this).call(this, t), this.buildingData = t.buildingData, this.filter = t.type, this.sourceId || (this.sourceId = this.id)
                }
            }, {
                key: "_addSource",
                value: function () {
                    this.map && !this.map.getSource(this.sourceId) && this.map.addSource(this.sourceId, {
                        type: y.SOURCE_TYPE.indoor,
                        data: this.buildingData
                    })
                }
            }, {
                key: "_removeSource",
                value: function () {
                    this.map && this.map.removeSource(this.sourceId)
                }
            }, {
                key: "calculateRank",
                value: function () {
                    return this.type !== x.RENDER_LAYER_TYPE.indoorPoi ? g.RANK_CONFIG.INDOOR.min : g.RANK_CONFIG.POI.min
                }
            }]), e
        }(m.default);
    e.default = b
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(154),
        m = i(p),
        y = n(48),
        g = function (t) {
            function e(t) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t))
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "_initialize",
                value: function (t) {
                    (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "_initialize", this).call(this, t), this.sourceData = t.sourceData, this.sourceId = this.id, this.minimumClusterSize = t.minimumClusterSize, this.gridSize = t.gridSize, this.averageCenter = t.averageCenter
                }
            }, {
                key: "_addSource",
                value: function () {
                    this.map && !this.map.getSource(this.sourceId) && this.map.addSource(this.sourceId, {
                        type: y.SOURCE_TYPE.geoTask,
                        data: this.sourceData,
                        workerOptions: {
                            gridSize: this.gridSize,
                            minimumClusterSize: this.minimumClusterSize,
                            averageCenter: this.averageCenter
                        },
                        maxZoom: this.maxZoom
                    })
                }
            }, {
                key: "_removeSource",
                value: function () {
                    this.map && this.map.removeSource(this.sourceId)
                }
            }]), e
        }(m.default);
    e.default = g
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        var n = Array.isArray(e.features) ? e.features : d.DEFAULT_BASEMAP.vector.features,
            i = [];
        if (n.includes(f.BASE_LAYER_TYPE.base)) {
            var r = new l.default({
                map: t,
                id: d.VECTOR_LAYER_ID.base,
                features: [{
                    type: f.BASE_LAYER_TYPE.base,
                    filter: f.BASE_LAYER_TYPE.base
                }, {
                    type: f.BASE_LAYER_TYPE.ground,
                    filter: f.BASE_LAYER_TYPE.ground
                }, {
                    type: f.BASE_LAYER_TYPE.arrow,
                    filter: f.BASE_LAYER_TYPE.arrow
                }]
            });
            t.moveLayer(r.id, _.RANK_CONFIG.BASE.min), i.push(r)
        }
        var o = n.includes(f.BASE_LAYER_TYPE.building3d) || n.includes("building"),
            a = n.includes(f.BASE_LAYER_TYPE.building2d);
        if (o || a) {
            var s = new l.default({
                map: t,
                id: d.VECTOR_LAYER_ID.building,
                features: [o ? {
                    type: f.BASE_LAYER_TYPE.building3d,
                    filter: f.BASE_LAYER_TYPE.building3d
                } : {
                    type: f.BASE_LAYER_TYPE.building2d,
                    filter: f.BASE_LAYER_TYPE.building3d
                }]
            });
            t.moveLayer(s.id, _.RANK_CONFIG.BUILDING.min), i.push(s)
        }
        var u = n.includes(f.BASE_LAYER_TYPE.point),
            c = n.includes(f.BASE_LAYER_TYPE.label);
        if (u || c) {
            var h = new l.default({
                map: t,
                id: d.VECTOR_LAYER_ID.poi,
                features: [u ? {
                    type: f.BASE_LAYER_TYPE.point,
                    filter: f.BASE_LAYER_TYPE.point
                } : null, c ? {
                    type: f.BASE_LAYER_TYPE.label,
                    filter: f.BASE_LAYER_TYPE.label
                } : null, {
                    type: f.BASE_LAYER_TYPE.text,
                    filter: f.BASE_LAYER_TYPE.text
                }].filter(function (t) {
                    return !!t
                })
            });
            t.moveLayer(h.id, _.RANK_CONFIG.POI.min), i.push(h)
        }
        return i
    }

    function o(t, e) {
        var n = Array.isArray(e.features) ? e.features : d.DEFAULT_BASEMAP.satellite.features,
            i = [];
        if (n.includes(d.SATELLITE_FEATURE.satellite)) {
            var r = new c.default({
                map: t,
                id: d.SATELLITE_LAYER_ID[d.SATELLITE_FEATURE.satellite],
                getTileUrl: function (t, e, n) {
                    e = Math.pow(2, n) - 1 - e;
                    var i = v.default.satelliteSrc;
                    return i[(t + e) % i.length] + "/" + n + "/" + (t >> 4) + "/" + (e >> 4) + "/" + t + "_" + e + ".jpg?version=" + v.default.dataVersion.sat
                }
            });
            t.moveLayer(r.id, _.RANK_CONFIG.BASE.min), i.push(r)
        }
        if (n.includes(d.SATELLITE_FEATURE.road)) {
            var o = new c.default({
                map: t,
                id: d.SATELLITE_LAYER_ID[d.SATELLITE_FEATURE.road],
                getTileUrl: function (t, e, n) {
                    e = Math.pow(2, n) - e - 1;
                    var i = v.default.roadSrc;
                    return i[(t + e) % i.length] + "?z=" + n + "&x=" + t + "&y=" + e + "&styleid=2&scene=0&version=" + v.default.dataVersion.tile
                }
            });
            t.moveLayer(o.id, _.RANK_CONFIG.BASE.min), i.push(o)
        }
        return i
    }

    function a(t) {
        var e = new c.default({
                map: t,
                id: "traffic",
                getTileUrl: function (t, e, n) {
                    e = Math.pow(2, n) - 1 - e;
                    var i = v.default.trafficSrc,
                        r = (t + e) % i.length,
                        o = window.devicePixelRatio > 1 ? 2 : 1;
                    return i[r] + "?z=" + n + "&x=" + t + "&y=" + e + "&times=" + o + "&time=" + (new Date).getTime()
                }
            }),
            n = t.getSource(e.sourceId);
        return e._interval = setInterval(function () {
            n.reload(), n.once("tilesloaded", function () {
                t.renderEngine.getImageCache(e.id).clear()
            })
        }, 6e4), e.once("source_removed", function () {
            clearInterval(e._interval), delete e._interval
        }), t.moveLayer(e.id, _.RANK_CONFIG.BASE.min), e
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.createTrafficLayer = e.createSatelliteLayer = e.createVectorLayer = void 0;
    var s = n(361),
        l = i(s),
        u = n(359),
        c = i(u),
        f = n(27),
        d = n(247),
        h = n(9),
        v = i(h),
        _ = n(138);
    e.createVectorLayer = r, e.createSatelliteLayer = o, e.createTrafficLayer = a
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        return new wt[e.type](t, e, n)
    }

    function o(t, e) {
        return t instanceof Array ? {
            imgBase64List: [].concat(t).concat(e),
            extOffset: t.length
        } : {
            imgBase64List: [t, e],
            extOffset: 1
        }
    }

    function a(t, e) {
        var n = e.id;
        return new T.default(function (e, i) {
            if (t) {
                var r = new Image;
                r.onload = function () {
                    e(r)
                }, r.onerror = function () {
                    i(n)
                }, r.src = "data:img/png;base64," + t
            } else e(null)
        })
    }

    function s(t) {
        var e = document.createElement("canvas"),
            n = [],
            i = 0,
            r = 0;
        if (t.forEach(function (t) {
                t && (i = Math.max(t.width, i), r += t.height)
            }), e.width = i, e.height = r, i && r) {
            var o = e.getContext("2d"),
                a = 0;
            return t.forEach(function (t) {
                n.push(a), t && (o.drawImage(t, 0, a), a += t.height)
            }), {
                canvas: e,
                yOffset: n
            }
        }
        return {}
    }
    var l, u = n(55),
        c = i(u),
        f = n(10),
        d = i(f),
        h = n(95),
        v = i(h),
        _ = n(21),
        p = i(_),
        m = n(143),
        y = i(m),
        g = n(205),
        x = i(g),
        b = n(208),
        S = i(b),
        w = n(207),
        E = i(w),
        A = n(25),
        T = i(A),
        k = n(2),
        P = i(k),
        I = n(0),
        M = i(I),
        L = n(1),
        C = i(L),
        V = n(4),
        R = i(V),
        O = n(3),
        F = i(O),
        z = n(107),
        N = i(z),
        D = n(503),
        B = n(458),
        U = i(B),
        j = n(462),
        Y = i(j),
        G = n(519),
        W = i(G),
        X = n(366),
        Z = i(X),
        Q = n(507),
        H = i(Q),
        q = n(510),
        J = i(q),
        K = n(512),
        $ = i(K),
        tt = n(509),
        et = i(tt),
        nt = n(48),
        it = n(27),
        rt = n(247),
        ot = n(496),
        at = n(200),
        st = n(521),
        lt = i(st),
        ut = n(522),
        ct = n(370),
        ft = n(236),
        dt = n(497),
        ht = i(dt),
        vt = n(379),
        _t = n(588),
        pt = i(_t),
        mt = n(233),
        yt = n(357),
        gt = n(344),
        xt = (i(gt), n(40)),
        bt = n(9),
        St = n(6),
        wt = (l = {}, (0, N.default)(l, nt.SOURCE_TYPE.vector, W.default), (0, N.default)(l, nt.SOURCE_TYPE.geojson, Z.default), (0, N.default)(l, nt.SOURCE_TYPE.geoTask, H.default), (0, N.default)(l, nt.SOURCE_TYPE.imageTile, J.default), (0, N.default)(l, nt.SOURCE_TYPE.indoor, $.default), (0, N.default)(l, nt.SOURCE_TYPE.ground, et.default), l),
        Et = function (t) {
            function e(t, n) {
                (0, M.default)(this, e);
                var i = (0, R.default)(this, (e.__proto__ || (0, P.default)(e)).call(this));
                return i.map = n, i._visualPlugins = {}, i._layers = {}, i._order = [], i._sources = {}, i._stylePromise = null, i.dispatcher = new U.default(Y.default, i), i.iconsLoader = new pt.default, i._mapStyleId = t.mapStyleId, i._finalUsedMapStyleId = at.STYLE_ID[i._mapStyleId], i._lastStyleId = at.STYLE_ID[i._mapStyleId], i._baseMap = null === t.baseMap ? null : t.baseMap || rt.DEFAULT_BASEMAP.vector, i._baseLayerList = [], i._setEventedParent(n, null), i._on("loaderror", function (t) {
                    var e = t.tile,
                        n = t.error;
                    console.error("加载瓦片发生错误：" + e.coord.id, e, n)
                }), (0, ht.default)().then(function () {
                    i.initBaseLayer()
                }), i.loadStyle().then(function (t) {
                    var e = t.styleId;
                    i._fire("mapstyle_changed", {
                        styleId: e
                    })
                }).catch(function () {}), i
            }
            return (0, F.default)(e, t), (0, C.default)(e, [{
                key: "loadStyle",
                value: function () {
                    var t = this;
                    this.map.renderEngine.gl.id;
                    if (!this._stylePromise) {
                        var e = !1;
                        this._stylePromise = (0, lt.default)(this._mapStyleId, this.map.id).then(function (n) {
                            if (e) return T.default.reject(new Error("aborted"));
                            t._finalUsedMapStyleId = n, t._lastStyleId = n;
                            var i = (0, ut.loadPoiIconFile)(n, bt.iconSrc).then(function (e) {
                                    return t.iconsLoader.load(e)
                                }),
                                r = (0, ct.loadPoiIconIndexFile)(n, bt.iconIndexSrc),
                                o = (0, ft.loadStyleFile)(n, n);
                            return T.default.all([i, r, o]).then(function () {
                                return e ? T.default.reject(new Error("aborted")) : {
                                    styleId: n,
                                    iconInfo: {
                                        scale: t.iconsLoader.scale,
                                        w: t.iconsLoader.w,
                                        h: t.iconsLoader.h
                                    }
                                }
                            })
                        }), this._stylePromise.abort = function () {
                            e = !0
                        }
                    }
                    return this._stylePromise
                }
            }, {
                key: "setMapStyleId",
                value: function () {
                    function t(t) {
                        return e.apply(this, arguments)
                    }
                    var e = (0, E.default)(S.default.mark(function t(e) {
                        var n, i = this;
                        return S.default.wrap(function (t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    if (e !== this._mapStyleId || "config" === this._finalUsedMapStyleId) {
                                        t.next = 2;
                                        break
                                    }
                                    return t.abrupt("return");
                                case 2:
                                    return this._mapStyleId = e, n = this._finalUsedMapStyleId, this._stylePromise.abort(), this._stylePromise = null, this.loadStyle().then(function (t) {
                                        var e = t.styleId,
                                            r = t.iconInfo;
                                        e !== n && i.resetStyle(e, r)
                                    }), t.abrupt("return", this);
                                case 8:
                                case "end":
                                    return t.stop()
                            }
                        }, t, this)
                    }));
                    return t
                }()
            }, {
                key: "setMapStyleConfig",
                value: function (t) {
                    var e = this,
                        n = t.style;
                    if (!n) return void console.error("setMapStyleConfig中style属性不合法");
                    var i = !1;
                    this._stylePromise.abort(), this._stylePromise = (0, ft.setStyleConfig)(n, "config").then(function (t) {
                        return t && !i ? e._loadStyleConfig() : T.default.reject(new Error("aborted"))
                    }), this._stylePromise.then(function (t) {
                        var n = t.styleId,
                            i = t.iconInfo;
                        e.resetStyle(n, i)
                    }).catch(function () {}), this._stylePromise.abort = function () {
                        i = !0
                    }
                }
            }, {
                key: "_loadStyleConfig",
                value: function () {
                    function t() {
                        return e.apply(this, arguments)
                    }
                    var e = (0, E.default)(S.default.mark(function t() {
                        var e, n, i, r, o = this;
                        return S.default.wrap(function (t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return e = "config", this._finalUsedMapStyleId !== e && (this._lastStyleId = this._finalUsedMapStyleId, this._finalUsedMapStyleId = e), n = {
                                        styleId: this._lastStyleId,
                                        iconSrc: bt.iconSrc,
                                        iconIndexSrc: bt.iconIndexSrc
                                    }, i = (0, ut.setPoiIcon)(n).then(function (t) {
                                        return o.iconsLoader.load(t)
                                    }), r = (0, ct.setPoiIconIndex)(n), t.next = 7, T.default.all([i, r]);
                                case 7:
                                    return t.abrupt("return", {
                                        styleId: e,
                                        iconInfo: {
                                            scale: this.iconsLoader.scale,
                                            w: this.iconsLoader.w,
                                            h: this.iconsLoader.h
                                        }
                                    });
                                case 8:
                                case "end":
                                    return t.stop()
                            }
                        }, t, this)
                    }));
                    return t
                }()
            }, {
                key: "resetStyle",
                value: function (t, e) {
                    var n = this.getSource("vector_source");
                    n && (n.setStyleAndIconInfo(t, e), n.clearTiles()), this._fire("mapstyle_changed", {
                        styleId: t
                    })
                }
            }, {
                key: "initBaseLayer",
                value: function (t) {
                    var e = this;
                    if (this._baseMap || t) {
                        if (t || (t = this._baseMap), Array.isArray(t)) return void t.forEach(function (t) {
                            e.initBaseLayer(t)
                        });
                        switch (t.type) {
                            case rt.MAP_TYPE.satellite:
                                (0, D.createSatelliteLayer)(this.map, {
                                    features: t.features
                                });
                                break;
                            case rt.MAP_TYPE.traffic:
                                (0, D.createTrafficLayer)(this.map);
                                break;
                            case rt.MAP_TYPE.vector:
                            default:
                                (0, D.createVectorLayer)(this.map, {
                                    features: t.features
                                })
                        }
                    }
                }
            }, {
                key: "resetBaseLayer",
                value: function () {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : rt.DEFAULT_BASEMAP.vector;
                    if (!(0, ot.isVerifiedBaseMap)(e)) return console.error("setBaseMap传入的参数不合法", e), this;
                    var n = Array.isArray(e) ? e.map(function (t) {
                            return t.type
                        }) : [e.type],
                        i = (0, ot.compareBaseMap)(this._baseMap, e),
                        r = i ? (0, x.default)(i.increase) : [],
                        o = i ? (0, x.default)(i.decrease) : [];
                    o.length > 0 && this._handleDecreaseBaseMap(o), r.length > 0 && this._handleIncreaseBaseMap(r);
                    var a = (0, ot.formatBaseMap)(e).vector;
                    a && 0 === a.length ? this._setSourceFrozen("vector_source", !0) : this._setSourceFrozen("vector_source", !1);
                    var s = (0, y.default)(rt.SATELLITE_LAYER_ID);
                    return n.forEach(function (e, n) {
                        switch (e) {
                            case rt.MAP_TYPE.satellite:
                                s.forEach(function (e) {
                                    t.moveLayer(e, n)
                                });
                                break;
                            case rt.MAP_TYPE.traffic:
                                t.moveLayer(rt.MAP_TYPE.traffic, n);
                                break;
                            case rt.MAP_TYPE.vector:
                                t.moveLayer(rt.VECTOR_LAYER_ID.base, n)
                        }
                    }), this._baseMap = e, this
                }
            }, {
                key: "_handleIncreaseBaseMap",
                value: function (t) {
                    var e = this,
                        n = [],
                        i = !0,
                        r = !1,
                        o = void 0;
                    try {
                        for (var a, s = (0, p.default)(t); !(i = (a = s.next()).done); i = !0) ! function () {
                            var t = (0, v.default)(a.value, 2),
                                i = t[0],
                                r = t[1],
                                o = [];
                            switch (i) {
                                case rt.MAP_TYPE.satellite:
                                    r.forEach(function (t) {
                                        e._layers[rt.SATELLITE_LAYER_ID[t]] ? (e._setLayerVisible(rt.SATELLITE_LAYER_ID[t], !0), e._setSourceFrozen(rt.SATELLITE_LAYER_ID[t], !1)) : o.push(t)
                                    }), o.length > 0 && n.push({
                                        type: i,
                                        features: o
                                    });
                                    break;
                                case rt.MAP_TYPE.traffic:
                                    e._layers[i] ? (e._setLayerVisible(rt.MAP_TYPE.traffic, !0), e._setSourceFrozen(rt.MAP_TYPE.traffic, !1)) : n.push({
                                        type: i
                                    });
                                    break;
                                case rt.MAP_TYPE.vector:
                                    r.forEach(function (t) {
                                        switch (t) {
                                            case it.BASE_LAYER_TYPE.base:
                                                e._layers[rt.VECTOR_LAYER_ID.base] ? e._setLayerVisible(rt.VECTOR_LAYER_ID.base, !0) : o.push(t);
                                                break;
                                            case it.BASE_LAYER_TYPE.building2d:
                                            case it.BASE_LAYER_TYPE.building3d:
                                                o.push(t);
                                                break;
                                            case it.BASE_LAYER_TYPE.point:
                                            case it.BASE_LAYER_TYPE.label:
                                                var n = e._layers[rt.VECTOR_LAYER_ID.poi],
                                                    i = t === it.BASE_LAYER_TYPE.point ? it.BASE_LAYER_TYPE.label : it.BASE_LAYER_TYPE.point;
                                                n ? n.hasChild(t) ? n.getChild(t).setVisible(!0) : (n.hasChild(i) && o.push(i), n.setMap(null), o.push(t)) : o.push(t)
                                        }
                                    }), o.length > 0 && n.push({
                                        type: i,
                                        features: o
                                    })
                            }
                        }()
                    } catch (t) {
                        r = !0, o = t
                    } finally {
                        try {
                            !i && s.return && s.return()
                        } finally {
                            if (r) throw o
                        }
                    }
                    this.initBaseLayer(n)
                }
            }, {
                key: "_handleDecreaseBaseMap",
                value: function (t) {
                    var e = this,
                        n = !0,
                        i = !1,
                        r = void 0;
                    try {
                        for (var o, a = (0, p.default)(t); !(n = (o = a.next()).done); n = !0) {
                            var s = (0, v.default)(o.value, 2),
                                l = s[0],
                                u = s[1];
                            ! function () {
                                switch (l) {
                                    case rt.MAP_TYPE.satellite:
                                        var t = (0, d.default)(rt.SATELLITE_LAYER_ID);
                                        u.forEach(function (n) {
                                            t.includes(n) && (e._setLayerVisible(rt.SATELLITE_LAYER_ID[n], !1), e._setSourceFrozen(rt.SATELLITE_LAYER_ID[n], !0))
                                        });
                                        break;
                                    case rt.MAP_TYPE.traffic:
                                        e._setLayerVisible(rt.MAP_TYPE.traffic, !1), e._setSourceFrozen(rt.MAP_TYPE.traffic, !0);
                                        break;
                                    case rt.MAP_TYPE.vector:
                                        u.forEach(function (t) {
                                            switch (t) {
                                                case it.BASE_LAYER_TYPE.base:
                                                    e._setLayerVisible(rt.VECTOR_LAYER_ID.base, !1);
                                                    break;
                                                case it.BASE_LAYER_TYPE.building2d:
                                                case it.BASE_LAYER_TYPE.building3d:
                                                    e._layers[rt.VECTOR_LAYER_ID.building].setMap(null);
                                                    break;
                                                case it.BASE_LAYER_TYPE.point:
                                                case it.BASE_LAYER_TYPE.label:
                                                    var n = e._layers[rt.VECTOR_LAYER_ID.poi],
                                                        i = n ? n.getChild(t) : null;
                                                    i && i.setVisible(!1)
                                            }
                                        })
                                }
                            }()
                        }
                    } catch (t) {
                        i = !0, r = t
                    } finally {
                        try {
                            !n && a.return && a.return()
                        } finally {
                            if (i) throw r
                        }
                    }
                }
            }, {
                key: "_setLayerVisible",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        n = this._layers[t];
                    return n && n.setVisible(e), this
                }
            }, {
                key: "_setSourceFrozen",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        n = this.getSource(t);
                    return n && (n.isFrozen = e), this
                }
            }, {
                key: "getFinalUsedMapStyleId",
                value: function () {
                    return this._finalUsedMapStyleId
                }
            }, {
                key: "getSource",
                value: function (t) {
                    return this._sources[t]
                }
            }, {
                key: "addSource",
                value: function (t, e) {
                    var n = r(t, e, this.dispatcher);
                    this._sources[t] = n, n._setEventedParent(this, function () {
                        return {
                            source: n,
                            sourceId: t
                        }
                    }), n.onAdd(this.map)
                }
            }, {
                key: "removeSource",
                value: function (t) {
                    if (this._sources[t]) {
                        var e = this._sources[t];
                        delete this._sources[t], e._setEventedParent(null), e.clear(), e.onRemove && e.onRemove(this.map)
                    }
                }
            }, {
                key: "removeLayer",
                value: function (t) {
                    var e = this._layers[t];
                    if (!e) return void this._fire("error", {
                        error: new Error("The layer '" + t + "' does not exist in map")
                    });
                    e._setEventedParent(null), delete this._layers[t], this._order = this._serializeLayers()
                }
            }, {
                key: "getLayer",
                value: function (t) {
                    return this._layers[t]
                }
            }, {
                key: "findLayer",
                value: function (t) {
                    return (0, y.default)(this._layers).find(t)
                }
            }, {
                key: "addLayer",
                value: function (t) {
                    this._layers[t.id] = t, this._order = this._serializeLayers(), t._setEventedParent(this, {
                        layer: {
                            id: t.id
                        }
                    })
                }
            }, {
                key: "_serializeLayers",
                value: function () {
                    var t = [],
                        e = (0, d.default)(this._layers),
                        n = !0,
                        i = !1,
                        r = void 0;
                    try {
                        for (var o, a = (0, p.default)(e); !(n = (o = a.next()).done); n = !0) {
                            var s = o.value,
                                l = this._layers[s];
                            t.push(l)
                        }
                    } catch (t) {
                        i = !0, r = t
                    } finally {
                        try {
                            !n && a.return && a.return()
                        } finally {
                            if (i) throw r
                        }
                    }
                    return t.length > 1 && t.sort(function (t, e) {
                        return t.rank - e.rank
                    }), t
                }
            }, {
                key: "getDrawLayers",
                value: function () {
                    return this._order.reduce(function (t, e) {
                        return t.concat(e.flat())
                    }, [])
                }
            }, {
                key: "_updateSource",
                value: function (t, e, n) {
                    St.forIn(this._sources, function (i, r) {
                        !0 !== r.isFrozen && r.update(t, e, n)
                    })
                }
            }, {
                key: "moveLayer",
                value: function (t, e) {
                    this._layers[t] && (this._layers[t].setRank(e), this._order = this._serializeLayers())
                }
            }, {
                key: "update",
                value: function () {}
            }, {
                key: "addVisualPlugin",
                value: function (t) {
                    var e = t.id;
                    if (this._visualPlugins[e]) return void console.warn("The visualPlugin '" + e + "' already exists in map");
                    this._visualPlugins[e] = t
                }
            }, {
                key: "removeVisualPlugin",
                value: function (t) {
                    if (!this._visualPlugins[t]) return void console.warn("The visualPlugin '" + t + "' does not exist in map");
                    delete this._visualPlugins[t]
                }
            }, {
                key: "getPlugins",
                value: function () {
                    return this._sortPlugins(this._visualPlugins, "zIndex")
                }
            }, {
                key: "_sortPlugins",
                value: function (t, e) {
                    var n = (0, y.default)(t);
                    return St.bubbleSort(n, e), n
                }
            }, {
                key: "uploadTileImage",
                value: function (t, e, n) {
                    var i = this,
                        r = e.tileId,
                        l = o(e.imgBase64, e.extImgBase64),
                        u = l.imgBase64List,
                        c = l.extOffset;
                    if (r && u.length) {
                        this.map.renderEngine.painters.symbol.preDraw({
                            iconsLoader: this.iconsLoader
                        });
                        var f = this.map.renderEngine.textCache;
                        if (f && !f.tiles[r]) {
                            var d = new vt.ScheduleTaskNode;
                            d.tileId = r;
                            var h = function () {
                                if (f.tiles[r]) return n(null, null), null;
                                var t = null,
                                    o = !1,
                                    l = !1,
                                    d = null,
                                    h = [];
                                if ((0, yt.isInterceptForBase64)(i.map.getZoom(), e.zoom)) return o = !0, l = !0, n(null, null), null;
                                var v = u.map(function (t, e) {
                                    return a(t, {
                                        id: r + "_" + e
                                    })
                                });
                                return T.default.all(v).then(function (e) {
                                    var n = s(e),
                                        i = n.canvas,
                                        r = n.yOffset;
                                    t = i, h = r, o = !0
                                }).catch(function (t) {
                                    console.error("img upload failed ", t)
                                }), d = function () {
                                    if (o && !l) return (0, yt.isInterceptForGPU)(i.map.getZoom(), e.zoom) ? (l = !0, n(null, null), null) : t ? (f.addImage(r, t, function () {
                                        t = null, f.tiles[r].yOffsetList = h, l = !0, n(null, {
                                            yOffsetList: h,
                                            extOffset: c
                                        })
                                    }), d) : (n(null, {
                                        yOffsetList: h,
                                        extOffset: c
                                    }), null);
                                    if (l) {
                                        if ((0, yt.isInterceptForTileData)(i.map.getZoom(), e.zoom)) return null;
                                        var a = i.getSource("vector_source"),
                                            s = a && a.getDrawItems(),
                                            u = s && s[r],
                                            v = u && u.getData();
                                        return v ? (v[it.BASE_LAYER_TYPE.text] || (v[it.BASE_LAYER_TYPE.text] = {}, v[it.BASE_LAYER_TYPE.text][r] = t && t.toDataURL() || ""), null) : d
                                    }
                                    return d
                                }, d.tileId = r, d
                            };
                            h.tileId = r, d.setCallback(h), d.addToQueue(this.map.fpsManager.scheduleTaskQueue)
                        } else f && n(null, {
                            yOffsetList: f.tiles[r].yOffsetList,
                            extOffset: c
                        })
                    } else n(null, null)
                }
            }, {
                key: "addGlyphs",
                value: function (t, e, n) {
                    if (e.glyphs && e.glyphs.length > 0) {
                        var i = this.map.renderEngine.glyphManager.generateAtlas(e.glyphs);
                        n(null, {
                            mapping: (0, c.default)(i.mapping)
                        })
                    } else n(null, {
                        mapping: "{}"
                    })
                }
            }, {
                key: "addMarkers",
                value: function (t, e, n) {
                    e.markerSrcs && e.markerSrcs.length > 0 ? this.map.renderEngine.markerManager.generateAtlas(e.markerSrcs).then(function (t) {
                        n(null, {
                            mapping: (0, c.default)(t)
                        })
                    }).catch(function (t) {
                        console.error(t), n(null, {
                            mapping: "{}"
                        })
                    }) : n(null, {
                        mapping: "{}"
                    })
                }
            }, {
                key: "addBillboards",
                value: function (t, e, n) {
                    if (e.markerSrcs && e.markerSrcs.length > 0 || e.tileId) {
                        var i = e.markerSrcs,
                            r = null;
                        e.tileId && (r = JSON.parse(e.billboardData), i = r.map(function (t) {
                            return t.text
                        })), this.map.renderEngine.markerManager.generateAtlas(i, {
                            tileId: e.tileId,
                            tileImage64: e.tileImage64,
                            billboardData: r
                        }).then(function (t) {
                            n(null, {
                                mapping: (0, c.default)(t)
                            })
                        }).catch(function (t) {
                            console.error(t), n(null, {
                                mapping: "{}"
                            })
                        })
                    } else n(null, {
                        mapping: "{}"
                    })
                }
            }, {
                key: "uploadTileTexture",
                value: function (t, e, n) {
                    var i = this;
                    if (e.billboard || e.glyphs) {
                        var r = new T.default(function (n) {
                                i.addBillboards(t, e.billboard, function (t, e) {
                                    n(e.mapping)
                                })
                            }),
                            o = new T.default(function (n) {
                                i.addGlyphs(t, e, function (t, e) {
                                    n(e.mapping)
                                })
                            });
                        T.default.all([r, o]).then(function (t) {
                            n(null, {
                                billboardMapping: t[0],
                                glyphMapping: t[1]
                            })
                        })
                    } else n(null, {
                        billboardMapping: "{}",
                        glyphMapping: "{}"
                    })
                }
            }, {
                key: "getIndoorGlyphInfo",
                value: function (t, e, n) {
                    var i = this;
                    if (e.pointInfoSet || e.glyphList || e.iconSrcList) {
                        var r = new T.default(function (n) {
                                i.addMarkers(t, {
                                    markerSrcs: e.iconSrcList
                                }, function (t, e) {
                                    n(e.mapping)
                                })
                            }),
                            o = new T.default(function (n) {
                                i.addGlyphs(t, {
                                    glyphs: e.glyphList
                                }, function (t, e) {
                                    n(e.mapping)
                                })
                            }),
                            a = JSON.parse(e.indoorStyle),
                            s = new T.default(function (t) {
                                var n = document.createElement("canvas"),
                                    i = n.getContext("2d"),
                                    r = JSON.parse(e.pointInfoSet),
                                    o = {};
                                (0, d.default)(r).forEach(function (t) {
                                    var e = parseInt(t.replace("zoom", ""), 10);
                                    o[e] = r[t].filter(function (t) {
                                        return !!t
                                    }).map(function (t) {
                                        return t.map(function (t) {
                                            return (0, mt.getPoiRect)(t, e, i, a)
                                        })
                                    })
                                }), t((0, c.default)(o))
                            });
                        T.default.all([r, o, s]).then(function (t) {
                            n(null, {
                                iconMapping: t[0],
                                glyphMapping: t[1],
                                poiMapping: t[2]
                            })
                        })
                    } else n(null, {
                        iconMapping: "{}",
                        glyphMapping: "{}",
                        poiMapping: "{}"
                    })
                }
            }, {
                key: "destroy",
                value: function () {
                    var t = this;
                    (0, d.default)(this._visualPlugins).forEach(function (e) {
                        t._visualPlugins[e].remove()
                    }), this._visualPlugins = null, (0, d.default)(this._layers).forEach(function (e) {
                        t.removeLayer(e)
                    }), this._layers = null, this._order = null, (0, d.default)(this._sources).forEach(function (e) {
                        t.removeSource(e)
                    }), this._sources = null, this._stylePromise = null, this.dispatcher.destroy(), this.iconsLoader = null, this._mapStyleId = null, this._finalUsedMapStyleId = null, this._lastStyleId = null, this._baseMap = null, this._clearAllListeners(), this.map = null
                }
            }, {
                key: "baseMap",
                get: function () {
                    return this._baseMap
                },
                set: function (t) {
                    this.resetBaseLayer(t)
                }
            }]), e
        }(xt);
    t.exports = Et
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(506),
        _ = i(v),
        p = n(365),
        m = i(p),
        y = function (t) {
            function e(t, n, i) {
                (0, s.default)(this, e);
                var r = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n, i));
                return r.loading = {}, r.loaded = {}, r
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_indexData",
                value: function (t, e, n) {
                    try {
                        var i = {
                            features: {
                                geometries: e.geometries,
                                styles: e.styles
                            },
                            type: e.type
                        };
                        n(null, i)
                    } catch (t) {
                        return n(t)
                    }
                }
            }, {
                key: "loadTile",
                value: function (t, e) {
                    function n(t, n) {
                        return delete this.loading[i][r], t ? e(t) : n ? (o.vectorTile = n, o.parse(n, this.actor, e), this.loaded[i] = this.loaded[i] || {}, void(this.loaded[i][r] = o)) : e(null, null)
                    }
                    var i = t.source,
                        r = t.uid;
                    this.loading[i] || (this.loading[i] = {});
                    var o = this.loading[i][r] = new _.default(t);
                    o.abort = this.loadVectorData(t, n.bind(this))
                }
            }, {
                key: "abortTile",
                value: function (t) {
                    var e = this.loading[t.source],
                        n = t.uid;
                    e && e[n] && e[n].abort && (e[n].abort(), delete e[n])
                }
            }, {
                key: "removeTile",
                value: function (t) {
                    var e = this.loaded[t.source],
                        n = t.uid;
                    e && e[n] && delete e[n], this.removeSource(t)
                }
            }]), e
        }(m.default);
    e.default = y
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(231),
        u = i(l),
        c = n(479),
        f = i(c),
        d = n(478),
        h = i(d),
        v = n(477),
        _ = i(v),
        p = n(351),
        m = i(p),
        y = n(480),
        g = i(y),
        x = n(105),
        b = function () {
            function t(e) {
                (0, o.default)(this, t), this.uid = e.uid, this.coord = e.coord
            }
            return (0, s.default)(t, [{
                key: "parse",
                value: function (t, e, n) {
                    var i = void 0,
                        r = this.coord.x + "_" + this.coord.y + "_" + this.coord.z,
                        o = {};
                    switch (t.type) {
                        case x.GEOMETRY_TYPES.POLYGON:
                            i = (0, u.default)(t.features, e);
                            break;
                        case x.GEOMETRY_TYPES.CIRCLE:
                            i = (0, m.default)(t.features, e);
                            break;
                        case x.GEOMETRY_TYPES.RECTANGLE:
                            i = (0, g.default)(t.features, e);
                            break;
                        case x.GEOMETRY_TYPES.POLYLINE:
                            i = (0, f.default)(t.features, e), i.uid = this.uid;
                            break;
                        case x.GEOMETRY_TYPES.POINT:
                            return void(0, h.default)(t.features, e, function (t) {
                                o[r] = t, n(null, o)
                            });
                        case x.GEOMETRY_TYPES.LABEL:
                            return void(0, _.default)(t.features, e, function (t) {
                                o[r] = t, n(null, o)
                            })
                    }
                    o[r] = i, n(null, o)
                }
            }]), t
        }();
    e.default = b
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(366),
        _ = i(v),
        p = n(48),
        m = function (t) {
            function e(t, n, i) {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n, i))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_initialize",
                value: function () {
                    this.type = p.SOURCE_TYPE.geoTask
                }
            }, {
                key: "update",
                value: function () {}
            }, {
                key: "getCluster",
                value: function (t, e) {
                    var n = {
                        type: this.type,
                        pixelsPerDegree: t.pixelsPerDegree,
                        resetCluster: t.resetCluster,
                        mapBounds: t.mapBounds,
                        zoom: t.zoom,
                        maxZoom: this.maxZoom,
                        source: this.getUniqueId()
                    };
                    this.dispatcher.send(this.type + ".getCluster", n, function (t, n) {
                        if (t || !n) return void console.error(t);
                        var i = JSON.parse(n);
                        return e(i)
                    }, this.workerID)
                }
            }]), e
        }(_.default);
    e.default = m
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(55),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(365),
        m = i(p),
        y = n(481),
        g = i(y),
        x = !1,
        b = function (t) {
            function e(t, n, i) {
                return (0, u.default)(this, e), (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t, n, i))
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "_indexData",
                value: function (t, e, n) {
                    try {
                        var i = {
                            task: new g.default(e, {
                                minimumClusterSize: t.minimumClusterSize,
                                gridSize: t.gridSize,
                                averageCenter: t.averageCenter
                            })
                        };
                        n(null, i)
                    } catch (t) {
                        return n(t)
                    }
                }
            }, {
                key: "getCluster",
                value: function (t, e) {
                    function n(n, i) {
                        x && console.log(i), x && console.time("createClusters");
                        var r = i.task,
                            a = r.createClusters(t);
                        x && console.timeEnd("createClusters"), e(null, (0, o.default)(a))
                    }
                    x && console.log("getCluster", t), this.loadVectorData(t, n.bind(this))
                }
            }]), e
        }(m.default);
    e.default = b
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(137),
        m = n(155),
        y = i(m),
        g = n(139),
        x = i(g),
        b = n(362),
        S = i(b),
        w = n(62),
        E = i(w),
        A = function (t) {
            function e(t, n, i) {
                (0, s.default)(this, e);
                var r = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n, i));
                return r._data = n.data || null, r._data && (r._data.center = r._data.bounds.getCenter()), r._glTexture = null, r._items = {}, r
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "onAdd",
                value: function (t) {
                    this.map = t, this._glTexture || (this._glTexture = new E.default(this.map.renderEngine.gl, {
                        tex: this._data.mediaSource
                    })), this._fire("data", {
                        dataType: "source",
                        sourceDataType: "metadata"
                    })
                }
            }, {
                key: "setData",
                value: function (t) {
                    if (this._data = t, this._data && (this._data.center = this._data.bounds.getCenter()), this._glTexture) {
                        var e = this.map.renderEngine.gl;
                        this._glTexture.update(this._data.mediaSource, {
                            textureIndex: 0,
                            minFilter: e.LINEAR,
                            magFilter: e.LINEAR,
                            wrapS: e.CLAMP_TO_EDGE,
                            wrapT: e.CLAMP_TO_EDGE,
                            premultiply: !0,
                            useMipmap: !1,
                            flipY: !0
                        })
                    }
                    this.transform, this.camera && this.update(this.transform, this.camera), this._fire("setData", {
                        dataType: "source",
                        sourceDataType: "content"
                    })
                }
            }, {
                key: "update",
                value: function (t, e, n) {
                    if (this.transform = t, this.camera = e, this._data && (0, p.isInFrustum)(this.map, this._data.bounds)) {
                        var i = new x.default(0, 0, 0, 0);
                        this.addItem(i)
                    }
                }
            }, {
                key: "addItem",
                value: function (t) {
                    var e = this._items[t.id];
                    if (this._data && !e) {
                        e = new y.default(t, this.tileSize, this.maxZoom, this.transform, this.camera), this._items[t.id] = e, e.setData({
                            bounds: this._data.bounds,
                            center: this._data.center,
                            texture: this._glTexture,
                            texInfo: {
                                s: 0,
                                t: 0,
                                w: 1,
                                h: 1
                            }
                        });
                        var n = this.map.renderEngine.gl;
                        this._glTexture.upload({
                            textureIndex: 0,
                            minFilter: n.LINEAR,
                            magFilter: n.LINEAR,
                            wrapS: n.CLAMP_TO_EDGE,
                            wrapT: n.CLAMP_TO_EDGE,
                            premultiply: !0,
                            useMipmap: !1,
                            flipY: !0
                        })
                    } else {
                        var i = e.getData();
                        i.bounds = this._data.bounds, i.center = this._data.center, e.setData(i)
                    }
                }
            }, {
                key: "getDrawItems",
                value: function () {
                    var t = this._items;
                    return this._data ? (0, p.isInFrustum)(this.map, this._data.bounds) ? t : {} : t
                }
            }, {
                key: "onRemove",
                value: function () {
                    (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "onRemove", this).call(this), this._items = {}, this._glTexture.destroy()
                }
            }]), e
        }(S.default);
    e.default = A
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return (0, a.default)(t).every(function (e) {
            return t[e] && t[e].hasData() && t[e].state === x.TILE_STATE.loaded
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(10),
        a = i(o),
        s = n(2),
        l = i(s),
        u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(4),
        v = i(h),
        _ = n(3),
        p = i(_),
        m = n(235),
        y = i(m),
        g = n(48),
        x = n(155),
        b = i(x),
        S = n(378),
        w = i(S),
        E = n(597),
        A = function (t) {
            function e(t, n, i) {
                (0, c.default)(this, e);
                var r = (0, v.default)(this, (e.__proto__ || (0, l.default)(e)).call(this, t, n, i));
                return r.type = g.SOURCE_TYPE.imageTile, r._tileBuffer = {}, r.on("tilebufferloaded", function () {
                    var t = {};
                    r._visibleCoordList.forEach(function (e) {
                        var n = r._items[e.id] || r._tileBuffer[e.id];
                        n && n.hasData() && (t[e.id] = n)
                    });
                    for (var e in r._items) t.hasOwnProperty(e) || r.removeTile(e);
                    r._tileBuffer = {}, r._items = t, r._fire("data", {
                        dataType: "source"
                    }), r._fire("tilesloaded", {
                        dataType: "source",
                        tiles: r._items
                    })
                }), r
            }
            return (0, p.default)(e, t), (0, d.default)(e, [{
                key: "loadTile",
                value: function (t, e, n) {
                    function i(e, i, r) {
                        if (e) return void n(e);
                        i.bitmap ? (t.setData(i.bitmap), n(null)) : i.image ? (0, E.blobToImage)(i.image).then(function (e) {
                            return (0, E.canvasToImage)((0, E.imageToCanvas)(e, {
                                width: t.tileSize,
                                height: t.tileSize
                            }))
                        }).then(function (e) {
                            t.setData(e), n(null)
                        }).catch(function (t) {
                            console.error(t), n("Image格式转换失败")
                        }) : n("Invalid Data")
                    }
                    var r = t.coord,
                        o = t.uid,
                        a = t.tileSize,
                        s = this._data(r.x, r.y, r.z),
                        l = {
                            url: s,
                            uid: o,
                            tileSize: a,
                            type: this.type,
                            isBitmapEnabled: window.createImageBitmap && "Firefox" !== w.default.browser
                        };
                    t.workerID && t.state !== x.TILE_STATE.expired ? t.state === x.TILE_STATE.loading || this.dispatcher.send("reloadTile", l, i.bind(this), t.workerID) : t.workerID = this.dispatcher.send("loadTile", l, i.bind(this))
                }
            }, {
                key: "unloadTile",
                value: function (t) {
                    t.clear(), this.dispatcher.send("removeTile", {
                        uid: t.uid,
                        type: this.type
                    }, null, t.workerID)
                }
            }, {
                key: "abortTile",
                value: function (t) {
                    this.dispatcher.send("abortTile", {
                        uid: t.uid,
                        type: this.type
                    }, null, t.workerID)
                }
            }, {
                key: "reloadTile",
                value: function (t) {
                    t.state !== x.TILE_STATE.reloading && (t.state = x.TILE_STATE.reloading, this._tileBuffer[t.coord.id] = t, this.loadTile(t, {}, this._tileLoaded.bind(this, t)))
                }
            }, {
                key: "update",
                value: function (t, e, n) {
                    var i = this;
                    this.transform = t, this.camera = e, this.updateCacheSize(t);
                    var o = t.coveringTiles({
                        round: !0,
                        tileSize: this.tileSize,
                        minzoom: this.minzoom,
                        maxzoom: this.maxzoom,
                        pixelGeo: this._isPixelGeo
                    });
                    this._visibleCoordList = o;
                    var a = o.filter(function (t) {
                        var e = i._items[t.id];
                        return !(e && e.hasData())
                    });
                    a.length && (a.forEach(function (t) {
                        t.id in i._tileBuffer || i.addTileToBuffer(t, null, null)
                    }), r(this._tileBuffer) && this._fire("tilebufferloaded"))
                }
            }, {
                key: "addTileToBuffer",
                value: function (t, e, n) {
                    var i = this._items[t.id];
                    return i || ((i = this._cache.get(t.id)) ? (this._tileBuffer[t.id] = i, i) : (i = new b.default(t, this.tileSize, this.maxZoom, this.transform, this.camera), this._tileBuffer[t.id] = i, this.loadTile(i, e, n ? n.bind(this) : this._tileLoaded.bind(this, i)), i))
                }
            }, {
                key: "_tileLoaded",
                value: function (t, e) {
                    e && (404 !== e.status ? (t.state = x.TILE_STATE.loaded, this._fire("loaderror", {
                        tile: t,
                        error: e
                    })) : t.state = x.TILE_STATE.loaded), r(this._tileBuffer) && this._fire("tilebufferloaded")
                }
            }]), e
        }(y.default);
    e.default = A
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(104),
        u = n(51),
        c = function () {
            function t(e) {
                (0, o.default)(this, t), this.actor = e, this.cache = new u.Store("imageTileLoader", 1e3)
            }
            return (0, s.default)(t, [{
                key: "loadTile",
                value: function (t, e) {
                    var n = t.url,
                        i = t.uid,
                        r = t.tileSize,
                        o = t.isBitmapEnabled;
                    i in this.cache || (this.cache[i] = (0, l.getImage)(n, 12e3)), this.cache[i].promise.then(function (t) {
                        o ? self.createImageBitmap(t, {
                            imageOrientation: "flipY",
                            premultiplyAlpha: "premultiply",
                            resizeWidth: r,
                            resizeHeight: r
                        }).then(function (t) {
                            e(null, {
                                bitmap: t,
                                transferableList: [t]
                            })
                        }).catch(function (t) {
                            console.warn(t), e(t)
                        }) : e(null, {
                            image: t,
                            transfertableList: [t]
                        })
                    }).catch(function (t) {
                        switch (t.message) {
                            case "abort":
                                break;
                            default:
                                e(t)
                        }
                    })
                }
            }, {
                key: "abortTile",
                value: function (t) {
                    var e = t.uid;
                    e in this.cache && (this.cache[e].xhr.abort(), this.cache[e] = null)
                }
            }, {
                key: "removeTile",
                value: function (t) {
                    this.abortTile(t)
                }
            }, {
                key: "reloadTile",
                value: function (t, e) {
                    t.uid in this.cache && delete this.cache[t.uid], this.loadTile(t, e)
                }
            }]), t
        }();
    e.default = c
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(107),
        o = i(r),
        a = n(55),
        s = i(a),
        l = n(2),
        u = i(l),
        c = n(0),
        f = i(c),
        d = n(1),
        h = i(d),
        v = n(4),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(9),
        g = i(y),
        x = n(29),
        b = i(x),
        S = n(61),
        w = i(S),
        E = n(364),
        A = i(E),
        T = n(139),
        k = i(T),
        P = n(137),
        I = n(48),
        M = n(198),
        L = function (t) {
            function e(t, n, i) {
                return (0, f.default)(this, e), (0, _.default)(this, (e.__proto__ || (0, u.default)(e)).call(this, t, n, i))
            }
            return (0, m.default)(e, t), (0, h.default)(e, [{
                key: "setSelectedFloor",
                value: function (t) {
                    if (!this._loaded) return -1;
                    var e = this.getMetaData(),
                        n = e.floorInfo.floorStrArr.indexOf(t);
                    return n >= 0 && (this._selectedFloorNum = n, this.update(this.map.transform)), n
                }
            }, {
                key: "getSelectedFloor",
                value: function () {
                    return this._loaded ? this.getMetaData().floorInfo.floorStrArr[this._selectedFloorNum] || null : null
                }
            }, {
                key: "_initialize",
                value: function () {
                    this.type = I.SOURCE_TYPE.indoor, this._selectedFloorNum = null
                }
            }, {
                key: "_onLoadDataStart",
                value: function () {
                    var t = M.IndoorStyleMap.getInstance().get(this._data.indoorStyleId);
                    t.id = this._data.indoorStyleId, this.workerID = this.dispatcher.send(this.type + ".setStyle", {
                        indoorStyle: (0, s.default)(t)
                    })
                }
            }, {
                key: "_onLoadDataEnd",
                value: function () {
                    var t = this.getMetaData(),
                        e = t.floorInfo.defaultNum;
                    this._selectedFloorNum = e;
                    var n = t.floorInfo.bounds[0],
                        i = t.floorInfo.bounds[1];
                    this._buildingBounds = new w.default(new b.default(n.lat, n.lng), new b.default(i.lat, i.lng)), this._fire("loaded")
                }
            }, {
                key: "_onLoadDataError",
                value: function (t) {
                    console.error("室内建筑物 " + this._data.buildingId + " 加载出错", t)
                }
            }, {
                key: "update",
                value: function (t) {
                    if (this.transform = t, this._loaded && (0, P.isInFrustum)(this.map, this._buildingBounds) && t.zoom >= g.default.minShowIndoorZoom) {
                        var e = this.getMetaData(),
                            n = new k.default(0, e.buildingId, this._selectedFloorNum, 0);
                        this.addItem(n)
                    }
                }
            }, {
                key: "getDrawItems",
                value: function () {
                    var t = this._items,
                        e = this.getMetaData();
                    if (!e) return t;
                    if (!(0, P.isInFrustum)(this.map, this._buildingBounds)) return {};
                    var n = e.buildingId + "_" + this._selectedFloorNum + "_0",
                        i = t[n];
                    return i && i.hasData() && (this._currentItems = (0, o.default)({}, n, i)), this._currentItems || {}
                }
            }]), e
        }(A.default);
    e.default = L
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(32),
        o = i(r),
        a = n(25),
        s = i(a),
        l = n(37),
        u = i(l),
        c = n(142),
        f = i(c),
        d = n(0),
        h = i(d),
        v = n(1),
        _ = i(v),
        p = n(9),
        m = i(p),
        y = n(29),
        g = i(y),
        x = n(232),
        b = n(233),
        S = n(514),
        w = i(S),
        E = n(103),
        A = i(E),
        T = n(81),
        k = i(T),
        P = n(813),
        I = n(815),
        M = n(104),
        L = function () {
            function t(e, n) {
                (0, h.default)(this, t), this._indoorBuildingSet = {}, this._mapId = n, this.actor = e, this.loading = {}, this.loaded = {}, this.versionPromiseMap = new f.default
            }
            return (0, _.default)(t, [{
                key: "setStyle",
                value: function (t) {
                    this._indoorStyle = JSON.parse(t.indoorStyle)
                }
            }, {
                key: "loadTile",
                value: function (t, e) {
                    function n(t, n) {
                        return delete this.loading[i][r], t ? e(t) : n ? (o.vectorTile = n, o.parse(n, this.actor, this._indoorStyle, e), this.loaded[i] = this.loaded[i] || {}, void(this.loaded[i][r] = o)) : e(null, null)
                    }
                    var i = t.source,
                        r = t.uid;
                    this.loading[i] || (this.loading[i] = {});
                    var o = this.loading[i][r] = new w.default(t);
                    o.abort = this.loadVectorData(t, n.bind(this))
                }
            }, {
                key: "removeTile",
                value: function (t) {
                    this.removeSource(t)
                }
            }, {
                key: "loadVectorData",
                value: function (t, e) {
                    var n = t.source;
                    t.coord;
                    if (!this._indoorBuildingSet[n]) return e(null, null);
                    e(null, this._indoorBuildingSet[n])
                }
            }, {
                key: "loadData",
                value: function (t, e) {
                    var n = function (n, i) {
                        return n ? e(n) : "object" !== (void 0 === i ? "undefined" : (0, u.default)(i)) ? e(new Error("Input data is not a valid Indoor object.")) : (this._indoorBuildingSet[t.source] = i, void e(null, {
                            buildingId: i.buildingId,
                            buildingName: i.Name_CN,
                            floorInfo: i.floorInfo,
                            center: i.areaCenter
                        }))
                    }.bind(this);
                    this.loadIndoorBuffer(t, n)
                }
            }, {
                key: "loadIndoorBuffer",
                value: function (t, e) {
                    var n = this,
                        i = JSON.parse(t.data),
                        r = k.default.QMAPI_indoor_buffer + i.buildingId;
                    new s.default(function (t) {
                        A.default.get(r, function (e) {
                            t(e)
                        })
                    }).then(function (t) {
                        return n._getVersion(t).then(function (e) {
                            return n._getIndoorInfoData(i, t, e)
                        })
                    }).then(function (t) {
                        x.ConfigUtil.setBV(t.version), e(null, t.buildingData)
                    }).catch(function (t) {
                        e(t, null)
                    })
                }
            }, {
                key: "_getVersion",
                value: function (t) {
                    var e = null;
                    if (t) {
                        var n = m.default.indoorBuildingSrc + "?df=1&type=dataver&cid=" + t.cityId;
                        e = this.versionPromiseMap.get(t.cityId) || new s.default(function (t) {
                            M.getJSON(null, n, function (e, n) {
                                var i = 1 / 0;
                                e ? console.error(e) : i = n && n.metadata && n.metadata.version && n.metadata.version.data, t({
                                    version: i
                                })
                            })
                        }), this.versionPromiseMap.set(t.cityId, e)
                    } else e = s.default.resolve({
                        version: 1 / 0
                    });
                    return e
                }
            }, {
                key: "_getIndoorInfoData",
                value: function (t, e, n) {
                    var i = this,
                        r = k.default.QMAPI_indoor_buffer + t.buildingId,
                        o = m.default.indoorBuildingSrc + "?df=1&cid=" + (e && e.cityId || t.cityId) + "&bid=" + t.buildingId,
                        a = n.version;
                    return e && e.version >= a ? s.default.resolve(e) : new s.default(function (e, n) {
                        M.getArrayBuffer(o, function (o, a) {
                            if (o) n(o);
                            else {
                                var s = null,
                                    l = a.data,
                                    u = new DataView(l);
                                s = i.extract(u, t.buildingId), A.default.set(r, s), e(s)
                            }
                        })
                    }).catch(function (t) {
                        console.error(t), e ? resolve(e) : reject(t)
                    })
                }
            }, {
                key: "removeSource",
                value: function (t) {
                    this._indoorBuildingSet[t.source] && delete this._indoorBuildingSet[t.source]
                }
            }, {
                key: "extract",
                value: function (t, e) {
                    var n = {},
                        i = 0;
                    n.sign = String.fromCharCode.apply(String, (0, o.default)(new Uint8Array(t.buffer.slice(i, 4)))), i += 4, n.version = t.getInt32(i, !0), i += 4, n.cityId = t.getInt32(i, !0), i += 4, n.buildId = t.getInt32(i, !0), i += 4, n.zipSize = t.getInt32(i, !0), i += 4, n.srcSize = t.getInt32(i, !0), i += 4, n.CRC = t.getInt32(i), i += 4, P(t.byteLength - 28 === n.zipSize, "Check zip size");
                    var r = I.inflate(t.buffer.slice(i), {
                        windowBits: -15
                    });
                    return P(r.length === n.srcSize, "Check unzipped size"), n.buildingData = this.extractFloorInfo(r, e), n.buildingData.buildingId = e, n.buildingData.buffer = r, n
                }
            }, {
                key: "extractFloorInfo",
                value: function (t, e) {
                    var n = new DataView(t.buffer),
                        i = 0,
                        r = {};
                    r.Attribute_size = n.getInt32(i, !0), i += 4, r.Data_size = n.getInt32(i, !0), i += 4, r.Topology_size = n.getInt32(i, !0), i += 4, r.Name_CN_size = n.getUint8(i, !0), i += 1, r.Name_CN = String.fromCharCode.apply(String, (0, o.default)(new Uint16Array(n.buffer.slice(i, i + r.Name_CN_size)))), i += r.Name_CN_size, r.DefaultFloor = n.getUint8(i, !0), i += 1, r.Floor_num = n.getUint8(i, !0), i += 1, r.Floor_str_size = n.getUint8(i, !0), i += 1;
                    for (var a = [], s = 0; s < r.Floor_str_size; s++) {
                        var l = n.getUint8(i, !0);
                        a.push(l), i++
                    }
                    r.floorStr = String.fromCharCode.apply(null, a);
                    for (var u = [], c = 0; c < 4; c++) {
                        var f = n.getInt32(i, !0);
                        u.push(f), i += 4
                    }
                    var d = [],
                        h = {},
                        v = {};
                    h.x = u[0], v.x = u[1], h.y = u[2], v.y = u[3];
                    var _ = void 0,
                        p = void 0;
                    try {
                        _ = (0, b.pixels2LongLat)(h.x, v.y), p = (0, b.pixels2LongLat)(v.x, h.y), d.push(_), d.push(p)
                    } catch (t) {
                        throw new Error("数据错误，bounds无效。")
                    }
                    return r.floorInfo = {
                        floorNum: r.Floor_num,
                        floorStr: r.floorStr,
                        floorStrArr: r.floorStr.split(","),
                        bounds: d,
                        defaultNum: r.DefaultFloor
                    }, r.Floor_num = n.getInt32(i, !0), r.areaCenter = new g.default((_.lat + p.lat) / 2, (_.lng + p.lng) / 2), r
                }
            }]), t
        }();
    e.default = L
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(10),
        o = i(r),
        a = n(107),
        s = i(a),
        l = n(55),
        u = i(l),
        c = n(25),
        f = i(c),
        d = n(0),
        h = i(d),
        v = n(1),
        _ = i(v),
        p = n(27),
        m = n(483),
        y = i(m),
        g = function () {
            function t(e) {
                (0, h.default)(this, t), this.uid = e.uid, this.coord = e.coord
            }
            return (0, _.default)(t, [{
                key: "_parseEscalator",
                value: function () {}
            }, {
                key: "parse",
                value: function (t, e, n, i) {
                    var r = this.coord.x + "_" + this.coord.y + "_" + this.coord.z,
                        o = {},
                        a = t.buffer,
                        l = t.buildingId,
                        c = t.areaCenter,
                        d = new y.default(l, {
                            buffer: a,
                            areaCenter: c,
                            floorInfo: t.floorInfo,
                            selectedFloorNum: this.coord.y,
                            indoorStyle: n
                        }),
                        h = d.parseBuilding(),
                        v = d.getBuildingPointInfo(h.buildingPoint),
                        _ = new f.default(function (t) {
                            e.send("getIndoorGlyphInfo", {
                                glyphList: v.glyphList,
                                iconSrcList: v.iconSrcList,
                                pointInfoSet: (0, u.default)(v.pointInfoSet),
                                indoorStyle: (0, u.default)(n)
                            }, function (e, n) {
                                if (e) console.error(e), t(null);
                                else {
                                    var i = JSON.parse(n.iconMapping),
                                        r = JSON.parse(n.glyphMapping),
                                        o = JSON.parse(n.poiMapping);
                                    t({
                                        poiMapping: o,
                                        iconMapping: i,
                                        glyphMapping: r
                                    })
                                }
                            })
                        }),
                        m = h.buildingData.map(function (t) {
                            if (t.length > 0) {
                                return {
                                    top: d.getTopGeometryAttributes(t),
                                    sides: d.getSidesGeometryAttributes(t)
                                }
                            }
                            return null
                        }).filter(function (t) {
                            return !!t
                        }),
                        g = h.buildingEscalator.map(function (t) {
                            if (t.length > 0) {
                                return d.getEscalatorAttributes(t)
                            }
                            return null
                        }).filter(function (t) {
                            return !!t
                        }),
                        x = h.floorBoundsData.map(function (t) {
                            if (t.length > 0) {
                                var e = d.getTopGeometryAttributes(t);
                                return delete e.normal, delete e.color, {
                                    top: e
                                }
                            }
                        }).filter(function (t) {
                            return !!t
                        });
                    _.then(function (t) {
                        var e = d.parseInstanceBuildingPoint(v.pointInfoSet, t.iconMapping, t.glyphMapping, t.poiMapping);
                        o[p.RENDER_LAYER_TYPE.indoorRegion] = (0, s.default)({}, r, {
                            regions: m,
                            bounds: x,
                            center: c,
                            floorIndex: d.selectedFloorNum
                        }), o[p.RENDER_LAYER_TYPE.indoorPoi] = (0, s.default)({}, r, {
                            pois: e,
                            bounds: x,
                            center: c,
                            floorIndex: d.selectedFloorNum
                        }), o[p.RENDER_LAYER_TYPE.indoorEscalator] = (0, s.default)({}, r, {
                            escalators: g,
                            bounds: x,
                            center: c
                        }), o.id = r, i(null, o)
                    })
                }
            }, {
                key: "transferData",
                value: function (t, e) {
                    var n = [],
                        i = ["top", "sides"],
                        r = ["position", "index", "color", "normal"];
                    ["regions", "bounds"].forEach(function (o) {
                        e[p.RENDER_LAYER_TYPE.indoorRegion][t][o].forEach(function (t) {
                            i.forEach(function (e) {
                                r.forEach(function (i) {
                                    var r = t[e] && t[e][i] && t[e][i].buffer;
                                    r && n.push(r)
                                })
                            })
                        })
                    });
                    var a = e[p.RENDER_LAYER_TYPE.indoorPoi][t].pois;
                    (0, o.default)(a).forEach(function (t) {
                        a[t].forEach(function (t) {
                            t.instance.count > 0 && ["instanceTransTypeArray", "instanceCoordsTypeArray", "instanceTextBoundsTypeArray", "instanceInfosTypeArray", "instanceColorsTypeArray", "instanceStrokeColorsTypeArray"].forEach(function (e) {
                                n.push(t.instance[e].buffer)
                            })
                        })
                    });
                    var s = e[p.RENDER_LAYER_TYPE.indoorEscalator][t].escalators;
                    return s.length > 0 && ["instanceCoordsTypeArray", "instanceInfosTypeArray"].forEach(function (t) {
                        n.push(s[0][t].buffer)
                    }), e.transferableList = n, e
                }
            }]), t
        }();
    e.default = g
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        var n = t.z - e.z,
            i = Math.pow(2, n);
        return {
            transX: (t.x - e.x * i) * t.tileSize,
            transY: (t.y - e.y * i) * t.tileSize,
            scale: 1 / i
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(12),
        a = i(o),
        s = n(0),
        l = i(s),
        u = n(1),
        c = i(u),
        f = n(139),
        d = i(f),
        h = n(367),
        v = i(h),
        _ = n(9),
        p = i(_),
        m = function () {
            function t(e) {
                (0, l.default)(this, t);
                var n = d.default.converter(e.coord);
                this._batchCoord = n, this._workerTile = new v.default((0, a.default)({}, e, {
                    coord: n
                })), this._workerTile.dataZoom = n.z + 1, this._batchTiles = n.children().map(function (t) {
                    return new v.default((0, a.default)({}, e, {
                        coord: t
                    }))
                })
            }
            return (0, c.default)(t, [{
                key: "parse",
                value: function (t, e, n, i, r, o, a) {
                    function s(t, e) {
                        return function (t, n) {
                            if (t && (console.error(t), n = null), l[e] = n, ++u === c.length) {
                                var i = l.reduce(function (t, e) {
                                    return e && (Array.prototype.push.apply(t, e.transferableList), delete e.transferableList), t
                                }, []);
                                l.transferableList = i, o(null, l)
                            }
                        }
                    }
                    if (p.default.batchRender) return void this.batchParse.apply(this, arguments);
                    var l = [],
                        u = 0,
                        c = this._batchTiles;
                    this._batchTiles.forEach(function (o, l) {
                        var u = s(o.coord, l);
                        if (!e || !e.datas || !e.datas[l]) return void u(new Error("瓦片：" + o.coord.id + " 加载失败!"), null);
                        o.parse(t, e.datas[l], n, i, r, u, a)
                    })
                }
            }, {
                key: "batchParse",
                value: function (t, e, n, i, o, a, s) {
                    function l(t, e) {
                        if (t) return console.error(t), void a(t);
                        a(null, e)
                    }
                    var u = this._batchCoord,
                        c = e.datas;
                    u.children().forEach(function (t, e) {
                        c[e].tileTransform = r(t, u)
                    }), this._workerTile.parse(t, c, n, i, o, l, s)
                }
            }]), t
        }();
    e.default = m
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return 64 === f.indexOf(t.charAt(t.length - 1)) ? t.substring(0, t.length - 1) : t
    }

    function r(t) {
        if (!t) return null;
        t = i(t), t = i(t);
        var e = parseInt(t.length / 4 * 3, 10),
            n = [];
        t = t.replace(/[^A-Za-z0-9\+\/\=]/g, "");
        var r = void 0,
            o = void 0,
            a = void 0,
            s = void 0,
            l = void 0,
            u = void 0,
            c = void 0,
            d = 0,
            h = 0;
        for (d = 0; d < e; d += 3) s = f.indexOf(t.charAt(h++)), l = f.indexOf(t.charAt(h++)), u = f.indexOf(t.charAt(h++)), c = f.indexOf(t.charAt(h++)), r = s << 2 | l >> 4, o = (15 & l) << 4 | u >> 2, a = (3 & u) << 6 | c, n.push(r), 64 !== u && n.push(o), 64 !== c && n.push(a);
        return n
    }

    function o(t, e) {
        return t >> 8 - e & 255 | t << e & 255
    }

    function a(t) {
        return o(t, 2) ^ o(t, 1) & o(t, 3)
    }

    function s(t, e) {
        return {
            x: e,
            y: t ^ a(e)
        }
    }

    function l(t) {
        for (var e = t.length, n = [], i = 0; i < e; i += 2) {
            var r = t[i],
                o = 0;
            i + 1 < e && (o = t[i + 1]);
            for (var a = 0, l = 0, u = 0; u < 3; u++) {
                var c = s(r, o);
                r = a = c.x, o = l = c.y
            }
            n.push(a), n.push(l)
        }
        return n
    }

    function u(t) {
        for (var e = "", n = 0; n < t.length;) {
            var i = t[n],
                r = 0,
                o = 0;
            i < 128 ? (e += String.fromCharCode(i), n++) : i > 191 && i < 224 ? (r = t[n + 1], e += String.fromCharCode((31 & i) << 6 | 63 & r), n += 2) : (r = t[n + 1], o = t[n + 2], e += String.fromCharCode((15 & i) << 12 | (63 & r) << 6 | 63 & o), n += 3)
        }
        return e
    }

    function c(t) {
        var e = t.lastIndexOf("}");
        return t.substring(0, e + 1)
    }
    var f = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    e.decode = function (t) {
    // console.log(t);
        const result= c(u(l(r(t))));
        console.log(JSON.parse(result));
        return result;
        // return c(u(l(r(t))))
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return !!t && t[0] instanceof Number && !t[2]
    }
    n(6).isString;
    e.merge = function (t) {
        if (!t || !t.length) return t;
        for (var e = [], n = null, r = !1, o = void 0, a = void 0, s = 0; s < t.length; s++) o = t[s], n && i(o) && o[0] === n[0] ? r ? (a = n[1], a.push(o[1])) : (a = n[1] = [n[1]], a.push(o[1]), r = !0) : (e.push(o), r = !1, n = i(o) ? o : null);
        return e
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        for (var e = [], n = t.slice(), i = 0, r = n.length; i < r; i += 2)
            if (0 === e.length) e.push(n[0], n[1]);
            else {
                var o = e[i - 2] + n[i],
                    a = e[i - 1] + n[i + 1];
                e.push(o, a)
            } return e
    }
    e.restores = function (t) {
        for (var e = t || [], n = 0; n < e.length; n++) {
            var r = e[n];
            if (r[0] instanceof Array)
                for (var o = 0; o < r.length; o++) {
                    var a = r[o];
                    a[1] = i(a[1])
                } else r[1] = i(r[1])
        }
        return t
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return t >= C.default.maxDataZoom
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(10),
        a = i(o),
        s = n(21),
        l = i(s),
        u = n(2),
        c = i(u),
        f = n(0),
        d = i(f),
        h = n(1),
        v = i(h),
        _ = n(4),
        p = i(_),
        m = n(11),
        y = i(m),
        g = n(3),
        x = i(g),
        b = n(46),
        S = n(155),
        w = i(S),
        E = n(363),
        A = i(E),
        T = n(6),
        k = i(T),
        P = n(235),
        I = i(P),
        M = n(48),
        L = n(9),
        C = i(L),
        V = n(139),
        R = (i(V), C.default.batchRender),
        O = function (t) {
            function e(t, n, i) {
                (0, d.default)(this, e);
                var r = (0, p.default)(this, (e.__proto__ || (0, c.default)(e)).call(this, t, n, i));
                return r._data = n.data, r.type = M.SOURCE_TYPE.vector, r.iconInfo = n.iconInfo || null, r.enc = n.enc, r.styleId = n.styleId, r._shadowTiles = {}, r._parentTiles = {}, r._parentCache = new A.default(0, r.unloadTile.bind(r)), r
            }
            return (0, x.default)(e, t), (0, v.default)(e, [{
                key: "setStyleAndIconInfo",
                value: function (t, e) {
                    this.styleId = t, this.iconInfo = e
                }
            }, {
                key: "clear",
                value: function () {
                    this._shadowTiles = {}, (0, y.default)(e.prototype.__proto__ || (0, c.default)(e.prototype), "clear", this).call(this), this._parentTiles = {}, this._parentCache.reset()
                }
            }, {
                key: "clearTiles",
                value: function () {
                    var t = this;
                    k.default.forIn(this._parentTiles, function (e) {
                        t.removeBatchTile(e)
                    }), this._cache.reset(), this._parentCache.reset()
                }
            }, {
                key: "reload",
                value: function () {
                    var t = this;
                    this._cache.reset(), this._parentCache.reset(), k.default.forIn(this._items, function (e, n) {
                        t.reloadTile(n, !0)
                    })
                }
            }, {
                key: "reloadTile",
                value: function (t, e) {
                    (e || t.state !== S.TILE_STATE.reloading) && (t.state = S.TILE_STATE.reloading, this.loadBatchTile(t, {}, this._tileLoaded.bind(this, t)))
                }
            }, {
                key: "updateCacheSize",
                value: function (t) {
                    (0, y.default)(e.prototype.__proto__ || (0, c.default)(e.prototype), "updateCacheSize", this).call(this, t), this._parentCache.setMaxSize(this._cache.max / 4)
                }
            }, {
                key: "update",
                value: function (t, e, n) {
                    var i = this;
                    this.transform = t, this.camera = e;
                    var r = {},
                        o = {},
                        a = void 0,
                        s = void 0,
                        u = !0;
                    this.updateCacheSize(t);
                    var c = this.transform.zoom,
                        f = Math.max(c - 4, this.minZoom),
                        d = Math.max(c + 3, this.minZoom),
                        h = t.coveringTiles({
                            round: !0,
                            tileSize: this.tileSize,
                            minZoom: this.minZoom,
                            maxZoom: this.maxZoom,
                            zoom: c - 1
                        });
                    if (h.forEach(function (t) {
                            var e = i._parentTiles[t.id];
                            e && e.hasData() || (u = !1, o[t.id] = !0)
                        }), 0 !== k.default.keysDifference(o, this._parentTiles).length || u || c > C.default.maxDataZoom) {
                        for (var v = 0; v < h.length; v++) {
                            var _ = h[v];
                            if (_.z >= C.default.maxDataZoom) {
                                var p = _.ancestor(C.default.maxDataZoom - 1) || _;
                                this.addTile(p, n, null), r[p.id] = !0
                            } else {
                                if (this.icon && _.setIconUrls(this.icon), !(a = this.addTile(_, n, null))) continue;
                                if (r[_.id] = !0, a.hasData()) continue;
                                this._findLoadedChildren(_, d, r) || (s = this.findLoadedParent(_, f, r)) && this.addTile(s.coord, n, null)
                            }
                        }
                        var m = k.default.keysDifference(this._parentTiles, r),
                            y = !0,
                            g = !1,
                            x = void 0;
                        try {
                            for (var b, S = (0, l.default)(m); !(y = (b = S.next()).done); y = !0) {
                                var w = b.value;
                                this.removeBatchTile(w)
                            }
                        } catch (t) {
                            g = !0, x = t
                        } finally {
                            try {
                                !y && S.return && S.return()
                            } finally {
                                if (g) throw x
                            }
                        }
                    } else h.forEach(function (t) {
                        if (i._parentTiles[t.id].hasData()) {
                            var e = t.parent(d);
                            i.removeBatchTile(e && e.id), t.children(d).forEach(function (t) {
                                i.removeBatchTile(t && t.id)
                            })
                        }
                    })
                }
            }, {
                key: "_findLoadedChildren",
                value: function (t, e, n) {
                    var i = this,
                        r = !1;
                    return k.default.forIn(this._parentTiles, function (o, a) {
                        if (!(n[o] || !a.hasData() || a.coord.z <= t.z || a.coord.z > e)) {
                            var s = Math.pow(2, Math.min(a.coord.z, i.maxZoom) - Math.min(t.z, i.maxZoom));
                            if (Math.floor(a.coord.x / s) === t.x && Math.floor(a.coord.y / s) === t.y)
                                for (n[o] = !0, r = !0; a && a.coord.z - 1 > t.z;) {
                                    var l = a.coord.parent(i.maxZoom).id;
                                    a = i._parentTiles[l], a && a.hasData() && (delete n[o], n[l] = !0)
                                }
                        }
                    }), r
                }
            }, {
                key: "findLoadedParent",
                value: function (t, e, n) {
                    for (var i = t.z - 1; i >= e; i--) {
                        t = t.parent(this.maxZoom);
                        var r = this._parentTiles[t.id];
                        if (r && r.hasData()) return n[t.id] = !0, r
                    }
                }
            }, {
                key: "addTile",
                value: function (t, e, n) {
                    var i = this;
                    if (k.default.isDefined(this.styleId) && k.default.isDefined(this.iconInfo)) {
                        var o = this._parentTiles[t.id];
                        return o ? ((R || r(o.coord.z)) && o.hasData() && (this._items[o.coord.id] = o), o) : (o = this._parentCache.get(t.id)) ? (this._parentTiles[t.id] = o, r(t.z) || R ? this._items[t.id] = o : o.coord.children().forEach(function (t) {
                            var e = i._cache.get(t.id);
                            e && (i._items[t.id] = e)
                        }), o) : (o = new w.default(t, this.tileSize, this.maxZoom, this.transform, this.camera), this._parentTiles[t.id] = o, (r(t.z) || R) && (this._items[t.id] = o), this.loadBatchTile(o, e, n ? n.bind(this) : this._tileLoaded.bind(this, o)), o)
                    }
                    return null
                }
            }, {
                key: "removeBatchTile",
                value: function (t) {
                    var e = this,
                        n = this._parentTiles[t];
                    if (n)
                        if (r(n.coord.z) || R ? this.removeTile(n.coord.id) : n.coord.children().forEach(function (t) {
                                return e.removeTile(t.id)
                            }), delete this._parentTiles[t], n.hasData()) {
                            var i = n.coord.id;
                            this._parentCache.add(i, n)
                        } else n.aborted = !0, this.abortTile(n), this.unloadTile(n)
                }
            }, {
                key: "loadBatchTile",
                value: function (t, e, n) {
                    function i(e, i, a) {
                        var s = this;
                        if (e) return (0, b.qos)("tile", {
                            id: "v",
                            status: 1
                        }), n(e);
                        (0, b.qos)("tile", {
                            id: "v",
                            status: 0,
                            time: a
                        }), t.setData(i), r(o.z) || R || o.children().forEach(function (e, n) {
                            t = new w.default(e, s.tileSize, s.maxZoom, s.transform, s.camera), s._items[e.id] = t, t.setData(i[n]), s._parentTiles[t.coord.parent().id] || s.removeTile(t.coord.id)
                        }), n(null)
                    }
                    var o = t.coord,
                        a = r(o.z) ? o.url(this._data.vectorSrc) : o.urlForBatchChildren(this._data.batchVectorSrc),
                        s = {
                            url: a,
                            uid: t.uid,
                            type: this.type,
                            source: this.getUniqueId(),
                            coord: o,
                            iconInfo: this.iconInfo,
                            enc: this.enc,
                            styleId: this.styleId,
                            reason: e
                        };
                    t.workerID && t.state !== S.TILE_STATE.expired ? t.state === S.TILE_STATE.loading || this.dispatcher.send("reloadTile", s, i.bind(this), t.workerID) : t.workerID = this.dispatcher.send(r(o.z) ? "loadTile" : "vector.loadBatchTile", s, i.bind(this))
                }
            }, {
                key: "abortTile",
                value: function (t) {
                    this.dispatcher.send("abortTile", {
                        uid: t.uid,
                        type: this.type,
                        source: this.getUniqueId(),
                        tileId: t.coord.id
                    }, null, t.workerID)
                }
            }, {
                key: "unloadTile",
                value: function (t) {
                    t.clear(), this.dispatcher.send("removeTile", {
                        uid: t.uid,
                        type: this.type,
                        source: this.getUniqueId(),
                        tileId: t.coord.id
                    }, null, t.workerID)
                }
            }, {
                key: "_tileLoaded",
                value: function (t, e) {
                    var n = this;
                    e ? (t.state = S.TILE_STATE.errored, 404 !== e.status && this._fire("loaderror", {
                        tile: t,
                        error: e
                    })) : this._fire("data", {
                        dataType: "source",
                        tile: t
                    }), (0, a.default)(this._items).every(function (e) {
                        return n._items && n._items[e] && (n._items[e].getData() || t.state === S.TILE_STATE.errored)
                    }) && this._fire("tilesloaded", {
                        dataType: "source",
                        tiles: this._items
                    })
                }
            }]), e
        }(I.default);
    e.default = O
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(208),
        o = i(r),
        a = n(25),
        s = i(a),
        l = n(207),
        u = i(l),
        c = n(0),
        f = i(c),
        d = n(1),
        h = i(d),
        v = n(524),
        _ = n(587),
        p = i(_),
        m = n(515),
        y = i(m),
        g = n(6),
        x = i(g),
        b = n(104),
        S = n(367),
        w = function () {
            function t(e, n) {
                (0, f.default)(this, t), this.actor = e, this.loading = {}, this.loaded = {}, self._preloadPromiseCache || (self._preloadPromiseCache = {}), self._iconIndexCache || (self._iconIndexCache = {}), self._styleCache || (self._styleCache = {}), this.currentStyleId = null
            }
            return (0, h.default)(t, [{
                key: "_toTextureCoords",
                value: function (t, e, n) {
                    return x.default.forIn(t, function (i, r) {
                        t[i] = {
                            left: r[0] / e,
                            right: (r[0] + r[2]) / e,
                            top: (n - r[1]) / n,
                            bottom: (n - r[1] - r[3]) / n,
                            width: r[2],
                            height: r[3]
                        }
                    }), t
                }
            }, {
                key: "_preload",
                value: function () {
                    function t(t, n, i) {
                        return e.apply(this, arguments)
                    }
                    var e = (0, u.default)(o.default.mark(function t(e, n, i) {
                        var r;
                        return o.default.wrap(function (t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return t.next = 2, s.default.all([self._iconIndexCache[n] || (0, p.default)(n), self._styleCache[n] || (0, v.getStyleForWorker)(n)]);
                                case 2:
                                    return r = t.sent, self._iconIndexCache[n] = r[0], self._styleCache[n] = r[1], t.abrupt("return", {
                                        iconCoords: this._toTextureCoords(r[0], i.w, i.h),
                                        style: r[1]
                                    });
                                case 6:
                                case "end":
                                    return t.stop()
                            }
                        }, t, this)
                    }));
                    return t
                }()
            }, {
                key: "deleteCache",
                value: function (t) {
                    null !== t && (delete self._iconIndexCache[t], delete self._styleCache[t])
                }
            }, {
                key: "reloadTile",
                value: function (t, e) {
                    var n = t.uid,
                        i = t.source,
                        r = this.loading[i],
                        o = this.loaded[i];
                    r[n] ? this.abortTile(t) : o[n] && this.removeTile(t), this.loadBatchTile(t, e)
                }
            }, {
                key: "loadBatchTile",
                value: function (t, e) {
                    function n(n, i, l) {
                        return n ? (console.error(n), e(n)) : i ? this.loading[r][s] ? (delete this.loading[r][s], u.vectorTile = i, u.parse(t, i, o, c, this.actor, function (t, n) {
                            e(t, n, l)
                        }, a), this.loaded[r] = this.loaded[r] || {}, void(this.loaded[r][s] = u)) : void e(null, null) : e(null, null)
                    }
                    var i = this,
                        r = t.source,
                        o = t.iconInfo,
                        a = t.enc,
                        s = t.uid,
                        l = t.styleId,
                        u = void 0,
                        c = void 0;
                    this.currentStyleId !== l && (null !== this.currentStyleId && this.deleteCache(this.currentStyleId), this.currentStyleId = l);
                    var f = l + "_" + o.w + "_" + o.h;
                    "config" === l && (delete self._preloadPromiseCache[f], this.deleteCache(l));
                    var d = self._preloadPromiseCache[f];
                    d || (d = this._preload(f, l, o), self._preloadPromiseCache[f] = d), d.then(function (e) {
                        var a = e.iconCoords,
                            l = e.style;
                        o.info = a, c = l, i.loading[r] || (i.loading[r] = {}), u = i.loading[r][s] = new y.default(t), u.abort = i.loadVectorData(t, n.bind(i))
                    })
                }
            }, {
                key: "loadTile",
                value: function (t, e) {
                    function n(n, i, l) {
                        return n ? e(n) : i ? this.loading[r][s] ? (delete this.loading[r][s], u.vectorTile = i, u.parse(t, i, o, c, this.actor, function (t, n) {
                            e(t, n, l)
                        }, a), this.loaded[r] = this.loaded[r] || {}, void(this.loaded[r][s] = u)) : void e(null, null) : e(null, null)
                    }
                    var i = this,
                        r = t.source,
                        o = t.iconInfo,
                        a = t.enc,
                        s = t.uid,
                        l = t.styleId,
                        u = void 0,
                        c = void 0;
                    this.currentStyleId !== l && (null !== this.currentStyleId && this.deleteCache(this.currentStyleId), this.currentStyleId = l);
                    var f = l + "_" + o.w + "_" + o.h;
                    "config" === l && (delete self._preloadPromiseCache[f], this.deleteCache(l));
                    var d = self._preloadPromiseCache[f];
                    d || (d = this._preload(f, l, o), self._preloadPromiseCache[f] = d), d.then(function (e) {
                        var a = e.iconCoords,
                            l = e.style;
                        o.info = a, c = l, i.loading[r] || (i.loading[r] = {}), u = i.loading[r][s] = new S(t), u.abort = i.loadVectorData(t, n.bind(i))
                    })
                }
            }, {
                key: "abortTile",
                value: function (t) {
                    var e = this.loading[t.source],
                        n = t.uid;
                    e && e[n] && e[n].abort && (e[n].abort(), delete e[n])
                }
            }, {
                key: "removeTile",
                value: function (t) {
                    var e = this.loaded[t.source],
                        n = t.uid;
                    e && e[n] && delete e[n]
                }
            }, {
                key: "loadVectorData",
                value: function (t, e) {
                    var n = b.getJSON(t.id, t.url, function (t, n, i) {
                        e && e(t, n, i)
                    });
                    return function () {
                        e = null, n.abort()
                    }
                }
            }]), t
        }();
    t.exports = w
}, function (t, e, n) {
    "use strict";

    function i() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "DEFAULT",
            e = arguments[1];
        return s.STYLE_ID.hasOwnProperty(t) ? o.default.resolve(s.STYLE_ID[t]) : (0, a.checkKey)(e).then(function (e) {
            var n = s.STYLE_ID.DEFAULT;
            if (e && e.custom_map_style && e.custom_map_style.style_list) {
                var i = parseInt(t.replace("style", ""));
                e.custom_map_style.style_list.some(function (t) {
                    return i === t.order && (n = t.id, (0, l.cs)({
                        styleId: n,
                        subkey: e.subkey
                    }), !0)
                }) || console.error("个性化样式 " + t + " 并未找到，以自动启用默认样式！")
            }
            return n
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(25),
        o = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(r),
        a = n(193),
        s = n(200),
        l = n(46);
    e.default = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        return new f.default(function (n, i) {
            var r = t || 0,
                o = _.default.QMAPI_poi_icon + r,
                l = -1,
                c = "",
                f = "";
            m.default.support() ? m.default.get(o, function (t) {
                var i = JSON.parse(t);
                l = t ? i.version : l, c = e.replace("{id}", r).replace("{version}", l), h.default.getJSON(null, c, function (t, e, c) {
                    if (!t && e && e.data) {
                        if ("{}" !== (0, u.default)(e.data)) return s({
                            styleId: r,
                            version: l,
                            time: c
                        }), f = e.data, void m.default.set(o, (0, u.default)(e), function () {
                            n("data:image/png;base64," + f)
                        });
                        f = i.data
                    } else a({
                        styleId: r,
                        version: l,
                        err: t
                    }), console.error(t, e), f = i.data;
                    n("data:image/png;base64," + f)
                })
            }) : (c = e.replace("{id}", r).replace("{version}", l), h.default.getJSON(null, c, function (t, e, i) {
                return !t && e && e.data ? "{}" === (0, u.default)(e.data) ? (a({
                    styleId: r,
                    version: l,
                    err: null
                }), console.error(e), void n(null)) : (s({
                    styleId: r,
                    version: l,
                    time: i
                }), f = e.data, void n("data:image/png;base64," + f)) : (a({
                    styleId: r,
                    version: l,
                    err: t
                }), console.error(t, e), void n(null))
            }))
        })
    }

    function o(t) {
        var e = t.data,
            n = t.styleId,
            i = t.iconSrc;
        return new f.default(function (t, o) {
            e && "string" == typeof e ? m.default.support() ? m.default.set(g, {
                data: e
            }, function () {
                t(e)
            }) : (console.error("兼容性错误：当前浏览器不支持LocalStorage。"), t(null)) : r(n, i).then(function (e) {
                m.default.support() ? m.default.set(g, {
                    data: e
                }, function () {
                    t(e)
                }) : (console.error("兼容性错误：当前浏览器不支持LocalStorage。"), t(null))
            })
        })
    }

    function a(t) {
        var e = t.styleId,
            n = t.version,
            i = t.err;
        (0, y.qos)("icon", {
            styleId: e,
            version: n,
            error: i && i.status || 0
        })
    }

    function s(t) {
        var e = t.styleId,
            n = t.version,
            i = t.time;
        (0, y.qos)("icon", {
            styleId: e,
            version: n,
            loadTime: i
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.setPoiIcon = e.loadPoiIconFile = void 0;
    var l = n(55),
        u = i(l),
        c = n(25),
        f = i(c),
        d = n(104),
        h = i(d),
        v = n(81),
        _ = i(v),
        p = n(103),
        m = i(p),
        y = n(46),
        g = _.default.QMAPI_poi_icon + "config";
    e.loadPoiIconFile = r, e.setPoiIcon = o
}, function (t, e, n) {
    "use strict";

    function i(t) {
        var e = ["background_color", "font_color", "color_fill", "color_side", "color_border"];
        ["regionStyles", "lineStyles", "pointStyles", "labelStyles", "arrowStyles"].forEach(function (n) {
            var i = t[n];
            a(i, function (t, n) {
                n.forEach(function (t) {
                    e.forEach(function (e) {
                        e in t && (t[e] = o(t[e]))
                    })
                })
            })
        })
    }
    var r = n(6),
        o = r.colorToRGBA,
        a = r.forIn;
    t.exports = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = {};
        return [v.BASE_LAYER_TYPE.region, v.BASE_LAYER_TYPE.line, v.BASE_LAYER_TYPE.label, v.BASE_LAYER_TYPE.point, v.BASE_LAYER_TYPE.arrow].forEach(function (n) {
            e[n] = {
                type: n,
                style: t[n + "Styles"]
            }
        }), e.point.relyStyle = e.label.style, e.point.relyStyleField = "labelid", e
    }

    function o(t) {
        var e, n = (e = {}, (0, f.default)(e, v.BASE_LAYER_TYPE.region, t.region.style), (0, f.default)(e, v.BASE_LAYER_TYPE.line, t.line.style), e),
            i = {};
        return m.default.forIn(n, function (t, e) {
            m.default.forIn(e, function (e, n) {
                for (var r = n[0], o = r.stylename, a = i[e] = i[e] || {
                        id: e,
                        name: o,
                        type: t,
                        styles: {}
                    }, s = 0, l = n.length; s < l; s++) r = n[s], a.styles[r.minScaleVal + "-" + r.maxScaleVal] = r
            })
        }), i
    }

    function a(t) {
        y(t);
        var e = r(t);
        return {
            style: e,
            layerMeta: o(e),
            styleTag: t.Tag
        }
    }

    function s(t) {
        return new u.default(function (e, n) {
            var i = null,
                r = null;
            if (g.support()) {
                var o = h.default.QMAPI_style + t;
                g.get(o, function (n) {
                    n ? (i = JSON.parse(n).data, r = a(i), r.styleId = t, e(r)) : (0, _.loadStyleFileFromServer)({
                        styleId: t,
                        version: -1
                    }).then(function (n) {
                        r = a(n.data), r.styleId = t, e(r)
                    })
                })
            } else(0, _.loadStyleFileFromServer)({
                styleId: t,
                version: -1
            }).then(function (n) {
                r = a(n.data), r.styleId = t, e(r)
            })
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var l = n(25),
        u = i(l),
        c = n(107),
        f = i(c);
    e.getStyleForWorker = s;
    var d = n(81),
        h = i(d),
        v = n(27),
        _ = n(236),
        p = n(6),
        m = i(p),
        y = n(523),
        g = n(103)
}, function (t, e, n) {
    "use strict";
    var i = n(238),
        r = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i),
        o = {
            spherical: {
                computeDistanceBetween: r.default
            }
        };
    t.exports = o
}, , , , , , , , , , , , , function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        var n = document.createElement(t);
        return n.style.cssText = e, n
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(2),
        a = i(o),
        s = n(0),
        l = i(s),
        u = n(1),
        c = i(u),
        f = n(4),
        d = i(f),
        h = n(3),
        v = i(h),
        _ = n(241),
        p = i(_),
        m = n(29),
        y = i(m),
        g = n(6),
        x = n(36),
        b = i(x),
        S = n(31),
        w = n(13),
        E = n(46),
        A = b.default.isString,
        T = b.default.isNumber,
        k = b.default.isObject,
        P = ["position:absolute;", "left:0;top:0;", "padding:0px 0px 6px;"],
        I = ["min-width:100px;", "white-space:nowrap;", "background-color:white;", "text-align:center;", "padding:25px 10px 12px;", "border-radius:6px;", "box-shadow:0 2px 4px 0 rgba(0,0,0,0.15);"],
        M = ["width:10px;height:10px;", "background-color:white;", "transform:rotate(45deg);", "position:absolute;", "bottom:1px;", "left:0;right:0;", "margin:auto;", "box-shadow:2px 2px 2px rgba(0,0,0,0.15);"],
        L = ["width:15px;height:15px;", "position:absolute;", "right:5px;top:5px;", "cursor:pointer;"],
        C = {
            x: 0,
            y: 0
        },
        V = function (t) {
            function e(t) {
                return (0, l.default)(this, e), (0, d.default)(this, (e.__proto__ || (0, a.default)(e)).call(this, t || {}))
            }
            return (0, v.default)(e, t), (0, c.default)(e, [{
                key: "onInit",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    this.content = "", this.zIndex = 0, this.offset = C, this._handlers = [], this._domResizeObserver = null, this.setContent(t.content).setZIndex(t.zIndex).setOffset(t.offset).setPosition(t.position), (0, E.statCn)("InfoWindow")
                }
            }, {
                key: "onDestroy",
                value: function () {
                    this._handlers.forEach(function (t) {
                        t && t.remove()
                    }), this._domResizeObserver && this._domResizeObserver.disconnect()
                }
            }, {
                key: "createDOM",
                value: function () {
                    var t = this,
                        e = r("div", I.join(""));
                    e.innerHTML = this.content, window.ResizeObserver && (this._domResizeObserver = new ResizeObserver(function () {
                        t.updateDOM()
                    }), this._domResizeObserver.observe(e));
                    var n = r("div", M.join("")),
                        i = r("div", L.join(""));
                    i.innerHTML = '<svg style="fill: #aaa;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">\n<path d="M579.888 512l190.064-190.064a48 48 0 0 0-67.888-67.872L512 444.112 321.936 254.064a48 48 0 1 0-67.872 67.872L444.112 512 254.064 702.064a48 48 0 1 0 67.872 67.872L512 579.888l190.064 190.064a48 48 0 0 0 67.872-67.888L579.888 512z" fill></path>\n</svg>', this._handlers.push((0, w.on)(i, "click,touchend", function (e) {
                        t.emit("closeclick"), t.close()
                    }));
                    var o = r("div", P.join(""));
                    return o.appendChild(e), o.appendChild(n), o.appendChild(i), o.style.zIndex = this.zIndex, this._handlers.push((0, w.on)(o, "click, touchstart, touchend", function (t) {
                        t && t.stopPropagation && t.stopPropagation()
                    })), o
                }
            }, {
                key: "updateDOM",
                value: function () {
                    if (this.map) {
                        var t = this.map.projectToContainer(this.position),
                            e = this.offset.x || 0,
                            n = this.offset.y || 0,
                            i = t.x - this.dom.clientWidth / 2 + e + "px",
                            r = t.y - this.dom.clientHeight + n + "px";
                        this.dom.style.transform = "translate(" + i + ", " + r + ")"
                    }
                }
            }, {
                key: "close",
                value: function () {
                    return this.dom && (this.dom.style.display = "none"), this
                }
            }, {
                key: "open",
                value: function () {
                    return this.dom && (this.dom.style.display = "", this.updateDOM()), this
                }
            }, {
                key: "setPosition",
                value: function (t) {
                    return t instanceof y.default ? (this.position = t, this.updateDOM()) : console.error("类型错误: InfoWindow.position参数类型错误，应为TMap.LatLng。"), this
                }
            }, {
                key: "getPosition",
                value: function () {
                    return this.position
                }
            }, {
                key: "setContent",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return A(t) ? (this.content = t, this.dom && (this.dom.firstElementChild.innerHTML = this.content, this.updateDOM()), this) : (new S.BaseTypeError("InfoWindow.content", "string", t).error(), this)
                }
            }, {
                key: "setZIndex",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    return T(t) ? (this.zIndex = t, this.dom && (this.dom.style.zIndex = this.zIndex), this) : (new S.BaseTypeError("InfoWindow.zIndex", "number", t).error(), this)
                }
            }, {
                key: "setOffset",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : C;
                    return k(t) ? (t = (0, g.extend)({}, C, t), T(t.x) ? T(t.y) ? (this.offset = t, this.dom && this.updateDOM(), this) : (new S.BaseTypeError("InfoWindow.offset.y", "number", t.y).error(), this) : (new S.BaseTypeError("InfoWindow.offset.x", "number", t.x).error(), this)) : (new S.BaseTypeError("InfoWindow.offset", "object", t).error(), this)
                }
            }]), e
        }(p.default);
    e.default = V
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(10),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(11),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(29),
        g = i(y),
        x = n(376),
        b = i(x),
        S = n(105),
        w = n(27),
        E = n(351),
        A = n(36),
        T = i(A),
        k = n(140).CircleStyle,
        P = T.default.isValidColor,
        I = T.default.isNumber,
        M = function (t) {
            function e(t) {
                return (0, u.default)(this, e), (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t))
            }
            return (0, m.default)(e, t), (0, f.default)(e, [{
                key: "_setGeometryType",
                value: function () {
                    this._geometryType = S.GEOMETRY_TYPES.CIRCLE, this._layerType = w.RENDER_LAYER_TYPE.circle, this._className = "MultiCircle"
                }
            }, {
                key: "_checkGeometries",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    t.forEach(function (t, e) {
                        t ? t.styleId ? t.center && t.center instanceof g.default ? (!t.radius || !I(t.radius) || t.radius <= 0) && console.error("MultiCircle.geometries: 希望传入CircleGeometry数组，实际第" + e + "元素的radius属性无效！") : console.error("MultiCircle.geometries: 希望传入CircleGeometry数组，实际第" + e + "元素的center属性无效！") : t.styleId = "default" : console.error("MultiCircle.geometries: 希望传入CircleGeometry数组，实际第" + e + "元素不存在！")
                    })
                }
            }, {
                key: "_getDefaultStyle",
                value: function () {
                    return new k
                }
            }, {
                key: "_checkStyles",
                value: function (t) {
                    (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "_checkStyles", this).call(this, t), (0, o.default)(t).forEach(function (e) {
                        var n = t[e];
                        n && n instanceof k ? n instanceof k && (P(n.color) ? P(n.borderColor) || console.error("MultiCircle.styles: 样式id ", e, " 对应的PolygonStyle.borderColor属性无效", n) : console.error("MultiCircle.styles: 样式id ", e, " 对应的PolygonStyle.color属性无效", n)) : console.error("MultiCircle.styles: 样式id ", e, "希望传入CircleStyle实例，实际传入：", n)
                    })
                }
            }, {
                key: "_transferFromGeometry",
                value: function (t) {
                    return t.map(function (t) {
                        var e = t.center,
                            n = t.radius,
                            i = {
                                id: t.id || uniqueId(),
                                styleId: t.styleId,
                                paths: []
                            };
                        return e && n ? (i.paths = (0, E.getCirclePath)(e, n), i) : i
                    })
                }
            }, {
                key: "_getAllPoints",
                value: function () {
                    return this.getGeometries().map(function (t) {
                        return t.center
                    })
                }
            }, {
                key: "_getAllSegments",
                value: function () {
                    return []
                }
            }]), e
        }(b.default);
    t.exports = M
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(10),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(11),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(29),
        g = i(y),
        x = n(158),
        b = i(x),
        S = n(242),
        w = i(S),
        E = n(105),
        A = n(27),
        T = n(36),
        k = i(T),
        P = (k.default.isValidColor, k.default.isNumber),
        I = k.default.isUndefined,
        M = !1,
        L = function (t) {
            function e(t) {
                (0, u.default)(this, e);
                var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t));
                return n.layer._enableCollision = I(t.enableCollision) ? M : !!t.enableCollision, n
            }
            return (0, m.default)(e, t), (0, f.default)(e, [{
                key: "_setGeometryType",
                value: function () {
                    this._geometryType = E.GEOMETRY_TYPES.LABEL, this._layerType = A.RENDER_LAYER_TYPE.label, this._className = "MultiLabel"
                }
            }, {
                key: "_checkGeometries",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    t.forEach(function (t, e) {
                        t ? t.styleId ? t.position && t.position instanceof g.default ? t.content ? I(t.rank) || P(t.rank) || console.error("MultiLabel.geometries: 希望传入LabelGeometry数组，实际第" + e + "元素的rank属性无效!") : console.error("MultiLabel.geometries: 希望传入LabelGeometry数组，实际第" + e + "元素的content属性无效!") : console.error("MultiLabel.geometries: 希望传入LabelGeometry数组，实际第" + e + "元素的position属性无效！") : t.styleId = "default" : console.error("MultiLabel.geometries: 希望传入LabelGeometry数组，实际第" + e + "元素不存在！")
                    })
                }
            }, {
                key: "_getDefaultStyle",
                value: function () {
                    return new w.default
                }
            }, {
                key: "_checkStyles",
                value: function (t) {
                    (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "_checkStyles", this).call(this, t), (0, o.default)(t).forEach(function (e) {
                        var n = t[e];
                        n && n instanceof w.default || console.error("MultiLabel.styles: 样式id ", e, "希望传入LabelStyle实例，实际传入：", n)
                    })
                }
            }]), e
        }(b.default);
    t.exports = L
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(10),
        o = i(r),
        a = n(12),
        s = i(a),
        l = n(2),
        u = i(l),
        c = n(0),
        f = i(c),
        d = n(1),
        h = i(d),
        v = n(4),
        _ = i(v),
        p = n(11),
        m = i(p),
        y = n(3),
        g = i(y),
        x = n(162),
        b = i(x),
        S = n(350),
        w = n(248),
        E = i(w),
        A = n(6),
        T = n(41),
        k = i(T),
        P = n(29),
        I = i(P),
        M = n(158),
        L = i(M),
        C = n(105),
        V = n(27),
        R = n(375),
        O = function (t) {
            return "number" == typeof t && !(0, b.default)(t)
        },
        F = function (t) {
            function e(t) {
                (0, f.default)(this, e);
                var n = (0, _.default)(this, (e.__proto__ || (0, u.default)(e)).call(this, t));
                return (0, s.default)(n, S.easableMixin), n._movingState = null, n._pausedState = null, n
            }
            return (0, g.default)(e, t), (0, h.default)(e, [{
                key: "_setGeometryType",
                value: function () {
                    this._geometryType = C.GEOMETRY_TYPES.POINT, this._layerType = V.RENDER_LAYER_TYPE.marker, this._className = "MultiMarker"
                }
            }, {
                key: "_checkGeometries",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    t.forEach(function (t, e) {
                        t ? t.styleId || (t.styleId = "default") : console.error("MultiMarker.geometries: 希望传入PointGeometry数组，实际第" + e + "元素不存在！"), t.position && t.position instanceof I.default || console.error("MultiMarker.geometries: 希望传入PointGeometry数组，实际第" + e + "元素的position属性无效！")
                    })
                }
            }, {
                key: "_getDefaultStyle",
                value: function () {
                    return new R
                }
            }, {
                key: "_checkStyles",
                value: function (t) {
                    (0, m.default)(e.prototype.__proto__ || (0, u.default)(e.prototype), "_checkStyles", this).call(this, t), (0, o.default)(t).forEach(function (e) {
                        var n = t[e];
                        n && n instanceof R ? n.width && n.width > 0 && n.width % 1 == 0 ? n.height && n.height > 0 && n.height % 1 == 0 ? n.src || console.error("MultiMarker.styles: 样式id ", e, " 对应的MarkerStyle.src属性无效", n) : console.error("MultiMarker.styles: 样式id ", e, " 对应的MarkerStyle.height属性无效", n) : console.error("MultiMarker.styles: 样式id ", e, " 对应的MarkerStyle.width属性无效", n) : console.error("MultiMarker.styles: 样式id ", e, "希望传入MarkerStyle实例，实际传入：", n)
                    })
                }
            }, {
                key: "moveAlong",
                value: function (t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        i = n.autoRotation,
                        r = void 0 !== i && i;
                    if (!this.getMap()) return this;
                    this.stopMove();
                    var a = {},
                        l = this.map.transform.getDistanceScales(),
                        u = l.pixelsPerMeter,
                        c = l.pixelsPerDegree,
                        f = [c[0] / u[0], c[1] / u[1]];
                    try {
                        (0, o.default)(t).forEach(function (n) {
                            if (!(n in e._idSet)) return void console.warn("MultiMarker中并不存在id为: " + n + "的点！");
                            var i = t[n],
                                r = i.path,
                                o = i.duration,
                                s = i.speed;
                            if (e._checkMoveAlongParams(i, n)) {
                                var l = [],
                                    u = 0,
                                    c = 0;
                                if (r.forEach(function (t, e, n) {
                                        if (e !== n.length - 1) {
                                            var i = new k.default((n[e + 1].lng - t.lng) * f[0], (n[e + 1].lat - t.lat) * f[1]),
                                                r = i.mag();
                                            u += r, l.push({
                                                angle: i.angle(),
                                                segDistance: r,
                                                start: t,
                                                end: n[e + 1],
                                                radio: null,
                                                totalRadio: null
                                            })
                                        }
                                    }), 0 === u) return void console.error("moveAlong方法中id为" + n + "对应的path计算得到的总长度为0");
                                var d = s / 3.6,
                                    h = o || u / d * 1e3;
                                l.forEach(function (t) {
                                    t.radio = t.segDistance / u, c += t.radio, t.totalRadio = c, t.pendingTime = t.radio * h, t.totalPendingTime = t.totalRadio * h, t.totalDistance = u
                                }), a[n] = {
                                    segmentInfos: l,
                                    pendingTime: h,
                                    curSeg: 0,
                                    geometry: e._rawGeometries[e._idSet[n]],
                                    param: i
                                }
                            }
                        })
                    } catch (t) {
                        console.error("moveAlong数据解析出错，请检查传入参数是否合法", t)
                    }
                    this._moveParamSet = t;
                    var d = [],
                        h = 0;
                    return (0, o.default)(a).forEach(function (e) {
                        var n = a[e].geometry;
                        n.position.equals(t[e].path[0]) || d.push((0, s.default)({}, n, {
                            position: t[e].path[0]
                        })), h = h > a[e].pendingTime ? h : a[e].pendingTime
                    }), d.length > 0 && this.updateGeometries(d), this._startMoveAnimation(a, {
                        duration: h,
                        startTime: 0,
                        autoRotation: r
                    }), this
                }
            }, {
                key: "_checkMoveAlongParams",
                value: function (t, e) {
                    var n = t.path,
                        i = t.duration,
                        r = t.speed,
                        o = void 0 !== i,
                        a = void 0 !== r;
                    return Array.isArray(n) && n.length > 0 ? o || a ? o && (!O(i) || i <= 0) ? (console.error("moveAlong方法中id为" + e + "对应的duration: " + i + "不合法!"), !1) : !(a && (!O(r) || r <= 0)) || (console.error("moveAlong方法中id为" + e + "对应的speed: " + r + "不合法!"), !1) : (console.error("moveAlong方法中id为" + e + "对应的duration和speed均未定义!"), !1) : (console.error("moveAlong方法中id为" + e + "对应的path: " + n + "不合法!"), !1)
                }
            }, {
                key: "_startMoveAnimation",
                value: function (t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        i = n.duration,
                        r = void 0 === i ? 0 : i,
                        a = n.startTime,
                        l = void 0 === a ? 0 : a,
                        u = n.autoRotation,
                        c = void 0 !== u && u,
                        f = this._moveParamSet;
                    this._ease(function (n) {
                        var i = [],
                            a = {},
                            u = l + n * r;
                        (0, o.default)(t).forEach(function (n) {
                            var r = t[n],
                                o = r.segmentInfos[r.curSeg];
                            if (o && (u > o.totalPendingTime && (r.curSeg += 1, o = r.segmentInfos[r.curSeg]), o)) {
                                var l = new I.default(0, 0),
                                    d = (u + o.pendingTime - o.totalPendingTime) / o.pendingTime;
                                l.lat = (0, E.default)(o.start.lat, o.end.lat, d), l.lng = (0, E.default)(o.start.lng, o.end.lng, d), r.geometry.position = l;
                                var h = r.geometry.styleId && 0 === e.styles[r.geometry.styleId].faceTo;
                                c && h && (r.geometry.properties = (0, s.default)({}, r.geometry.properties, {
                                    $angle: (0, A.radian_to_degree)(o.angle) - 90
                                }));
                                var v = f[n].path.slice(0, r.curSeg + 1);
                                v.push(l), a[n] = {
                                    passedLatLngs: v,
                                    angle: r.geometry.properties && r.geometry.properties.$angle
                                }, i.push(r.geometry)
                            }
                        }), e._movingState = {
                            moveAlongProcessed: t,
                            time: u,
                            left: (1 - n) * r,
                            autoRotation: c
                        }, e.updateGeometries(i), e.emit("moving", a)
                    }, function () {
                        e._movingState = null, e._pausedState = null, e.emit("move_ended", f)
                    }, function () {
                        e._movingState && (e.emit("move_stopped", f), e._pausedState = null, e._movingState = null)
                    }, {
                        easing: A.linearEase,
                        animate: !0,
                        duration: r
                    })
                }
            }, {
                key: "stopMove",
                value: function () {
                    return this._abortFn && (this._abortFn(), this._abortFn = null), this._finishFn = null, this
                }
            }, {
                key: "pauseMove",
                value: function () {
                    return this._movingState && (this._pausedState = this._movingState, this._movingState = null, this.stopMove(), this.emit("move_paused")), this
                }
            }, {
                key: "resumeMove",
                value: function () {
                    if (this._pausedState) {
                        var t = this._pausedState,
                            e = t.moveAlongProcessed,
                            n = t.autoRotation,
                            i = t.time,
                            r = t.left;
                        this._startMoveAnimation(e, {
                            duration: r,
                            autoRotation: n,
                            startTime: i
                        }), this._pausedState = this._movingState = null, this.emit("move_resumed")
                    }
                    return this
                }
            }, {
                key: "_getAllPoints",
                value: function () {
                    return this.getGeometries().map(function (t) {
                        return t.position
                    })
                }
            }]), e
        }(L.default);
    t.exports = F
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(241),
        _ = i(v),
        p = n(431),
        m = i(p),
        y = n(196),
        g = function (t) {
            function e() {
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).apply(this, arguments))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "onInit",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    this.count = t.count, this.instance = t.instance, this.position = this.instance.center || this.instance.position, this.zoomOnClick = t.zoomOnClick, this._handlers = [], this.visible = !0
                }
            }, {
                key: "createDOM",
                value: function () {
                    var t = this,
                        e = document.createElement("div");
                    return this.instance && this._updateContent(e), this.zoomOnClick && (this.finger = new y.Finger(e, {
                        preventDefaultMove: !0,
                        preventDefaultEnd: !0
                    }), this.finger.on("tap", function () {
                        t.instance.geometries && t.visible && t.map.fitBounds(t.instance.bounds), t.emit("overlay-click", t.instance)
                    })), e
                }
            }, {
                key: "updateContent",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return this.count = t.count, this.instance = t.instance, this.position = this.instance.center || this.instance.position, this._updateContent(this.dom), this.updateDOM(), this.map !== t.map && this.setMap(t.map), this
                }
            }, {
                key: "_updateContent",
                value: function (t) {
                    if (1 === this.count) {
                        t.textContent = "", t.style.cssText = ["position:absolute;", "width: 32px;", "height: 32px;"].join(" ");
                        var e = document.createElement("img");
                        e.height = 32, e.src = m.default, e.style.cssText = ["position: absolute;", "bottom: 16px;"].join(" "), t.appendChild(e)
                    } else t.style.cssText = "\n\t\t\tposition: absolute;\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\tborder-radius: 40px;\n\t\t\tbackground-color: green;\n\t\t\ttransform: translate3d(718.348px, 395.68px, 0px);\n\t\t\ttext-align: center;\n\t\t\tline-height: 40px;\n\t\t\tbox-shadow: 0 1px 1px 0 rgba(0,0,0,0.2);\n\t\t\tborder: 1px solid #3875FF;\n\t\t\tbackground-color: rgba(227,235,255,0.9);\n\t\t\tfont-size: 14px;\n\t\t\tcolor: #1D63FF;", t.textContent = this.count
                }
            }, {
                key: "updateDOM",
                value: function () {
                    if (this.map && this.visible) {
                        var t = this.map.projectToContainer(this.position),
                            e = t.getX() - 20 + "px",
                            n = t.getY() - 20 + "px";
                        this.dom.style.transform = "translate3d(" + e + ", " + n + ", 0px)"
                    }
                }
            }, {
                key: "setVisible",
                value: function (t) {
                    return this.visible = !!t, this.dom.style.display = this.visible ? "" : "none", this
                }
            }, {
                key: "onDestroy",
                value: function () {
                    this._handlers.forEach(function (t) {
                        return t.remove()
                    }), this.finger && this.finger.destroy(), this.removeAllListeners(), this.count = null, this.instance = null, this.position = null, this.dom = null, this.visible = null
                }
            }]), e
        }(_.default);
    e.default = g
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(9),
        m = i(p),
        y = n(352),
        g = i(y),
        x = n(374),
        b = i(x),
        S = n(502),
        w = i(S),
        E = n(13),
        A = i(E),
        T = n(6),
        k = i(T),
        P = n(29),
        I = i(P),
        M = n(542),
        L = i(M),
        C = n(31),
        V = n(46),
        R = function (t) {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this));
                return n.id = t.id || k.default.uniqueId(), n._defaultMarkers = [], n.clusters = [], n._overlayList = [], n._eventHandlers = [], n._ready = !1, n._prevZoom = null, n.zIndex = t.zIndex || null, n.enableDefaultStyle = !1 !== t.enableDefaultStyle, n.minimumClusterSize = t.minimumClusterSize || 2, n.zoomOnClick = !!n.enableDefaultStyle && !1 !== t.zoomOnClick, n.gridSize = t.gridSize || 60, n.averageCenter = !1 !== t.averageCenter, n.maxZoom = k.default.clamp(t.maxZoom || m.default.maxZoom, m.default.minZoom, m.default.maxZoom), n._checkGeometries(t.geometries), n._rawGeometries = n._assignIdToGeometry(t.geometries), n._idSet = n._updateGeometryIdSet(n._rawGeometries), n.geometries = n._rawGeometries, t.map && n.setMap(t.map), (0, V.statCn)("Map"), n
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "setMap",
                value: function (t) {
                    return t === this.map ? this : null == t || t instanceof window.TMap.Map ? (t ? this.map ? (this.setMap(null), this.setMap(t)) : this.id && t.getLayer(this.id) ? console.error("Map中已存在id为" + this.id + "的图层，无法重复添加") : (this.map = t, this._bindEventHandler(), this._createLayer(), this._ready = !0, this._redraw()) : (this._removeEventHander(), this._removeLayer(), this._overlayList.forEach(function (t) {
                        return t.setMap(null)
                    }), this.map = null, this._ready = !1), this) : (console.error("所传入参数并非TMap.Map的实例！"), this)
                }
            }, {
                key: "setGeometries",
                value: function (t) {
                    return Array.isArray(t) ? t === this._rawGeometries ? this : ((0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "setGeometries", this).call(this, t, this.styles), this) : (new C.BaseTypeError("geometries", "Array", t).error(), this)
                }
            }, {
                key: "updateGeometries",
                value: function (t, n) {
                    return t ? ((0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "updateGeometries", this).call(this, t, n), this) : this
                }
            }, {
                key: "_bindEventHandler",
                value: function () {
                    var t = this;
                    this._eventHandlers.push(A.default.on(this.map, "zoom", function () {
                        var e = k.default.round(t.map.getZoom(), 1);
                        t._prevZoom !== e && (t._prevZoom = e, t._resetViewport())
                    })), this._eventHandlers.push(A.default.on(this.map, "idle", function () {
                        t._redraw()
                    })), this._eventHandlers.push(A.default.on(this, "geometry_changed", function () {
                        t.map && (t.map && t.map.getSource(t.id).setData(t.geometries), t._resetViewport(), t._redraw())
                    }))
                }
            }, {
                key: "_removeEventHander",
                value: function () {
                    this._eventHandlers.forEach(function (t) {
                        return t.remove()
                    })
                }
            }, {
                key: "getMap",
                value: function () {
                    return this.map
                }
            }, {
                key: "_createLayer",
                value: function () {
                    this.layer = new w.default({
                        map: this.map,
                        id: this.id,
                        type: this._layerType,
                        zIndex: this.zIndex,
                        maxZoom: this.maxZoom,
                        gridSize: this.gridSize,
                        minimumClusterSize: this.minimumClusterSize,
                        averageCenter: this.averageCenter,
                        sourceData: this.geometries
                    })
                }
            }, {
                key: "_removeLayer",
                value: function () {
                    this.layer.setMap(null)
                }
            }, {
                key: "_resetViewport",
                value: function () {
                    this.clusters = [], this._resetCluster = !0
                }
            }, {
                key: "_redraw",
                value: function () {
                    var t = this;
                    if (this._ready && this.map.getSource(this.id)) {
                        var e = this.map.transform.getDistanceScales(),
                            n = this.map.getBounds();
                        this.map.getSource(this.id).getCluster({
                            pixelsPerDegree: e.pixelsPerDegree,
                            resetCluster: this._resetCluster,
                            mapBounds: {
                                sw: n.getSouthWest(),
                                ne: n.getNorthEast()
                            },
                            zoom: this.map.getZoom()
                        }, function (e) {
                            t.clusters = e.map(function (t) {
                                return g.default.normalizeClusterInfo(t)
                            }), t.emit("cluster_changed"), t._repaint()
                        }), this._resetCluster = !1
                    }
                }
            }, {
                key: "_repaint",
                value: function () {
                    var t = this;
                    if (this.enableDefaultStyle && this.layer.visible) {
                        this._overlayList.forEach(function (t) {
                            return t.setVisible(!1)
                        });
                        var e = 0,
                            n = this._overlayList.length;
                        this.clusters.forEach(function (i) {
                            var r = {
                                count: i.geometries.length,
                                instance: i,
                                map: t.map,
                                zoomOnClick: t.zoomOnClick
                            };
                            t._constructOverlay(e, n, r), e++
                        })
                    }
                }
            }, {
                key: "_constructOverlay",
                value: function (t, e, n) {
                    var i = this;
                    if (t < e) this._overlayList[t].setVisible(!0), this._overlayList[t].updateContent(n);
                    else {
                        var r = new L.default(n);
                        r.on("overlay-click", function (t) {
                            var e = {};
                            t.geometries ? e.cluster = t : e.geometry = t, i.emit("click", e)
                        }), this._overlayList.push(r)
                    }
                }
            }, {
                key: "_checkGeometries",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return t.filter(function (t, n) {
                        return t ? t.position && t.position instanceof I.default ? (t.styleId && e[t.styleId] || (t.styleId = "default"), !0) : (console.error("MarkerCluster.geometries: 希望传入PointGeometry数组，实际第" + n + "元素的position属性无效！"), !1) : (console.error("MarkerCluster.geometries: 希望传入PointGeometry数组，实际第" + n + "元素不存在！"), !1)
                    })
                }
            }, {
                key: "getClusters",
                value: function () {
                    return this.clusters
                }
            }, {
                key: "zoomInCluster",
                value: function (t) {
                    t.bounds ? this.map.fitBounds(t.bounds) : console.warn("聚合簇 " + t + " 缺少bounds信息")
                }
            }, {
                key: "setVisible",
                value: function (t) {
                    this._overlayList.forEach(function (t) {
                        return t.setVisible(!1)
                    }), this.layer.setVisible(t), this._repaint()
                }
            }, {
                key: "getVisible",
                value: function () {
                    return this.layer.visible
                }
            }, {
                key: "destroy",
                value: function () {
                    this.setMap(null), this._resetViewport(), this._overlayList.forEach(function (t) {
                        return t.destroy()
                    }), this._defaultMarkers = null, this.clusters = null, this._overlayList = null, this._eventHandlers = null, this._ready = null, this._prevZoom = null, this.zIndex = null, this.enableDefaultStyle = null, this.minimumClusterSize = null, this.zoomOnClick = null, this.gridSize = null, this.averageCenter = null, this.maxZoom = null, this._rawGeometries = null, this._idSet = null, this.geometries = null
                }
            }]), e
        }(b.default);
    e.default = R
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(13),
        _ = i(v),
        p = n(580),
        m = i(p),
        y = n(40),
        g = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this));
                return n.map = t, n.el = n.map.getContainer(), n.eventHandlers = [], n.pickQuery = new m.default(n.map), [{
                    type: "mousedown",
                    immediate: !0,
                    delay: !1
                }, {
                    type: "mouseup",
                    immediate: !0,
                    delay: !1
                }, {
                    type: "touchstart",
                    immediate: !0,
                    delay: !1
                }, {
                    type: "touchend",
                    immediate: !0,
                    delay: !1
                }, {
                    type: "touchcancel",
                    immediate: !1,
                    delay: !1
                }, {
                    type: "click",
                    immediate: !1,
                    delay: !1
                }, {
                    type: "dblclick",
                    immediate: !1,
                    delay: !0
                }].forEach(function (t) {
                    n.eventHandlers.push(_.default.on(n.map, t.type, function (e) {
                        e.delay ? setTimeout(function () {
                            n.onHandleEvent(e, t)
                        }, 50) : n.onHandleEvent(e, t)
                    }))
                }), n.eventHandlers.push(_.default.on(n.map, {
                    mousemove: _.default.throttle(function (t) {
                        n.requestPick("mousemove", {
                            event: t
                        })
                    }, 50),
                    touchmove: _.default.throttle(function (t) {
                        n.requestPick("touchmove", {
                            event: t
                        })
                    }, 50)
                })), n._pickRequestObject = {}, n._isPicking = !1, n.setMaxListeners(300), n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "onHandleEvent",
                value: function (t, e) {
                    this.requestPick(e.type, {
                        event: t
                    }), e.immediate && this.runPick()
                }
            }, {
                key: "requestPick",
                value: function (t, e) {
                    if (!this.map.moving || "dblclick" === t || "touchmove" === t || "touchend" === t) {
                        delete this._pickRequestObject.type, delete this._pickRequestObject.pos, delete this._pickRequestObject.radius, this._pickRequestObject.type = t;
                        var n = e.event;
                        if (n && (n.point || n.points)) {
                            var i = n.points && n.points[0] || n.point;
                            this._pickRequestObject.pos = i, this._pickRequestObject.radius = 1, this._pickRequestObject.mapEvent = n
                        }
                    }
                }
            }, {
                key: "runPick",
                value: function () {
                    var t = this;
                    (!this._isPicking && this._pickRequestObject.type && !this.map.moving || "touchmove" === this._pickRequestObject.type) && (this._isPicking = !0, this.pickQuery.pickObject({
                        x: this._pickRequestObject.pos.x,
                        y: this._pickRequestObject.pos.y,
                        radius: this._pickRequestObject.radius,
                        callback: function (e) {
                            e && e.layerId && e.objectIndex > -1 && t.emit("action", {
                                eventType: t._pickRequestObject.type,
                                layerId: e.layerId,
                                objectIndex: e.objectIndex,
                                mapEvent: t._pickRequestObject.mapEvent
                            }), t.emit(t._pickRequestObject.type, t._pickRequestObject.mapEvent), t._clearRequest(), t._isPicking = !1
                        }
                    }))
                }
            }, {
                key: "_clearRequest",
                value: function () {
                    this._pickRequestObject = {}
                }
            }, {
                key: "destroy",
                value: function () {
                    this._clearRequest(), this.pickQuery.destroy(), this.map = null, this.removeAllListeners()
                }
            }]), e
        }(y);
    e.default = g
}, function (t, e, n) {
    "use strict";

    function i() {
        o.removeEventListener("DOMContentLoaded", i, !1), r.fireReady()
    }
    var r = [],
        o = document;
    r.isReady = !1, r._used = !1, r.ready = function (t) {
        r.initReady(), r.isReady ? t() : r.push(t)
    }, r.initReady = function () {
        if (!r._used) {
            if (r._used = !0, "complete" === o.readyState || "interactive" === o.readyState) return r.fireReady();
            o.addEventListener("DOMContentLoaded", i, !1)
        }
    }, r.fireReady = function () {
        if (!r.isReady) {
            if (!o.body) return setTimeout(r.fireReady, 16);
            if (r.isReady = !0, r.length)
                for (var t, e = 0; t = r[e]; e++) t()
        }
    }, e.domReady = r.ready
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(243),
        u = (n(47), function () {
            function t(e) {
                (0, o.default)(this, t), this._map = e, this._onDblClick = this._onDblClick.bind(this)
            }
            return (0, s.default)(t, [{
                key: "isEnabled",
                value: function () {
                    return !!this._enabled
                }
            }, {
                key: "enable",
                value: function () {
                    this.isEnabled() || (this._map._on("dblclick", this._onDblClick), this._enabled = !0)
                }
            }, {
                key: "disable",
                value: function () {
                    this.isEnabled() && (this._map._off("dblclick", this._onDblClick), this._enabled = !1)
                }
            }, {
                key: "_onDblClick",
                value: function (t) {
                    var e = t.point;
                    (0, l.isReponsing)(this._map, e) && this._map.zoomTo(Math.min(this._map.getZoom() + (t.originalEvent.shiftKey ? -1 : 1), this._map.transform.maxZoom), {
                        around: t.latLng
                    }, t)
                }
            }]), t
        }());
    t.exports = u
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(243),
        u = n(47),
        c = n(6),
        f = c.bezier(0, 0, .3, 1),
        d = function () {
            function t(e) {
                (0, o.default)(this, t), this._map = e, this._el = e.getContainer(), this._moveStartEvent = null, c.bindAll(["_onDown", "_onMove", "_onUp", "_onTouchEnd", "_onMouseUp"], this)
            }
            return (0, s.default)(t, [{
                key: "isEnabled",
                value: function () {
                    return !!this._enabled
                }
            }, {
                key: "isActive",
                value: function () {
                    return !!this._active
                }
            }, {
                key: "enable",
                value: function () {
                    this.isEnabled() || (this._el.addEventListener("mousedown", this._onDown), this._el.addEventListener("touchstart", this._onDown), this._enabled = !0)
                }
            }, {
                key: "disable",
                value: function () {
                    this.isEnabled() && (this._el.removeEventListener("mousedown", this._onDown), this._el.removeEventListener("touchstart", this._onDown), this._enabled = !1)
                }
            }, {
                key: "_onDown",
                value: function (t) {
                    if (!this._ignoreEvent(t) && !this.isActive()) {
                        this._moveStartEvent = t, t.touches ? (window.document.addEventListener("touchmove", this._onMove), window.document.addEventListener("touchend", this._onTouchEnd)) : (window.document.addEventListener("mousemove", this._onMove), window.document.addEventListener("mouseup", this._onMouseUp)), window.addEventListener("blur", this._onMouseUp), this._active = !1;
                        var e = u.mousePos(this._el, t);
                        (0, l.isReponsing)(this._map, e) && (this._pos = e), this._inertia = [
                            [Date.now(), this._pos]
                        ]
                    }
                }
            }, {
                key: "_onMove",
                value: function (t) {
                    if (!this._ignoreEvent(t)) {
                        if (!this.isActive()) {
                            if (!this._isMoved(t)) return;
                            this._active = !0, this._map.moving = !0, this._fireEvent("dragstart", t), this._fireEvent("panstart", t), this._fireEvent("movestart", t)
                        }
                        var e = u.mousePos(this._el, t),
                            n = this._map;
                        (0, l.isReponsing)(n, e) && (n.stopEase(), this._drainInertiaBuffer(), this._inertia.push([Date.now(), e]), n.transform.setLocationAtPoint(n.unprojectFromContainer(this._pos), e), this._pos = e), this._fireEvent("drag", t), this._fireEvent("pan", t), this._fireEvent("move", t), t.touches || t.preventDefault()
                    }
                }
            }, {
                key: "_onUp",
                value: function (t) {
                    var e = this;
                    if (this.isActive()) {
                        this._active = !1, this._fireEvent("dragend", t), this._fireEvent("panend", t), this._drainInertiaBuffer();
                        var n = function () {
                                e._map.moving = !1, e._fireEvent("moveend", t)
                            },
                            i = this._inertia;
                        if (i.length < 2) return void n();
                        var r = i[i.length - 1],
                            o = i[0],
                            a = r[1].sub(o[1]),
                            s = (r[0] - o[0]) / 1e3;
                        if (0 === s || r[1].equals(o[1])) return void n();
                        var c = u.mousePos(this._el, t);
                        if ((0, l.isReponsing)(this._map, c)) {
                            var d = a.mult(.3 / s),
                                h = d.mag();
                            h > 1400 && (h = 1400, d._unit()._mult(h));
                            var v = h / 750,
                                _ = d.mult(-v / 2);
                            this._map.panBy(_, {
                                duration: 1e3 * v,
                                easing: f,
                                noMoveStart: !0
                            }, {
                                originalEvent: t
                            })
                        }
                    }
                }
            }, {
                key: "_onMouseUp",
                value: function (t) {
                    this._ignoreEvent(t) || (this._onUp(t), window.document.removeEventListener("mousemove", this._onMove), window.document.removeEventListener("mouseup", this._onMouseUp), window.removeEventListener("blur", this._onMouseUp))
                }
            }, {
                key: "_onTouchEnd",
                value: function (t) {
                    this._ignoreEvent(t) || (this._onUp(t), window.document.removeEventListener("touchmove", this._onMove), window.document.removeEventListener("touchend", this._onTouchEnd))
                }
            }, {
                key: "_fireEvent",
                value: function (t, e) {
                    return this._map._fire(t, {
                        originalEvent: e
                    })
                }
            }, {
                key: "_ignoreEvent",
                value: function (t) {
                    var e = this._map;
                    if (e.boxZoom && e.boxZoom.isActive()) return !0;
                    if (e.dragRotate && e.dragRotate.isActive()) return !0;
                    if (t.touches) return t.touches.length > 1;
                    if (t.ctrlKey) return !0;
                    return "mousemove" === t.type ? !1 & t.buttons : t.button && 0 !== t.button
                }
            }, {
                key: "_drainInertiaBuffer",
                value: function () {
                    for (var t = this._inertia, e = Date.now(); t.length > 0 && e - t[0][0] > 160;) t.shift()
                }
            }, {
                key: "_isMoved",
                value: function (t) {
                    var e = this._moveStartEvent;
                    if (!e) return !0;
                    var n = void 0,
                        i = void 0;
                    return t.touches ? (n = e.touches[0], i = t.touches[0]) : (n = e, i = t), Math.abs(i.clientX - n.clientX) > 2 || Math.abs(i.clientY - n.clientY) > 2
                }
            }]), t
        }();
    t.exports = d
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(47),
        u = n(6),
        c = u.bezier(0, 0, .25, 1),
        f = function () {
            function t(e, n) {
                (0, o.default)(this, t), this._map = e, this._el = e.getContainer(), this._pitchWithRotate = !0, this._moveStartEvent = null, u.bindAll(["_onDown", "_onMove", "_onUp"], this)
            }
            return (0, s.default)(t, [{
                key: "isEnabled",
                value: function () {
                    return !!this._enabled
                }
            }, {
                key: "isActive",
                value: function () {
                    return !!this._active
                }
            }, {
                key: "enable",
                value: function () {
                    this.isEnabled() || (this._el.addEventListener("mousedown", this._onDown), this._enabled = !0)
                }
            }, {
                key: "disable",
                value: function () {
                    this.isEnabled() && (this._el.removeEventListener("mousedown", this._onDown), this._enabled = !1)
                }
            }, {
                key: "_onDown",
                value: function (t) {
                    this._ignoreEvent(t) || this.isActive() || (this._moveStartEvent = t, window.document.addEventListener("mousemove", this._onMove), window.document.addEventListener("mouseup", this._onUp), window.addEventListener("blur", this._onUp), this._active = !1, this._inertia = [
                        [Date.now(), this._map.getHeading()]
                    ], this._startPos = this._pos = l.mousePos(this._el, t), this._center = this._map.transform.centerPoint, t.preventDefault())
                }
            }, {
                key: "_onMove",
                value: function (t) {
                    if (!this._ignoreEvent(t)) {
                        if (!this.isActive()) {
                            if (!this._isMoved(t)) return;
                            this._active = !0, this._map.moving = !0, this._fireEvent("dragstart", t), this._fireEvent("rotatestart", t), this._fireEvent("movestart", t), this._pitchWithRotate && this._fireEvent("pitchstart", t)
                        }
                        var e = this._map;
                        e.stopEase();
                        var n = this._pos,
                            i = l.mousePos(this._el, t),
                            r = .8 * (n.x - i.x),
                            o = -.5 * (n.y - i.y),
                            a = e.getHeading() - r,
                            s = e.getPitch() - o,
                            u = this._inertia,
                            c = u[u.length - 1];
                        this._drainInertiaBuffer(), u.push([Date.now(), e._normalizeHeading(a, c[1])]), e.transform.heading = a, this._pitchWithRotate && (this._fireEvent("pitch", t), e.transform.pitch = s), this._fireEvent("drag", t), this._fireEvent("rotate", t), this._fireEvent("move", t), this._pos = i
                    }
                }
            }, {
                key: "_onUp",
                value: function (t) {
                    var e = this;
                    if (!this._ignoreEvent(t) && (window.document.removeEventListener("mousemove", this._onMove), window.document.removeEventListener("mouseup", this._onUp), window.removeEventListener("blur", this._onUp), this.isActive())) {
                        this._active = !1, this._fireEvent("dragend", t), this._fireEvent("rotateend", t), this._drainInertiaBuffer();
                        var n = this._map,
                            i = n.getHeading(),
                            r = this._inertia,
                            o = function () {
                                Math.abs(i) < e._bearingSnap ? n.resetNorth({
                                    noMoveStart: !0
                                }, {
                                    originalEvent: t
                                }) : (e._map.moving = !1, e._fireEvent("moveend", t)), e._pitchWithRotate && e._fireEvent("pitchend", t)
                            };
                        if (r.length < 2) return void o();
                        var a = r[0],
                            s = r[r.length - 1],
                            l = r[r.length - 2],
                            u = n._normalizeHeading(i, l[1]),
                            f = s[1] - a[1],
                            d = f < 0 ? -1 : 1,
                            h = (s[0] - a[0]) / 1e3;
                        if (0 === f || 0 === h) return void o();
                        var v = Math.abs(f * (.25 / h));
                        v > 180 && (v = 180);
                        var _ = v / 180;
                        u += d * v * (_ / 2), Math.abs(n._normalizeHeading(u, 0)) < this._bearingSnap && (u = n._normalizeHeading(0, u)), n.headTo(u, {
                            duration: 1e3 * _,
                            easing: c,
                            noMoveStart: !0
                        }, {
                            originalEvent: t
                        })
                    }
                }
            }, {
                key: "_fireEvent",
                value: function (t, e) {
                    return this._map._fire(t, {
                        originalEvent: e
                    })
                }
            }, {
                key: "_ignoreEvent",
                value: function (t) {
                    var e = this._map;
                    if (e.boxZoom && e.boxZoom.isActive()) return !0;
                    if (e.dragPan && e.dragPan.isActive()) return !0;
                    if (t.touches) return t.touches.length > 1;
                    var n = t.ctrlKey ? 1 : 2,
                        i = t.ctrlKey ? 0 : 2,
                        r = t.button;
                    return "undefined" != typeof InstallTrigger && 2 === t.button && t.ctrlKey && window.navigator.platform.toUpperCase().indexOf("MAC") >= 0 && (r = 0), "mousemove" === t.type ? t.buttons & 0 === n : !this.isActive() && r !== i
                }
            }, {
                key: "_drainInertiaBuffer",
                value: function () {
                    for (var t = this._inertia, e = Date.now(); t.length > 0 && e - t[0][0] > 160;) t.shift()
                }
            }, {
                key: "_isMoved",
                value: function (t) {
                    var e = this._moveStartEvent;
                    if (!e) return !0;
                    var n = void 0,
                        i = void 0;
                    return n = e, i = t, Math.abs(i.clientX - n.clientX) > 2 || Math.abs(i.clientY - n.clientY) > 2
                }
            }]), t
        }();
    t.exports = f
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(40),
        _ = i(v),
        p = n(6),
        m = i(p),
        y = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this));
                return n.transform = t, n.bindIdleEvent(), n.start(), n.isJudging = !1, n.timer = null, n.duration = 100, n.input = void 0, n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "start",
                value: function () {
                    this.isJudging || (this.input = this.transform.getInput(), this.isJudging = !0, this.judge())
                }
            }, {
                key: "stop",
                value: function () {
                    this.isJudging = !1, this.timer && window.clearTimeout(this.timer)
                }
            }, {
                key: "judge",
                value: function () {
                    this.timer = window.setTimeout(function () {
                        var t = this.transform.getInput();
                        this.inputEqual(t, this.input) ? (this.stop(), this._fire("idle")) : this.judge(), this.input = t
                    }.bind(this), this.duration)
                }
            }, {
                key: "bindIdleEvent",
                value: function () {
                    this.transform._on("input_change", this.start.bind(this))
                }
            }, {
                key: "inputEqual",
                value: function (t, e) {
                    return !(!t || !e) && (m.default.forIn(t, function (n) {
                        return ("center" !== n || t[n].lat === e[n].lat && t[n].lng === e[n].lng) && (t[n] === e[n] && void 0)
                    }), !0)
                }
            }]), e
        }(_.default);
    e.default = y
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = (n(47), n(6)),
        u = function () {
            function t(e) {
                (0, o.default)(this, t), this._map = e, this._el = e.getContainer(), l.bindAll(["_onTouchStart", "_onTouchMove", "_onTouchEnd"], this), this.timer = null, this.duration = 750, this.buffer = 3, this.position = null, this.enabled = !1
            }
            return (0, s.default)(t, [{
                key: "enable",
                value: function () {
                    this.enabled || (this._el.addEventListener("touchstart", this._onTouchStart), this._el.addEventListener("touchmove", this._onTouchMove), this._el.addEventListener("touchend", this._onTouchEnd), this.enabled = !0)
                }
            }, {
                key: "disable",
                value: function () {
                    this.enabled && (this._el.removeEventListener("touchstart", this._onTouchStart), this._el.removeEventListener("touchmove", this._onTouchMove), this._el.removeEventListener("touchend", this._onTouchEnd), this.enabled = !1)
                }
            }, {
                key: "startLongPress",
                value: function () {
                    this.timer = window.setTimeout(function () {
                        this._map._fire("longpress"), this.endLongPress()
                    }.bind(this), this.duration)
                }
            }, {
                key: "endLongPress",
                value: function () {
                    window.clearTimeout(this.timer), this.position = null
                }
            }, {
                key: "_onTouchStart",
                value: function (t) {
                    this.endLongPress(), 1 === t.touches.length && (this.startLongPress(), this.position = {
                        x: t.touches[0].pageX,
                        y: t.touches[0].pageY
                    })
                }
            }, {
                key: "_onTouchMove",
                value: function (t) {
                    if (this.position) {
                        var e = t.touches[0].pageX - this.position.x,
                            n = t.touches[0].pageY - this.position.y;
                        Math.sqrt(e * e + n * n) > this.buffer && this.endLongPress()
                    }
                }
            }, {
                key: "_onTouchEnd",
                value: function (t) {
                    this.endLongPress()
                }
            }]), t
        }();
    t.exports = u
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(243),
        u = n(9),
        c = i(u),
        f = n(47),
        d = n(6),
        h = n(13),
        v = window.navigator.userAgent.toLowerCase(),
        _ = -1 !== v.indexOf("firefox"),
        p = -1 !== v.indexOf("safari") && -1 === v.indexOf("chrom"),
        m = function () {
            function t(e) {
                (0, o.default)(this, t), this._map = e, this._el = e.getContainer(), d.bindAll(["_onWheel", "_onTimeout"], this)
            }
            return (0, s.default)(t, [{
                key: "isEnabled",
                value: function () {
                    return !!this._enabled
                }
            }, {
                key: "enable",
                value: function (t) {
                    this.isEnabled() || (this._el.addEventListener("wheel", this._onWheel, !1), this._el.addEventListener("mousewheel", this._onWheel, !1), this._enabled = !0, this._aroundCenter = t && "center" === t.around)
                }
            }, {
                key: "disable",
                value: function () {
                    this.isEnabled() && (this._el.removeEventListener("wheel", this._onWheel), this._el.removeEventListener("mousewheel", this._onWheel), this._enabled = !1)
                }
            }, {
                key: "_onWheel",
                value: function (t) {
                    var e = void 0;
                    "wheel" === t.type ? (e = t.deltaY, _ && t.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL && (e /= h.devicePixelRatio), t.deltaMode === window.WheelEvent.DOM_DELTA_LINE && (e *= 40)) : "mousewheel" === t.type && (e = -t.wheelDeltaY, p && (e /= 3));
                    var n = h.now(),
                        i = n - (this._time || 0);
                    this._pos = f.mousePos(this._el, t), this._time = n, 0 !== e && e % 4.000244140625 == 0 ? this._type = "wheel" : 0 !== e && Math.abs(e) < 4 ? this._type = "trackpad" : i > 400 ? (this._type = null, this._lastValue = e, this._timeout = setTimeout(this._onTimeout.bind(this, t), 40)) : this._type || (this._type = Math.abs(i * e) < 200 ? "trackpad" : "wheel", this._timeout && (clearTimeout(this._timeout), this._timeout = null, e += this._lastValue)), t.shiftKey && e && (e /= 4), this._type && this._zoom(-e, t), t.preventDefault()
                }
            }, {
                key: "_onTimeout",
                value: function (t) {
                    this._type = "wheel", this._zoom(-this._lastValue, t)
                }
            }, {
                key: "_zoom",
                value: function (t, e) {
                    if (0 !== t) {
                        var n = this._map,
                            i = f.mousePos(this._el, e);
                        if ((0, l.isReponsing)(this._map, i)) {
                            var r = 2 / (1 + Math.exp(-Math.abs(t / 100)));
                            t < 0 && 0 !== r && (r = 1 / r);
                            var o = n.ease ? n.ease.to : n.transform.scrollScale,
                                a = d.clamp(n.transform.scaleZoom(o * r), c.default.minZoom, c.default.maxZoom);
                            n.zoomTo(a, {
                                duration: "wheel" === this._type ? 200 : 0,
                                around: this._aroundCenter ? n.getCenter() : n.unprojectFromContainer(this._pos),
                                delayEndEvents: 100,
                                smoothEasing: !0
                            }, {
                                originalEvent: e
                            })
                        }
                    }
                }
            }]), t
        }();
    t.exports = m
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(47),
        u = n(6),
        c = (u.bezier(0, 0, .15, 1), function () {
            function t(e) {
                (0, o.default)(this, t), this._map = e, this._el = e.getContainer(), u.bindAll(["_onStart", "_onMove", "_onEnd"], this)
            }
            return (0, s.default)(t, [{
                key: "isEnabled",
                value: function () {
                    return !!this._enabled
                }
            }, {
                key: "enable",
                value: function (t) {
                    this.isEnabled() || (this._el.addEventListener("touchstart", this._onStart, !1), this._enabled = !0, this._aroundCenter = t && "center" === t.around)
                }
            }, {
                key: "disable",
                value: function () {
                    this.isEnabled() && (this._el.removeEventListener("touchstart", this._onStart), this._enabled = !1)
                }
            }, {
                key: "isActive",
                value: function () {
                    return !!this._active
                }
            }, {
                key: "_onStart",
                value: function (t) {
                    if (!this._ignoreEvent(t)) {
                        var e = l.mousePos(this._el, t.touches[0]),
                            n = l.mousePos(this._el, t.touches[1]);
                        this._posP0 = e, this._posP1 = n, this._startPitch = this._map.transform.pitch, this._gestureIntent = void 0, this._inertia = [], this._active = !1, window.document.addEventListener("touchmove", this._onMove, !1), window.document.addEventListener("touchend", this._onEnd, !1)
                    }
                }
            }, {
                key: "_onMove",
                value: function (t) {
                    if (!this._ignoreEvent(t)) {
                        this.isActive() || (this._active = !0);
                        var e = l.mousePos(this._el, t.touches[0]),
                            n = l.mousePos(this._el, t.touches[1]),
                            i = this._posP0.sub(e),
                            r = this._posP1.sub(n),
                            o = .5 * (i.y + r.y),
                            a = this._map;
                        if (this._posP0 = e, this._posP1 = n, this._gestureIntent) a.transform.pitch = a.getPitch() - o, this._drainInertiaBuffer(), this._inertia.push([Date.now(), o]), this._fireEvent("pitch", t), this._fireEvent("move", t);
                        else {
                            Math.abs(Math.abs(i.x) - Math.abs(r.x)) < 2 && (this._gestureIntent = "pitch", this._startPitch = a.transform.pitch)
                        }
                        t.preventDefault()
                    }
                }
            }, {
                key: "_onEnd",
                value: function (t) {
                    this._active = !1, window.document.removeEventListener("touchmove", this._onMove), window.document.removeEventListener("touchend", this._onEnd), this._drainInertiaBuffer()
                }
            }, {
                key: "_fireEvent",
                value: function (t, e) {
                    return this._map._fire(t, {
                        originalEvent: e
                    })
                }
            }, {
                key: "_ignoreEvent",
                value: function (t) {
                    var e = this._map;
                    return !(!e.dragPan || !e.dragPan.isActive()) || (!(!e.touchZoomRotate || !e.touchZoomRotate.isActive()) || (t.touches ? t.touches.length < 2 : void 0))
                }
            }, {
                key: "_drainInertiaBuffer",
                value: function () {
                    for (var t = this._inertia, e = Date.now(); t.length > 2 && e - t[0][0] > 160;) t.shift()
                }
            }]), t
        }());
    t.exports = c
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(47),
        u = n(6),
        c = u.bezier(0, 0, .15, 1),
        f = function () {
            function t(e) {
                (0, o.default)(this, t), this._map = e, this._el = e.getContainer(), u.bindAll(["_onStart", "_onMove", "_onEnd"], this)
            }
            return (0, s.default)(t, [{
                key: "isEnabled",
                value: function () {
                    return !!this._enabled
                }
            }, {
                key: "isActive",
                value: function () {
                    return !!this._active
                }
            }, {
                key: "enable",
                value: function (t) {
                    this.isEnabled() || (this._el.addEventListener("touchstart", this._onStart, !1), this._enabled = !0, this._aroundCenter = t && "center" === t.around)
                }
            }, {
                key: "disable",
                value: function () {
                    this.isEnabled() && (this._el.removeEventListener("touchstart", this._onStart), this._enabled = !1)
                }
            }, {
                key: "disableRotation",
                value: function () {
                    this._rotationDisabled = !0
                }
            }, {
                key: "enableRotation",
                value: function () {
                    this._rotationDisabled = !1
                }
            }, {
                key: "_onStart",
                value: function (t) {
                    if (2 === t.touches.length) {
                        var e = l.mousePos(this._el, t.touches[0]),
                            n = l.mousePos(this._el, t.touches[1]);
                        this._posP0 = e, this._posP1 = n, this._startVec = e.sub(n), this._startScale = this._map.transform.scrollScale, this._startHeading = this._map.transform.heading, this._gestureIntent = void 0, this._inertia = [], this._active = !1, window.document.addEventListener("touchmove", this._onMove, !1), window.document.addEventListener("touchend", this._onEnd, !1)
                    }
                }
            }, {
                key: "_onMove",
                value: function (t) {
                    if (2 === t.touches.length) {
                        var e = l.mousePos(this._el, t.touches[0]),
                            n = l.mousePos(this._el, t.touches[1]),
                            i = e.add(n).div(2),
                            r = e.sub(n),
                            o = r.mag() / this._startVec.mag(),
                            a = this._rotationDisabled ? 0 : 180 * r.angleWith(this._startVec) / Math.PI,
                            s = this._map;
                        if (this._gestureIntent) {
                            var u = {};
                            "rotate" === this._gestureIntent && (u.heading = this._startHeading + a), "zoom" === this._gestureIntent && (u.zoom = s.transform.scaleZoom(this._startScale * o)), s.stopEase(), this._drainInertiaBuffer(), this._inertia.push([Date.now(), o, i]), s.easeTo(u, {
                                duration: 0,
                                around: s.unprojectFromContainer(i)
                            }, {
                                originalEvent: t
                            }), this._fireEvent("rotate", t), this._fireEvent("move", t)
                        } else {
                            var c = Math.abs(1 - o) > .15;
                            Math.abs(a) > 8 ? this._gestureIntent = "rotate" : c && (this._gestureIntent = "zoom"), this._gestureIntent && (this._startVec = r, this._startScale = s.transform.scrollScale, this._startHeading = s.transform.heading, this.isActive() || (this._active = !0))
                        }
                        t.preventDefault()
                    }
                }
            }, {
                key: "_onEnd",
                value: function (t) {
                    window.document.removeEventListener("touchmove", this._onMove), window.document.removeEventListener("touchend", this._onEnd), this._drainInertiaBuffer(), this._active = !1;
                    var e = this._inertia,
                        n = this._map;
                    if (e.length < 2) return void n.snapToNorth({}, {
                        originalEvent: t
                    });
                    var i = e[e.length - 1],
                        r = e[0],
                        o = n.transform.scaleZoom(this._startScale * i[1]),
                        a = n.transform.scaleZoom(this._startScale * r[1]),
                        s = o - a,
                        l = (i[0] - r[0]) / 1e3,
                        u = i[2];
                    if (0 === l || o === a) return void n.snapToNorth({}, {
                        originalEvent: t
                    });
                    var f = .15 * s / l;
                    Math.abs(f) > 2.5 && (f = f > 0 ? 2.5 : -2.5);
                    var d = 1e3 * Math.abs(f / (12 * .15));
                    n.easeTo({}, {
                        duration: d,
                        easing: c,
                        around: this._aroundCenter ? n.getCenter() : n.unprojectFromContainer(u)
                    }, {
                        originalEvent: t
                    })
                }
            }, {
                key: "_fireEvent",
                value: function (t, e) {
                    return this._map._fire(t, {
                        originalEvent: e
                    })
                }
            }, {
                key: "_drainInertiaBuffer",
                value: function () {
                    for (var t = this._inertia, e = Date.now(); t.length > 2 && e - t[0][0] > 160;) t.shift()
                }
            }, {
                key: "_ignoreEvent",
                value: function (t) {
                    var e = this._map;
                    return !(!e.touchTilt || !e.touchTilt.isActive()) || (t.touches ? t.touches.length < 2 : void 0)
                }
            }]), t
        }();
    t.exports = f
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(13),
        u = i(l),
        c = n(555),
        f = i(c),
        d = n(379),
        h = function () {
            function t() {
                var e = this;
                (0, o.default)(this, t), this.fps = 6, this.now = null, this.then = null, this.interval = 1e3 / this.fps, this.delta = null, this._frameDeadline = 0, this._channel = new MessageChannel, this.scheduleTaskQueue = new d.ScheduleTaskQueue, this._channel.port1.onmessage = function (t) {
                    if (e.scheduleTaskQueue)
                        for (var n = e._frameDeadline - u.default.now(), i = e.scheduleTaskQueue.first; i && (n > 1 || i.isTimeout());) {
                            var r = i;
                            i = i.next, r && r.runTask(), n = e._frameDeadline - u.default.now()
                        }
                }
            }
            return (0, s.default)(t, [{
                key: "_initStats",
                value: function () {
                    this.stats = new f.default, this.stats.domElement.style.position = "absolute", this.stats.domElement.style.right = "14px", this.stats.domElement.style.bottom = "140px", this.stats.domElement.style.zIndex = 1e6, document.body.appendChild(this.stats.domElement)
                }
            }, {
                key: "updateFPS",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 30;
                    this.fps = Math.max(1, Math.min(t, 60)), this.interval = 1e3 / this.fps
                }
            }, {
                key: "setCallback",
                value: function (t) {
                    this.callback = t
                }
            }, {
                key: "start",
                value: function () {
                    this._animFrameId || this._destroyed || (this.then = u.default.now(), this.tick())
                }
            }, {
                key: "tickOnce",
                value: function () {
                    var t = this;
                    this.isUpdating || (0, u.default)(function (e) {
                        t.callback && t.callback(e)
                    })
                }
            }, {
                key: "tick",
                value: function (t) {
                    var e = this;
                    this._animFrameId = u.default.frame(function (t) {
                        e.tick(t)
                    }), this.now = u.default.now(), this.delta = this.now - this.then, this.delta > this.interval && (this.stats && this.stats.update(), this.then = this.now - this.delta % this.interval, this._frameDeadline = t + this.interval, this.callback && this.callback(t), this._channel.port2.postMessage(null))
                }
            }, {
                key: "stop",
                value: function () {
                    u.default.cancelFrame(this._animFrameId), this._animFrameId = null
                }
            }, {
                key: "destroy",
                value: function () {
                    this.stop(), this.setCallback(null);
                    for (var t = this.scheduleTaskQueue.first; t;) {
                        var e = t;
                        t = t.next, e.remove()
                    }
                    this.scheduleTaskQueue = null, this._destroyed = !0
                }
            }, {
                key: "isUpdating",
                get: function () {
                    return !!this._animFrameId
                }
            }]), t
        }();
    e.default = h
}, function (t, e, n) {
    "use strict";
    var i = function () {
        var t = 0,
            e = 0,
            n = Date.now(),
            i = n,
            r = 0,
            o = 1e3,
            a = 0,
            s = 0,
            l = 1e3,
            u = 0,
            c = 0,
            f = 0,
            d = document.createElement("div");
        d.id = "stats", d.addEventListener("mousedown", function (t) {
            t.preventDefault(), x(++f % 2)
        }, !1), d.style.cssText = "width:80px;opacity:0.9;cursor:pointer";
        var h = document.createElement("div");
        h.id = "fps", h.style.cssText = "padding:0 0 3px 3px;text-align:left;background-color:#002", d.appendChild(h);
        var v = document.createElement("div");
        v.id = "fpsText", v.style.cssText = "color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px", v.innerHTML = "FPS", h.appendChild(v);
        var _ = document.createElement("div");
        for (_.id = "fpsGraph", _.style.cssText = "position:relative;width:74px;height:30px;background-color:#0ff", h.appendChild(_); 74 > _.children.length;) {
            var p = document.createElement("span");
            p.style.cssText = "width:1px;height:30px;float:left;background-color:#113", _.appendChild(p)
        }
        var m = document.createElement("div");
        m.id = "ms", m.style.cssText = "padding:0 0 3px 3px;text-align:left;background-color:#020;display:none", d.appendChild(m);
        var y = document.createElement("div");
        y.id = "msText", y.style.cssText = "color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px", y.innerHTML = "MS", m.appendChild(y);
        var g = document.createElement("div");
        for (g.id = "msGraph", g.style.cssText = "position:relative;width:74px;height:30px;background-color:#0f0", m.appendChild(g); 74 > g.children.length;) p = document.createElement("span"), p.style.cssText = "width:1px;height:30px;float:left;background-color:#131", g.appendChild(p);
        var x = function (t) {
            switch (f = t) {
                case 0:
                    h.style.display = "block", m.style.display = "none";
                    break;
                case 1:
                    h.style.display = "none", m.style.display = "block"
            }
        };
        return {
            domElement: d,
            setMode: x,
            begin: function () {
                n = Date.now()
            },
            end: function () {
                var f = Date.now();
                r = f - n, o = Math.min(o, r), a = Math.max(a, r), y.textContent = r + " MS (" + o + "-" + a + ")";
                var d = Math.min(30, 30 - r / 200 * 30);
                return g.appendChild(g.firstChild).style.height = d + "px", c++, f > i + 1e3 && (s = Math.round(1e3 * c / (f - i)), l = Math.min(l, s), u = Math.max(u, s), e += s, s > 0 && t++, v.textContent = s + " FPS (" + l + "-" + u + ") Avg: " + parseInt(e / t), d = Math.min(30, 30 - s / 100 * 30), _.appendChild(_.firstChild).style.height = d + "px", i = f, c = 0), f
            },
            update: function () {
                n = this.end()
            }
        }
    };
    t.exports = i
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r() {
        return "&random=" + (+new Date).toString(36)
    }

    function o(t) {
        if (self.window) {
            (new Image).src = t + r()
        }
    }

    function a(t, e, n) {
        var i = x[t];
        return i || (i = new b({
            id: t,
            path: e
        })), i.on("send", function () {
            i.receiveData(n())
        }), x[t]
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = n(2),
        l = i(s),
        u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(4),
        v = i(h),
        _ = n(3),
        p = i(_);
    e.sendOnce = o, e.sendPeriodically = a;
    var m = n(190),
        y = n(6),
        g = i(y),
        x = {},
        b = function (t) {
            function e(t) {
                var n = t.id,
                    i = t.path;
                (0, c.default)(this, e);
                var r = (0, v.default)(this, (e.__proto__ || (0, l.default)(e)).call(this));
                return r.id = n, r.path = i, r.dataList = [], setInterval(function () {
                    r.send()
                }, 5e3), window.addEventListener("beforeunload", function () {
                    r.send()
                }), r
            }
            return (0, p.default)(e, t), (0, d.default)(e, [{
                key: "receiveData",
                value: function (t) {
                    var e = this;
                    g.default.forIn(t, function (t, n) {
                        e.dataList.push(t + "=" + n)
                    })
                }
            }, {
                key: "send",
                value: function () {
                    if (this.emit("send"), this.dataList.length > 0) {
                        var t = this.path + (-1 === this.path.indexOf("?") ? "?" : "&") + this.dataList.join("&");
                        this.dataList = [], o(t)
                    }
                }
            }]), e
        }(m.EventEmitter)
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return !!(o() && a() && s() && l() && u() && c() && f() && d())
    }

    function o() {
        return "undefined" != typeof window && "undefined" != typeof document
    }

    function a() {
        return Array.prototype && Array.prototype.every && Array.prototype.filter && Array.prototype.forEach && Array.prototype.indexOf && Array.prototype.lastIndexOf && Array.prototype.map && Array.prototype.some && Array.prototype.reduce && Array.prototype.reduceRight && Array.isArray
    }

    function s() {
        return Function.prototype && Function.prototype.bind
    }

    function l() {
        return D.default && z.default && O.default && V.default && L.default && I.default && k.default && A.default && w.default && b.default && g.default && m.default && _.default
    }

    function u() {
        return "JSON" in window && "parse" in JSON && "stringify" in JSON
    }

    function c() {
        return "Worker" in window
    }

    function f() {
        return "Uint8ClampedArray" in window
    }

    function d() {
        var t = B.context || null;
        if (!t) {
            t = h(), B.context = t;
            var e = t.getExtension("WEBGL_debug_renderer_info"),
                n = t.getParameter(e.UNMASKED_VENDOR_WEBGL),
                i = t.getParameter(e.UNMASKED_RENDERER_WEBGL);
            B.vendor = n, B.renderer = i, B.isIndependentDisplayCard = !/(\bHD\b)|(\bUHD\b)/.test(i)
        }
        return B
    }

    function h(t) {
        var e = document.createElement("canvas"),
            n = (0, z.default)(r.webGLContextAttributes);
        return e.getContext("webgl", n) || e.getContext("experimental-webgl", n)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var v = n(607),
        _ = i(v),
        p = n(602),
        m = i(p),
        y = n(608),
        g = i(y),
        x = n(601),
        b = i(x),
        S = n(106),
        w = i(S),
        E = n(206),
        A = i(E),
        T = n(604),
        k = i(T),
        P = n(605),
        I = i(P),
        M = n(606),
        L = i(M),
        C = n(603),
        V = i(C),
        R = n(2),
        O = i(R),
        F = n(204),
        z = i(F),
        N = n(10),
        D = i(N);
    e.isSupported = r, e.isWebGLSupportedCached = d;
    var B = {};
    r.webGLContextAttributes = {
        antialias: !1,
        alpha: !0,
        stencil: !0,
        depth: !0
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(4),
        u = i(l),
        c = n(3),
        f = i(c),
        d = n(40),
        h = function (t) {
            function e() {
                return (0, s.default)(this, e), (0, u.default)(this, (e.__proto__ || (0, o.default)(e)).call(this))
            }
            return (0, f.default)(e, t), e
        }(d);
    t.exports = h
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(138),
        _ = n(36),
        p = i(_),
        m = n(31),
        y = n(558),
        g = n(6).uniqueId,
        x = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this));
                return t = t || {}, n.id = g(), n._userZIndex = t.zIndex >= 0 ? t.zIndex : 0, n.zIndex = Math.min(Math.max(t.zIndex || 0, 0) + v.RANK_CONFIG.VISUAL_PLUGIN.min, v.RANK_CONFIG.VISUAL_PLUGIN.max), n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "addTo",
                value: function (t) {
                    return t.addVisualPlugin(this), this.map = t, this.gl = t.renderEngine.gl, this.transform = t.transform, this
                }
            }, {
                key: "remove",
                value: function () {
                    return this.map && this.map.removeVisualPlugin(this.id), this.map = null, this.gl = null, this.transform = null, this
                }
            }, {
                key: "redraw",
                value: function () {
                    return this.map && this.map._update(), this
                }
            }, {
                key: "draw",
                value: function (t) {}
            }, {
                key: "setZIndex",
                value: function (t) {
                    return p.default.isNumber(t) ? t < 0 ? (console.error("zIndex希望设置为非负数,实际值为: " + t), this) : (this._userZIndex = t, void(this.zIndex = Math.min(Math.max(t || 0, 0) + v.RANK_CONFIG.VISUAL_PLUGIN.min, v.RANK_CONFIG.VISUAL_PLUGIN.max))) : (new m.BaseTypeError("zIndex", "Number", t).error(), this)
                }
            }, {
                key: "getZIndex",
                value: function () {
                    return this._userZIndex
                }
            }]), e
        }(y);
    t.exports = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = n(10),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(492),
        f = i(c),
        d = n(27),
        h = n(9),
        v = i(h),
        _ = n(6),
        p = i(_),
        m = function () {
            function t(e) {
                (0, s.default)(this, t), this.painter = e, this.renderLayers = null, this._destroyed = !1, this._needReplace = !0
            }
            return (0, u.default)(t, [{
                key: "updatePlace",
                value: function () {
                    this._needReplace = !0
                }
            }, {
                key: "resize",
                value: function (t, e) {
                    this._destroyed || (this.width = t, this.height = e, this.painter.resize(t, e))
                }
            }, {
                key: "update",
                value: function (t, e) {
                    if (!this._destroyed) {
                        var n = t.getDrawLayers().filter(function (t) {
                                return !t.isHidden(e.zoom)
                            }),
                            i = t.getPlugins(),
                            r = [],
                            a = {};
                        n.forEach(function (n) {
                            var i = n.filter,
                                s = n.sourceId,
                                l = t.getSource(s);
                            if (l) {
                                var u = l.getDrawItems();
                                if (0 !== (0, o.default)(u).length) {
                                    var c = {};
                                    c.tileSize = n.tileSize, c.type = n.type, c.rank = n.rank, c.id = n.id, c.opacity = n.opacity, "LABEL" === n.type && (c._enableCollision = n._enableCollision);
                                    var f = [];
                                    p.default.forIn(u, function (t, r) {
                                        var o = r.getQueryData(i),
                                            s = r.coord;
                                        if (o) {
                                            var l = {},
                                                u = void 0,
                                                c = void 0;
                                            if (s.isVirtualCoord()) u = c = 0;
                                            else {
                                                if ((s.z - e.tileZoom >= 4 || e.tileZoom - s.z >= 5) && e.tileZoom <= v.default.maxDataZoom) return;
                                                var d = e.projectionTopLeft(s.z);
                                                u = s.x * n.tileSize - d.x, c = s.y * n.tileSize - d.y
                                            }
                                            if (l.offset = {
                                                    x: u,
                                                    y: c
                                                }, l.id = s.id, l.coordX = s.x, l.coordY = s.y, l.coordZ = s.z, l.features = l.id in o ? o[l.id] : o, l.scale = s.isVirtualCoord() ? 1 : e.calCoordsScale(s.z), !a[l.id]) {
                                                var h = {};
                                                h.offset = l.offset, h.scale = l.scale, h.tileSize = n.tileSize, a[l.id] = h
                                            }
                                            f.push(l)
                                        }
                                    }), c.tiles = f, r.push(c)
                                }
                            }
                        }), i.forEach(function (t) {
                            r.push({
                                type: d.RENDER_LAYER_TYPE.visualPlugin,
                                visualPlugin: t,
                                rank: t.zIndex
                            })
                        }), r.sort(function (t, e) {
                            return t.rank - e.rank
                        }), this.renderLayers = r;
                        var s = !1;
                        return this.painter.preRender(e, a), (!this.gradualPlacement || this.gradualPlacement.isDone() && !this.gradualPlacement.isFading() && this._needReplace) && (this.gradualPlacement = new f.default(this.painter.textCache, this.renderLayers), this._needReplace = !1), this.gradualPlacement.isDone() || (this.painter.painters.symbol && this.painter.painters.symbol.preDraw({
                            iconsLoader: t.iconsLoader
                        }), this.gradualPlacement.placement.updateVersion(), this.gradualPlacement.continuePlacement(this.renderLayers, this.painter.tilesMatrix, this.painter.camera, e), this.gradualPlacement.isDone() ? this.placement = this.gradualPlacement.batchUpdate(this.placement) : (this.lastGradualPlacement = this.gradualPlacement, s = !0)), this.placement && this.gradualPlacement && this.gradualPlacement.placement !== this.placement && this.placement.batchUpdateShow(), this.painter.render(this.renderLayers, e, this.placement, {
                            fadeChange: this.placement.getFadeChange(),
                            iconsLoader: t.iconsLoader
                        }), s
                    }
                }
            }, {
                key: "resetGradualPlacement",
                value: function () {
                    this.gradualPlacement && (this.gradualPlacement.destroy(), this.gradualPlacement = null)
                }
            }, {
                key: "render",
                value: function (t, e) {
                    if (!this._destroyed) return this.update(t, e)
                }
            }, {
                key: "destroy",
                value: function () {
                    this._destroyed || (this.gradualPlacement && (this.gradualPlacement.destroy(), this.gradualPlacement = null), this.painter = null, this.renderLayers = null, this._destroyed = !0)
                }
            }, {
                key: "getPoi",
                value: function (t) {
                    return this.placement ? this.placement.getPoi(t) : null
                }
            }]), t
        }();
    t.exports = m
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
        return {
            centerDelta: {
                x: 0,
                y: 0
            },
            leftTop: o(t, [-1, e]),
            rightTop: o(t, [1, e]),
            leftBottom: o(t, [-1, -1]),
            rightBottom: o(t, [1, -1])
        }
    }

    function o(t, e) {
        var n = t.clone();
        n.invert();
        var i = n.multiplyVector4({
                elements: [e[0], e[1], 0, 1]
            }),
            r = n.multiplyVector4({
                elements: [e[0], e[1], 1, 1]
            });
        i = i.elements.map(function (t, e, n) {
            return t / n[3]
        }), r = r.elements.map(function (t, e, n) {
            return t / n[3]
        });
        var o = (0 - i[2]) / (r[2] - i[2]);
        return {
            x: (0, g.default)(i[0], r[0], o),
            y: (0, g.default)(i[1], r[1], o)
        }
    }

    function a(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
            n = JSON.parse((0, u.default)(t));
        return b.default.forIn(n, function (t, n) {
            n.x *= e, n.y *= e
        }), n
    }

    function s(t, e) {
        var n = t * Math.PI / 180,
            i = e / 2 * Math.PI / 180;
        return (Math.cos(n) * Math.tan(n + i) - Math.sin(n)) / Math.tan(i)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var l = n(55),
        u = i(l),
        c = n(12),
        f = i(c),
        d = n(0),
        h = i(d),
        v = n(1),
        _ = i(v),
        p = n(93),
        m = n(51),
        y = n(248),
        g = i(y),
        x = n(6),
        b = i(x),
        S = n(83),
        w = n(9),
        E = i(w),
        A = function () {
            function t(e, n, i, r) {
                (0, h.default)(this, t), this.version = 0, this.look = i, this.view = n, this.map = e, this.scale = r, this.lookPoint = new p.Vector3(i.slice(0, 3)), this.lightPosition = new p.Vector3([0, 0, 0]), this.resolution = {
                    width: 2 * n.right,
                    height: 2 * n.top
                }, this.pMatrix = new p.Matrix4, this.vMatrix = new p.Matrix4, this.vInverseMatrix = new p.Matrix4, this.rotateMatrix = new p.Matrix4, this.scaleMatrix = new p.Matrix4, this.matrixStore = new m.Store("matrixStore", 1e4), this.fovy = 30, this.distance = Math.floor(i[2] = n.top / Math.tan(this.fovy / 2 * Math.PI / 180)), this.far = 2 * this.distance, this.near = 1, this.pMatrix.setPerspective(this.fovy, (n.right - n.left) / (n.top - n.bottom), this.near, this.far), this.setLookAt(i), this.cache = {}, this.fogPitch = 45
            }
            return (0, _.default)(t, [{
                key: "setView",
                value: function (t) {
                    for (var e in t)
                        if (t.hasOwnProperty(e) && this.view[e] !== t[e]) {
                            this.updateVersion();
                            break
                        } this.view = t, this.distance = Math.floor(t.top / Math.tan(this.fovy / 2 * Math.PI / 180)), this.far = 2 * this.distance, this.resolution.width = 2 * this.view.right, this.resolution.height = 2 * this.view.top, this.pMatrix.setPerspective(this.fovy, (t.right - t.left) / (t.top - t.bottom), this.near, this.far), this._setPVMatrix()
                }
            }, {
                key: "setLookAt",
                value: function (t) {
                    for (var e = 0, n = t.length; e < n; e++)
                        if (this.look[e] !== this.look[e]) {
                            this.updateVersion();
                            break
                        } this.look = t, this._setPVMatrix()
                }
            }, {
                key: "setRotate",
                value: function (t, e) {
                    e %= 360, t === this.pitch && e === this.heading || this.updateVersion(), (t || 0 === t) && (t = Math.min(Math.max(t, 0), E.default.maxPitch)), this.heading = e, this.pitch = t, this._setPVMatrix()
                }
            }, {
                key: "setScale",
                value: function (t) {
                    t !== this.scale && (this.updateVersion(), this.scaleMatrix.setScale(t, t, t), this.scale = t, this._setPVMatrix())
                }
            }, {
                key: "canvasCoordsToGLCoords",
                value: function (t, e) {
                    return (0, S.fromScreenToNdc)(t, e, this.resolution)
                }
            }, {
                key: "glCoordsToCanvasCoords",
                value: function (t, e) {
                    return (0, S.fromNdcToScreen)(t, e, this.resolution)
                }
            }, {
                key: "getScreenCoordsByCustomMatrix",
                value: function (t, e) {
                    var n = (0, S.getScreenCoordsByCustomMatrix)(t, e, this.resolution);
                    return (0, f.default)({}, n, {
                        version: this.version
                    })
                }
            }, {
                key: "getScreenCoordsFromPixel",
                value: function (t) {
                    var e = new p.Vector4(t.x, t.y, 0, 1);
                    return this.getScreenCoordsByCustomMatrix(this.pvMatrix, e)
                }
            }, {
                key: "getPixelFromScreenCoords",
                value: function (t) {
                    return (0, S.getZPlaneCoordsByCustomMatrix)(this.pvMatrix, t, this.resolution)
                }
            }, {
                key: "getBounds",
                value: function (t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                    if (this.cache.bounds && this.cache.bounds.version === this.version) return a(this.cache.bounds.value, 1 / n);
                    var i = Math.min(this.getFogEdge()[1], 1),
                        o = r(this.pvMatrix, i);
                    return this.cache.bounds = {
                        version: this.version,
                        value: o
                    }, a(o, 1 / n)
                }
            }, {
                key: "getFogEdge",
                value: function () {
                    var t = this.fogPitch;
                    if (this.pitch < t - 5) return [1, 1 / 0, 1, 1];
                    if (this.cache.fogEdge && this.cache.fogEdge.version === this.version) return this.cache.fogEdge.value;
                    var e = this.view.top / this.scale * s(t, this.fovy),
                        n = e * Math.sin(this.heading * Math.PI / 180),
                        i = e * Math.cos(this.heading * Math.PI / 180),
                        r = this.pvMatrix.multiplyVector4({
                            elements: [n, i, 0, 1]
                        }).elements,
                        o = r.map(function (t) {
                            return t / r[3]
                        });
                    return this.cache.fogEdge = {
                        version: this.version,
                        value: o
                    }, o
                }
            }, {
                key: "getLookPosition",
                value: function () {
                    return this.vInverseMatrix.multiplyVector3(this.lookPoint)
                }
            }, {
                key: "getLightPosition",
                value: function (t) {
                    return this.vInverseMatrix.multiplyVector3(t || this.lightPosition)
                }
            }, {
                key: "_setPVMatrix",
                value: function () {
                    var t = new p.Matrix4,
                        e = new p.Matrix4;
                    e.translate(0, 0, -this.distance), e.rotate(-this.pitch, 1, 0, 0), e.rotate(this.heading, 0, 0, 1), e.scale(this.scale, this.scale, this.scale), e.translate(0, 0, 0), this.vMatrix = e, this.vInverseMatrix.set(e).invert(), t.multiply(this.pMatrix).multiply(e), this.pvMatrix = t
                }
            }, {
                key: "updateVersion",
                value: function () {
                    this.version++
                }
            }, {
                key: "destroy",
                value: function () {
                    this.version = 0, this.look = null, this.view = null, this.map = null, this.scale = null, this.lookPoint = null, this.lightPosition = null, this.resolution = null, this.pMatrix = null, this.vMatrix = null, this.vInverseMatrix = null, this.rotateMatrix = null, this.scaleMatrix = null, this.matrixStore.clear(), this.matrixStore = null, this.fovy = null, this.distance = null, this.far = null, this.near = null, this.cache = null
                }
            }]), t
        }();
    e.default = A
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = n(202);
    e.default = {
        active: !0,
        toneMapping: {
            enable: !1,
            exposure: 1
        },
        intensity: {
            ambient: .8,
            diffuse: .2,
            specular: 0
        },
        lightList: [{
            type: i.LIGHT_TYPE.AMBIENT,
            color: "#FFF",
            intensity: 1
        }, {
            id: "$main",
            type: i.LIGHT_TYPE.DIRECTION,
            color: "#FFF",
            intensity: 1,
            direction: [-1, 2, -1.41]
        }, {
            type: i.LIGHT_TYPE.DIRECTION,
            color: "#FFF",
            intensity: 1,
            direction: [1, -2, -1.41]
        }],
        shadowOptions: {
            enabled: !1
        }
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(72),
        _ = i(v),
        p = n(344),
        m = i(p),
        y = n(51),
        g = n(92),
        x = n(9),
        b = i(x),
        S = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.store = new y.Store("buffer", 1024, 128, g.deleteBuffersCallback), n.shaderSource = m.default, n.shaderParams = {
                    getAttribLocation: ["a_Position", "a_Color", "a_Normal", "a_LineInfo", "a_LineDistance", "a_SideInfo"],
                    getUniformLocation: ["u_matrix", "u_modelMatrix", "u_SizeScale"]
                }, n.enableLight = !0, n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "draw",
                value: function (t, e, n, i) {
                    var r = this.gl,
                        o = this.store,
                        a = t.vertices,
                        s = t.indeices,
                        l = "base_" + t.id,
                        u = e.matrix,
                        c = e.modelMatrix,
                        f = void 0;
                    o.exist(l) ? (f = o.get(l), this.bindVertexBuffer(a, f.vertices), this.bindElementBuffer(s, f.indices)) : f = o.set(l, {
                        vertices: this.bindVertexBuffer(a),
                        indices: this.bindElementBuffer(s),
                        length: s.length
                    }), r.uniformMatrix4fv(this.u_matrix, !1, u), r.uniformMatrix4fv(this.u_modelMatrix, !1, c);
                    var d = ~~(100 * (i - ~~i));
                    r.uniform1f(this.u_SizeScale, 1e3 * d + Math.min(Math.floor(100 * (n || 1)), 255));
                    var h = b.default.batchRender ? r.UNSIGNED_INT : r.UNSIGNED_SHORT;
                    r.drawElements(r.TRIANGLES, f.length, h, 0), this.unbindVertexBuffer(f.vertices, a.attributes)
                }
            }]), e
        }(_.default);
    e.default = S
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(72),
        _ = i(v),
        p = n(437),
        m = i(p),
        y = n(51),
        g = n(92),
        x = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.store = new y.Store("buffer", 1024, 128, g.deleteBuffersCallback), n.shaderSource = m.default, n.shaderParams = {
                    getAttribLocation: ["a_Position", "a_Color", "a_Info", "a_Transform"],
                    getUniformLocation: ["u_matrix", "u_modelMatrix", "u_use3D", "u_maskSampler", "u_maskScale"]
                }, n.enableLight = !0, n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "draw",
                value: function (t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        i = this.gl,
                        r = this.store,
                        o = t.vertices,
                        a = t.indeices,
                        s = "build_" + t.id,
                        l = e.matrix,
                        u = e.modelMatrix,
                        c = e.maskScale || 1,
                        f = void 0;
                    r.exist(s) ? (f = r.get(s), this.bindVertexBuffer(o, f.vertices), this.bindElementBuffer(a, f.indices)) : f = r.set(s, {
                        vertices: this.bindVertexBuffer(o),
                        indices: this.bindElementBuffer(a),
                        length: a.length
                    }), i.uniformMatrix4fv(this.u_matrix, !1, l), i.uniformMatrix4fv(this.u_modelMatrix, !1, u), i.uniform1i(this.u_maskSampler, 0), i.uniform1f(this.u_maskScale, c), i.uniform1f(this.u_use3D, n.use3D ? 1 : 0), i.drawElements(i.TRIANGLES, f.length, i.UNSIGNED_SHORT, 0), this.unbindVertexBuffer(f.vertices, o.attributes)
                }
            }]), e
        }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(11),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(244),
        g = i(y),
        x = n(444),
        b = i(x),
        S = n(82),
        w = i(S),
        E = n(6),
        A = i(E),
        T = n(482),
        k = i(T),
        P = n(826),
        I = (n(825), new k.default),
        M = I.parse(P),
        L = {
            minX: -17.631067276000977,
            maxX: 15.692798614501953,
            minY: -3.118868112564087,
            maxY: 3.4938244819641113,
            minZ: .05786377936601639,
            maxZ: 20.096586227416992
        },
        C = function (t) {
            function e(t) {
                (0, u.default)(this, e);
                var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t));
                return n.shaderSource = b.default, n.shaderParams = {
                    getAttribLocation: ["aPosition", "aNormal", "aColor", "aInstanceCoord", "aInstanceInfo"],
                    getUniformLocation: n.commonUniformList.concat(["uEnableLighting", "lighting_uCameraPosition", "lighting_lightPositions", "uBoxMin", "uBoxMax"])
                }, n.enableLight = !0, n.model = M, n
            }
            return (0, m.default)(e, t), (0, f.default)(e, [{
                key: "createModelBuffer",
                value: function () {
                    var t = this.gl,
                        e = this.model.attributes;
                    this.modelBuffers = {
                        positions: {
                            buffer: new w.default(t, {
                                data: e.POSITION.value
                            }),
                            location: this.aPosition,
                            size: e.POSITION.size,
                            type: t.FLOAT
                        },
                        normals: {
                            buffer: new w.default(t, {
                                data: e.NORMAL.value
                            }),
                            location: this.aNormal,
                            size: e.NORMAL.size,
                            type: t.BYTE
                        },
                        colors: {
                            buffer: new w.default(t, {
                                data: e.COLOR_0.value
                            }),
                            location: this.aColor,
                            size: e.COLOR_0.size,
                            type: t.UNSIGNED_BYTE
                        }
                    }
                }
            }, {
                key: "createBuffer",
                value: function (t) {
                    var e = this.gl,
                        n = {},
                        i = {
                            instanceCoordsTypeArray: {
                                location: this.aInstanceCoord,
                                size: 2,
                                type: e.FLOAT
                            },
                            instanceInfosTypeArray: {
                                location: this.aInstanceInfo,
                                size: 4,
                                type: e.SHORT
                            }
                        };
                    return A.default.forIn(i, function (i, r) {
                        n[i] = (0, o.default)({
                            data: t[i],
                            buffer: new w.default(e, {
                                target: e.ARRAY_BUFFER,
                                data: t[i],
                                usage: e.DYNAMIC_DRAW
                            })
                        }, r)
                    }), n
                }
            }, {
                key: "setBuffers",
                value: function (t) {
                    var n = this;
                    this.modelBuffers || this.createModelBuffer();
                    var i = this.modelBuffers;
                    A.default.forIn(i, function (t, e) {
                        var n = e.buffer,
                            i = e.location,
                            r = e.size,
                            o = e.type;
                        n.bind(), "index" !== t && n.pointToAttrib({
                            location: i,
                            size: r,
                            type: o
                        })
                    });
                    var r = (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "setBuffers", this).call(this, t);
                    return A.default.forIn(r, function (t, e) {
                        var i = e.location;
                        n.gl.vertexAttribDivisor(i, 1)
                    }), r
                }
            }, {
                key: "setUniforms",
                value: function (t, n, i, r) {
                    (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "setUniforms", this).call(this, t, n, i, r);
                    var o = this.gl;
                    o.uniform3f(this.uBoxMin, L.minX, L.minY, L.minZ), o.uniform3f(this.uBoxMax, L.maxX, L.maxY, L.maxZ)
                }
            }, {
                key: "draw",
                value: function (t, e, n, i) {
                    if (t && n) {
                        var r = this.gl,
                            o = this.model;
                        r.useProgram(r.program), this.setUniforms(t, e, n, i);
                        var a = this.setBuffers(t);
                        r.drawArraysInstanced(o.mode, 0, o.vertexCount, t.count), r.bindBuffer(r.ARRAY_BUFFER, null), A.default.forIn(a, function (t, e) {
                            var n = e.location;
                            r.vertexAttribDivisor(n, 0)
                        })
                    }
                }
            }, {
                key: "destroy",
                value: function () {
                    this.model = null, (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "destroy", this).call(this)
                }
            }]), e
        }(g.default);
    e.default = C
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(244),
        m = i(p),
        y = n(446),
        g = i(y),
        x = n(82),
        b = i(x),
        S = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.shaderSource = g.default, n.shaderParams = {
                    getAttribLocation: ["aPosition"],
                    getUniformLocation: n.commonUniformList.concat(["uColor"])
                }, n
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "createBuffer",
                value: function (t) {
                    var e = this.gl,
                        n = t.position,
                        i = t.index;
                    return {
                        position: {
                            location: this.aPosition,
                            size: 3,
                            type: e.FLOAT,
                            data: n,
                            buffer: new b.default(e, {
                                data: n,
                                usage: e.DYNAMIC_DRAW
                            })
                        },
                        index: {
                            data: i,
                            buffer: new b.default(e, {
                                target: e.ELEMENT_ARRAY_BUFFER,
                                data: i
                            }),
                            type: 2 === i.BYTES_PER_ELEMENT ? e.UNSIGNED_SHORT : e.UNSIGNED_INT,
                            length: i.byteLength / i.BYTES_PER_ELEMENT
                        }
                    }
                }
            }, {
                key: "setUniforms",
                value: function (t, n, i, r) {
                    (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "setUniforms", this).call(this, t, n, i, r);
                    var a = this.gl,
                        s = r.color || [1, 1, 1, 1];
                    a.uniform4f(this.uColor, s[0], s[1], s[2], s[3])
                }
            }]), e
        }(m.default);
    e.default = S
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(386),
        _ = i(v),
        p = n(451),
        m = i(p),
        y = n(73),
        g = n(83),
        x = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.shaderParams.getUniformLocation = n.shaderParams.getUniformLocation.concat(["uCenter", "uZoom", "uPixelsPerMeter", "uResolution", "uProject_uCommonUnitsPerWorldUnit", "uProject_uCommonUnitsPerWorldUnit2", "uRelativeCenter"]), n.shaderSource = m.default, n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "draw",
                value: function (t, e, n, i) {
                    var r = this.gl;
                    r.useProgram(r.program), this.setCommonUniforms(t, i), this.setUniforms(n, t, e, i), this.drawTileInstance(n.id, n, i.updateSubData)
                }
            }, {
                key: "setUniforms",
                value: function (t, e, n, i) {
                    var r = this.gl,
                        o = e.center,
                        a = e.zoom,
                        s = 1 / (0, g.getSpatialResolution)(a),
                        l = i.distanceScales || e.getDistanceScales(),
                        u = (0, y.splitLatLngNumber)(o.lat),
                        c = (0, y.splitLatLngNumber)(o.lng),
                        f = {
                            latPart: (0, y.splitLatLngNumber)(t.center.lat),
                            lngPart: (0, y.splitLatLngNumber)(t.center.lng)
                        };
                    r.uniformMatrix4fv(this.u_matrix, !1, n.elements), r.uniform4f(this.uCenter, c.high, u.high, c.low, u.low), r.uniform1f(this.uZoom, a), r.uniform3f(this.uPixelsPerMeter, s, s, s), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit, l.pixelsPerDegree[0], l.pixelsPerDegree[1], l.pixelsPerDegree[2]), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit2, l.pixelsPerDegree2[0], l.pixelsPerDegree2[1], l.pixelsPerDegree2[2]), r.uniform2f(this.uResolution, e.width, e.height), r.uniform4f(this.uRelativeCenter, f.lngPart.high, f.latPart.high, f.lngPart.low, f.latPart.low), r.uniform2f(this.u_InstanceTileTextureOffset, 0, 0)
                }
            }]), e
        }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(244),
        m = i(p),
        y = n(443),
        g = i(y),
        x = n(82),
        b = i(x),
        S = n(6),
        w = i(S),
        E = function (t) {
            function e(t) {
                (0, u.default)(this, e);
                var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t));
                return n.shaderSource = g.default, n.shaderParams = {
                    getAttribLocation: ["aPosition", "aColor", "aNormal"],
                    getUniformLocation: n.commonUniformList
                }, n.enableLight = !0, n
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "createBuffer",
                value: function (t) {
                    var e = this.gl,
                        n = t.index,
                        i = {},
                        r = {
                            position: {
                                location: this.aPosition,
                                size: 3,
                                type: e.FLOAT
                            },
                            color: {
                                location: this.aColor,
                                size: 3,
                                type: e.UNSIGNED_BYTE
                            },
                            normal: {
                                location: this.aNormal,
                                size: 3,
                                type: e.FLOAT
                            },
                            index: {
                                type: 2 === n.BYTES_PER_ELEMENT ? e.UNSIGNED_SHORT : e.UNSIGNED_INT,
                                length: n.byteLength / n.BYTES_PER_ELEMENT
                            }
                        };
                    return w.default.forIn(r, function (n, r) {
                        i[n] = (0, o.default)({
                            data: t[n],
                            buffer: new b.default(e, {
                                target: "index" === n ? e.ELEMENT_ARRAY_BUFFER : e.ARRAY_BUFFER,
                                data: t[n],
                                usage: e.DYNAMIC_DRAW
                            })
                        }, r)
                    }), i
                }
            }]), e
        }(m.default);
    e.default = E
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(11),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(385),
        g = i(y),
        x = n(447),
        b = i(x),
        S = n(13),
        w = i(S),
        E = 1 / 16 / w.default.devicePixelRatio,
        A = function (t) {
            function e(t) {
                (0, u.default)(this, e), t.attribList = ["instanceColors", "instanceShow"], t.uniformList = ["u_gamma", "u_buffer"];
                var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t));
                return n.shaderSource = b.default, n.symbolManager = t.glyphManager, n
            }
            return (0, m.default)(e, t), (0, f.default)(e, [{
                key: "_onDraw",
                value: function () {
                    var t = this.gl;
                    t.uniform1f(this.u_sizeMinPixels, 10), t.uniform1f(this.u_gamma, E), t.uniform1f(this.u_buffer, .71)
                }
            }, {
                key: "_onDrawInstanceTile",
                value: function () {
                    this.gl.vertexAttribDivisor(this.instanceColors, 0), this.gl.vertexAttribDivisor(this.instanceShow, 0)
                }
            }, {
                key: "getInstanceConfig",
                value: function () {
                    var t = this.gl;
                    return (0, o.default)((0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "getInstanceConfig", this).call(this), {
                        instanceColorList: {
                            location: this.instanceColors,
                            size: 4,
                            type: t.UNSIGNED_BYTE
                        },
                        instanceShowList: {
                            location: this.instanceShow,
                            size: 1,
                            type: t.UNSIGNED_BYTE
                        }
                    })
                }
            }]), e
        }(g.default);
    e.default = A
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(4),
        u = i(l),
        c = n(3),
        f = i(c),
        d = n(385),
        h = i(d),
        v = n(448),
        _ = i(v),
        p = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, u.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.shaderSource = _.default, n.symbolManager = t.markerManager, n
            }
            return (0, f.default)(e, t), e
        }(h.default);
    e.default = p
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(13),
        _ = i(v),
        p = n(592),
        m = n(384),
        y = i(m),
        g = n(440),
        x = i(g),
        b = 12,
        S = 15,
        w = 39,
        E = function (t) {
            function e(t) {
                (0, s.default)(this, e), t.uniformList = ["uResolution", "uSampler", "uEnabled"];
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t)),
                    i = (0, p.getGraphicHardwareInfo)(n.gl),
                    r = _.default.devicePixelRatio >= 2 ? S : i ? /(\bHD\b)|(\bUHD\b)/.test(i.renderer) ? b : w : b;
                return n.shaderSource = (0, x.default)(r), n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "setUniforms",
                value: function (t) {
                    var e = t.resolution,
                        n = t.texture,
                        i = t.enabled,
                        r = this.gl;
                    r.uniform2f(this.uResolution, e[0], e[1]), r.uniform1f(this.uEnabled, i), r.activeTexture(r.TEXTURE0), r.bindTexture(r.TEXTURE_2D, n), r.uniform1i(this.uSampler, 0)
                }
            }]), e
        }(y.default);
    e.default = E
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(32),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(11),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(384),
        g = i(y),
        x = n(439),
        b = i(x),
        S = function (t) {
            function e(t) {
                (0, u.default)(this, e), t.uniformList = ["uRange", "uFogEdge", "uSampler", "uDepthSampler", "uSkySampler", "uSkyInfo", "uViewInfo", "uSkyBrightness", "uFogColor", "uSkyColor"];
                var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t));
                return n.shaderSource = b.default, n.brightness = 1, n.colors = {}, n
            }
            return (0, m.default)(e, t), (0, f.default)(e, [{
                key: "preDraw",
                value: function () {
                    (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "preDraw", this).call(this)
                }
            }, {
                key: "setFogColor",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [.93, .93, .93, 1];
                    this.colors.fog = t
                }
            }, {
                key: "setSkyColor",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [.8, .8784, 1, 1];
                    this.colors.sky = t
                }
            }, {
                key: "setBrightness",
                value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                    this.brightness = t
                }
            }, {
                key: "setUniforms",
                value: function (t) {
                    var e = t.rangeList,
                        n = t.fogEdge,
                        i = t.texture,
                        r = t.depth,
                        a = t.skyTex,
                        s = t.skyInfo,
                        l = t.viewInfo,
                        u = this.gl;
                    u.uniform4fv(this.uFogColor, this.colors.fog), u.uniform4fv(this.uSkyColor, this.colors.sky), u.uniform2f(this.uRange, e[0], e[1]), u.uniform3f(this.uFogEdge, n[0], n[1], n[2]), u.uniform4f.apply(u, [this.uSkyInfo].concat((0, o.default)(s))), u.uniform4f.apply(u, [this.uViewInfo].concat((0, o.default)(l))), u.uniform1f(this.uSkyBrightness, this.brightness), u.activeTexture(u.TEXTURE0), u.bindTexture(u.TEXTURE_2D, i), u.uniform1i(this.uSampler, 0), u.activeTexture(u.TEXTURE1), u.bindTexture(u.TEXTURE_2D, r), u.uniform1i(this.uDepthSampler, 1), a ? (a.bind(u, {
                        textureIndex: 2
                    }), u.uniform1i(this.uSkySampler, 2)) : (u.activeTexture(u.TEXTURE2), u.bindTexture(u.TEXTURE_2D, null))
                }
            }]), e
        }(g.default);
    e.default = S
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(72),
        m = i(p),
        y = n(346),
        g = i(y),
        x = n(51),
        b = n(73),
        S = n(82),
        w = i(S),
        E = n(92),
        A = n(6),
        T = i(A),
        k = function (t) {
            function e(t) {
                (0, u.default)(this, e);
                var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t));
                return n.store = new x.Store("buffer", 128, 16, E.deleteInstanceCacllback), n.shaderSource = g.default, n.shaderParams = {
                    getAttribLocation: ["vertexPositions", "vertexValid", "positions", "positions64xyLow", "nextPositions", "nextPositions64xyLow", "elevations", "fillColors", "lineColors", "pickingColors"],
                    getUniformLocation: ["uMatrix", "uCenter", "uZoom", "uPixelsPerMeter", "uResolution", "uProject_uCommonUnitsPerWorldUnit", "uProject_uCommonUnitsPerWorldUnit2", "picking_usePickingColor", "u_isSideVertex", "u_extruded", "u_isWireframe", "u_elevationScale", "u_opacity"]
                }, n.enableLight = !0, n
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "draw",
                value: function (t, e, n, i) {
                    var r = this.gl;
                    if (e) {
                        var o = t.center,
                            a = t.zoom,
                            s = t.getDistanceRatio(),
                            l = i.distanceScales,
                            u = (0, b.splitLatLngNumber)(o.lat),
                            c = (0, b.splitLatLngNumber)(o.lng);
                        r.useProgram(r.program), r.uniformMatrix4fv(this.uMatrix, !1, e.elements), r.uniform4f(this.uCenter, c.high, u.high, c.low, u.low), r.uniform1f(this.uZoom, a), r.uniform3f(this.uPixelsPerMeter, s, s, s), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit, l.pixelsPerDegree[0], l.pixelsPerDegree[1], l.pixelsPerDegree[2]), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit2, l.pixelsPerDegree2[0], l.pixelsPerDegree2[1], l.pixelsPerDegree2[2]), r.uniform2f(this.uResolution, t.width, t.height), r.uniform1f(this.picking_usePickingColor, i.usePicking ? 1 : 0), r.uniform1f(this.u_isSideVertex, 0), r.uniform1f(this.u_extruded, 1), r.uniform1f(this.u_isWireframe, !1), r.uniform1f(this.u_elevationScale, 1), r.uniform1f(this.u_opacity, 1), this.drawTile(n.uid, n)
                    }
                }
            }, {
                key: "drawTile",
                value: function (t, e) {
                    var n = this.gl,
                        i = this.store,
                        r = !1;
                    if (i) {
                        i.exist(t) ? this._hasChangedBuffer(t, e) && (r = !0) : i.set(t, this.createBuffer(t, e));
                        var o = i.get(t);
                        n.disableVertexAttribArray(this.vertexPositions), n.disableVertexAttribArray(this.nextPositions), n.disableVertexAttribArray(this.nextPositions64xyLow), T.default.forIn(o, function (t, i) {
                            var o = i.buffer,
                                a = i.location,
                                s = i.size,
                                l = i.type;
                            o.bind(), r && (o.bufferData(e[t], {
                                usage: n.DYNAMIC_DRAW
                            }), i.data = e[t]), "indices" !== t && o.pointToAttrib({
                                location: a,
                                size: s,
                                type: l
                            })
                        }), n.drawElements(n.TRIANGLES, o.indices.data.length, n.UNSIGNED_INT, 0), n.bindBuffer(n.ARRAY_BUFFER, null), n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, null)
                    }
                }
            }, {
                key: "_hasChangedBuffer",
                value: function (t, e) {
                    var n = this.store.get(t);
                    for (var i in n)
                        if (n.hasOwnProperty(i) && e[i] && n[i].data !== e[i]) return !0;
                    return !1
                }
            }, {
                key: "createBuffer",
                value: function (t, e) {
                    var n = this.gl;
                    if (e) {
                        var i = {},
                            r = {
                                elevations: {
                                    location: this.elevations,
                                    size: 1,
                                    type: n.FLOAT
                                },
                                fillColors: {
                                    location: this.fillColors,
                                    size: 4,
                                    type: n.UNSIGNED_BYTE
                                },
                                lineColors: {
                                    location: this.lineColors,
                                    size: 4,
                                    type: n.UNSIGNED_BYTE
                                },
                                pickingColors: {
                                    location: this.pickingColors,
                                    size: 3,
                                    type: n.UNSIGNED_BYTE
                                },
                                positions: {
                                    location: this.positions,
                                    size: 3,
                                    type: n.FLOAT
                                },
                                positions64xyLow: {
                                    location: this.positions64xyLow,
                                    size: 2,
                                    type: n.FLOAT
                                },
                                vertexValid: {
                                    location: this.vertexValid,
                                    size: 1,
                                    type: n.UNSIGNED_BYTE
                                },
                                indices: {}
                            };
                        return T.default.forIn(r, function (t, r) {
                            i[t] = (0, o.default)({
                                data: e[t],
                                buffer: new w.default(n, {
                                    target: "indices" === t ? n.ELEMENT_ARRAY_BUFFER : n.ARRAY_BUFFER,
                                    data: e[t],
                                    usage: n.DYNAMIC_DRAW
                                })
                            }, r)
                        }), i
                    }
                }
            }]), e
        }(m.default);
    e.default = k
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(11),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(12),
        m = i(p),
        y = n(72),
        g = i(y),
        x = n(346),
        b = i(x),
        S = n(51),
        w = n(73),
        E = n(82),
        A = i(E),
        T = n(92),
        k = n(6),
        P = i(k),
        I = (0, m.default)({}, b.default, {
            name: "polygon_side"
        }),
        M = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.store = new S.Store("buffer", 128, 16, T.deleteInstanceCacllback), n.shaderSource = I, n.shaderParams = {
                    getAttribLocation: ["vertexPositions", "vertexValid", "positions", "positions64xyLow", "nextPositions", "nextPositions64xyLow", "elevations", "fillColors", "lineColors", "pickingColors"],
                    getUniformLocation: ["uMatrix", "uCenter", "uZoom", "uPixelsPerMeter", "uResolution", "uProject_uCommonUnitsPerWorldUnit", "uProject_uCommonUnitsPerWorldUnit2", "picking_usePickingColor", "u_isSideVertex", "u_extruded", "u_isWireframe", "u_elevationScale", "u_opacity"]
                }, n.enableLight = !0, n._vertPositions = new Float32Array([1, 1, 0, 1, 0, 0, 1, 0]), n
            }
            return (0, _.default)(e, t), (0, u.default)(e, [{
                key: "draw",
                value: function (t, e, n, i) {
                    var r = this.gl;
                    if (e) {
                        var o = t.center,
                            a = t.zoom,
                            s = t.getDistanceRatio(),
                            l = i.distanceScales,
                            u = (0, w.splitLatLngNumber)(o.lat),
                            c = (0, w.splitLatLngNumber)(o.lng);
                        r.useProgram(r.program), r.uniformMatrix4fv(this.uMatrix, !1, e.elements), r.uniform4f(this.uCenter, c.high, u.high, c.low, u.low), r.uniform1f(this.uZoom, a), r.uniform3f(this.uPixelsPerMeter, s, s, s), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit, l.pixelsPerDegree[0], l.pixelsPerDegree[1], l.pixelsPerDegree[2]), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit2, l.pixelsPerDegree2[0], l.pixelsPerDegree2[1], l.pixelsPerDegree2[2]), r.uniform2f(this.uResolution, t.width, t.height), r.uniform1f(this.picking_usePickingColor, i.usePicking ? 1 : 0), r.uniform1f(this.u_isSideVertex, 1), r.uniform1f(this.u_extruded, 1), r.uniform1f(this.u_isWireframe, i.drawBorder ? 1 : 0), r.uniform1f(this.u_elevationScale, 1), r.uniform1f(this.u_opacity, 1), this.drawTile(n.uid, n, i.drawBorder)
                    }
                }
            }, {
                key: "drawTile",
                value: function (t, e, n) {
                    var i = this.gl,
                        r = this.store,
                        o = !1;
                    if (r) {
                        r.exist(t) ? this._hasChangedBuffer(t, e) && (o = !0) : r.set(t, this.createBuffer(t, e));
                        var a = r.get(t);
                        a.vertexPositions.bind(), a.vertexPositions.pointToAttrib({
                            location: this.vertexPositions,
                            size: 2,
                            type: i.FLOAT
                        }), P.default.forIn(a, function (t, n) {
                            if ("vertexPositions" !== t) {
                                var r = n.buffer,
                                    a = n.location,
                                    s = n.size,
                                    l = n.type;
                                r.bind(), o && (r.bufferData(e[t], {
                                    usage: i.DYNAMIC_DRAW
                                }), n.data = e[t]), "indices" !== t && (r.pointToAttrib({
                                    location: a,
                                    size: s,
                                    type: l
                                }), i.vertexAttribDivisor(a, 1))
                            }
                        }), i.drawArraysInstanced(n ? i.LINE_STRIP : i.TRIANGLE_FAN, 0, 4, e.elevations.length), i.bindBuffer(i.ARRAY_BUFFER, null), i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, null), i.vertexAttribDivisor(this.positions, 0), i.vertexAttribDivisor(this.positions64xyLow, 0), i.vertexAttribDivisor(this.elevations, 0), i.vertexAttribDivisor(this.fillColors, 0), i.vertexAttribDivisor(this.lineColors, 0), i.vertexAttribDivisor(this.nextPositions, 0), i.vertexAttribDivisor(this.nextPositions64xyLow, 0), i.vertexAttribDivisor(this.pickingColors, 0), i.vertexAttribDivisor(this.vertexValid, 0)
                    }
                }
            }, {
                key: "_hasChangedBuffer",
                value: function (t, e) {
                    var n = this.store.get(t);
                    for (var i in n)
                        if (n.hasOwnProperty(i) && e[i] && "indices" !== i && n[i].data !== e[i]) return !0;
                    return !1
                }
            }, {
                key: "createBuffer",
                value: function (t, e) {
                    var n = this.gl;
                    if (e) {
                        var i = {},
                            r = {
                                elevations: {
                                    location: this.elevations,
                                    size: 1,
                                    type: n.FLOAT
                                },
                                fillColors: {
                                    location: this.fillColors,
                                    size: 4,
                                    type: n.UNSIGNED_BYTE
                                },
                                lineColors: {
                                    location: this.lineColors,
                                    size: 4,
                                    type: n.UNSIGNED_BYTE
                                },
                                pickingColors: {
                                    location: this.pickingColors,
                                    size: 3,
                                    type: n.UNSIGNED_BYTE
                                },
                                positions: {
                                    location: this.positions,
                                    size: 3,
                                    type: n.FLOAT
                                },
                                positions64xyLow: {
                                    location: this.positions64xyLow,
                                    size: 2,
                                    type: n.FLOAT
                                },
                                vertexValid: {
                                    location: this.vertexValid,
                                    size: 1,
                                    type: n.UNSIGNED_BYTE
                                },
                                nextPositions: {
                                    location: this.nextPositions,
                                    size: 3,
                                    type: n.FLOAT
                                },
                                nextPositions64xyLow: {
                                    location: this.nextPositions64xyLow,
                                    size: 2,
                                    type: n.FLOAT
                                },
                                indices: {}
                            };
                        return this._vertPositions && (i.vertexPositions = new A.default(n, {
                            data: this._vertPositions
                        })), P.default.forIn(r, function (t, r) {
                            i[t] = (0, m.default)({
                                data: e[t],
                                buffer: new A.default(n, {
                                    target: "indices" === t ? n.ELEMENT_ARRAY_BUFFER : n.ARRAY_BUFFER,
                                    data: e[t],
                                    usage: n.DYNAMIC_DRAW
                                })
                            }, r)
                        }), i
                    }
                }
            }, {
                key: "destroy",
                value: function () {
                    this._vertPositions = null, (0, h.default)(e.prototype.__proto__ || (0, o.default)(e.prototype), "destroy", this).call(this)
                }
            }]), e
        }(g.default);
    e.default = M
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(11),
        _ = i(v),
        p = n(3),
        m = i(p),
        y = n(72),
        g = i(y),
        x = n(445),
        b = i(x),
        S = n(51),
        w = n(73),
        E = n(82),
        A = i(E),
        T = n(92),
        k = n(62),
        P = i(k),
        I = n(842),
        M = i(I),
        L = n(6),
        C = i(L),
        V = !1,
        R = new Image;
    R.onload = function () {
        V = !0
    }, R.src = M.default;
    var O = function (t) {
        function e(t) {
            (0, u.default)(this, e);
            var n = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t));
            return n.store = new S.Store("buffer", 128, 16, T.deleteInstanceCacllback), n.shaderSource = b.default, n.shaderParams = {
                getAttribLocation: ["positions", "instanceStartPositions", "instanceEndPositions", "instanceLeftDeltas", "instanceRightDeltas", "instanceStartEndPositions64xyLow", "instanceWidths", "instanceColors", "instanceLineInfo", "instanceArrowInfo", "instancePickingColors"],
                getUniformLocation: ["uMatrix", "uCenter", "uZoom", "uPixelsPerMeter", "uResolution", "uProject_uCommonUnitsPerWorldUnit", "uProject_uCommonUnitsPerWorldUnit2", "picking_usePickingColor", "u_isBorder", "u_widthScale", "u_widthMinPixels", "u_widthMaxPixels", "u_miterLimit", "u_lineJoin", "u_opacity", "u_arrowSampler"]
            }, n.modelPositions = new Int16Array([0, 1, 0, -1, 1, 1, 1, -1]), n.modelIndicies = new Uint8Array([0, 1, 2, 1, 3, 2]), n
        }
        return (0, m.default)(e, t), (0, f.default)(e, [{
            key: "loadTexture",
            value: function () {
                V ? (this._arrowTex || (this._arrowTex = new P.default(this.gl, {
                    tex: R
                }), this._arrowTex.upload({
                    flipY: !0
                })), this._arrowTex.bind()) : (this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, null))
            }
        }, {
            key: "afterDraw",
            value: function () {
                this._arrowTex && this._arrowTex.unbind()
            }
        }, {
            key: "draw",
            value: function (t, e, n, i) {
                var r = this.gl;
                if (e) {
                    var o = t.center,
                        a = t.zoom,
                        s = t.getDistanceRatio(),
                        l = i.distanceScales,
                        u = (0, w.splitLatLngNumber)(o.lat),
                        c = (0, w.splitLatLngNumber)(o.lng);
                    r.useProgram(r.program), r.uniformMatrix4fv(this.uMatrix, !1, e.elements), r.uniform4f(this.uCenter, c.high, u.high, c.low, u.low), r.uniform1f(this.uZoom, a), r.uniform3f(this.uPixelsPerMeter, s, s, s), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit, l.pixelsPerDegree[0], l.pixelsPerDegree[1], l.pixelsPerDegree[2]), r.uniform3f(this.uProject_uCommonUnitsPerWorldUnit2, l.pixelsPerDegree2[0], l.pixelsPerDegree2[1], l.pixelsPerDegree2[2]), r.uniform2f(this.uResolution, t.width, t.height), r.uniform1f(this.picking_usePickingColor, i.usePicking ? 1 : 0), r.uniform1f(this.u_isBorder, i.drawBorder ? 1 : 0), r.uniform1f(this.u_widthScale, 1 / s), r.uniform1f(this.u_widthMinPixels, 0), r.uniform1f(this.u_widthMaxPixels, 1e3), r.uniform1f(this.u_miterLimit, 150), r.uniform1f(this.u_lineJoin, 1), r.uniform1f(this.u_opacity, 1), r.uniform1i(this.u_arrowSampler, 0), this.drawTileInstance(n.uid, n, i.drawBorder)
                }
            }
        }, {
            key: "drawTileInstance",
            value: function (t, e, n) {
                var i = this.gl,
                    r = this.store,
                    o = !1;
                if (r) {
                    r.exist(t) ? this._hasChangedBuffer(t, e) && (o = !0) : r.set(t, this.createBuffer(t, e));
                    var a = r.get(t);
                    a.positions.bind(), a.positions.pointToAttrib({
                        location: this.positions,
                        size: 2,
                        type: i.SHORT
                    }), a.indices.bind(), C.default.forIn(a.instanceBuffers, function (t, r) {
                        if (n) {
                            if ("instanceColorList" === t || "instanceWidthList" === t) return
                        } else if ("instanceBorderColorList" === t || "instanceBorderWidthList" === t) return;
                        var a = r.buffer,
                            s = r.location,
                            l = r.size,
                            u = r.type;
                        a.bind(), o && (a.bufferData(e[t], {
                            usage: i.DYNAMIC_DRAW
                        }), r.data = e[t]), a.pointToAttrib({
                            location: s,
                            size: l,
                            type: u
                        }), i.vertexAttribDivisor(s, 1)
                    }), i.drawElementsInstanced(i.TRIANGLES, this.modelIndicies.length, i.UNSIGNED_BYTE, 0, e.count), i.bindBuffer(i.ARRAY_BUFFER, null), i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, null), i.vertexAttribDivisor(this.instanceStartPositions, 0), i.vertexAttribDivisor(this.instanceEndPositions, 0), i.vertexAttribDivisor(this.instanceLeftDeltas, 0), i.vertexAttribDivisor(this.instanceRightDeltas, 0), i.vertexAttribDivisor(this.instanceStartEndPositions64xyLow, 0), i.vertexAttribDivisor(this.instancePickingColors, 0), i.vertexAttribDivisor(this.instanceColors, 0), i.vertexAttribDivisor(this.instanceWidths, 0), i.vertexAttribDivisor(this.instanceLineInfo, 0), i.vertexAttribDivisor(this.instanceArrowInfo, 0)
                }
            }
        }, {
            key: "_hasChangedBuffer",
            value: function (t, e) {
                var n = this.store.get(t),
                    i = n.instanceBuffers;
                for (var r in i)
                    if (i.hasOwnProperty(r) && e[r] && i[r].data !== e[r]) return !0;
                return !1
            }
        }, {
            key: "createBuffer",
            value: function (t, e) {
                var n = this.gl,
                    i = {
                        positions: null,
                        indices: null,
                        instanceBuffers: {}
                    };
                if (this.modelPositions && (i.positions = new A.default(n, {
                        data: this.modelPositions
                    })), this.modelIndicies && (i.indices = new A.default(n, {
                        target: n.ELEMENT_ARRAY_BUFFER,
                        data: this.modelIndicies
                    })), e) {
                    var r = {
                        instanceStartPositionList: {
                            location: this.instanceStartPositions,
                            size: 3,
                            type: n.FLOAT
                        },
                        instanceEndPositionList: {
                            location: this.instanceEndPositions,
                            size: 3,
                            type: n.FLOAT
                        },
                        instanceLeftDeltaList: {
                            location: this.instanceLeftDeltas,
                            size: 3,
                            type: n.FLOAT
                        },
                        instanceRightDeltaList: {
                            location: this.instanceRightDeltas,
                            size: 3,
                            type: n.FLOAT
                        },
                        instanceStartEndPostions64xyLowList: {
                            location: this.instanceStartEndPositions64xyLow,
                            size: 4,
                            type: n.FLOAT
                        },
                        instanceColorList: {
                            location: this.instanceColors,
                            size: 4,
                            type: n.UNSIGNED_BYTE
                        },
                        instanceBorderColorList: {
                            location: this.instanceColors,
                            size: 4,
                            type: n.UNSIGNED_BYTE
                        },
                        instanceWidthList: {
                            location: this.instanceWidths,
                            size: 1,
                            type: n.FLOAT
                        },
                        instanceBorderWidthList: {
                            location: this.instanceWidths,
                            size: 1,
                            type: n.FLOAT
                        },
                        instanceLineInfoList: {
                            location: this.instanceLineInfo,
                            size: 3,
                            type: n.UNSIGNED_BYTE
                        },
                        instanceArrowInfoList: {
                            location: this.instanceArrowInfo,
                            size: 4,
                            type: n.UNSIGNED_BYTE
                        },
                        instancePickingColorList: {
                            location: this.instancePickingColors,
                            size: 3,
                            type: n.UNSIGNED_BYTE
                        }
                    };
                    C.default.forIn(r, function (t, r) {
                        i.instanceBuffers[t] = (0, o.default)({
                            data: e[t],
                            buffer: new A.default(n, {
                                data: e[t],
                                usage: n.DYNAMIC_DRAW
                            })
                        }, r)
                    })
                }
                return i
            }
        }, {
            key: "destroy",
            value: function () {
                this.modelIndicies = null, this.modelPositions = null, this._arrowTex && (this._arrowTex.delete(), this._arrowTex = null), (0, _.default)(e.prototype.__proto__ || (0, s.default)(e.prototype), "destroy", this).call(this)
            }
        }]), e
    }(g.default);
    e.default = O
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(72),
        _ = i(v),
        p = n(436),
        m = i(p),
        y = n(51),
        g = n(92),
        x = function (t) {
            function e(t) {
                (0, s.default)(this, e);
                var n = (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t));
                return n.store = new y.Store("buffer", 1024, 128, g.deleteBuffersCallback), n.shaderSource = m.default, n.shaderParams = {
                    getAttribLocation: ["a_Position", "a_Info"],
                    getUniformLocation: ["u_matrix", "u_modelMatrix", "u_lightPVMatrix", "u_maskSampler", "u_maskScale"]
                }, n
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "draw",
                value: function (t, e) {
                    var n = (arguments.length > 2 && void 0 !== arguments[2] && arguments[2], this.gl),
                        i = this.store,
                        r = t.vertices,
                        o = t.indeices,
                        a = "build_" + t.id,
                        s = e.matrix,
                        l = e.modelMatrix,
                        u = e.lightPVMatrix,
                        c = e.maskScale || 1,
                        f = void 0;
                    i.exist(a) ? (f = i.get(a), this.bindVertexBuffer(r, f.vertices), this.bindElementBuffer(o, f.indices)) : f = i.set(a, {
                        vertices: this.bindVertexBuffer(r),
                        indices: this.bindElementBuffer(o),
                        length: o.length
                    }), n.uniformMatrix4fv(this.u_matrix, !1, s), n.uniformMatrix4fv(this.u_modelMatrix, !1, l), n.uniformMatrix4fv(this.u_lightPVMatrix, !1, u), n.uniform1i(this.u_maskSampler, 0), n.uniform1f(this.u_maskScale, c), n.drawElements(n.TRIANGLES, f.length, n.UNSIGNED_SHORT, 0)
                }
            }]), e
        }(_.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return t.some(function (t) {
            return (0, it.isOverlayLayer)(t.type)
        })
    }

    function o(t) {
        return t.some(function (t) {
            return (0, it.isTextureLayer)(t.type)
        })
    }

    function a(t) {
        return t.some(function (t) {
            return (0, it.isIndoorLayer)(t.type)
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = n(10),
        l = i(s),
        u = n(21),
        c = i(u),
        f = n(0),
        d = i(f),
        h = n(1),
        v = i(h),
        _ = n(593),
        p = n(563),
        m = i(p),
        y = n(573),
        g = i(y),
        x = n(574),
        b = i(x),
        S = n(575),
        w = i(S),
        E = n(386),
        A = i(E),
        T = n(569),
        k = i(T),
        P = n(570),
        I = i(P),
        M = n(564),
        L = i(M),
        C = n(383),
        V = i(C),
        R = n(566),
        O = i(R),
        F = n(568),
        z = i(F),
        N = n(567),
        D = i(N),
        B = n(565),
        U = i(B),
        j = n(576),
        Y = i(j),
        G = n(13),
        W = i(G),
        X = n(561),
        Z = i(X),
        Q = n(586),
        H = i(Q),
        q = n(583),
        J = i(q),
        K = n(582),
        $ = i(K),
        tt = n(584),
        et = i(tt),
        nt = n(368),
        it = n(27),
        rt = n(389),
        ot = i(rt),
        at = n(390),
        st = i(at),
        lt = n(581),
        ut = n(578),
        ct = i(ut),
        ft = n(138),
        dt = n(200),
        ht = n(579),
        vt = i(ht),
        _t = n(62),
        pt = i(_t),
        mt = n(93),
        yt = n(591),
        gt = i(yt),
        xt = n(382),
        bt = i(xt),
        St = n(6),
        wt = function () {
            function t(e, n) {
                (0, d.default)(this, t), n = n || {};
                var i = n.renderOptions || {},
                    r = i.preserveDrawingBuffer,
                    o = void 0 !== r && r,
                    a = i.disableAntialias,
                    s = void 0 !== a && a,
                    l = i.disableShadow,
                    u = void 0 !== l && l,
                    c = i.skyOptions,
                    f = void 0 === c ? {} : c,
                    h = i.fogOptions,
                    v = void 0 === h ? {} : h;
                e.style.zIndex = 2, this._destroyed = !1, this.styleId = dt.STYLE_ID[n.mapStyleId], this.isDefaultStyle = (0, dt.isDefaultStyle)(n.mapStyleId), this.canvas = e, this.sharpness = W.default.devicePixelRatio, this.maskScale = .5, this.map = n.map;
                var _ = this.createContext(e, {
                    preserveDrawingBuffer: o
                });
                this.textCache = this.isDefaultStyle ? new H.default(this.gl) : null, this.imageCaches = {}, this.glyphManager = new $.default(this.gl), this.markerManager = new et.default(this.gl), this.lightManager = new bt.default, this.painters = {
                    base: new m.default({
                        gl: _
                    }),
                    polygon: new g.default({
                        gl: _
                    }),
                    side: new b.default({
                        gl: _
                    }),
                    polyline: new w.default({
                        gl: _
                    }),
                    building: new L.default({
                        gl: _
                    }),
                    buildingShadow: new Y.default({
                        gl: _
                    }),
                    marker: new I.default({
                        gl: _,
                        markerManager: this.markerManager
                    }),
                    symbol: new A.default({
                        gl: _,
                        textCache: this.textCache,
                        glyphManager: this.glyphManager,
                        markerManager: this.markerManager
                    }),
                    image: new V.default({
                        gl: _
                    }),
                    label: new k.default({
                        gl: this.gl,
                        glyphManager: this.glyphManager
                    }),
                    mask: new O.default({
                        gl: _
                    }),
                    indoorRegion: new z.default({
                        gl: _
                    }),
                    indoorPoi: new D.default({
                        gl: _,
                        glyphManager: this.glyphManager,
                        markerManager: this.markerManager
                    }),
                    indoorEscalator: new U.default({
                        gl: _
                    })
                }, this.disableAntialias = W.default.isLowMobileDevice() || s, this.disableShadow = W.default.isLowMobileDevice() || u, this.createFrameBuffer({
                    skyOptions: f,
                    fogOptions: v
                }), this.resize(e.clientWidth, e.clientHeight), this.camera = new Z.default(this.map, this.view, [0, 0, 0, 0, 0, 0, 0, 1, 0], n.scale), this.camera.setRotate(n.pitch || 0, n.heading || 0), this.camera.fogPitch = v.pitch || 45, this._updateBgColor()
            }
            return (0, v.default)(t, [{
                key: "setDepth",
                value: function (t, e) {
                    this.gl.depthRange(t, e)
                }
            }, {
                key: "createContext",
                value: function (t, e) {
                    var n = {
                            alpha: !0,
                            antialias: !1,
                            depth: !0,
                            failIfMajorPerformanceCaveat: !1,
                            powerPreference: (0, G.isPC)() ? "high-performance" : "default",
                            preserveDrawingBuffer: e.preserveDrawingBuffer || !1,
                            stencil: !1
                        },
                        i = t.getContext("webgl2", n);
                    return i ? i.isWebGL2 = !0 : (i = t.getContext("webgl", n), i.isWebGL2 = !1), i.id = St.uniqueId(), i.clearColor.apply(i, St.rgbaToGLColor((0, nt.getBgColor)(this.styleId))), i.enable(i.BLEND), i.blendFunc(i.ONE, i.ONE_MINUS_SRC_ALPHA), this.gl = i, this.getExtensions(), i
                }
            }, {
                key: "getExtensions",
                value: function () {
                    var t = this.gl,
                        e = new lt.Extensions(t);
                    t.isWebGL2 ? (e.set("WEBGL_depth_texture", !0), e.set("OES_element_index_uint", !0)) : (e.get("WEBGL_depth_texture", "depth textures not supported"), e.get("OES_element_index_uint", "element_index_uint not supported"), e.extendWebGL1()), e.get("WEBGL_debug_renderer_info", "WEBGL_debug_renderer_info not supported"), t.extensions_TMAP = e
                }
            }, {
                key: "createFrameBuffer",
                value: function (t) {
                    var e = this.gl,
                        n = {};
                    n.mask = new ot.default(e);
                    var i = this.gl.extensions_TMAP.get("WEBGL_depth_texture");
                    n.fxaa = new ot.default(e, {
                        attachments: {
                            depth: i ? new pt.default(e, {
                                tex: null,
                                internalformat: "DEPTH_COMPONENT24",
                                format: "DEPTH_COMPONENT",
                                type: "UNSIGNED_INT"
                            }) : new st.default(this.gl)
                        }
                    }), this.fxaaPass = new ct.default(e), n.fog = new ot.default(e), this.fogPass = new vt.default(e, {
                        skyOptions: t.skyOptions,
                        fogColor: t.fogOptions.color,
                        fogRange: t.fogOptions.range
                    }), this.disableShadow || (n.shadow = new ot.default(e, {
                        attachments: {
                            depth: i ? new pt.default(e, {
                                tex: null,
                                internalformat: "DEPTH_COMPONENT24",
                                format: "DEPTH_COMPONENT",
                                type: "UNSIGNED_INT"
                            }) : new st.default(this.gl)
                        }
                    })), this.frameBuffer = n
                }
            }, {
                key: "onMapStyleUpdate",
                value: function (t) {
                    if ("config" !== t && this.styleId === t) return void this._updateBgColor();
                    this.isDefaultStyle !== (0, dt.isDefaultStyle)(t) ? (this.isDefaultStyle = (0, dt.isDefaultStyle)(t), this.textCache = this.isDefaultStyle ? new H.default(this.gl) : null, this.painters.symbol.destroy(), this.painters.symbol = null, this.painters.symbol = new A.default({
                        gl: this.gl,
                        textCache: this.textCache,
                        glyphManager: this.glyphManager,
                        markerManager: this.markerManager
                    })) : this.painters.symbol.clear(), this.painters.base.clearStore(), this.painters.building.clearStore(), this.styleId = t, this._updateBgColor()
                }
            }, {
                key: "getDrawContainer",
                value: function () {
                    return this.canvas
                }
            }, {
                key: "resize",
                value: function (t, e) {
                    var n = this;
                    this.view = {
                        left: -t / 2,
                        right: t / 2,
                        bottom: -e / 2,
                        top: e / 2,
                        near: -1,
                        far: 1e3
                    }, this.canvas.width = t * this.sharpness, this.canvas.height = e * this.sharpness, this.gl.viewport(0, 0, t * this.sharpness, e * this.sharpness), this.camera && this.camera.setView(this.view), St.forIn(this.frameBuffer, function (t, e) {
                        e && e.resize(n.canvas.width, n.canvas.height)
                    })
                }
            }, {
                key: "setTilesMatrix",
                value: function (t) {
                    var e = this,
                        n = {},
                        i = {},
                        r = this.view;
                    St.forIn(t, function (t, o) {
                        var a = (0, _.getModelMatrix)({
                            view: r,
                            offset: o.offset,
                            scale: o.scale
                        });
                        n[t] = e.camera.pvMatrix.clone().multiply(a), i[t] = a
                    }), this.tilesMatrix = n, this.tilesModelMatrix = i
                }
            }, {
                key: "catcheTextTexture",
                value: function (t, e) {
                    if (this.painters.symbol && (this.painters.symbol.preDraw({
                            iconsLoader: e
                        }), t && 0 !== t.length)) {
                        var n = this.textCache;
                        n.loadTexture();
                        for (var i, r = 0; i = t[r++];) i.features && "" !== i.features && n.add(i.id, i.features)
                    }
                }
            }, {
                key: "clear",
                value: function () {
                    var t = this.gl;
                    t.clear(t.COLOR_BUFFER_BIT | t.DEPTH_BUFFER_BIT | t.STENCIL_BUFFER_BIT)
                }
            }, {
                key: "preRender",
                value: function (t, e) {
                    t = t || this.transform;
                    var n = t && t.heading || 0,
                        i = t && t.pitch || 0;
                    this.camera.setRotate(i, n), this.setTilesMatrix(e)
                }
            }, {
                key: "drawMask",
                value: function (t) {
                    var e = this,
                        n = this.maskScale,
                        i = t.filter(function (t) {
                            return t.type === it.RENDER_LAYER_TYPE.indoorRegion
                        });
                    this.frameBuffer.mask.bind();
                    var r = this.gl;
                    if (r.clearColor(0, 0, 0, 1), this.clear(), i.length) {
                        var o = this.transform,
                            a = (new mt.Matrix4).scale(n, n, n).multiply(this.camera.pvMatrix);
                        this.painters.mask.preDraw(), i.forEach(function (t) {
                            var n = t.tiles && t.tiles[0];
                            if (n) {
                                var i = n.features,
                                    r = i.center,
                                    s = i.bounds,
                                    l = i.floorIndex,
                                    u = {
                                        uid: t.id + "_" + l + "_bounds",
                                        center: r,
                                        position: s[0].top.position,
                                        index: s[0].top.index
                                    };
                                e.painters.mask.draw(u, o, a, {
                                    color: [1, 1, 1, 1]
                                })
                            }
                        })
                    }
                    r.clearColor.apply(r, St.rgbaToGLColor(this.background)), this.frameBuffer.mask.unbind()
                }
            }, {
                key: "drawShadow",
                value: function (t) {
                    var e = this,
                        n = t.filter(function (t) {
                            return t.type === it.RENDER_LAYER_TYPE.building3d
                        });
                    if (n.length) {
                        this.frameBuffer.shadow.bind();
                        var i = this.gl;
                        this.clear(), i.enable(i.DEPTH_TEST), i.enable(i.CULL_FACE), i.colorMask(!1, !1, !1, !1);
                        var r = this.lightManager.getLightPVMatrix(this.view);
                        n.forEach(function (t) {
                            e.drawBuildingShadows(t, r)
                        }), i.disable(i.DEPTH_TEST), i.disable(i.CULL_FACE), i.colorMask(!0, !0, !0, !0), this.frameBuffer.shadow.unbind()
                    }
                }
            }, {
                key: "render",
                value: function (t, e, n, i) {
                    if (!this._destroyed) {
                        e = e || this.transform, this.transform = e, t = t || this.data, this.data = t, this.distanceScales = r(t) || o(t) || a(t) ? e.getDistanceScales() : null, this.lightManager.update({
                            transform: e,
                            camera: this.camera,
                            view: this.view
                        }), this.textCache && this.textCache.updateRenderTiles(this.tilesMatrix), this.drawMask(t), !this.disableShadow && this.lightManager.getShadowLight() && this.drawShadow(t);
                        var s = !(i.disableAntialias || this.disableAntialias),
                            l = this.camera.getFogEdge(),
                            u = this.gl.extensions_TMAP.get("WEBGL_depth_texture") && l[1] < 1 / 0,
                            c = [],
                            f = [];
                        if (t.forEach(function (t) {
                                t.rank >= ft.RANK_CONFIG.POI.min ? f.push(t) : c.push(t)
                            }), this.frameBuffer.fxaa.bind(), this.clear(), this.draw(c, n, i), this.fxaaPass.setProps({
                                enabled: s
                            }), this.fxaaPass.render({
                                inputBuffer: this.frameBuffer.fxaa,
                                outputBuffer: null
                            }), u) {
                            var d = this.camera.pvMatrix.multiplyVector4({
                                elements: [0, 0, 0, 1]
                            }).elements;
                            this.fogPass.setProps({
                                fogEdge: l,
                                depthAtCenter: (d[2] / d[3] + 1) / 2,
                                depthTexture: this.frameBuffer.fxaa.depth.texture,
                                heading: e.heading
                            }), this.fogPass.render({
                                inputBuffer: this.frameBuffer.fxaa,
                                outputBuffer: null,
                                preserve: !0
                            })
                        }
                        this.draw(f, n, i)
                    }
                }
            }, {
                key: "draw",
                value: function (t, e, n) {
                    var i = this,
                        r = n.fadeChange,
                        o = n.iconsLoader;
                    t.forEach(function (n) {
                        switch (n.type) {
                            case it.RENDER_LAYER_TYPE.text:
                                i.textCache && i.catcheTextTexture(n.tiles, o);
                                var a = t.filter(function (t) {
                                        return t.type === it.BASE_LAYER_TYPE.point
                                    })[0],
                                    s = t.filter(function (t) {
                                        return t.type === it.BASE_LAYER_TYPE.label
                                    })[0];
                                i.drawBaseText(e, r, o, {
                                    showPoint: !!a,
                                    showLabel: !!s
                                });
                                break;
                            case it.RENDER_LAYER_TYPE.base:
                                i.drawBase(n);
                                break;
                            case it.RENDER_LAYER_TYPE.building3d:
                                i.drawBuildings(n, !0);
                                break;
                            case it.RENDER_LAYER_TYPE.building2d:
                                i.drawBuildings(n, !1);
                                break;
                            case it.RENDER_LAYER_TYPE.circle:
                            case it.RENDER_LAYER_TYPE.rectangle:
                            case it.RENDER_LAYER_TYPE.polygon:
                                i.drawPolygons(n, {
                                    distanceScales: i.distanceScales,
                                    usePicking: !1
                                });
                                break;
                            case it.RENDER_LAYER_TYPE.polyline:
                                i.drawPolylines(n, {
                                    distanceScales: i.distanceScales,
                                    usePicking: !1
                                });
                                break;
                            case it.RENDER_LAYER_TYPE.label:
                                i.drawLabels(n, {
                                    distanceScales: i.distanceScales,
                                    usePicking: !1
                                });
                                break;
                            case it.RENDER_LAYER_TYPE.marker:
                                i.drawMarkers(n, {
                                    distanceScales: i.distanceScales,
                                    usePicking: !1
                                });
                                break;
                            case it.RENDER_LAYER_TYPE.visualPlugin:
                                n.visualPlugin.draw(i.camera);
                                break;
                            case it.RENDER_LAYER_TYPE.imageTile:
                                i.drawImageTile(n);
                                break;
                            case it.RENDER_LAYER_TYPE.canvasGround:
                            case it.RENDER_LAYER_TYPE.imageGround:
                                i.drawGroundLayer(n);
                                break;
                            case it.RENDER_LAYER_TYPE.indoorRegion:
                                i.drawIndoorRegions(n);
                                break;
                            case it.RENDER_LAYER_TYPE.indoorPoi:
                                i.drawIndoorPois(n, {
                                    fadeChange: r
                                });
                                break;
                            case it.RENDER_LAYER_TYPE.indoorEscalator:
                                i.drawIndoorEscalators(n)
                        }
                    })
                }
            }, {
                key: "hasPickableLayer",
                value: function () {
                    return r(this.data)
                }
            }, {
                key: "renderForPicking",
                value: function (t) {
                    var e = this;
                    if (this.data) {
                        var n = this.data.filter(function (t) {
                            return (0, it.isOverlayLayer)(t.type)
                        });
                        return n.length > 0 && this.distanceScales ? (n.forEach(function (n, i) {
                            switch (n.type) {
                                case it.RENDER_LAYER_TYPE.rectangle:
                                case it.RENDER_LAYER_TYPE.circle:
                                case it.RENDER_LAYER_TYPE.polygon:
                                    t && t(i), e.drawPolygons(n, {
                                        distanceScales: e.distanceScales,
                                        usePicking: !0,
                                        picking_zindex: i
                                    });
                                    break;
                                case it.RENDER_LAYER_TYPE.polyline:
                                    t && t(i), e.drawPolylines(n, {
                                        distanceScales: e.distanceScales,
                                        usePicking: !0,
                                        picking_zindex: i
                                    });
                                    break;
                                case it.RENDER_LAYER_TYPE.label:
                                    t && t(i), e.drawLabels(n, {
                                        distanceScales: e.distanceScales,
                                        usePicking: !0
                                    });
                                    break;
                                case it.RENDER_LAYER_TYPE.marker:
                                    t && t(i), e.drawMarkers(n, {
                                        distanceScales: e.distanceScales,
                                        usePicking: !0
                                    })
                            }
                        }), n) : null
                    }
                }
            }, {
                key: "getBounds",
                value: function (t, e, n) {
                    return this.camera.getBounds(t, e, n)
                }
            }, {
                key: "drawBaseText",
                value: function (t, e, n, i) {
                    var r = this.painters,
                        o = this.maskScale,
                        a = this.gl;
                    r.symbol && (r.symbol.preDraw({
                        iconsLoader: n,
                        maskTexture: this.frameBuffer.mask.color
                    }), i.showLabel && t.calculateAlsoShowedLabel(this.tilesMatrix, this.camera, this.transform), r.symbol.draw(this.transform, this.tilesMatrix, t, {
                        showPoint: i.showPoint,
                        showLabel: i.showLabel,
                        asBackground: !1,
                        updateSubData: !0,
                        fadeChange: e,
                        iconsLoader: n,
                        maskScale: o
                    }), r.symbol.afterDraw(), this.frameBuffer.mask.color.unbind(a, {
                        textureIndex: 3
                    }))
                }
            }, {
                key: "drawBuildings",
                value: function (t, e) {
                    var n = this,
                        i = t;
                    if (i && 0 !== i.tiles.length) {
                        var r = this.gl;
                        this._withBlendEliminationDraw(r, function () {
                            var t = n.painters.building,
                                o = i.tiles;
                            t.preDraw({
                                lightUniforms: n.lightManager.uniforms,
                                shadowTexture: n.frameBuffer.shadow && n.frameBuffer.shadow.depth
                            }), n.frameBuffer.mask.color.bind(r);
                            var a = !0,
                                s = !1,
                                l = void 0;
                            try {
                                for (var u, f = (0, c.default)(o); !(a = (u = f.next()).done); a = !0) {
                                    var d = u.value,
                                        h = d.features;
                                    if (h) {
                                        var v = {
                                            matrix: n.tilesMatrix[d.id].elements,
                                            modelMatrix: n.tilesModelMatrix[d.id].elements,
                                            maskScale: n.maskScale
                                        };
                                        t.draw(h, v, {
                                            scale: d.scale,
                                            use3D: e
                                        })
                                    }
                                }
                            } catch (t) {
                                s = !0, l = t
                            } finally {
                                try {
                                    !a && f.return && f.return()
                                } finally {
                                    if (s) throw l
                                }
                            }
                            n.frameBuffer.mask.color.unbind(), t.afterDraw()
                        }, {
                            useCullFace: !0
                        })
                    }
                }
            }, {
                key: "drawBuildingShadows",
                value: function (t, e) {
                    if (t && 0 !== t.tiles.length) {
                        var n = this.painters.buildingShadow;
                        n.preDraw(), this.frameBuffer.mask.color.bind(this.gl);
                        var i = !0,
                            r = !1,
                            o = void 0;
                        try {
                            for (var a, s = (0, c.default)(t.tiles); !(i = (a = s.next()).done); i = !0) {
                                var l = a.value,
                                    u = l.features;
                                if (u) {
                                    var f = {
                                        matrix: this.tilesMatrix[l.id].elements,
                                        modelMatrix: this.tilesModelMatrix[l.id].elements,
                                        lightPVMatrix: e.elements,
                                        maskScale: this.maskScale
                                    };
                                    n.draw(u, f, {
                                        scale: l.scale
                                    })
                                }
                            }
                        } catch (t) {
                            r = !0, o = t
                        } finally {
                            try {
                                !i && s.return && s.return()
                            } finally {
                                if (r) throw o
                            }
                        }
                        this.frameBuffer.mask.color.unbind()
                    }
                }
            }, {
                key: "drawBase",
                value: function (t) {
                    if (t && 0 !== t.tiles.length) {
                        var e = this.painters.base,
                            n = t.tiles;
                        e.preDraw({
                            lightUniforms: this.lightManager.uniforms,
                            shadowTexture: this.frameBuffer.shadow && this.frameBuffer.shadow.depth
                        });
                        var i = !0,
                            r = !1,
                            o = void 0;
                        try {
                            for (var a, s = (0, c.default)(n); !(i = (a = s.next()).done); i = !0) {
                                var l = a.value,
                                    u = l.features;
                                if (u) {
                                    var f = {
                                        matrix: this.tilesMatrix[l.id].elements,
                                        modelMatrix: this.tilesModelMatrix[l.id].elements
                                    };
                                    e.draw(u, f, l.scale, this.transform._zoom)
                                }
                            }
                        } catch (t) {
                            r = !0, o = t
                        } finally {
                            try {
                                !i && s.return && s.return()
                            } finally {
                                if (r) throw o
                            }
                        }
                        e.afterDraw()
                    }
                }
            }, {
                key: "drawPolygons",
                value: function (t, e) {
                    var n = this.gl,
                        i = t.tiles && t.tiles[0];
                    if (i && i.features) {
                        var r = this.camera.getLookPosition().elements,
                            o = this.camera.getLightPosition().elements,
                            a = this.camera.pvMatrix;
                        e.usePicking || n.blendFuncSeparate(n.SRC_ALPHA, n.ONE_MINUS_SRC_ALPHA, n.ZERO, n.ONE), n.enable(n.CULL_FACE), n.enable(n.DEPTH_TEST), n.colorMask(!1, !1, !1, !1), this._reallyDrawPolygon(a, i, r, o, e), n.disable(n.DEPTH_TEST), n.colorMask(!0, !0, !0, !0), this._reallyDrawPolygon(a, i, r, o, e), n.disable(n.CULL_FACE), e.usePicking || n.blendFuncSeparate(n.ONE, n.ONE_MINUS_SRC_ALPHA, n.ONE, n.ONE_MINUS_SRC_ALPHA)
                    }
                }
            }, {
                key: "_reallyDrawPolygon",
                value: function (t, e, n, i, r) {
                    this.painters.side.preDraw({
                        lightUniforms: this.lightManager.uniforms
                    }), this.painters.side.draw(this.transform, t, e.features, {
                        drawBorder: !0,
                        distanceScales: r.distanceScales,
                        usePicking: r.usePicking,
                        picking_zindex: r.picking_zindex,
                        cameraPosition: n,
                        lightPosition: i
                    }), this.painters.side.draw(this.transform, t, e.features, {
                        drawBorder: !1,
                        distanceScales: r.distanceScales,
                        usePicking: r.usePicking,
                        picking_zindex: r.picking_zindex,
                        cameraPosition: n,
                        lightPosition: i
                    }), this.painters.polygon.preDraw({
                        lightUniforms: this.lightManager.uniforms
                    }), this.painters.polygon.draw(this.transform, t, e.features, {
                        distanceScales: r.distanceScales,
                        usePicking: r.usePicking,
                        picking_zindex: r.picking_zindex,
                        cameraPosition: n,
                        lightPosition: i
                    })
                }
            }, {
                key: "drawPolylines",
                value: function (t, e) {
                    var n = this.gl;
                    this.painters.polyline.preDraw();
                    var i = t.tiles && t.tiles[0];
                    if (i && i.features) {
                        var r = this.camera.pvMatrix;
                        e.usePicking || n.blendFunc(n.SRC_ALPHA, n.ONE_MINUS_SRC_ALPHA), this.painters.polyline.draw(this.transform, r, i.features, {
                            drawBorder: !0,
                            distanceScales: e.distanceScales,
                            usePicking: e.usePicking,
                            picking_zindex: e.picking_zindex
                        }), this.painters.polyline.draw(this.transform, r, i.features, {
                            drawBorder: !1,
                            distanceScales: e.distanceScales,
                            usePicking: e.usePicking,
                            picking_zindex: e.picking_zindex
                        }), e.usePicking || n.blendFunc(n.ONE, n.ONE_MINUS_SRC_ALPHA)
                    }
                }
            }, {
                key: "drawImageTile",
                value: function (t) {
                    var e = this.tilesMatrix,
                        n = this.painters,
                        i = this.imageCaches,
                        r = this.gl;
                    i[t.id] || (i[t.id] = new J.default(r, {
                        itemWidth: t.tileSize
                    }));
                    var o = i[t.id];
                    t.tiles.forEach(function (t) {
                        o.addImage(t.id, t.features)
                    }), o.loadTexture();
                    var a = n.image;
                    a.preDraw(), t.tiles.forEach(function (n) {
                        a.draw({
                            matrix: e[n.id],
                            size: {
                                width: t.tileSize,
                                height: t.tileSize
                            },
                            texInfo: o.getTexCoord(n.id),
                            opacity: t.opacity
                        })
                    }), a.afterDraw()
                }
            }, {
                key: "drawGroundLayer",
                value: function (t) {
                    var e = this,
                        n = this.painters,
                        i = this.gl,
                        r = n.image;
                    r.preDraw(), t.tiles.forEach(function (n) {
                        n.features.texture.bind(i);
                        var o = n.features.bounds,
                            a = e.transform.latLngToCenterLocalPixelByDistanceScales(o.getNorthEast(), {
                                distanceScales: e.distanceScales,
                                center: o.getSouthWest()
                            });
                        a.x = Math.abs(a.x), a.y = Math.abs(a.y);
                        var s = e.transform.latLngToCenterLocalPixelByDistanceScales(n.features.center, {
                            distanceScales: e.distanceScales,
                            center: e.map.getCenter()
                        });
                        r.draw({
                            matrix: e.camera.pvMatrix.clone().translate(s.x - a.x / 2, s.y + a.y / 2, 0),
                            size: {
                                width: a.x,
                                height: a.y
                            },
                            texInfo: n.features.texInfo,
                            opacity: t.opacity
                        }), n.features.texture.unbind(i)
                    }), r.afterDraw()
                }
            }, {
                key: "drawLabels",
                value: function (t, e) {
                    var n = this.gl;
                    this.painters.label.preDraw();
                    var i = t.tiles && t.tiles[0];
                    if (i && i.features) {
                        e.usePicking || n.blendFuncSeparate(n.SRC_ALPHA, n.ONE_MINUS_SRC_ALPHA, n.ZERO, n.ONE);
                        var r = this.camera.pvMatrix;
                        t._enableCollision && this._needLabelCalcCollision && (i.features.instanceShowList = (0, gt.default)(i.features.labelInfoList, this.transform, this.camera), this._needLabelCalcCollision = !1), this.painters.label.draw(this.transform, r, i.features, {
                            distanceScales: e.distanceScales,
                            usePicking: e.usePicking,
                            picking_zindex: e.picking_zindex
                        }), e.usePicking || n.blendFuncSeparate(n.ONE, n.ONE_MINUS_SRC_ALPHA, n.ONE, n.ONE_MINUS_SRC_ALPHA)
                    }
                }
            }, {
                key: "updateLabel",
                value: function () {
                    this._needLabelCalcCollision = !0
                }
            }, {
                key: "drawMarkers",
                value: function (t, e) {
                    var n = (this.gl, t.tiles && t.tiles[0]);
                    if (n && n.features && n.features.count > 0) {
                        this.painters.marker.preDraw();
                        var i = this.camera.pvMatrix;
                        this.painters.marker.draw(this.transform, i, n.features, {
                            distanceScales: e.distanceScales,
                            usePicking: e.usePicking,
                            picking_zindex: e.picking_zindex
                        })
                    }
                }
            }, {
                key: "drawIndoorRegions",
                value: function (t) {
                    var e = this,
                        n = this.gl,
                        i = t.tiles && t.tiles[0];
                    if (i) {
                        var r = i.features,
                            o = r.center,
                            a = r.regions,
                            s = r.floorIndex,
                            l = a[0],
                            u = this.camera.pvMatrix;
                        n.enable(n.DEPTH_TEST), n.enable(n.CULL_FACE), n.cullFace(n.BACK), this.painters.indoorRegion.preDraw({
                            lightUniforms: this.lightManager.uniforms
                        });
                        ["sides", "top"].forEach(function (n) {
                            var i = {
                                    uid: t.id + "_" + s + "_region_" + n,
                                    center: o,
                                    position: l[n].position,
                                    color: l[n].color,
                                    normal: l[n].normal,
                                    index: l[n].index
                                },
                                r = {
                                    distanceScales: e.distanceScales
                                };
                            e.painters.indoorRegion.draw(i, e.transform, u, r)
                        }), n.disable(n.DEPTH_TEST), n.disable(n.CULL_FACE)
                    }
                }
            }, {
                key: "drawIndoorEscalators",
                value: function (t) {
                    var e = this.gl,
                        n = t.tiles && t.tiles[0];
                    if (n) {
                        var i = n.features,
                            r = i.escalators[0];
                        if (r) {
                            r.uid = t.id, r.center = i.center;
                            var o = this.camera.pvMatrix;
                            e.enable(e.DEPTH_TEST), e.enable(e.CULL_FACE), e.cullFace(e.BACK), this.painters.indoorEscalator.preDraw({
                                lightUniforms: this.lightManager.uniforms
                            });
                            var a = {
                                distanceScales: this.distanceScales
                            };
                            this.painters.indoorEscalator.draw(r, this.transform, o, a), e.disable(e.DEPTH_TEST), e.disable(e.CULL_FACE)
                        }
                    }
                }
            }, {
                key: "drawIndoorPois",
                value: function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = t.tiles && t.tiles[0];
                    if (n) {
                        var i = n.features,
                            r = Math.round(this.transform.zoom);
                        if (i.pois[r] && i.pois[r][0]) {
                            var o = i.pois[r][0].instance;
                            if (o.id = n.id + "_" + r, o.center = i.center, !o.count) return;
                            this.painters.indoorPoi.preDraw(), this.painters.indoorPoi.draw(this.transform, this.camera.pvMatrix, o, {
                                showPoint: !0,
                                showLabel: !0,
                                distanceScales: this.distanceScales,
                                iconsLoader: {},
                                fadeChange: e.fadeChange,
                                updateSubData: !0
                            })
                        }
                    }
                }
            }, {
                key: "_withBlendEliminationDraw",
                value: function (t, e, n) {
                    t.enable(t.DEPTH_TEST), n.useCullFace && t.enable(t.CULL_FACE), t.colorMask(!1, !1, !1, !1), e && e(), t.depthFunc(t.LEQUAL), t.colorMask(!0, !0, !0, !0), e && e(), t.disable(t.DEPTH_TEST), n.useCullFace && t.disable(t.CULL_FACE)
                }
            }, {
                key: "_updateBgColor",
                value: function (t) {
                    if (!this._destroyed) {
                        var e = (0, nt.getBgColor)(this.styleId);
                        (e !== this.background || t) && (this.background = e, this.gl.clearColor.apply(this.gl, St.rgbaToGLColor(e)), this.fogPass.setFogColor(St.rgbaToGLColor(e)))
                    }
                }
            }, {
                key: "getImageCache",
                value: function (t) {
                    return this.imageCaches[t]
                }
            }, {
                key: "destroy",
                value: function () {
                    var t = this;
                    if (!this._destroyed) {
                        this.camera.destroy(), this.camera = null, this.styleId = null, this.isDefaultStyle = null, this.canvas = null, this.sharpness = null, this.maskScale = null, this.distanceScales = null, this.map = null, this.textCache && this.textCache.destroy(), this.textCache = null, St.forIn(this.imageCaches, function (t, e) {
                            e.destroy()
                        }), this.imageCaches = null, this.glyphManager.destroy(), this.glyphManager = null, this.markerManager.destroy(), this.markerManager = null, this.fxaaPass && (this.fxaaPass.destroy(), this.fxaaPass = null), this.fogPass && (this.fogPass.destroy(), this.fogPass = null), (0, l.default)(this.frameBuffer).keys(function (e) {
                            t.frameBuffer[e].delete()
                        }), this.frameBuffer = null, (0, l.default)(this.painters).forEach(function (e) {
                            t.painters[e].destroy()
                        }), this.painters = null;
                        var e = this.gl.extensions_TMAP.get("WEBGL_lose_context");
                        e && e.loseContext(), this.gl.extensions_TMAP.destroy(), delete this.gl.extensions_TMAP, this.gl = null, this._destroyed = !0
                    }
                }
            }]), t
        }();
    e.default = wt
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(12),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(388),
        m = i(p),
        y = n(571),
        g = i(y),
        x = function (t) {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                (0, u.default)(this, e), void 0 === n.enabled && (n.enabled = !0);
                var i = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t, (0, o.default)({
                    id: "fxaa-pass"
                }, n)));
                return i._painter = new g.default({
                    gl: t
                }), i
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "_renderPass",
                value: function (t) {
                    var e = t.inputBuffer;
                    this._painter.preDraw(), this._painter.draw({
                        resolution: [e.width, e.height],
                        enabled: this.props.enabled,
                        texture: e.texture
                    })
                }
            }]), e
        }(m.default);
    e.default = x
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(32),
        o = i(r),
        a = n(2),
        s = i(a),
        l = n(0),
        u = i(l),
        c = n(1),
        f = i(c),
        d = n(4),
        h = i(d),
        v = n(3),
        _ = i(v),
        p = n(388),
        m = i(p),
        y = n(572),
        g = i(y),
        x = n(62),
        b = i(x),
        S = n(81),
        w = n(159),
        E = i(w),
        A = 30 * Math.PI / 180,
        T = 0,
        k = function (t) {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    i = n.fogColor,
                    r = n.skyOptions,
                    o = n.id,
                    a = void 0 === o ? "fog-pass" : o,
                    l = n.fogRange,
                    c = void 0 === l ? [200, 400] : l,
                    f = n.heading,
                    d = void 0 === f ? 0 : f;
                (0, u.default)(this, e);
                var v = (0, h.default)(this, (e.__proto__ || (0, s.default)(e)).call(this, t, {
                    id: a,
                    fogRange: c,
                    heading: d
                }));
                return v._painter = new g.default({
                    gl: t
                }), v._setSkyOptions(r), i ? (v.setFogColor(new E.default(i).toArray()), v._disableColorSetting = !0) : v.setFogColor(), v
            }
            return (0, _.default)(e, t), (0, f.default)(e, [{
                key: "setFogColor",
                value: function (t) {
                    this._disableColorSetting || this._painter.setFogColor(t)
                }
            }, {
                key: "_setSkyOptions",
                value: function () {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = e.width,
                        i = e.height,
                        r = e.src,
                        o = e.color,
                        a = e.horizontal,
                        s = void 0 === a ? S.IMAGE_DISPLAY.SCALE : a,
                        l = e.vertical,
                        u = void 0 === l ? S.IMAGE_DISPLAY.ORIGIN : l,
                        c = e.brightness,
                        f = void 0 === c ? 1 : c,
                        d = e.animated,
                        h = void 0 !== d && d;
                    if (this.skyTex = void 0, r) {
                        var v = new Image;
                        v.onload = function () {
                            t.skyTex = new b.default(t.gl, {
                                tex: v,
                                width: n,
                                height: i
                            }), t.skyTex.upload({
                                flipY: !0
                            })
                        }, v.src = r
                    }
                    this._painter.setSkyColor(o ? new E.default(o).toArray() : void 0), this.skyDisplay = [s, u], this.skyAnimated = h, this._painter.setBrightness(f)
                }
            }, {
                key: "_renderPass",
                value: function (t) {
                    var e = t.inputBuffer,
                        n = this.props.fogRange.map(function (t) {
                            return 2 * t / e.height
                        }),
                        i = this.skyTex,
                        r = [0, 0, 0, 0];
                    i && (r = [i.width / e.width, i.height / e.height].concat((0, o.default)(this.skyDisplay))), this._painter.preDraw(), this._painter.draw({
                        rangeList: n,
                        fogEdge: [this.props.fogEdge[1], (this.props.fogEdge[2] + 1) / 2, this.props.depthAtCenter],
                        texture: e.texture,
                        depth: this.props.depthTexture,
                        skyTex: i,
                        skyInfo: r,
                        viewInfo: [this.props.heading * Math.PI / 180, Math.atan(e.width / e.height * Math.tan(A / 2)), this.skyAnimated, T += 3e-4]
                    })
                }
            }, {
                key: "_onDestroy",
                value: function () {
                    this.skyTex && this.skyTex.delete()
                }
            }]), e
        }(m.default);
    e.default = k
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = t.deviceX,
            n = t.deviceY,
            i = t.deviceRadius,
            r = t.deviceWidth,
            o = t.deviceHeight;
        if (!(e >= 0 && n >= 0 && e < r && n < o)) return null;
        var a = Math.max(0, e - i),
            s = Math.max(0, n - i);
        return {
            x: a,
            y: s,
            width: Math.min(r, e + i) - a + 1,
            height: Math.min(o, n + i) - s + 1,
            centerX: e,
            centerY: n
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0),
        a = i(o),
        s = n(1),
        l = i(s),
        u = n(161),
        c = n(13),
        f = i(c),
        d = n(389),
        h = i(d),
        v = function (t) {
            return t.useDevicePixels && "undefined" != typeof window ? f.default.devicePixelRatio : 1
        },
        _ = function () {
            function t(e) {
                var n = this;
                (0, a.default)(this, t), this.map = e, this.render = e.renderEngine, this._eventHandlers = [], this._fbo = this.createFBO(), this._eventHandlers.push(f.default.on(this.map, "resize", function () {
                    n.updateFBO()
                }))
            }
            return (0, l.default)(t, [{
                key: "createFBO",
                value: function () {
                    var t = this.render.gl,
                        e = this.render.canvas.width,
                        n = this.render.canvas.height,
                        i = new h.default(t, {
                            width: e,
                            height: n
                        });
                    return i.unbind(), i
                }
            }, {
                key: "updateFBO",
                value: function () {
                    var t = this.render.canvas.width,
                        e = this.render.canvas.height;
                    this._fbo.resize(t, e)
                }
            }, {
                key: "_getPickingFBO",
                value: function () {
                    return (this._fbo || this.createFBO()).buffer
                }
            }, {
                key: "pickObject",
                value: function (t) {
                    var e = t.x,
                        n = t.y,
                        i = t.mode,
                        r = t.radius,
                        o = t.callback,
                        a = this._pickObject({
                            x: e,
                            y: n,
                            radius: r,
                            mode: i,
                            pickingFBO: this._getPickingFBO(),
                            lastPickedInfo: this._lastPickedInfo,
                            useDevicePixels: !0
                        });
                    o && o(a)
                }
            }, {
                key: "_pickObject",
                value: function (t) {
                    var e = t.x,
                        n = t.y,
                        i = t.radius,
                        o = t.mode,
                        a = t.pickingFBO,
                        s = t.useDevicePixels,
                        l = t.viewport,
                        c = v({
                            useDevicePixels: s
                        }),
                        f = Math.round(e * c),
                        d = Math.round(this.render.canvas.height - n * c),
                        h = Math.round(i * c),
                        _ = r({
                            deviceX: f,
                            deviceY: d,
                            deviceRadius: h,
                            deviceWidth: this.render.canvas.width,
                            deviceHeight: this.render.canvas.height
                        }),
                        p = _ && this._getPickedColorFromPickingFBO({
                            viewport: l,
                            useDevicePixels: s,
                            pickingFBO: a,
                            deviceRect: _,
                            mode: o
                        });
                    return {
                        objectIndex: p && (0, u.decodePickingColor)(p.pickedColor),
                        layerId: p && p.layerId
                    }
                }
            }, {
                key: "_getPickedColorFromPickingFBO",
                value: function (t) {
                    var e = t.deviceRect,
                        n = this.render.gl;
                    this._fbo.bind(), n.enable(n.SCISSOR_TEST), n.scissor(e.x, e.y, e.width, e.height), n.clearColor(0, 0, 0, .001), n.enable(n.BLEND), n.blendFuncSeparate(n.ONE, n.ZERO, n.CONSTANT_ALPHA, n.ZERO), n.blendEquationSeparate(n.FUNC_ADD, n.FUNC_ADD), n.blendColor(0, 0, 0, 0), n.depthRange(0, 1), n.colorMask(!0, !0, !0, !0);
                    var i = null,
                        r = new Uint8Array(4);
                    return this.render.hasPickableLayer() && (i = this.render.renderForPicking(function (t) {
                        n.blendColor(0, 0, 0, (t + 1) / 255)
                    }), n.readPixels(e.x, e.y, 1, 1, n.RGBA, n.UNSIGNED_BYTE, r)), this._fbo.unbind(), n.disable(n.SCISSOR_TEST), n.blendFuncSeparate(n.ONE, n.ONE_MINUS_SRC_ALPHA, n.ONE, n.ONE_MINUS_SRC_ALPHA), this.render._updateBgColor(!0), {
                        layerId: i && i[r[3] - 1] && i[r[3] - 1].id,
                        pickedColor: r
                    }
                }
            }, {
                key: "destroy",
                value: function () {
                    this._eventHandlers.forEach(function (t) {
                        t && t.remove && t.remove()
                    }), this._fbo && this._fbo.delete(), this.render = null, this.map = null
                }
            }]), t
        }();
    e.default = _
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        var n = t.getExtension(e);
        if (!n) return null;
        var i = e.split("_")[0],
            r = "_" + i;
        for (var o in n) {
            var a = n[o],
                s = "function" == typeof a,
                l = s ? i : r,
                u = o;
            o.endsWith(l) && (u = o.substring(0, o.length - l.length)), void 0 !== t[u] ? s || t[u] === a || console.warn("conflict:", u, t[u], a, o) : t[u] = s ? function (t) {
                return function () {
                    return t.apply(n, arguments)
                }
            }(a) : a
        }
        return n
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.Extensions = function (t) {
        var e = {};
        return {
            get: function (n, i) {
                if (void 0 !== e[n]) return e[n];
                var r;
                switch (n) {
                    case "WEBGL_depth_texture":
                        r = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture");
                        break;
                    case "EXT_texture_filter_anisotropic":
                        r = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                        break;
                    case "WEBGL_compressed_texture_s3tc":
                        r = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                        break;
                    case "WEBGL_compressed_texture_pvrtc":
                        r = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                        break;
                    default:
                        r = t.getExtension(n)
                }
                return !r && i && console.error(i), e[n] = r, r
            },
            set: function (t, n) {
                e[t] = n
            },
            extendWebGL1: function () {
                t.DEPTH_COMPONENT24 = t.DEPTH_COMPONENT, i(t, "OES_vertex_array_object"), i(t, "ANGLE_instanced_arrays"), i(t, "WEBGL_depth_texture")
            },
            destroy: function () {
                e = null
            }
        }
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = t.glyphList,
            n = t.getGlyphWidth,
            i = t.fontSize,
            r = t.glyphHeight,
            o = t.buffer,
            s = t.maxCanvasWidth,
            l = t.mapping,
            u = void 0 === l ? {} : l,
            c = t.xOffset,
            f = void 0 === c ? 0 : c,
            d = t.yOffset,
            v = void 0 === d ? 0 : d,
            _ = 0,
            p = f;
        (0, a.default)(e).forEach(function (t, e) {
            if (!u[t]) {
                var a = n(t, e);
                p + a + 2 * o > s && (p = 0, _++), u[t] = {
                    x: p,
                    y: v + _ * (r + 2 * o),
                    fontSize: i,
                    width: a + 2 * o,
                    height: r + 2 * o,
                    mask: !0
                }, p += a + 2 * o
            }
        });
        var m = r + 2 * o;
        return {
            mapping: u,
            xOffset: p,
            yOffset: v + _ * m,
            canvasHeight: (0, h.getPowerOf2)(v + (_ + 1) * m)
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(94),
        a = i(o),
        s = n(0),
        l = i(s),
        u = n(1),
        c = i(u);
    e.buildMapping = r;
    var f = n(590),
        d = i(f),
        h = n(203),
        v = n(62),
        _ = i(v),
        p = n(13),
        m = '"SF Pro SC","SF Pro Display","SF Pro Icons","PingFang SC","Helvetica Neue","Helvetica","Arial", "Microsoft YaHei",sans-serif',
        y = "normal",
        g = 24,
        x = 2,
        b = .25,
        S = 8,
        w = 1024 * ((0, p.isPC)() ? 4 : 2),
        E = function () {
            function t(e) {
                (0, l.default)(this, t), this.setting = {
                    fontFamily: m,
                    fontWeight: y,
                    fontSize: g,
                    useSdf: !0,
                    buffer: x,
                    cutoff: b,
                    radius: S
                }, this.gl = e, this._debounceTimeId = null, this.debug = !1
            }
            return (0, c.default)(t, [{
                key: "updateTextStyle",
                value: function (t, e, n, i) {
                    t.font = i + " " + n + "px " + e, t.fillStyle = "#000", t.textBaseline = "baseline", t.textAlign = "left"
                }
            }, {
                key: "generateAtlas",
                value: function (t) {
                    var e = this,
                        n = this.setting,
                        i = n.fontFamily,
                        o = n.fontWeight,
                        a = n.fontSize,
                        s = n.buffer,
                        l = n.useSdf,
                        u = n.radius,
                        c = n.cutoff;
                    this.canvas || (this.canvas = document.createElement("canvas"), this.canvas.width = w, this.canvas.height = w / 4, this.glyphTexture = new _.default(this.gl, {
                        tex: this.canvas
                    }), this.debug && (this.canvas.style.position = "fixed", this.canvas.style.top = 0, this.canvas.style.left = 0, document.body.appendChild(this.canvas))), this.lastAtlas || (this.lastAtlas = {
                        mapping: {},
                        xOffset: 0,
                        yOffset: 0
                    });
                    var f = this.canvas.getContext("2d");
                    this.updateTextStyle(f, i, a, o);
                    var h = t.filter(function (t) {
                            return !e.lastAtlas.mapping[t]
                        }),
                        v = r({
                            glyphList: t,
                            getGlyphWidth: function (t) {
                                return f.measureText(t).width
                            },
                            fontSize: a,
                            glyphHeight: 1 * a,
                            buffer: s,
                            maxCanvasWidth: w,
                            mapping: this.lastAtlas.mapping,
                            xOffset: this.lastAtlas.xOffset,
                            yOffset: this.lastAtlas.yOffset
                        });
                    if (this.canvas.height < v.canvasHeight) {
                        var p = f.getImageData(0, 0, this.canvas.width, this.canvas.height);
                        this.canvas.height = v.canvasHeight, f.putImageData(p, 0, 0)
                    }
                    if (this.updateTextStyle(f, i, a, o), h.length > 0) {
                        if (l) {
                            var m = new d.default(a, s, u, c, i, o),
                                y = f.createImageData(m.size, m.size);
                            h.forEach(function (t) {
                                e.makeRGBAImageData(m.draw(t), y), f.putImageData(y, v.mapping[t].x, v.mapping[t].y)
                            })
                        } else h.forEach(function (t) {
                            f.fillText(t, v.mapping[t].x, v.mapping[t].y + .9 * a)
                        });
                        this.canvasUpdated = !0
                    }
                    this.lastAtlas = v;
                    var g = {};
                    return t.forEach(function (t) {
                        g[t] = v.mapping[t]
                    }), {
                        xOffset: v.xOffset,
                        yOffset: v.yOffset,
                        mapping: g,
                        data: this.canvas,
                        width: this.canvas.width,
                        height: this.canvas.height
                    }
                }
            }, {
                key: "uploadToGPU",
                value: function (t) {
                    t.force || this.canvasUpdated ? this.glyphTexture.update(this.canvas, t) : this.glyphTexture.upload(t), this.canvasUpdated = !1
                }
            }, {
                key: "makeRGBAImageData",
                value: function (t, e) {
                    for (var n = 0; n < t.length; n++) e.data[4 * n + 0] = t[n], e.data[4 * n + 1] = t[n], e.data[4 * n + 2] = t[n], e.data[4 * n + 3] = t[n]
                }
            }, {
                key: "destroy",
                value: function () {
                    this.glyphTexture && this.glyphTexture.destroy(), this.canvas && (this.canvas.width = 1, this.canvas.height = 1, this.canvas = null), this.setting = null, this.gl = null
                }
            }]), t
        }();
    e.default = E
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = n(13),
        u = i(l),
        c = n(62),
        f = i(c),
        d = n(6),
        h = i(d),
        v = u.default.isPC() ? 8192 : 4096,
        _ = function () {
            function t(e, n) {
                (0, o.default)(this, t), this.gl = e, this.width = n.width || v, this.height = n.height || v / 2, this.itemWidth = n.itemWidth || 512, this.next = {
                    x: 0,
                    y: 0
                }, this.images = {}, this.debug = n.debug || !1, this.debug && (this.canvas = this.createCanvas(this.width, this.height), this.debugShow())
            }
            return (0, s.default)(t, [{
                key: "getTexCoord",
                value: function (t) {
                    var e = this.images[t];
                    if (e) {
                        var n = this.width,
                            i = this.height;
                        return {
                            s: (e.x + .5) / n,
                            t: (e.y + .5) / i,
                            w: (e.w - 1) / n,
                            h: (e.h - 1) / i
                        }
                    }
                    return null
                }
            }, {
                key: "addImage",
                value: function (t, e) {
                    return t in this.images || this.updateSubImg(t, e), this.images[t]
                }
            }, {
                key: "removeImage",
                value: function (t) {
                    delete this.images[t]
                }
            }, {
                key: "updateSubImg",
                value: function (t, e) {
                    var n = this.images,
                        i = this.next,
                        r = this.itemWidth,
                        o = this.width,
                        a = this.height,
                        s = this.gl;
                    if (this.loadTexture(), !(t in n)) {
                        var l = e.height,
                            u = e.width,
                            c = i.x,
                            f = i.y;
                        f + l > a && (c += r, f = 0), c >= o && (c = 0), this.removeOldImages(c, f, l), n[t] = {
                            x: c,
                            y: f,
                            h: l,
                            w: u
                        }, s.texSubImage2D(s.TEXTURE_2D, 0, c, f, s.RGBA, s.UNSIGNED_BYTE, e), i.x = c, i.y = f + l, this.debug && this.canvas.ctx.drawImage(e, c, f)
                    }
                }
            }, {
                key: "loadTexture",
                value: function () {
                    var t = this.gl;
                    if (this.texture) this.texture.bind();
                    else {
                        var e = new f.default(t);
                        e.resize(this.width, this.height, {
                            flipY: !0
                        }), this.texture = e
                    }
                }
            }, {
                key: "removeOldImages",
                value: function (t, e, n) {
                    var i = this.images,
                        r = [];
                    h.default.forIn(i, function (i, o) {
                        o.x !== t || o.y >= e + n || o.y + o.h <= e || r.push(i)
                    }), r.forEach(function (t) {
                        delete i[t]
                    }), r = void 0
                }
            }, {
                key: "clear",
                value: function () {
                    this.images = {}, this.next = {
                        x: 0,
                        y: 0
                    }
                }
            }, {
                key: "createCanvas",
                value: function (t, e) {
                    var n = document.createElement("canvas");
                    return n.width = t, n.height = e, n.ctx = n.getContext("2d"), this.debug && document.body.appendChild(n), n
                }
            }, {
                key: "debugShow",
                value: function () {
                    this.debug && (this.canvas.style.position = "absolute", this.canvas.style.zIndex = "10000", this.canvas.style.border = "1px solid red", this.canvas.style.width = "1200px", this.canvas.style.height = "1200px", this.canvas.style.left = "0", this.canvas.style.top = "0", this.canvas.style.pointerEvents = "none", this.canvas.id = "ImageCache", document.body.appendChild(this.canvas))
                }
            }, {
                key: "destroy",
                value: function () {
                    this.texture && (this.texture.destroy(), this.texture = null), this.width = null, this.height = null, this.itemWidth = null, this.next = null, this.images = null, this.debug = null, this.canvas = null, this.gl = null
                }
            }]), t
        }();
    e.default = _
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        var e = t.markers,
            n = t.getMarkerWidth,
            i = t.rowHeight,
            r = t.buffer,
            a = t.maxCanvasWidth,
            s = t.mapping,
            l = void 0 === s ? {} : s,
            c = t.xOffset,
            d = void 0 === c ? 0 : c,
            v = t.yOffset,
            _ = void 0 === v ? 0 : v,
            p = t.lastRowHeight,
            m = void 0 === p ? 0 : p,
            y = t.lastXSpareSet,
            g = void 0 === y ? {} : y,
            b = t.lastYSpare,
            S = void 0 === b ? 0 : b,
            w = 0,
            E = d,
            A = i + 2 * r,
            T = _ + w * A,
            k = !1,
            P = (0, h.default)({}, g);
        (0, f.default)(e).forEach(function (t, e) {
            if (!l[t.src]) {
                var s = n(t, e);
                if (E + s + 2 * r > a) {
                    w++, T = _ + w * A;
                    var u = o(P, T);
                    E = T > _ + S || u < 0 ? 0 : a - u
                }
                T > _ + S && (k = !0, P = {}), l[t.src] = {
                    x: E + r,
                    y: T + r,
                    width: s,
                    height: Math.min(t.height, i),
                    mask: !0
                }, E += s + 2 * r
            }
        });
        var I = a - E,
            M = S + _ - T,
            L = T + i;
        if (i > m) P = (0, u.default)({}, L, I);
        else {
            for (var C in P) P.hasOwnProperty(C) && C <= L && delete P[C];
            P[L] = I
        }
        return {
            mapping: l,
            xOffset: E,
            yOffset: T,
            spareRowHeight: k ? i : Math.max(i, m),
            xSpareSet: P,
            ySpare: i > m ? T + i - _ : M > 0 ? M : i,
            canvasHeight: (0, x.getPowerOf2)(_ + (w + 1) * A)
        }
    }

    function o(t, e) {
        for (var n = (0, s.default)(t).map(function (t) {
                return Number(t)
            }).sort(function (t, e) {
                return t - e
            }), i = 0; i < n.length; i++)
            if (e <= n[i]) return t[n[i]];
        return -1
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(10),
        s = i(a),
        l = n(107),
        u = i(l),
        c = n(94),
        f = i(c),
        d = n(393),
        h = i(d),
        v = n(25),
        _ = i(v),
        p = n(0),
        m = i(p),
        y = n(1),
        g = i(y);
    e.buildAtlas = r;
    var x = n(203),
        b = n(62),
        S = i(b),
        w = n(13),
        E = 1024 * ((0, w.isPC)() ? 2 : 1),
        A = function () {
            function t(e) {
                var n = this;
                (0, m.default)(this, t), this._reUpdateCanvas = (0, w.debounce)(function () {
                    n.canvasUpdated = !0
                }, 5e3), this.queuePromise = null, this.gl = e, this.debug = !1, this._destroyed = !1
            }
            return (0, g.default)(t, [{
                key: "generateAtlas",
                value: function (t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    this.canvas || (this.canvas = document.createElement("canvas"), this.canvas.width = E, this.canvas.height = E / 2, this.markerTexture = new S.default(this.gl, {
                        tex: this.canvas
                    }), this.debug && (this.canvas.style.position = "fixed", this.canvas.style.top = 0, this.canvas.style.left = 0, document.body.appendChild(this.canvas))), this.lastAtlas || (this.lastAtlas = {
                        mapping: {},
                        xOffset: 0,
                        yOffset: 0
                    });
                    var i = this.canvas.getContext("2d"),
                        o = null,
                        a = t.filter(function (t) {
                            return !e.lastAtlas.mapping[t]
                        }).map(function (t) {
                            if (n.tileId) {
                                if (!o) {
                                    var e = [];
                                    "string" == typeof n.tileImage64 ? e.push(n.tileImage64) : e = n.tileImage64, o = _.default.all(e.map(function (t, e) {
                                        return new _.default(function (i, r) {
                                            if (t) {
                                                var o = new Image;
                                                o.onload = function () {
                                                    i(o)
                                                }, o.onerror = function () {
                                                    console.error("Image加载失败: " + n.tileId + "-" + e), i(null)
                                                }, o.src = "data:image/png;base64," + t
                                            } else i(null)
                                        })
                                    }))
                                }
                                return o.then(function (e) {
                                    var i = n.billboardData.filter(function (e) {
                                            return e.text === t
                                        })[0],
                                        r = i && i.bounds,
                                        o = i && i.cidx;
                                    return e[o] ? {
                                        tileImage: e[o],
                                        isSimulate: !0,
                                        src: t,
                                        width: r[2],
                                        height: r[3],
                                        bounds: r
                                    } : null
                                })
                            }
                            return new _.default(function (e, n) {
                                var i = new Image;
                                /^data:/.test(t) || (i.crossOrigin = "anonymous"), i.onload = function () {
                                    e(i)
                                }, i.onerror = function () {
                                    console.error("Image加载失败: " + t), e(null)
                                }, i.src = t
                            })
                        }),
                        s = _.default.all(a);
                    return this.queuePromise = (null === this.queuePromise ? s : this.queuePromise.then(function () {
                        return s
                    }, function (t) {
                        return console.error(t), s
                    })).then(function (o) {
                        if (!e._destroyed) {
                            o = o.filter(function (t) {
                                return !!t
                            });
                            var a = r({
                                markers: o,
                                getMarkerWidth: function (t) {
                                    return t.height > 128 ? 128 * t.width / t.height : t.width
                                },
                                rowHeight: n.tileId ? 30 : Math.min(128, o.reduce(function (t, e) {
                                    return Math.max(t, e.height)
                                }, 0)),
                                buffer: 4,
                                maxCanvasWidth: E,
                                mapping: e.lastAtlas.mapping,
                                xOffset: e.lastAtlas.xOffset,
                                yOffset: e.lastAtlas.yOffset,
                                lastRowHeight: e.lastAtlas.spareRowHeight,
                                lastXSpareSet: e.lastAtlas.xSpareSet,
                                lastYSpare: e.lastAtlas.ySpare
                            });
                            if (e.canvas.height < a.canvasHeight) {
                                var s = i.getImageData(0, 0, e.canvas.width, e.canvas.height);
                                e.canvas.height = a.canvasHeight, i.putImageData(s, 0, 0)
                            }
                            o.forEach(function (t) {
                                var e = a.mapping[t.src];
                                if (!e.isFilled) {
                                    if (t.isSimulate) {
                                        var n = t.bounds;
                                        i.drawImage(t.tileImage, n[0], n[1], n[2], n[3], e.x, e.y, e.width, e.height)
                                    } else i.drawImage(t, e.x, e.y, e.width, e.height);
                                    e.isFilled = !0
                                }
                            }), e.lastAtlas = a, e.canvasUpdated = e.canvasUpdated || o.length > 0;
                            var l = {};
                            return t.forEach(function (t) {
                                l[t] = a.mapping[t]
                            }), e.canvasUpdated && e._reUpdateCanvas(), l
                        }
                    }), this.queuePromise
                }
            }, {
                key: "uploadToGPU",
                value: function (t) {
                    t.force || this.canvasUpdated ? this.markerTexture.update(this.canvas, t) : this.markerTexture.upload(t), this.canvasUpdated = !1
                }
            }, {
                key: "makeRGBAImageData",
                value: function (t, e) {
                    for (var n = 0; n < t.length; n++) e.data[4 * n + 0] = t[n], e.data[4 * n + 1] = t[n], e.data[4 * n + 2] = t[n], e.data[4 * n + 3] = t[n]
                }
            }, {
                key: "destroy",
                value: function () {
                    this._destroyed || (this.markerTexture && (this.markerTexture.destroy(), this.markerTexture = null), this.canvas && (this.canvas.width = 1, this.canvas.height = 1, this.canvas = null), this.queuePromise = null, this.gl = null, this._destroyed = !0)
                }
            }]), t
        }();
    e.default = A
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(2),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(4),
        f = i(c),
        d = n(3),
        h = i(d),
        v = n(141),
        _ = i(v),
        p = n(391),
        m = i(p),
        y = function (t) {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (0, s.default)(this, e), (0, f.default)(this, (e.__proto__ || (0, o.default)(e)).call(this, t, n))
            }
            return (0, h.default)(e, t), (0, u.default)(e, [{
                key: "_onCreate",
                value: function () {
                    return this.gl.createProgram()
                }
            }, {
                key: "_onDelete",
                value: function (t) {
                    t || (this._vShader.delete(), this._fShader.delete()), this.gl.deleteProgram(this._object)
                }
            }, {
                key: "_initialize",
                value: function (t) {
                    var e = t.vShader,
                        n = t.fShader;
                    this.attachShader(e, n)
                }
            }, {
                key: "attachShader",
                value: function (t, e) {
                    var n = this.gl;
                    "string" == typeof t && (t = new m.default(n, {
                        type: n.VERTEX_SHADER,
                        source: t
                    })), "string" == typeof e && (e = new m.default(n, {
                        type: n.FRAGMENT_SHADER,
                        source: e
                    })), n.attachShader(this._object, t.shader), n.attachShader(this._object, e.shader), this._vShader = t, this._fShader = e, n.linkProgram(this._object), this.check()
                }
            }, {
                key: "enable",
                value: function () {
                    this.gl.useProgram(this._object), this.gl.program = this._object
                }
            }, {
                key: "check",
                value: function () {
                    var t = this.gl;
                    this.getParameter(t.LINK_STATUS) || (console.error(t.getProgramInfoLog(this._object)), console.log(this._source))
                }
            }, {
                key: "getParameter",
                value: function (t) {
                    return this.gl.getProgramParameter(this._object, t)
                }
            }, {
                key: "program",
                get: function () {
                    return this._object
                }
            }]), e
        }(_.default);
    e.default = y
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(0),
        o = i(r),
        a = n(1),
        s = i(a),
        l = (n(51), n(13)),
        u = i(l),
        c = n(62),
        f = i(c),
        d = n(6),
        h = i(d),
        v = u.default.isPC() ? 8192 : 4096,
        _ = function () {
            function t(e) {
                (0, o.default)(this, t), this.gl = e, this.width = v, this.height = this.width, this.itemWidth = 512, this.scale = 2, this.next = {
                    x: 0,
                    y: 0
                }, this.tiles = {}, this.tilePositions = {}, this._renderTiles = null, this.debug = 0, this.debug && (this.canvas = this.createCanvas(this.width, this.height), this.debugShow())
            }
            return (0, s.default)(t, [{
                key: "updateRenderTiles",
                value: function (t) {
                    this._renderTiles = t
                }
            }, {
                key: "getTexCoord",
                value: function (t, e) {
                    var n = this.tiles[t];
                    if (!n) return null;
                    var i = this.scale;
                    return {
                        x: (n.x + e[0]) / this.width,
                        y: (this.height - (n.y + e[1])) / this.height,
                        w: e[2] / this.width,
                        h: e[3] / this.height,
                        fontSize: {
                            w: e[2] / i,
                            h: e[3] / i
                        }
                    }
                }
            }, {
                key: "addImage",
                value: function (t, e, n) {
                    if (t in this.tiles || !e) return void(n && n());
                    this.updateTextSubImg(e, t), n && n()
                }
            }, {
                key: "add",
                value: function (t, e, n) {
                    var i = this.tiles;
                    if (t in i) return void(n && n());
                    this.tilePositions;
                    this.createItem(e, function (e) {
                        this.updateTextSubImg(e, t), n && n()
                    }.bind(this))
                }
            }, {
                key: "updateTextSubImg",
                value: function (t, e) {
                    this.loadTexture();
                    var n = this.tiles;
                    if (!(e in n)) {
                        var i = this.tilePositions,
                            r = (t.width, t.height),
                            o = this.next,
                            a = o.x,
                            s = o.y;
                        s + r > this.height && (a += this.itemWidth, s = 0), a >= this.width && (a = 0);
                        var l = (this.removeOldTiles(a, s, r), a + "-" + s);
                        n[e] = {
                            x: a,
                            y: s,
                            height: r
                        }, i[l] = e;
                        var u = this.gl;
                        u.texSubImage2D(u.TEXTURE_2D, 0, a, this.height - s - r, u.RGBA, u.UNSIGNED_BYTE, t), o.x = a, o.y = s + r, this.debug && this.canvas.ctx.drawImage(t, a, s)
                    }
                }
            }, {
                key: "loadTexture",
                value: function () {
                    var t = this.gl;
                    if (this.texture) this.texture.bind();
                    else {
                        var e = new f.default(t);
                        e.resize(this.width, this.height, {
                            flipY: !0,
                            premultiply: !0
                        }), this.texture = e
                    }
                }
            }, {
                key: "removeOldTiles",
                value: function (t, e, n) {
                    var i = this.tiles,
                        r = this.tilePositions,
                        o = [];
                    h.default.forIn(i, function (i, a) {
                        if (!(a.x !== t || a.y >= e + n || a.y + a.height <= e)) {
                            var s = a.x + "-" + a.y;
                            delete r[s], o.push(i)
                        }
                    });
                    for (var a = 0, s = o.length; a < s; a++) delete i[o[a]];
                    o = void 0
                }
            }, {
                key: "createItem",
                value: function (t, e) {
                    var n = new Image;
                    n.onload = function () {
                        "function" == typeof e && e(n, n.width, n.height)
                    }.bind(this), n.src = t
                }
            }, {
                key: "createCanvas",
                value: function (t, e) {
                    var n = document.createElement("canvas");
                    return n.width = t, n.height = e, n.ctx = n.getContext("2d"), this.debug && document.body.appendChild(n), n
                }
            }, {
                key: "debugShow",
                value: function () {
                    this.debug && (document.getElementById("TextCache") || (console.info(232), this.canvas.style.position = "absolute", this.canvas.style.zIndex = "10000", this.canvas.style.border = "1px solid red", this.canvas.style.width = "8192px", this.canvas.style.height = "8192px", this.canvas.style.left = "0", this.canvas.style.top = "0", this.canvas.style.pointerEvents = "none", this.canvas.id = "TextCache", document.body.appendChild(this.canvas)))
                }
            }, {
                key: "destroy",
                value: function () {
                    this.texture && (this.texture.destroy(), this.texture = null), this.width = null, this.height = null, this.itemWidth = null, this.scale = null, this.next = null, this.tiles = null, this.tilePositions = null, this._renderTiles = null, this.debug = 0, this.canvas = null, this.gl = null
                }
            }]), t
        }();
    e.default = _
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t) {
        return new a.default(function (e, n) {
            if (l.default.support()) {
                var i = c.default.QMAPI_poi_icon_json + t;
                l.default.get(i, function (n) {
                    if (n) {
                        var i = JSON.parse(n).data;
                        e(i)
                    } else(0, v.default)(t, d.default.iconIndexSrc).then(function (t) {
                        e(t)
                    }, function (t) {
                        console.error(t), e(null)
                    })
                })
            } else(0, v.default)(t, d.default.iconIndexSrc).then(function (t) {
                e(t)
            }, function (t) {
                console.error(t), e(null)
            })
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(25),
        a = i(o),
        s = n(103),
        l = i(s),
        u = n(81),
        c = i(u),
        f = n(9),
        d = i(f),
        h = n(370),
        v = i(h);
    e.default = r
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(25),
        o = i(r),
        a = n(0),
        s = i(a),
        l = n(1),
        u = i(l),
        c = n(589),
        f = i(c),
        d = function () {
            function t() {
                (0, s.default)(this, t), this.img = null, this.w = 0, this.h = 0, this.scale = 2
            }
            return (0, u.default)(t, [{
                key: "load",
                value: function (t) {
                    var e = this;
                    return new o.default(function (n) {
                        function i(t, e, i) {
                            t.img && (t.ready = !0, n())
                        }(0, f.default)(t, function (t) {
                            e.w = t.originalWidth, e.h = t.originalHeight, e.img = t.tex, i(e, e.w, e.h)
                        })
                    })
                }
            }]), t
        }();
    e.default = d
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e) {
        if ("function" == typeof e) {
            if (t in o.textures) return void e(o.textures[t]);
            var n = new Image;
            /^data:/.test(t) || (n.crossOrigin = "anonymous"), n.onload = function () {
                if (o.textures[t]) return void e(o.textures[t]);
                var i = u.default.extendCanvasToPow2(n, 1);
                o.textures[t] = new s.default(null, {
                    tex: i,
                    originalWidth: n.width,
                    originalHeight: n.height,
                    width: i.width,
                    height: i.height
                }), e(o.textures[t])
            }.bind(this), n.src = t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(51),
        a = n(62),
        s = i(a),
        l = n(203),
        u = i(l);
    e.default = r
}, function (t, e, n) {
    "use strict";

    function i(t, e, n, i, r, o) {
        this.fontSize = t || 24, this.buffer = void 0 === e ? 3 : e, this.cutoff = i || .25, this.fontFamily = r || "sans-serif", this.fontWeight = o || "normal", this.radius = n || 8;
        var a = this.size = this.fontSize + 2 * this.buffer;
        this.canvas = document.createElement("canvas"), this.canvas.width = this.canvas.height = a, this.ctx = this.canvas.getContext("2d"), this.ctx.font = this.fontWeight + " " + this.fontSize + "px " + this.fontFamily, this.ctx.textBaseline = "middle", this.ctx.fillStyle = "black", this.gridOuter = new Float64Array(a * a), this.gridInner = new Float64Array(a * a), this.f = new Float64Array(a), this.d = new Float64Array(a), this.z = new Float64Array(a + 1), this.v = new Int16Array(a), this.middle = Math.round(a / 2 * (navigator.userAgent.indexOf("Gecko/") >= 0 ? 1.2 : 1))
    }

    function r(t, e, n, i, r, a, s) {
        for (var l = 0; l < e; l++) {
            for (var u = 0; u < n; u++) i[u] = t[u * e + l];
            for (o(i, r, a, s, n), u = 0; u < n; u++) t[u * e + l] = r[u]
        }
        for (u = 0; u < n; u++) {
            for (l = 0; l < e; l++) i[l] = t[u * e + l];
            for (o(i, r, a, s, e), l = 0; l < e; l++) t[u * e + l] = Math.sqrt(r[l])
        }
    }

    function o(t, e, n, i, r) {
        n[0] = 0, i[0] = -a, i[1] = +a;
        for (var o = 1, s = 0; o < r; o++) {
            for (var l = (t[o] + o * o - (t[n[s]] + n[s] * n[s])) / (2 * o - 2 * n[s]); l <= i[s];) s--, l = (t[o] + o * o - (t[n[s]] + n[s] * n[s])) / (2 * o - 2 * n[s]);
            s++, n[s] = o, i[s] = l, i[s + 1] = +a
        }
        for (o = 0, s = 0; o < r; o++) {
            for (; i[s + 1] < o;) s++;
            e[o] = (o - n[s]) * (o - n[s]) + t[n[s]]
        }
    }
    t.exports = i, t.exports.default = i;
    var a = 1e20;
    i.prototype.draw = function (t) {
        this.ctx.clearRect(0, 0, this.size, this.size), this.ctx.fillText(t, this.buffer, this.middle);
        for (var e = this.ctx.getImageData(0, 0, this.size, this.size), n = new Uint8ClampedArray(this.size * this.size), i = 0; i < this.size * this.size; i++) {
            var o = e.data[4 * i + 3] / 255;
            this.gridOuter[i] = 1 === o ? 0 : 0 === o ? a : Math.pow(Math.max(0, .5 - o), 2), this.gridInner[i] = 1 === o ? a : 0 === o ? 0 : Math.pow(Math.max(0, o - .5), 2)
        }
        for (r(this.gridOuter, this.size, this.size, this.f, this.d, this.v, this.z), r(this.gridInner, this.size, this.size, this.f, this.d, this.v, this.z), i = 0; i < this.size * this.size; i++) {
            var s = this.gridOuter[i] - this.gridInner[i];
            n[i] = Math.max(0, Math.min(255, Math.round(255 - 255 * (s / this.radius + this.cutoff))))
        }
        return n
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        var i = o(t, e, n),
            r = s(i),
            a = [];
        return r.forEach(function (t) {
            a = t.isShow ? a.concat(Array(Number(t.lettersCount)).fill(1)) : a.concat(Array(Number(t.lettersCount)).fill(0))
        }), new Uint8ClampedArray(a)
    }

    function o(t, e, n) {
        var i = [],
            r = !0,
            o = !1,
            s = void 0;
        try {
            for (var l, u = (0, p.default)(t); !(r = (l = u.next()).done); r = !0) {
                var c = l.value,
                    f = c.geometry.position,
                    d = e.latLngToCenterLocalPixel(f),
                    h = new m.Vector4(d.x, d.y, 0, 1),
                    v = n.pvMatrix.multiplyVector4(h),
                    _ = v.elements[0] / v.elements[3],
                    y = v.elements[1] / v.elements[3],
                    g = (1 + _) / 2 * e.width,
                    x = (1 - y) / 2 * e.height,
                    b = c.style.size / c.fontSize * c.widthSum * e.scale,
                    S = c.style.size * e.scale,
                    w = b / 2,
                    E = S / 2,
                    A = {
                        x: g,
                        y: x
                    },
                    T = c.style,
                    k = T.alignment,
                    P = T.verticalAlignment,
                    I = T.angle;
                i[c.geometryIndex] = {
                    leftTop: a({
                        x: g - w + k * w,
                        y: x - E + P * E
                    }, A, c.style),
                    rightTop: a({
                        x: g + w + k * w,
                        y: x - E + P * E
                    }, A, c.style),
                    rightBottom: a({
                        x: g + w + k * w,
                        y: x + E + P * E
                    }, A, c.style),
                    leftBottom: a({
                        x: g - w + k * w,
                        y: x + E + P * E
                    }, A, c.style),
                    width: b,
                    height: S,
                    angle: I,
                    lettersCount: c.lettersCount,
                    rank: void 0 === c.geometry.rank ? -1 / 0 : c.geometry.rank,
                    geometryIndex: c.geometryIndex
                }
            }
        } catch (t) {
            o = !0, s = t
        } finally {
            try {
                !r && u.return && u.return()
            } finally {
                if (o) throw s
            }
        }
        return i
    }

    function a(t, e, n) {
        var i = t.x - e.x,
            r = t.y - e.y,
            o = new m.Vector4(i, r, 0, 1),
            a = (new m.Matrix4).setRotate(-n.angle, 0, 0, 1),
            s = a.multiplyVector4(o);
        return {
            x: s.elements[0] + e.x + n.offset.x,
            y: s.elements[1] + e.y + n.offset.y
        }
    }

    function s(t) {
        var e = t.map(function (t) {
                return {
                    isShow: !0,
                    lettersCount: t.lettersCount
                }
            }),
            n = !0,
            i = !1,
            r = void 0;
        try {
            for (var o, a = (0, p.default)(t.entries()); !(n = (o = a.next()).done); n = !0) {
                var s = (0, v.default)(o.value, 2),
                    u = s[0],
                    c = s[1],
                    f = t.slice(u + 1);
                if (e[c.geometryIndex].isShow) {
                    var d = !0,
                        h = !1,
                        _ = void 0;
                    try {
                        for (var m, y = (0, p.default)(f); !(d = (m = y.next()).done); d = !0) {
                            var g = m.value;
                            if (e[g.geometryIndex].isShow) {
                                var x = l(c, g),
                                    b = !0;
                                x && (b = c.rank === g.rank ? g.geometryIndex > c.geometryIndex : g.rank > c.rank, b ? e[c.geometryIndex].isShow = !1 : e[g.geometryIndex].isShow = !1)
                            }
                        }
                    } catch (t) {
                        h = !0, _ = t
                    } finally {
                        try {
                            !d && y.return && y.return()
                        } finally {
                            if (h) throw _
                        }
                    }
                }
            }
        } catch (t) {
            i = !0, r = t
        } finally {
            try {
                !n && a.return && a.return()
            } finally {
                if (i) throw r
            }
        }
        return e
    }

    function l(t, e) {
        var n = new y(t),
            i = new y(e);
        return n.isCollision(i)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var u = n(0),
        c = i(u),
        f = n(1),
        d = i(f),
        h = n(95),
        v = i(h),
        _ = n(21),
        p = i(_),
        m = n(93),
        y = function () {
            function t(e) {
                (0, c.default)(this, t), this.centerPoint = [(e.leftTop.x + e.rightBottom.x) / 2, (e.leftTop.y + e.rightBottom.y) / 2], this.halfHeight = e.height / 2, this.halfWidth = e.width / 2, this.setRotation(e.angle)
            }
            return (0, d.default)(t, [{
                key: "getProjectionRadius",
                value: function (t) {
                    var e = this.dot(t, this.axisX),
                        n = this.dot(t, this.axisY);
                    return this.halfWidth * e + this.halfHeight * n
                }
            }, {
                key: "dot",
                value: function (t, e) {
                    return Math.abs(t[0] * e[0] + t[1] * e[1])
                }
            }, {
                key: "setRotation",
                value: function (t) {
                    var e = t / 180 * Math.PI;
                    return this.axisX = [Math.cos(e), -Math.sin(e)], this.axisY = [Math.sin(e), Math.cos(e)], this
                }
            }, {
                key: "isCollision",
                value: function (t) {
                    for (var e = [this.centerPoint[0] - t.centerPoint[0], this.centerPoint[1] - t.centerPoint[1]], n = [this.axisX, this.axisY, t.axisX, t.axisY], i = 0, r = n.length; i < r; i++)
                        if (this.getProjectionRadius(n[i]) + t.getProjectionRadius(n[i]) <= this.dot(e, n[i])) return !1;
                    return !0
                }
            }]), t
        }();
    e.default = r
}, function (t, e, n) {
    "use strict";

    function i(t) {
        var e = t.extensions_TMAP.get("WEBGL_debug_renderer_info");
        return e ? {
            vendor: t.getParameter(e.UNMASKED_VENDOR_WEBGL),
            renderer: t.getParameter(e.UNMASKED_RENDERER_WEBGL)
        } : null
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.getGraphicHardwareInfo = i
}, function (t, e, n) {
    "use strict";

    function i(t, e, n, i) {
        i = i || 1;
        var r = new o.Matrix4,
            a = new o.Matrix4;
        return a.scale(i, i, i), r = r.multiply(e), r = r.multiply(a), r = r.multiply(function (t, e) {
            var n = new o.Matrix4,
                i = t.x + e.left,
                r = e.top - t.y;
            return n.setTranslate(i, r, 0), n
        }(n, t))
    }

    function r(t) {
        var e = t.view,
            n = t.offset,
            i = t.scale,
            r = void 0 === i ? 1 : i,
            a = new o.Matrix4;
        return a.scale(r, r, r).translate(n.x + e.left, e.top - n.y, 0), a
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.mixMatrix = i, e.getModelMatrix = r;
    var o = n(93)
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }

    function r(t, e, n) {
        if (t.getLng() < e.getLng()) {
            n.getLng() >= 0 ? t.lng = 180 : e.lng = -179.9999
        }
    }
    var o = n(2),
        a = i(o),
        s = n(0),
        l = i(s),
        u = n(1),
        c = i(u),
        f = n(4),
        d = i(f),
        h = n(3),
        v = i(h),
        _ = n(9),
        p = i(_),
        m = n(152),
        y = i(m),
        g = n(139),
        x = i(g),
        b = n(29),
        S = n(41),
        w = n(6),
        E = n(61),
        A = n(245),
        T = n(40),
        k = p.default.tileSize,
        P = Math.PI,
        I = P / 180,
        M = y.default[1],
        L = function (t) {
            function e(t, n) {
                (0, l.default)(this, e);
                var i = (0, d.default)(this, (e.__proto__ || (0, a.default)(e)).call(this));
                return i._minZoom = t.minZoom || p.default.mainZoom, i._maxZoom = t.maxZoom || p.default.maxZoom, i._fov = t.fov || .6435011087932844, i.width = t.width || 0, i.height = t.height || 0, i.zoom = t.zoom || 10, i.tileZoom = Math.floor(i._zoom), i._center = t.center || new b(39.908782, 116.3974), i.heading = t.heading || 0, i._pitch = t.pitch || 0, i._scale = t.scale || 1, i._boundary = t.boundary || null, i.projection = new A, i.renderEngine = n, i
            }
            return (0, v.default)(e, t), (0, c.default)(e, [{
                key: "_isCameraReady",
                value: function () {
                    var t = this.renderEngine && this.renderEngine.camera && this.renderEngine.camera.resolution;
                    return t && null !== t.width && null !== t.height
                }
            }, {
                key: "resize",
                value: function (t, e) {
                    this.width = t, this.height = e, this._isCameraReady() && this._fire("bounds_changed", {
                        bounds: this.getBounds()
                    }, !0), this._fire("input_change"), this._constrain()
                }
            }, {
                key: "_constrain",
                value: function () {
                    if (this._boundary && !this._boundary.isEmpty()) {
                        if (this._unmodify) return void(this._unmodify = !1);
                        var t = this.width,
                            e = this.height,
                            n = this.center,
                            i = t / this._scale,
                            r = e / this._scale,
                            o = this.latLngToCoord(this._boundary.getSouthWest()),
                            a = this.latLngToCoord(this._boundary.getNorthEast()),
                            s = this.latLngToCoord(n),
                            l = [o.x, a.x],
                            u = [a.y, o.y];
                        if (Math.round(l[0]) !== Math.round(l[1]) && Math.round(u[0]) !== Math.round(u[1])) {
                            var c = void 0,
                                f = void 0,
                                d = void 0,
                                h = void 0,
                                v = void 0;
                            if (c = l && l[1] - l[0] < i ? i / (l[1] - l[0]) : 0, f = u && u[1] - u[0] < r ? r / (u[1] - u[0]) : 0, d = Math.max(c, f)) {
                                h = c ? (l[0] + l[1]) / 2 : s.x, v = f ? (u[0] + u[1]) / 2 : s.y;
                                var _ = this.coordToLatLng({
                                    x: h,
                                    y: v
                                });
                                this._unmodify = !0, this.zoom += this.scaleZoom(d), this.center = _
                            } else s.x - i / 2 < l[0] && (h = l[0] + i / 2), s.x + i / 2 > l[1] && (h = l[1] - i / 2), s.y - r / 2 < u[0] && (v = u[0] + r / 2), s.y + r / 2 > u[1] && (v = u[1] - r / 2), void 0 === h && void 0 === v || (this._unmodify = !0, this.center = this.coordToLatLng({
                                x: void 0 !== h ? h : s.x,
                                y: void 0 !== v ? v : s.y
                            }))
                        }
                    }
                }
            }, {
                key: "zoomScale",
                value: function (t) {
                    return Math.pow(2, t)
                }
            }, {
                key: "scaleZoom",
                value: function (t) {
                    return Math.log(t) / Math.LN2
                }
            }, {
                key: "calCoordsScale",
                value: function (t) {
                    return this.scrollScale / this.zoomScale(t)
                }
            }, {
                key: "latLngToCoord",
                value: function (t, e) {
                    return this.projection.latLngToCoord(t, e || this.zoom)
                }
            }, {
                key: "coordToLatLng",
                value: function (t, e) {
                    return this.projection.coordToLatLng(t, e || this.zoom)
                }
            }, {
                key: "latLngToCenterLocalPixel",
                value: function (t) {
                    var e = this.latLngToCoord(this.center, this.zoom),
                        n = this.latLngToCoord(t, this.zoom);
                    return new S(n.x - e.x, e.y - n.y)
                }
            }, {
                key: "centerLocalPixelToLatLng",
                value: function (t) {
                    var e = this.latLngToCoord(this.center, this.zoom),
                        n = new S(e.x + t.x, e.y - t.y);
                    return this.coordToLatLng(n, this.zoom)
                }
            }, {
                key: "latLngToCenterLocalPixelByDistanceScales",
                value: function (t, e) {
                    var n = e.distanceScales || this.getDistanceScales(),
                        i = e.center || this.center,
                        r = e.offsetMercator,
                        o = new b(t.lat - i.lat, t.lng - i.lng),
                        a = w.clamp(o.lat, -1, 1),
                        s = [n.pixelsPerDegree[0], n.pixelsPerDegree[1] + n.pixelsPerDegree2[1] * a],
                        l = new S(o.lng * s[0], o.lat * s[1]);
                    return r && (l.x += r.x * e.pixelsPerMeter, l.y += r.y * e.pixelsPerMeter), l
                }
            }, {
                key: "projectionTopLeft",
                value: function (t) {
                    var e = (this.center, this.latLngToCoord(this.center, t));
                    return new S(e.x - this.width / 2, e.y - this.height / 2)
                }
            }, {
                key: "screenToLatLng",
                value: function (t) {
                    var e = this.renderEngine.camera.getPixelFromScreenCoords(t);
                    return this.centerLocalPixelToLatLng(e)
                }
            }, {
                key: "latLngToScreen",
                value: function (t) {
                    var e = this.latLngToCenterLocalPixel(t);
                    return this.renderEngine.camera.getScreenCoordsFromPixel(e)
                }
            }, {
                key: "latLngToTileCoord",
                value: function (t, e) {
                    return this.latLngToCoord(t, e || this.zoom).div(k)
                }
            }, {
                key: "tileCoordToLatLng",
                value: function (t, e) {
                    return this.coordToLatLng(t.mult(k), e || this.zoom)
                }
            }, {
                key: "setLocationAtPoint",
                value: function (t, e) {
                    var n = this.latLngToTileCoord(t),
                        i = this.latLngToTileCoord(this.center),
                        r = this.screenToLatLng(e),
                        o = this.latLngToTileCoord(r),
                        a = o.sub(i),
                        s = n.sub(a);
                    this.center = this.tileCoordToLatLng(s)
                }
            }, {
                key: "getBounds",
                value: function () {
                    var t = new E,
                        e = Math.min(this.renderEngine.camera.getFogEdge()[1], 1),
                        n = (1 - e) / 2 * this.height,
                        i = this.screenToLatLng(new S(0, n)),
                        o = this.screenToLatLng(new S(this.width, n)),
                        a = this.screenToLatLng(new S(0, this.height)),
                        s = this.screenToLatLng(new S(this.width, this.height));
                    return r(o, i, this.center), r(s, a, this.center), t.extend(i).extend(o).extend(a).extend(s), t
                }
            }, {
                key: "coveringTiles",
                value: function (t) {
                    return this.coveringTilesAsZoom(t, t.zoom || this.zoom, 1)
                }
            }, {
                key: "coveringTilesAsZoom",
                value: function (t, e, n) {
                    n = n || 1;
                    var i = [];
                    if (!this.width || !this.height) return i;
                    var r = t.round ? Math.round(e) : Math.floor(e),
                        o = this.calCoordsScale(r);
                    if (t.pixelGeo) {
                        var a = new x.default(r, 0, 0, 0, k);
                        return i.push(a), i
                    }
                    var s = this.renderEngine.getBounds(this.pitch, this.heading, o);
                    w.forIn(s, function (t, e) {
                        e.x *= n, e.y *= n
                    });
                    var l = this.latLngToCoord(this.center, r),
                        u = [{
                            column: ~~(l.x + s.leftTop.x) / k,
                            row: ~~(l.y - s.leftTop.y) / k
                        }, {
                            column: ~~(l.x + s.rightTop.x) / k,
                            row: ~~(l.y - s.rightTop.y) / k
                        }, {
                            column: ~~(l.x + s.rightBottom.x) / k,
                            row: ~~(l.y - s.rightBottom.y) / k
                        }, {
                            column: ~~(l.x + s.leftBottom.x) / k,
                            row: ~~(l.y - s.leftBottom.y) / k
                        }],
                        c = x.default.cover(r, u);
                    return this._sortTiles(c, k)
                }
            }, {
                key: "_sortTiles",
                value: function (t, e) {
                    for (var n = 0, i = t.length; n < i; n++) {
                        var r = t[n],
                            o = this.projectionTopLeft(r.z),
                            a = r.x * e - o.x + e / 2,
                            s = r.y * e - o.y + e / 2,
                            l = Math.pow(a - this.centerPoint.x, 2) + Math.pow(s - this.centerPoint.y, 2);
                        r.ds = Math.sqrt(l)
                    }
                    return w.bubbleSort(t, "ds"), t
                }
            }, {
                key: "getDistanceRatio",
                value: function (t) {
                    var e = 256 * this.zoomScale(t || this.zoom),
                        n = this.center;
                    return e / (M * Math.abs(Math.cos(n.lat * I)))
                }
            }, {
                key: "getDistanceScales",
                value: function (t) {
                    var e = this.center,
                        n = e.lat,
                        i = (e.lng, this.zoomScale(t || this.zoom)),
                        r = {},
                        o = k * i,
                        a = Math.cos(n * I),
                        s = o / 360,
                        l = s / a,
                        u = o / M / a;
                    r.pixelsPerMeter = [u, u, u], r.metersPerPixel = [1 / u, 1 / u, 1 / u], r.pixelsPerDegree = [s, l, u], r.degreesPerPixel = [1 / s, 1 / l, 1 / u];
                    var c = I * Math.tan(n * I) / a,
                        f = s * c / 2,
                        d = o / M * c,
                        h = d / l * u;
                    return r.pixelsPerDegree2 = [0, f, d], r.pixelsPerMeter2 = [h, 0, h], r
                }
            }, {
                key: "getInput",
                value: function () {
                    return {
                        height: this.height,
                        width: this.width,
                        center: this._center,
                        zoom: this._zoom,
                        heading: this._heading,
                        pitch: this._pitch
                    }
                }
            }, {
                key: "size",
                get: function () {
                    return new S(this.width, this.height)
                }
            }, {
                key: "minZoom",
                get: function () {
                    return this._minZoom
                },
                set: function (t) {
                    t = Math.max(t, p.default.minZoom), this._minZoom !== t && (this._minZoom = t, this.zoom = Math.max(this.zoom, t))
                }
            }, {
                key: "maxZoom",
                get: function () {
                    return this._maxZoom
                },
                set: function (t) {
                    t = Math.min(t, p.default.maxZoom), this._maxZoom !== t && (this._maxZoom = t, this.zoom = Math.min(this.zoom, t))
                }
            }, {
                key: "zoom",
                get: function () {
                    return this._zoom
                },
                set: function (t) {
                    var e = Math.min(Math.max(t, this.minZoom), this.maxZoom);
                    this._zoom !== e && (this._fire("zoom_changed", {
                        zoom: this._zoom
                    }, !0), this._isCameraReady() && this._fire("bounds_changed", {
                        bounds: this.getBounds()
                    }, !0), this.renderEngine && this._zoom !== e && this.renderEngine.camera.updateVersion(), this._zoom = e, this._scrollScale = this.zoomScale(e), this.tileZoom = Math.floor(e), this.zoomFraction = e - this.tileZoom, this._fire("input_change"), this._constrain())
                }
            }, {
                key: "scrollScale",
                get: function () {
                    return this._scrollScale
                }
            }, {
                key: "center",
                get: function () {
                    return this._center
                },
                set: function (t) {
                    t.lat === this._center.lat && t.lng === this._center.lng || (this._fire("center_changed", {
                        center: this._center
                    }, !0), this._isCameraReady() && this._fire("bounds_changed", {
                        bounds: this.getBounds()
                    }, !0), this.renderEngine && this._center && t && (this._center.lat !== t.lat || this._center.lng !== t.lng) && this.renderEngine.camera.updateVersion(), this._center = t, this._fire("input_change"), this._constrain())
                }
            }, {
                key: "centerPoint",
                get: function () {
                    return new S(this.width / 2, this.height / 2)
                }
            }, {
                key: "heading",
                get: function () {
                    return this._heading / Math.PI * 180
                },
                set: function (t) {
                    if (!isNaN(t)) {
                        var e = w.wrap(t, 0, 360) * Math.PI / 180;
                        this._heading !== e && (this._heading = e, this._isCameraReady() && this._fire("bounds_changed", {
                            bounds: this.getBounds()
                        }, !0), this._fire("input_change"))
                    }
                }
            }, {
                key: "pitch",
                get: function () {
                    return this._pitch / Math.PI * 180
                },
                set: function (t) {
                    if (!isNaN(t)) {
                        var e = w.clamp(t, 0, p.default.maxPitch) / 180 * Math.PI;
                        this._pitch !== e && (this._pitch = e, this._isCameraReady() && this._fire("bounds_changed", {
                            bounds: this.getBounds()
                        }, !0), this._fire("input_change"))
                    }
                }
            }, {
                key: "fov",
                get: function () {
                    return this._fov / Math.PI * 180
                },
                set: function (t) {
                    t = Math.max(.01, Math.min(60, t)), this._fov !== t && (this._fov = t / 180 * Math.PI)
                }
            }, {
                key: "scale",
                get: function () {
                    return this._scale
                },
                set: function (t) {
                    this._scale !== t && (this._scale = t, this.renderEngine.camera.setScale(t), this._fire("scale_changed", {
                        scale: this._scale
                    }, !0), this._isCameraReady() && this._fire("bounds_changed", {
                        bounds: this.getBounds()
                    }, !0), this._fire("input_change"), this._constrain())
                }
            }, {
                key: "boundary",
                get: function () {
                    return this._boundary || null
                },
                set: function (t) {
                    t instanceof E && (this._boundary = t, this._constrain())
                }
            }]), e
        }(T);
    t.exports = L
}, function (t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    e.HEX_REG = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/, e.RGB_REG = /^rgb\((\d+,?\s*){3}\)$/, e.RGBA_REG = /^rgba\((\d+,?\s*){3},\s*[0-9.]+\)$/
}, function (t, e, n) {
    "use strict";
    e.create = function () {
        var t = new Float32Array(3);
        return t[0] = 0, t[1] = 0, t[2] = 0, t
    }, e.clone = function (t) {
        var e = new Float32Array(3);
        return e[0] = t[0], e[1] = t[1], e[2] = t[2], e
    }, e.fromValues = function (t, e, n) {
        var i = new Float32Array(3);
        return i[0] = t, i[1] = e, i[2] = n, i
    }, e.copy = function (t, e) {
        return t[0] = e[0], t[1] = e[1], t[2] = e[2], t
    }, e.set = function (t, e, n, i) {
        return t[0] = e, t[1] = n, t[2] = i, t
    }, e.add = function (t, e, n) {
        return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t[2] = e[2] + n[2], t
    }, e.subtract = function (t, e, n) {
        return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t[2] = e[2] - n[2], t
    }, e.multiply = function (t, e, n) {
        return t[0] = e[0] * n[0], t[1] = e[1] * n[1], t[2] = e[2] * n[2], t
    }, e.divide = function (t, e, n) {
        return t[0] = e[0] / n[0], t[1] = e[1] / n[1], t[2] = e[2] / n[2], t
    }, e.ceil = function (t, e) {
        return t[0] = Math.ceil(e[0]), t[1] = Math.ceil(e[1]), t[2] = Math.ceil(e[2]), t
    }, e.floor = function (t, e) {
        return t[0] = Math.floor(e[0]), t[1] = Math.floor(e[1]), t[2] = Math.floor(e[2]), t
    }, e.min = function (t, e, n) {
        return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t[2] = Math.min(e[2], n[2]), t
    }, e.max = function (t, e, n) {
        return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t[2] = Math.max(e[2], n[2]), t
    }, e.round = function (t, e) {
        return t[0] = Math.round(e[0]), t[1] = Math.round(e[1]), t[2] = Math.round(e[2]), t
    }, e.scale = function (t, e, n) {
        return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t
    }, e.scaleAndAdd = function (t, e, n, i) {
        return t[0] = e[0] + n[0] * i, t[1] = e[1] + n[1] * i, t[2] = e[2] + n[2] * i, t
    }, e.distance = function (t, e) {
        var n = e[0] - t[0],
            i = e[1] - t[1],
            r = e[2] - t[2];
        return Math.sqrt(n * n + i * i + r * r)
    }, e.squaredDistance = function (t, e) {
        var n = e[0] - t[0],
            i = e[1] - t[1],
            r = e[2] - t[2];
        return n * n + i * i + r * r
    }, e.length = function (t) {
        var e = t[0],
            n = t[1],
            i = t[2];
        return Math.sqrt(e * e + n * n + i * i)
    }, e.squaredLength = function (t) {
        var e = t[0],
            n = t[1],
            i = t[2];
        return e * e + n * n + i * i
    }, e.negate = function (t, e) {
        return t[0] = -e[0], t[1] = -e[1], t[2] = -e[2], t
    }, e.inverse = function (t, e) {
        return t[0] = 1 / e[0], t[1] = 1 / e[1], t[2] = 1 / e[2], t
    }, e.normalize = function (t, e) {
        var n = e[0],
            i = e[1],
            r = e[2],
            o = n * n + i * i + r * r;
        return o > 0 && (o = 1 / Math.sqrt(o), t[0] = e[0] * o, t[1] = e[1] * o, t[2] = e[2] * o), t
    }, e.dot = function (t, e) {
        return t[0] * e[0] + t[1] * e[1] + t[2] * e[2]
    }, e.cross = function (t, e, n) {
        var i = e[0],
            r = e[1],
            o = e[2],
            a = n[0],
            s = n[1],
            l = n[2];
        return t[0] = r * l - o * s, t[1] = o * a - i * l, t[2] = i * s - r * a, t
    }, e.lerp = function (t, e, n, i) {
        var r = e[0],
            o = e[1],
            a = e[2];
        return t[0] = r + i * (n[0] - r), t[1] = o + i * (n[1] - o), t[2] = a + i * (n[2] - a), t
    }, e.hermite = function (t, e, n, i, r, o) {
        var a = o * o,
            s = a * (2 * o - 3) + 1,
            l = a * (o - 2) + o,
            u = a * (o - 1),
            c = a * (3 - 2 * o);
        return t[0] = e[0] * s + n[0] * l + i[0] * u + r[0] * c, t[1] = e[1] * s + n[1] * l + i[1] * u + r[1] * c, t[2] = e[2] * s + n[2] * l + i[2] * u + r[2] * c, t
    }, e.bezier = function (t, e, n, i, r, o) {
        var a = 1 - o,
            s = a * a,
            l = o * o,
            u = s * a,
            c = 3 * o * s,
            f = 3 * l * a,
            d = l * o;
        return t[0] = e[0] * u + n[0] * c + i[0] * f + r[0] * d, t[1] = e[1] * u + n[1] * c + i[1] * f + r[1] * d, t[2] = e[2] * u + n[2] * c + i[2] * f + r[2] * d, t
    }, e.random = function (t, e) {
        e = e || 1;
        var n = 2 * Math.random() * Math.PI,
            i = 2 * Math.random() - 1,
            r = Math.sqrt(1 - i * i) * e;
        return t[0] = Math.cos(n) * r, t[1] = Math.sin(n) * r, t[2] = i * e, t
    }, e.transformMat4 = function (t, e, n) {
        var i = e[0],
            r = e[1],
            o = e[2],
            a = n[3] * i + n[7] * r + n[11] * o + n[15] || 1;
        return t[0] = (n[0] * i + n[4] * r + n[8] * o + n[12]) / a, t[1] = (n[1] * i + n[5] * r + n[9] * o + n[13]) / a, t[2] = (n[2] * i + n[6] * r + n[10] * o + n[14]) / a, t
    }, e.transformMat3 = function (t, e, n) {
        var i = e[0],
            r = e[1],
            o = e[2];
        return t[0] = i * n[0] + r * n[3] + o * n[6], t[1] = i * n[1] + r * n[4] + o * n[7], t[2] = i * n[2] + r * n[5] + o * n[8], t
    }, e.transformQuat = function (t, e, n) {
        var i = e[0],
            r = e[1],
            o = e[2],
            a = n[0],
            s = n[1],
            l = n[2],
            u = n[3],
            c = u * i + s * o - l * r,
            f = u * r + l * i - a * o,
            d = u * o + a * r - s * i,
            h = -a * i - s * r - l * o;
        return t[0] = c * u + h * -a + f * -l - d * -s, t[1] = f * u + h * -s + d * -a - c * -l, t[2] = d * u + h * -l + c * -s - f * -a, t
    }, e.rotateX = function (t, e, n, i) {
        var r = [],
            o = [];
        return r[0] = e[0] - n[0], r[1] = e[1] - n[1], r[2] = e[2] - n[2], o[0] = r[0], o[1] = r[1] * Math.cos(i) - r[2] * Math.sin(i), o[2] = r[1] * Math.sin(i) + r[2] * Math.cos(i), t[0] = o[0] + n[0], t[1] = o[1] + n[1], t[2] = o[2] + n[2], t
    }, e.rotateY = function (t, e, n, i) {
        var r = [],
            o = [];
        return r[0] = e[0] - n[0], r[1] = e[1] - n[1], r[2] = e[2] - n[2], o[0] = r[2] * Math.sin(i) + r[0] * Math.cos(i), o[1] = r[1], o[2] = r[2] * Math.cos(i) - r[0] * Math.sin(i), t[0] = o[0] + n[0], t[1] = o[1] + n[1], t[2] = o[2] + n[2], t
    }, e.rotateZ = function (t, e, n, i) {
        var r = [],
            o = [];
        return r[0] = e[0] - n[0], r[1] = e[1] - n[1], r[2] = e[2] - n[2], o[0] = r[0] * Math.cos(i) - r[1] * Math.sin(i), o[1] = r[0] * Math.sin(i) + r[1] * Math.cos(i), o[2] = r[2], t[0] = o[0] + n[0], t[1] = o[1] + n[1], t[2] = o[2] + n[2], t
    }, e.forEach = function (t, e, n, i, r, o) {
        var a = void 0,
            s = void 0;
        for (e || (e = 3), n || (n = 0), s = i ? Math.min(i * e + n, t.length) : t.length, a = n; a < s; a += e) vec[0] = t[a], vec[1] = t[a + 1], vec[2] = t[a + 2], r(vec, vec, o), t[a] = vec[0], t[a + 1] = vec[1], t[a + 2] = vec[2];
        return t
    }, e.angle = function (t, e) {
        var n = fromValues(t[0], t[1], t[2]),
            i = fromValues(e[0], e[1], e[2]);
        normalize(n, n), normalize(i, i);
        var r = dot(n, i);
        return r > 1 ? 0 : r < -1 ? Math.PI : Math.acos(r)
    }, e.str = function (t) {
        return "vec3(" + t[0] + ", " + t[1] + ", " + t[2] + ")"
    }, e.equals = function (t, e) {
        return t[0] === e[0] && t[1] === e[1] && t[2] === e[2]
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        return new s.default(function (n, i) {
            var r = window.URL.createObjectURL(t),
                o = new Image(e.width, e.height);
            o.src = r, o.onload = function () {
                n(o)
            }, o.onerror = function () {
                i(new Error("blob to image failed"))
            }
        })
    }

    function r(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            n = e.width || t.width,
            i = e.height || t.height,
            r = document.createElement("canvas");
        return r.width = n, r.height = i, r.getContext("2d").drawImage(t, 0, 0, n, i), r
    }

    function o(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        return new s.default(function (n) {
            var i = new Image(e.width, e.height);
            i.src = t.toDataURL("image/png"), i.onload = function () {
                n(i)
            }, i.onerror = function () {
                reject()
            }
        })
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var a = n(25),
        s = function (t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(a);
    e.blobToImage = i, e.imageToCanvas = r, e.canvasToImage = o
}, function (t, e, n) {
    t.exports = {
        default: n(621),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(623),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(624),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(626),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(627),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(628),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(629),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(630),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(631),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(632),
        __esModule: !0
    }
}, function (t, e, n) {
    t.exports = {
        default: n(633),
        __esModule: !0
    }
}, function (t, e, n) {
    n(777), n(716), n(718), n(717), n(720), n(722), n(727), n(721), n(719), n(729), n(728), n(724), n(725), n(723), n(715), n(726), n(730), n(731), n(682), n(684), n(683), n(733), n(732), n(703), n(713), n(714), n(704), n(705), n(706), n(707), n(708), n(709), n(710), n(711), n(712), n(686), n(687), n(688), n(689), n(690), n(691), n(692), n(693), n(694), n(695), n(696), n(697), n(698), n(699), n(700), n(701), n(702), n(764), n(769), n(776), n(767), n(759), n(760), n(765), n(770), n(772), n(755), n(756), n(757), n(758), n(761), n(762), n(763), n(766), n(768), n(771), n(773), n(774), n(775), n(677), n(679), n(678), n(681), n(680), n(666), n(664), n(670), n(667), n(673), n(675), n(663), n(669), n(660), n(674), n(658), n(672), n(671), n(665), n(668), n(657), n(659), n(662), n(661), n(676), n(339), n(748), n(423), n(753), n(424), n(749), n(750), n(751), n(752), n(422), n(685), n(754), n(789), n(790), n(778), n(779), n(784), n(787), n(788), n(782), n(785), n(783), n(786), n(780), n(781), n(734), n(735), n(736), n(737), n(738), n(741), n(739), n(740), n(742), n(743), n(744), n(745), n(747), n(746), t.exports = n(30)
}, function (t, e, n) {
    n(791), t.exports = n(30).Array.flatMap
}, function (t, e, n) {
    n(792), t.exports = n(30).Array.includes
}, function (t, e, n) {
    n(793), t.exports = n(30).Object.entries
}, function (t, e, n) {
    n(794), t.exports = n(30).Object.getOwnPropertyDescriptors
}, function (t, e, n) {
    n(795), t.exports = n(30).Object.values
}, function (t, e, n) {
    "use strict";
    n(422), n(796), t.exports = n(30).Promise.finally
}, function (t, e, n) {
    n(797), t.exports = n(30).String.padEnd
}, function (t, e, n) {
    n(798), t.exports = n(30).String.padStart
}, function (t, e, n) {
    n(800), t.exports = n(30).String.trimRight
}, function (t, e, n) {
    n(799), t.exports = n(30).String.trimLeft
}, function (t, e, n) {
    n(801), t.exports = n(337).f("asyncIterator")
}, function (t, e, n) {
    n(57), n(50), t.exports = n(636)
}, function (t, e, n) {
    var i = n(7),
        r = i.JSON || (i.JSON = {
            stringify: JSON.stringify
        });
    t.exports = function (t) {
        return r.stringify.apply(r, arguments)
    }
}, function (t, e, n) {
    n(637), t.exports = n(7).Math.fround
}, function (t, e, n) {
    n(638), t.exports = n(7).Math.log2
}, function (t, e, n) {
    n(639), t.exports = n(7).Number.isFinite
}, function (t, e, n) {
    n(640);
    var i = n(7).Object;
    t.exports = function (t, e) {
        return i.defineProperties(t, e)
    }
}, function (t, e, n) {
    n(641), t.exports = n(7).Object.freeze
}, function (t, e, n) {
    n(642);
    var i = n(7).Object;
    t.exports = function (t) {
        return i.getOwnPropertyNames(t)
    }
}, function (t, e, n) {
    n(643), t.exports = n(7).Object.isExtensible
}, function (t, e, n) {
    n(644), t.exports = n(7).Object.isFrozen
}, function (t, e, n) {
    n(645), t.exports = n(7).Object.isSealed
}, function (t, e, n) {
    n(646), t.exports = n(7).Object.preventExtensions
}, function (t, e, n) {
    n(647), t.exports = n(7).Object.seal
}, function (t, e, n) {
    var i = n(635),
        r = Math.pow,
        o = r(2, -52),
        a = r(2, -23),
        s = r(2, 127) * (2 - a),
        l = r(2, -126),
        u = function (t) {
            return t + 1 / o - 1 / o
        };
    t.exports = Math.fround || function (t) {
        var e, n, r = Math.abs(t),
            c = i(t);
        return r < l ? c * u(r / l / a) * l * a : (e = (1 + a / o) * r, n = e - (e - r), n > s || n != n ? c * (1 / 0) : c * n)
    }
}, function (t, e) {
    t.exports = Math.sign || function (t) {
        return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
    }
}, function (t, e, n) {
    var i = n(96),
        r = n(15)("iterator"),
        o = n(56);
    t.exports = n(7).isIterable = function (t) {
        var e = Object(t);
        return void 0 !== e[r] || "@@iterator" in e || o.hasOwnProperty(i(e))
    }
}, function (t, e, n) {
    var i = n(8);
    i(i.S, "Math", {
        fround: n(634)
    })
}, function (t, e, n) {
    var i = n(8);
    i(i.S, "Math", {
        log2: function (t) {
            return Math.log(t) / Math.LN2
        }
    })
}, function (t, e, n) {
    var i = n(8),
        r = n(14).isFinite;
    i(i.S, "Number", {
        isFinite: function (t) {
            return "number" == typeof t && r(t)
        }
    })
}, function (t, e, n) {
    var i = n(8);
    i(i.S + i.F * !n(22), "Object", {
        defineProperties: n(209)
    })
}, function (t, e, n) {
    var i = n(20),
        r = n(74).onFreeze;
    n(49)("freeze", function (t) {
        return function (e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}, function (t, e, n) {
    n(49)("getOwnPropertyNames", function () {
        return n(210).f
    })
}, function (t, e, n) {
    var i = n(20);
    n(49)("isExtensible", function (t) {
        return function (e) {
            return !!i(e) && (!t || t(e))
        }
    })
}, function (t, e, n) {
    var i = n(20);
    n(49)("isFrozen", function (t) {
        return function (e) {
            return !i(e) || !!t && t(e)
        }
    })
}, function (t, e, n) {
    var i = n(20);
    n(49)("isSealed", function (t) {
        return function (e) {
            return !i(e) || !!t && t(e)
        }
    })
}, function (t, e, n) {
    var i = n(20),
        r = n(74).onFreeze;
    n(49)("preventExtensions", function (t) {
        return function (e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}, function (t, e, n) {
    var i = n(20),
        r = n(74).onFreeze;
    n(49)("seal", function (t) {
        return function (e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}, function (t, e, n) {
    var i = n(19),
        r = n(216),
        o = n(23)("species");
    t.exports = function (t) {
        var e;
        return r(t) && (e = t.constructor, "function" != typeof e || e !== Array && !r(e.prototype) || (e = void 0), i(e) && null === (e = e[o]) && (e = void 0)), void 0 === e ? Array : e
    }
}, function (t, e, n) {
    "use strict";
    var i = n(17),
        r = Date.prototype.getTime,
        o = Date.prototype.toISOString,
        a = function (t) {
            return t > 9 ? t : "0" + t
        };
    t.exports = i(function () {
        return "0385-07-25T07:06:39.999Z" != o.call(new Date(-5e13 - 1))
    }) || !i(function () {
        o.call(new Date(NaN))
    }) ? function () {
        if (!isFinite(r.call(this))) throw RangeError("Invalid time value");
        var t = this,
            e = t.getUTCFullYear(),
            n = t.getUTCMilliseconds(),
            i = e < 0 ? "-" : e > 9999 ? "+" : "";
        return i + ("00000" + Math.abs(e)).slice(i ? -6 : -4) + "-" + a(t.getUTCMonth() + 1) + "-" + a(t.getUTCDate()) + "T" + a(t.getUTCHours()) + ":" + a(t.getUTCMinutes()) + ":" + a(t.getUTCSeconds()) + "." + (n > 99 ? n : "0" + a(n)) + "Z"
    } : o
}, function (t, e, n) {
    "use strict";
    var i = n(16),
        r = n(98);
    t.exports = function (t) {
        if ("string" !== t && "number" !== t && "default" !== t) throw TypeError("Incorrect hint");
        return r(i(this), "number" != t)
    }
}, function (t, e, n) {
    var i = n(131),
        r = n(218),
        o = n(188);
    t.exports = function (t) {
        var e = i(t),
            n = r.f;
        if (n)
            for (var a, s = n(t), l = o.f, u = 0; s.length > u;) l.call(t, a = s[u++]) && e.push(a);
        return e
    }
}, function (t, e, n) {
    "use strict";

    function i(t, e, n, u, c, f, d, h) {
        for (var v, _, p = c, m = 0, y = !!d && s(d, h, 3); m < u;) {
            if (m in n) {
                if (v = y ? y(n[m], m, e) : n[m], _ = !1, o(v) && (_ = v[l], _ = void 0 !== _ ? !!_ : r(v)), _ && f > 0) p = i(t, e, v, a(v.length), p, f - 1) - 1;
                else {
                    if (p >= 9007199254740991) throw TypeError();
                    t[p] = v
                }
                p++
            }
            m++
        }
        return p
    }
    var r = n(216),
        o = n(19),
        a = n(26),
        s = n(77),
        l = n(23)("isConcatSpreadable");
    t.exports = i
}, function (t, e, n) {
    t.exports = n(220)("native-function-to-string", Function.toString)
}, function (t, e, n) {
    var i = n(327),
        r = Math.pow,
        o = r(2, -52),
        a = r(2, -23),
        s = r(2, 127) * (2 - a),
        l = r(2, -126),
        u = function (t) {
            return t + 1 / o - 1 / o
        };
    t.exports = Math.fround || function (t) {
        var e, n, r = Math.abs(t),
            c = i(t);
        return r < l ? c * u(r / l / a) * l * a : (e = (1 + a / o) * r, n = e - (e - r), n > s || n != n ? c * (1 / 0) : c * n)
    }
}, function (t, e, n) {
    var i = n(18),
        r = n(335).set,
        o = i.MutationObserver || i.WebKitMutationObserver,
        a = i.process,
        s = i.Promise,
        l = "process" == n(88)(a);
    t.exports = function () {
        var t, e, n, u = function () {
            var i, r;
            for (l && (i = a.domain) && i.exit(); t;) {
                r = t.fn, t = t.next;
                try {
                    r()
                } catch (i) {
                    throw t ? n() : e = void 0, i
                }
            }
            e = void 0, i && i.enter()
        };
        if (l) n = function () {
            a.nextTick(u)
        };
        else if (!o || i.navigator && i.navigator.standalone)
            if (s && s.resolve) {
                var c = s.resolve(void 0);
                n = function () {
                    c.then(u)
                }
            } else n = function () {
                r.call(i, u)
            };
        else {
            var f = !0,
                d = document.createTextNode("");
            new o(u).observe(d, {
                characterData: !0
            }), n = function () {
                d.data = f = !f
            }
        }
        return function (i) {
            var r = {
                fn: i,
                next: void 0
            };
            e && (e.next = r), t || (t = r, n()), e = r
        }
    }
}, function (t, e) {
    t.exports = function (t) {
        try {
            return {
                e: !1,
                v: t()
            }
        } catch (t) {
            return {
                e: !0,
                v: t
            }
        }
    }
}, function (t, e, n) {
    var i = n(5);
    i(i.P, "Array", {
        copyWithin: n(395)
    }), n(126)("copyWithin")
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(76)(4);
    i(i.P + i.F * !n(70)([].every, !0), "Array", {
        every: function (t) {
            return r(this, t, arguments[1])
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.P, "Array", {
        fill: n(316)
    }), n(126)("fill")
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(76)(2);
    i(i.P + i.F * !n(70)([].filter, !0), "Array", {
        filter: function (t) {
            return r(this, t, arguments[1])
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(76)(6),
        o = "findIndex",
        a = !0;
    o in [] && Array(1)[o](function () {
        a = !1
    }), i(i.P + i.F * a, "Array", {
        findIndex: function (t) {
            return r(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), n(126)(o)
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(76)(5),
        o = !0;
    "find" in [] && Array(1).find(function () {
        o = !1
    }), i(i.P + i.F * o, "Array", {
        find: function (t) {
            return r(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), n(126)("find")
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(76)(0),
        o = n(70)([].forEach, !0);
    i(i.P + i.F * !o, "Array", {
        forEach: function (t) {
            return r(this, t, arguments[1])
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(77),
        r = n(5),
        o = n(45),
        a = n(404),
        s = n(323),
        l = n(26),
        u = n(317),
        c = n(338);
    r(r.S + r.F * !n(217)(function (t) {
        Array.from(t)
    }), "Array", {
        from: function (t) {
            var e, n, r, f, d = o(t),
                h = "function" == typeof this ? this : Array,
                v = arguments.length,
                _ = v > 1 ? arguments[1] : void 0,
                p = void 0 !== _,
                m = 0,
                y = c(d);
            if (p && (_ = i(_, v > 2 ? arguments[2] : void 0, 2)), void 0 == y || h == Array && s(y))
                for (e = l(d.length), n = new h(e); e > m; m++) u(n, m, p ? _(d[m], m) : d[m]);
            else
                for (f = y.call(d), n = new h; !(r = f.next()).done; m++) u(n, m, p ? a(f, _, [r.value, m], !0) : r.value);
            return n.length = m, n
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(211)(!1),
        o = [].indexOf,
        a = !!o && 1 / [1].indexOf(1, -0) < 0;
    i(i.P + i.F * (a || !n(70)(o)), "Array", {
        indexOf: function (t) {
            return a ? o.apply(this, arguments) || 0 : r(this, t, arguments[1])
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Array", {
        isArray: n(216)
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(60),
        o = [].join;
    i(i.P + i.F * (n(187) != Object || !n(70)(o)), "Array", {
        join: function (t) {
            return o.call(r(this), void 0 === t ? "," : t)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(60),
        o = n(80),
        a = n(26),
        s = [].lastIndexOf,
        l = !!s && 1 / [1].lastIndexOf(1, -0) < 0;
    i(i.P + i.F * (l || !n(70)(s)), "Array", {
        lastIndexOf: function (t) {
            if (l) return s.apply(this, arguments) || 0;
            var e = r(this),
                n = a(e.length),
                i = n - 1;
            for (arguments.length > 1 && (i = Math.min(i, o(arguments[1]))), i < 0 && (i = n + i); i >= 0; i--)
                if (i in e && e[i] === t) return i || 0;
            return -1
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(76)(1);
    i(i.P + i.F * !n(70)([].map, !0), "Array", {
        map: function (t) {
            return r(this, t, arguments[1])
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(317);
    i(i.S + i.F * n(17)(function () {
        function t() {}
        return !(Array.of.call(t) instanceof t)
    }), "Array", {
        of: function () {
            for (var t = 0, e = arguments.length, n = new("function" == typeof this ? this : Array)(e); e > t;) r(n, t, arguments[t++]);
            return n.length = e, n
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(396);
    i(i.P + i.F * !n(70)([].reduceRight, !0), "Array", {
        reduceRight: function (t) {
            return r(this, t, arguments.length, arguments[1], !0)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(396);
    i(i.P + i.F * !n(70)([].reduce, !0), "Array", {
        reduce: function (t) {
            return r(this, t, arguments.length, arguments[1], !1)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(321),
        o = n(88),
        a = n(133),
        s = n(26),
        l = [].slice;
    i(i.P + i.F * n(17)(function () {
        r && l.call(r)
    }), "Array", {
        slice: function (t, e) {
            var n = s(this.length),
                i = o(this);
            if (e = void 0 === e ? n : e, "Array" == i) return l.call(this, t, e);
            for (var r = a(t, n), u = a(e, n), c = s(u - r), f = new Array(c), d = 0; d < c; d++) f[d] = "String" == i ? this.charAt(r + d) : this[r + d];
            return f
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(76)(3);
    i(i.P + i.F * !n(70)([].some, !0), "Array", {
        some: function (t) {
            return r(this, t, arguments[1])
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(75),
        o = n(45),
        a = n(17),
        s = [].sort,
        l = [1, 2, 3];
    i(i.P + i.F * (a(function () {
        l.sort(void 0)
    }) || !a(function () {
        l.sort(null)
    }) || !n(70)(s)), "Array", {
        sort: function (t) {
            return void 0 === t ? s.call(o(this)) : s.call(o(this), r(t))
        }
    })
}, function (t, e, n) {
    n(147)("Array")
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Date", {
        now: function () {
            return (new Date).getTime()
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(649);
    i(i.P + i.F * (Date.prototype.toISOString !== r), "Date", {
        toISOString: r
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(45),
        o = n(98);
    i(i.P + i.F * n(17)(function () {
        return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
            toISOString: function () {
                return 1
            }
        })
    }), "Date", {
        toJSON: function (t) {
            var e = r(this),
                n = o(e);
            return "number" != typeof n || isFinite(n) ? e.toISOString() : null
        }
    })
}, function (t, e, n) {
    var i = n(23)("toPrimitive"),
        r = Date.prototype;
    i in r || n(59)(r, i, n(650))
}, function (t, e, n) {
    var i = Date.prototype,
        r = i.toString,
        o = i.getTime;
    new Date(NaN) + "" != "Invalid Date" && n(53)(i, "toString", function () {
        var t = o.call(this);
        return t === t ? r.call(this) : "Invalid Date"
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.P, "Function", {
        bind: n(398)
    })
}, function (t, e, n) {
    "use strict";
    var i = n(19),
        r = n(130),
        o = n(23)("hasInstance"),
        a = Function.prototype;
    o in a || n(35).f(a, o, {
        value: function (t) {
            if ("function" != typeof this || !i(t)) return !1;
            if (!i(this.prototype)) return t instanceof this;
            for (; t = r(t);)
                if (this.prototype === t) return !0;
            return !1
        }
    })
}, function (t, e, n) {
    var i = n(35).f,
        r = Function.prototype,
        o = /^\s*function ([^ (]*)/;
    "name" in r || n(34) && i(r, "name", {
        configurable: !0,
        get: function () {
            try {
                return ("" + this).match(o)[1]
            } catch (t) {
                return ""
            }
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(399),
        r = n(135);
    t.exports = n(212)("Map", function (t) {
        return function () {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        get: function (t) {
            var e = i.getEntry(r(this, "Map"), t);
            return e && e.v
        },
        set: function (t, e) {
            return i.def(r(this, "Map"), 0 === t ? 0 : t, e)
        }
    }, i, !0)
}, function (t, e, n) {
    var i = n(5),
        r = n(407),
        o = Math.sqrt,
        a = Math.acosh;
    i(i.S + i.F * !(a && 710 == Math.floor(a(Number.MAX_VALUE)) && a(1 / 0) == 1 / 0), "Math", {
        acosh: function (t) {
            return (t = +t) < 1 ? NaN : t > 94906265.62425156 ? Math.log(t) + Math.LN2 : r(t - 1 + o(t - 1) * o(t + 1))
        }
    })
}, function (t, e, n) {
    function i(t) {
        return isFinite(t = +t) && 0 != t ? t < 0 ? -i(-t) : Math.log(t + Math.sqrt(t * t + 1)) : t
    }
    var r = n(5),
        o = Math.asinh;
    r(r.S + r.F * !(o && 1 / o(0) > 0), "Math", {
        asinh: i
    })
}, function (t, e, n) {
    var i = n(5),
        r = Math.atanh;
    i(i.S + i.F * !(r && 1 / r(-0) < 0), "Math", {
        atanh: function (t) {
            return 0 == (t = +t) ? t : Math.log((1 + t) / (1 - t)) / 2
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(327);
    i(i.S, "Math", {
        cbrt: function (t) {
            return r(t = +t) * Math.pow(Math.abs(t), 1 / 3)
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Math", {
        clz32: function (t) {
            return (t >>>= 0) ? 31 - Math.floor(Math.log(t + .5) * Math.LOG2E) : 32
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = Math.exp;
    i(i.S, "Math", {
        cosh: function (t) {
            return (r(t = +t) + r(-t)) / 2
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(326);
    i(i.S + i.F * (r != Math.expm1), "Math", {
        expm1: r
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Math", {
        fround: n(654)
    })
}, function (t, e, n) {
    var i = n(5),
        r = Math.abs;
    i(i.S, "Math", {
        hypot: function (t, e) {
            for (var n, i, o = 0, a = 0, s = arguments.length, l = 0; a < s;) n = r(arguments[a++]), l < n ? (i = l / n, o = o * i * i + 1, l = n) : n > 0 ? (i = n / l, o += i * i) : o += n;
            return l === 1 / 0 ? 1 / 0 : l * Math.sqrt(o)
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = Math.imul;
    i(i.S + i.F * n(17)(function () {
        return -5 != r(4294967295, 5) || 2 != r.length
    }), "Math", {
        imul: function (t, e) {
            var n = +t,
                i = +e,
                r = 65535 & n,
                o = 65535 & i;
            return 0 | r * o + ((65535 & n >>> 16) * o + r * (65535 & i >>> 16) << 16 >>> 0)
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Math", {
        log10: function (t) {
            return Math.log(t) * Math.LOG10E
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Math", {
        log1p: n(407)
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Math", {
        log2: function (t) {
            return Math.log(t) / Math.LN2
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Math", {
        sign: n(327)
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(326),
        o = Math.exp;
    i(i.S + i.F * n(17)(function () {
        return -2e-17 != !Math.sinh(-2e-17)
    }), "Math", {
        sinh: function (t) {
            return Math.abs(t = +t) < 1 ? (r(t) - r(-t)) / 2 : (o(t - 1) - o(-t - 1)) * (Math.E / 2)
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(326),
        o = Math.exp;
    i(i.S, "Math", {
        tanh: function (t) {
            var e = r(t = +t),
                n = r(-t);
            return e == 1 / 0 ? 1 : n == 1 / 0 ? -1 : (e - n) / (o(t) + o(-t))
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Math", {
        trunc: function (t) {
            return (t > 0 ? Math.floor : Math.ceil)(t)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(18),
        r = n(58),
        o = n(88),
        a = n(322),
        s = n(98),
        l = n(17),
        u = n(129).f,
        c = n(78).f,
        f = n(35).f,
        d = n(149).trim,
        h = i.Number,
        v = h,
        _ = h.prototype,
        p = "Number" == o(n(128)(_)),
        m = "trim" in String.prototype,
        y = function (t) {
            var e = s(t, !1);
            if ("string" == typeof e && e.length > 2) {
                e = m ? e.trim() : d(e, 3);
                var n, i, r, o = e.charCodeAt(0);
                if (43 === o || 45 === o) {
                    if (88 === (n = e.charCodeAt(2)) || 120 === n) return NaN
                } else if (48 === o) {
                    switch (e.charCodeAt(1)) {
                        case 66:
                        case 98:
                            i = 2, r = 49;
                            break;
                        case 79:
                        case 111:
                            i = 8, r = 55;
                            break;
                        default:
                            return +e
                    }
                    for (var a, l = e.slice(2), u = 0, c = l.length; u < c; u++)
                        if ((a = l.charCodeAt(u)) < 48 || a > r) return NaN;
                    return parseInt(l, i)
                }
            }
            return +e
        };
    if (!h(" 0o1") || !h("0b1") || h("+0x1")) {
        h = function (t) {
            var e = arguments.length < 1 ? 0 : t,
                n = this;
            return n instanceof h && (p ? l(function () {
                _.valueOf.call(n)
            }) : "Number" != o(n)) ? a(new v(y(e)), n, h) : y(e)
        };
        for (var g, x = n(34) ? u(v) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), b = 0; x.length > b; b++) r(v, g = x[b]) && !r(h, g) && f(h, g, c(v, g));
        h.prototype = _, _.constructor = h, n(53)(i, "Number", h)
    }
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Number", {
        EPSILON: Math.pow(2, -52)
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(18).isFinite;
    i(i.S, "Number", {
        isFinite: function (t) {
            return "number" == typeof t && r(t)
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Number", {
        isInteger: n(403)
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Number", {
        isNaN: function (t) {
            return t != t
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(403),
        o = Math.abs;
    i(i.S, "Number", {
        isSafeInteger: function (t) {
            return r(t) && o(t) <= 9007199254740991
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Number", {
        MAX_SAFE_INTEGER: 9007199254740991
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Number", {
        MIN_SAFE_INTEGER: -9007199254740991
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(415);
    i(i.S + i.F * (Number.parseFloat != r), "Number", {
        parseFloat: r
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(416);
    i(i.S + i.F * (Number.parseInt != r), "Number", {
        parseInt: r
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(80),
        o = n(394),
        a = n(333),
        s = 1..toFixed,
        l = Math.floor,
        u = [0, 0, 0, 0, 0, 0],
        c = "Number.toFixed: incorrect invocation!",
        f = function (t, e) {
            for (var n = -1, i = e; ++n < 6;) i += t * u[n], u[n] = i % 1e7, i = l(i / 1e7)
        },
        d = function (t) {
            for (var e = 6, n = 0; --e >= 0;) n += u[e], u[e] = l(n / t), n = n % t * 1e7
        },
        h = function () {
            for (var t = 6, e = ""; --t >= 0;)
                if ("" !== e || 0 === t || 0 !== u[t]) {
                    var n = String(u[t]);
                    e = "" === e ? n : e + a.call("0", 7 - n.length) + n
                } return e
        },
        v = function (t, e, n) {
            return 0 === e ? n : e % 2 == 1 ? v(t, e - 1, n * t) : v(t * t, e / 2, n)
        },
        _ = function (t) {
            for (var e = 0, n = t; n >= 4096;) e += 12, n /= 4096;
            for (; n >= 2;) e += 1, n /= 2;
            return e
        };
    i(i.P + i.F * (!!s && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !n(17)(function () {
        s.call({})
    })), "Number", {
        toFixed: function (t) {
            var e, n, i, s, l = o(this, c),
                u = r(t),
                p = "",
                m = "0";
            if (u < 0 || u > 20) throw RangeError(c);
            if (l != l) return "NaN";
            if (l <= -1e21 || l >= 1e21) return String(l);
            if (l < 0 && (p = "-", l = -l), l > 1e-21)
                if (e = _(l * v(2, 69, 1)) - 69, n = e < 0 ? l * v(2, -e, 1) : l / v(2, e, 1), n *= 4503599627370496, (e = 52 - e) > 0) {
                    for (f(0, n), i = u; i >= 7;) f(1e7, 0), i -= 7;
                    for (f(v(10, i, 1), 0), i = e - 1; i >= 23;) d(1 << 23), i -= 23;
                    d(1 << i), f(1, 1), d(2), m = h()
                } else f(0, n), f(1 << -e, 0), m = h() + a.call("0", u);
            return u > 0 ? (s = m.length, m = p + (s <= u ? "0." + a.call("0", u - s) + m : m.slice(0, s - u) + "." + m.slice(s - u))) : m = p + m, m
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(17),
        o = n(394),
        a = 1..toPrecision;
    i(i.P + i.F * (r(function () {
        return "1" !== a.call(1, void 0)
    }) || !r(function () {
        a.call({})
    })), "Number", {
        toPrecision: function (t) {
            var e = o(this, "Number#toPrecision: incorrect invocation!");
            return void 0 === t ? a.call(e) : a.call(e, t)
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S + i.F, "Object", {
        assign: n(409)
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Object", {
        create: n(128)
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S + i.F * !n(34), "Object", {
        defineProperties: n(410)
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S + i.F * !n(34), "Object", {
        defineProperty: n(35).f
    })
}, function (t, e, n) {
    var i = n(19),
        r = n(97).onFreeze;
    n(79)("freeze", function (t) {
        return function (e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}, function (t, e, n) {
    var i = n(60),
        r = n(78).f;
    n(79)("getOwnPropertyDescriptor", function () {
        return function (t, e) {
            return r(i(t), e)
        }
    })
}, function (t, e, n) {
    n(79)("getOwnPropertyNames", function () {
        return n(411).f
    })
}, function (t, e, n) {
    var i = n(45),
        r = n(130);
    n(79)("getPrototypeOf", function () {
        return function (t) {
            return r(i(t))
        }
    })
}, function (t, e, n) {
    var i = n(19);
    n(79)("isExtensible", function (t) {
        return function (e) {
            return !!i(e) && (!t || t(e))
        }
    })
}, function (t, e, n) {
    var i = n(19);
    n(79)("isFrozen", function (t) {
        return function (e) {
            return !i(e) || !!t && t(e)
        }
    })
}, function (t, e, n) {
    var i = n(19);
    n(79)("isSealed", function (t) {
        return function (e) {
            return !i(e) || !!t && t(e)
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Object", {
        is: n(418)
    })
}, function (t, e, n) {
    var i = n(45),
        r = n(131);
    n(79)("keys", function () {
        return function (t) {
            return r(i(t))
        }
    })
}, function (t, e, n) {
    var i = n(19),
        r = n(97).onFreeze;
    n(79)("preventExtensions", function (t) {
        return function (e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}, function (t, e, n) {
    var i = n(19),
        r = n(97).onFreeze;
    n(79)("seal", function (t) {
        return function (e) {
            return t && i(e) ? t(r(e)) : e
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Object", {
        setPrototypeOf: n(329).set
    })
}, function (t, e, n) {
    "use strict";
    var i = n(186),
        r = {};
    r[n(23)("toStringTag")] = "z", r + "" != "[object z]" && n(53)(Object.prototype, "toString", function () {
        return "[object " + i(this) + "]"
    }, !0)
}, function (t, e, n) {
    var i = n(5),
        r = n(415);
    i(i.G + i.F * (parseFloat != r), {
        parseFloat: r
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(416);
    i(i.G + i.F * (parseInt != r), {
        parseInt: r
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(75),
        o = n(16),
        a = (n(18).Reflect || {}).apply,
        s = Function.apply;
    i(i.S + i.F * !n(17)(function () {
        a(function () {})
    }), "Reflect", {
        apply: function (t, e, n) {
            var i = r(t),
                l = o(n);
            return a ? a(i, e, l) : s.call(i, e, l)
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(128),
        o = n(75),
        a = n(16),
        s = n(19),
        l = n(17),
        u = n(398),
        c = (n(18).Reflect || {}).construct,
        f = l(function () {
            function t() {}
            return !(c(function () {}, [], t) instanceof t)
        }),
        d = !l(function () {
            c(function () {})
        });
    i(i.S + i.F * (f || d), "Reflect", {
        construct: function (t, e) {
            o(t), a(e);
            var n = arguments.length < 3 ? t : o(arguments[2]);
            if (d && !f) return c(t, e, n);
            if (t == n) {
                switch (e.length) {
                    case 0:
                        return new t;
                    case 1:
                        return new t(e[0]);
                    case 2:
                        return new t(e[0], e[1]);
                    case 3:
                        return new t(e[0], e[1], e[2]);
                    case 4:
                        return new t(e[0], e[1], e[2], e[3])
                }
                var i = [null];
                return i.push.apply(i, e), new(u.apply(t, i))
            }
            var l = n.prototype,
                h = r(s(l) ? l : Object.prototype),
                v = Function.apply.call(t, h, e);
            return s(v) ? v : h
        }
    })
}, function (t, e, n) {
    var i = n(35),
        r = n(5),
        o = n(16),
        a = n(98);
    r(r.S + r.F * n(17)(function () {
        Reflect.defineProperty(i.f({}, 1, {
            value: 1
        }), 1, {
            value: 2
        })
    }), "Reflect", {
        defineProperty: function (t, e, n) {
            o(t), e = a(e, !0), o(n);
            try {
                return i.f(t, e, n), !0
            } catch (t) {
                return !1
            }
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(78).f,
        o = n(16);
    i(i.S, "Reflect", {
        deleteProperty: function (t, e) {
            var n = r(o(t), e);
            return !(n && !n.configurable) && delete t[e]
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(16),
        o = function (t) {
            this._t = r(t), this._i = 0;
            var e, n = this._k = [];
            for (e in t) n.push(e)
        };
    n(405)(o, "Object", function () {
        var t, e = this,
            n = e._k;
        do {
            if (e._i >= n.length) return {
                value: void 0,
                done: !0
            }
        } while (!((t = n[e._i++]) in e._t));
        return {
            value: t,
            done: !1
        }
    }), i(i.S, "Reflect", {
        enumerate: function (t) {
            return new o(t)
        }
    })
}, function (t, e, n) {
    var i = n(78),
        r = n(5),
        o = n(16);
    r(r.S, "Reflect", {
        getOwnPropertyDescriptor: function (t, e) {
            return i.f(o(t), e)
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(130),
        o = n(16);
    i(i.S, "Reflect", {
        getPrototypeOf: function (t) {
            return r(o(t))
        }
    })
}, function (t, e, n) {
    function i(t, e) {
        var n, s, c = arguments.length < 3 ? t : arguments[2];
        return u(t) === c ? t[e] : (n = r.f(t, e)) ? a(n, "value") ? n.value : void 0 !== n.get ? n.get.call(c) : void 0 : l(s = o(t)) ? i(s, e, c) : void 0
    }
    var r = n(78),
        o = n(130),
        a = n(58),
        s = n(5),
        l = n(19),
        u = n(16);
    s(s.S, "Reflect", {
        get: i
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Reflect", {
        has: function (t, e) {
            return e in t
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(16),
        o = Object.isExtensible;
    i(i.S, "Reflect", {
        isExtensible: function (t) {
            return r(t), !o || o(t)
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.S, "Reflect", {
        ownKeys: n(414)
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(16),
        o = Object.preventExtensions;
    i(i.S, "Reflect", {
        preventExtensions: function (t) {
            r(t);
            try {
                return o && o(t), !0
            } catch (t) {
                return !1
            }
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(329);
    r && i(i.S, "Reflect", {
        setPrototypeOf: function (t, e) {
            r.check(t, e);
            try {
                return r.set(t, e), !0
            } catch (t) {
                return !1
            }
        }
    })
}, function (t, e, n) {
    function i(t, e, n) {
        var l, d, h = arguments.length < 4 ? t : arguments[3],
            v = o.f(c(t), e);
        if (!v) {
            if (f(d = a(t))) return i(d, e, n, h);
            v = u(0)
        }
        if (s(v, "value")) {
            if (!1 === v.writable || !f(h)) return !1;
            if (l = o.f(h, e)) {
                if (l.get || l.set || !1 === l.writable) return !1;
                l.value = n, r.f(h, e, l)
            } else r.f(h, e, u(0, n));
            return !0
        }
        return void 0 !== v.set && (v.set.call(h, n), !0)
    }
    var r = n(35),
        o = n(78),
        a = n(130),
        s = n(58),
        l = n(5),
        u = n(132),
        c = n(16),
        f = n(19);
    l(l.S, "Reflect", {
        set: i
    })
}, function (t, e, n) {
    var i = n(18),
        r = n(322),
        o = n(35).f,
        a = n(129).f,
        s = n(324),
        l = n(214),
        u = i.RegExp,
        c = u,
        f = u.prototype,
        d = /a/g,
        h = /a/g,
        v = new u(d) !== d;
    if (n(34) && (!v || n(17)(function () {
            return h[n(23)("match")] = !1, u(d) != d || u(h) == h || "/a/i" != u(d, "i")
        }))) {
        u = function (t, e) {
            var n = this instanceof u,
                i = s(t),
                o = void 0 === e;
            return !n && i && t.constructor === u && o ? t : r(v ? new c(i && !o ? t.source : t, e) : c((i = t instanceof u) ? t.source : t, i && o ? l.call(t) : e), n ? this : f, u)
        };
        for (var _ = a(c), p = 0; _.length > p;) ! function (t) {
            t in u || o(u, t, {
                configurable: !0,
                get: function () {
                    return c[t]
                },
                set: function (e) {
                    c[t] = e
                }
            })
        }(_[p++]);
        f.constructor = u, u.prototype = f, n(53)(i, "RegExp", u)
    }
    n(147)("RegExp")
}, function (t, e, n) {
    "use strict";
    var i = n(16),
        r = n(26),
        o = n(315),
        a = n(219);
    n(213)("match", 1, function (t, e, n, s) {
        return [function (n) {
            var i = t(this),
                r = void 0 == n ? void 0 : n[e];
            return void 0 !== r ? r.call(n, i) : new RegExp(n)[e](String(i))
        }, function (t) {
            var e = s(n, t, this);
            if (e.done) return e.value;
            var l = i(t),
                u = String(this);
            if (!l.global) return a(l, u);
            var c = l.unicode;
            l.lastIndex = 0;
            for (var f, d = [], h = 0; null !== (f = a(l, u));) {
                var v = String(f[0]);
                d[h] = v, "" === v && (l.lastIndex = o(u, r(l.lastIndex), c)), h++
            }
            return 0 === h ? null : d
        }]
    })
}, function (t, e, n) {
    "use strict";
    var i = n(16),
        r = n(45),
        o = n(26),
        a = n(80),
        s = n(315),
        l = n(219),
        u = Math.max,
        c = Math.min,
        f = Math.floor,
        d = /\$([$&`']|\d\d?|<[^>]*>)/g,
        h = /\$([$&`']|\d\d?)/g,
        v = function (t) {
            return void 0 === t ? t : String(t)
        };
    n(213)("replace", 2, function (t, e, n, _) {
        function p(t, e, i, o, a, s) {
            var l = i + t.length,
                u = o.length,
                c = h;
            return void 0 !== a && (a = r(a), c = d), n.call(s, c, function (n, r) {
                var s;
                switch (r.charAt(0)) {
                    case "$":
                        return "$";
                    case "&":
                        return t;
                    case "`":
                        return e.slice(0, i);
                    case "'":
                        return e.slice(l);
                    case "<":
                        s = a[r.slice(1, -1)];
                        break;
                    default:
                        var c = +r;
                        if (0 === c) return n;
                        if (c > u) {
                            var d = f(c / 10);
                            return 0 === d ? n : d <= u ? void 0 === o[d - 1] ? r.charAt(1) : o[d - 1] + r.charAt(1) : n
                        }
                        s = o[c - 1]
                }
                return void 0 === s ? "" : s
            })
        }
        return [function (i, r) {
            var o = t(this),
                a = void 0 == i ? void 0 : i[e];
            return void 0 !== a ? a.call(i, o, r) : n.call(String(o), i, r)
        }, function (t, e) {
            var r = _(n, t, this, e);
            if (r.done) return r.value;
            var f = i(t),
                d = String(this),
                h = "function" == typeof e;
            h || (e = String(e));
            var m = f.global;
            if (m) {
                var y = f.unicode;
                f.lastIndex = 0
            }
            for (var g = [];;) {
                var x = l(f, d);
                if (null === x) break;
                if (g.push(x), !m) break;
                "" === String(x[0]) && (f.lastIndex = s(d, o(f.lastIndex), y))
            }
            for (var b = "", S = 0, w = 0; w < g.length; w++) {
                x = g[w];
                for (var E = String(x[0]), A = u(c(a(x.index), d.length), 0), T = [], k = 1; k < x.length; k++) T.push(v(x[k]));
                var P = x.groups;
                if (h) {
                    var I = [E].concat(T, A, d);
                    void 0 !== P && I.push(P);
                    var M = String(e.apply(void 0, I))
                } else M = p(E, d, A, T, P, e);
                A >= S && (b += d.slice(S, A) + M, S = A + E.length)
            }
            return b + d.slice(S)
        }]
    })
}, function (t, e, n) {
    "use strict";
    var i = n(16),
        r = n(418),
        o = n(219);
    n(213)("search", 1, function (t, e, n, a) {
        return [function (n) {
            var i = t(this),
                r = void 0 == n ? void 0 : n[e];
            return void 0 !== r ? r.call(n, i) : new RegExp(n)[e](String(i))
        }, function (t) {
            var e = a(n, t, this);
            if (e.done) return e.value;
            var s = i(t),
                l = String(this),
                u = s.lastIndex;
            r(u, 0) || (s.lastIndex = 0);
            var c = o(s, l);
            return r(s.lastIndex, u) || (s.lastIndex = u), null === c ? -1 : c.index
        }]
    })
}, function (t, e, n) {
    "use strict";
    var i = n(324),
        r = n(16),
        o = n(189),
        a = n(315),
        s = n(26),
        l = n(219),
        u = n(328),
        c = n(17),
        f = Math.min,
        d = [].push,
        h = "length",
        v = !c(function () {
            RegExp(4294967295, "y")
        });
    n(213)("split", 2, function (t, e, n, c) {
        var _;
        return _ = "c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1)[h] || 2 != "ab".split(/(?:ab)*/)[h] || 4 != ".".split(/(.?)(.?)/)[h] || ".".split(/()()/)[h] > 1 || "".split(/.?/)[h] ? function (t, e) {
            var r = String(this);
            if (void 0 === t && 0 === e) return [];
            if (!i(t)) return n.call(r, t, e);
            for (var o, a, s, l = [], c = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""), f = 0, v = void 0 === e ? 4294967295 : e >>> 0, _ = new RegExp(t.source, c + "g");
                (o = u.call(_, r)) && !((a = _.lastIndex) > f && (l.push(r.slice(f, o.index)), o[h] > 1 && o.index < r[h] && d.apply(l, o.slice(1)), s = o[0][h], f = a, l[h] >= v));) _.lastIndex === o.index && _.lastIndex++;
            return f === r[h] ? !s && _.test("") || l.push("") : l.push(r.slice(f)), l[h] > v ? l.slice(0, v) : l
        } : "0".split(void 0, 0)[h] ? function (t, e) {
            return void 0 === t && 0 === e ? [] : n.call(this, t, e)
        } : n, [function (n, i) {
            var r = t(this),
                o = void 0 == n ? void 0 : n[e];
            return void 0 !== o ? o.call(n, r, i) : _.call(String(r), n, i)
        }, function (t, e) {
            var i = c(_, t, this, e, _ !== n);
            if (i.done) return i.value;
            var u = r(t),
                d = String(this),
                h = o(u, RegExp),
                p = u.unicode,
                m = (u.ignoreCase ? "i" : "") + (u.multiline ? "m" : "") + (u.unicode ? "u" : "") + (v ? "y" : "g"),
                y = new h(v ? u : "^(?:" + u.source + ")", m),
                g = void 0 === e ? 4294967295 : e >>> 0;
            if (0 === g) return [];
            if (0 === d.length) return null === l(y, d) ? [d] : [];
            for (var x = 0, b = 0, S = []; b < d.length;) {
                y.lastIndex = v ? b : 0;
                var w, E = l(y, v ? d : d.slice(b));
                if (null === E || (w = f(s(y.lastIndex + (v ? 0 : b)), d.length)) === x) b = a(d, b, p);
                else {
                    if (S.push(d.slice(x, b)), S.length === g) return S;
                    for (var A = 1; A <= E.length - 1; A++)
                        if (S.push(E[A]), S.length === g) return S;
                    b = x = w
                }
            }
            return S.push(d.slice(x)), S
        }]
    })
}, function (t, e, n) {
    "use strict";
    n(424);
    var i = n(16),
        r = n(214),
        o = n(34),
        a = /./.toString,
        s = function (t) {
            n(53)(RegExp.prototype, "toString", t, !0)
        };
    n(17)(function () {
        return "/a/b" != a.call({
            source: "a",
            flags: "b"
        })
    }) ? s(function () {
        var t = i(this);
        return "/".concat(t.source, "/", "flags" in t ? t.flags : !o && t instanceof RegExp ? r.call(t) : void 0)
    }) : "toString" != a.name && s(function () {
        return a.call(this)
    })
}, function (t, e, n) {
    "use strict";
    var i = n(399),
        r = n(135);
    t.exports = n(212)("Set", function (t) {
        return function () {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function (t) {
            return i.def(r(this, "Set"), t = 0 === t ? 0 : t, t)
        }
    }, i)
}, function (t, e, n) {
    "use strict";
    n(54)("anchor", function (t) {
        return function (e) {
            return t(this, "a", "name", e)
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("big", function (t) {
        return function () {
            return t(this, "big", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("blink", function (t) {
        return function () {
            return t(this, "blink", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("bold", function (t) {
        return function () {
            return t(this, "b", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(331)(!1);
    i(i.P, "String", {
        codePointAt: function (t) {
            return r(this, t)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(26),
        o = n(332),
        a = "".endsWith;
    i(i.P + i.F * n(320)("endsWith"), "String", {
        endsWith: function (t) {
            var e = o(this, t, "endsWith"),
                n = arguments.length > 1 ? arguments[1] : void 0,
                i = r(e.length),
                s = void 0 === n ? i : Math.min(r(n), i),
                l = String(t);
            return a ? a.call(e, l, s) : e.slice(s - l.length, s) === l
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("fixed", function (t) {
        return function () {
            return t(this, "tt", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("fontcolor", function (t) {
        return function (e) {
            return t(this, "font", "color", e)
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("fontsize", function (t) {
        return function (e) {
            return t(this, "font", "size", e)
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(133),
        o = String.fromCharCode,
        a = String.fromCodePoint;
    i(i.S + i.F * (!!a && 1 != a.length), "String", {
        fromCodePoint: function (t) {
            for (var e, n = [], i = arguments.length, a = 0; i > a;) {
                if (e = +arguments[a++], r(e, 1114111) !== e) throw RangeError(e + " is not a valid code point");
                n.push(e < 65536 ? o(e) : o(55296 + ((e -= 65536) >> 10), e % 1024 + 56320))
            }
            return n.join("")
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(332);
    i(i.P + i.F * n(320)("includes"), "String", {
        includes: function (t) {
            return !!~r(this, t, "includes").indexOf(t, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("italics", function (t) {
        return function () {
            return t(this, "i", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(331)(!0);
    n(325)(String, "String", function (t) {
        this._t = String(t), this._i = 0
    }, function () {
        var t, e = this._t,
            n = this._i;
        return n >= e.length ? {
            value: void 0,
            done: !0
        } : (t = i(e, n), this._i += t.length, {
            value: t,
            done: !1
        })
    })
}, function (t, e, n) {
    "use strict";
    n(54)("link", function (t) {
        return function (e) {
            return t(this, "a", "href", e)
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(60),
        o = n(26);
    i(i.S, "String", {
        raw: function (t) {
            for (var e = r(t.raw), n = o(e.length), i = arguments.length, a = [], s = 0; n > s;) a.push(String(e[s++])), s < i && a.push(String(arguments[s]));
            return a.join("")
        }
    })
}, function (t, e, n) {
    var i = n(5);
    i(i.P, "String", {
        repeat: n(333)
    })
}, function (t, e, n) {
    "use strict";
    n(54)("small", function (t) {
        return function () {
            return t(this, "small", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(26),
        o = n(332),
        a = "".startsWith;
    i(i.P + i.F * n(320)("startsWith"), "String", {
        startsWith: function (t) {
            var e = o(this, t, "startsWith"),
                n = r(Math.min(arguments.length > 1 ? arguments[1] : void 0, e.length)),
                i = String(t);
            return a ? a.call(e, i, n) : e.slice(n, n + i.length) === i
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("strike", function (t) {
        return function () {
            return t(this, "strike", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("sub", function (t) {
        return function () {
            return t(this, "sub", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    n(54)("sup", function (t) {
        return function () {
            return t(this, "sup", "", "")
        }
    })
}, function (t, e, n) {
    "use strict";
    n(149)("trim", function (t) {
        return function () {
            return t(this, 3)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(18),
        r = n(58),
        o = n(34),
        a = n(5),
        s = n(53),
        l = n(97).KEY,
        u = n(17),
        c = n(220),
        f = n(148),
        d = n(134),
        h = n(23),
        v = n(337),
        _ = n(421),
        p = n(651),
        m = n(216),
        y = n(16),
        g = n(19),
        x = n(45),
        b = n(60),
        S = n(98),
        w = n(132),
        E = n(128),
        A = n(411),
        T = n(78),
        k = n(218),
        P = n(35),
        I = n(131),
        M = T.f,
        L = P.f,
        C = A.f,
        V = i.Symbol,
        R = i.JSON,
        O = R && R.stringify,
        F = h("_hidden"),
        z = h("toPrimitive"),
        N = {}.propertyIsEnumerable,
        D = c("symbol-registry"),
        B = c("symbols"),
        U = c("op-symbols"),
        j = Object.prototype,
        Y = "function" == typeof V && !!k.f,
        G = i.QObject,
        W = !G || !G.prototype || !G.prototype.findChild,
        X = o && u(function () {
            return 7 != E(L({}, "a", {
                get: function () {
                    return L(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        }) ? function (t, e, n) {
            var i = M(j, e);
            i && delete j[e], L(t, e, n), i && t !== j && L(j, e, i)
        } : L,
        Z = function (t) {
            var e = B[t] = E(V.prototype);
            return e._k = t, e
        },
        Q = Y && "symbol" == typeof V.iterator ? function (t) {
            return "symbol" == typeof t
        } : function (t) {
            return t instanceof V
        },
        H = function (t, e, n) {
            return t === j && H(U, e, n), y(t), e = S(e, !0), y(n), r(B, e) ? (n.enumerable ? (r(t, F) && t[F][e] && (t[F][e] = !1), n = E(n, {
                enumerable: w(0, !1)
            })) : (r(t, F) || L(t, F, w(1, {})), t[F][e] = !0), X(t, e, n)) : L(t, e, n)
        },
        q = function (t, e) {
            y(t);
            for (var n, i = p(e = b(e)), r = 0, o = i.length; o > r;) H(t, n = i[r++], e[n]);
            return t
        },
        J = function (t, e) {
            return void 0 === e ? E(t) : q(E(t), e)
        },
        K = function (t) {
            var e = N.call(this, t = S(t, !0));
            return !(this === j && r(B, t) && !r(U, t)) && (!(e || !r(this, t) || !r(B, t) || r(this, F) && this[F][t]) || e)
        },
        $ = function (t, e) {
            if (t = b(t), e = S(e, !0), t !== j || !r(B, e) || r(U, e)) {
                var n = M(t, e);
                return !n || !r(B, e) || r(t, F) && t[F][e] || (n.enumerable = !0), n
            }
        },
        tt = function (t) {
            for (var e, n = C(b(t)), i = [], o = 0; n.length > o;) r(B, e = n[o++]) || e == F || e == l || i.push(e);
            return i
        },
        et = function (t) {
            for (var e, n = t === j, i = C(n ? U : b(t)), o = [], a = 0; i.length > a;) !r(B, e = i[a++]) || n && !r(j, e) || o.push(B[e]);
            return o
        };
    Y || (V = function () {
        if (this instanceof V) throw TypeError("Symbol is not a constructor!");
        var t = d(arguments.length > 0 ? arguments[0] : void 0),
            e = function (n) {
                this === j && e.call(U, n), r(this, F) && r(this[F], t) && (this[F][t] = !1), X(this, t, w(1, n))
            };
        return o && W && X(j, t, {
            configurable: !0,
            set: e
        }), Z(t)
    }, s(V.prototype, "toString", function () {
        return this._k
    }), T.f = $, P.f = H, n(129).f = A.f = tt, n(188).f = K, k.f = et, o && !n(127) && s(j, "propertyIsEnumerable", K, !0), v.f = function (t) {
        return Z(h(t))
    }), a(a.G + a.W + a.F * !Y, {
        Symbol: V
    });
    for (var nt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), it = 0; nt.length > it;) h(nt[it++]);
    for (var rt = I(h.store), ot = 0; rt.length > ot;) _(rt[ot++]);
    a(a.S + a.F * !Y, "Symbol", {
        for: function (t) {
            return r(D, t += "") ? D[t] : D[t] = V(t)
        },
        keyFor: function (t) {
            if (!Q(t)) throw TypeError(t + " is not a symbol!");
            for (var e in D)
                if (D[e] === t) return e
        },
        useSetter: function () {
            W = !0
        },
        useSimple: function () {
            W = !1
        }
    }), a(a.S + a.F * !Y, "Object", {
        create: J,
        defineProperty: H,
        defineProperties: q,
        getOwnPropertyDescriptor: $,
        getOwnPropertyNames: tt,
        getOwnPropertySymbols: et
    });
    var at = u(function () {
        k.f(1)
    });
    a(a.S + a.F * at, "Object", {
        getOwnPropertySymbols: function (t) {
            return k.f(x(t))
        }
    }), R && a(a.S + a.F * (!Y || u(function () {
        var t = V();
        return "[null]" != O([t]) || "{}" != O({
            a: t
        }) || "{}" != O(Object(t))
    })), "JSON", {
        stringify: function (t) {
            for (var e, n, i = [t], r = 1; arguments.length > r;) i.push(arguments[r++]);
            if (n = e = i[1], (g(e) || void 0 !== t) && !Q(t)) return m(e) || (e = function (t, e) {
                if ("function" == typeof n && (e = n.call(this, t, e)), !Q(e)) return e
            }), i[1] = e, O.apply(R, i)
        }
    }), V.prototype[z] || n(59)(V.prototype, z, V.prototype.valueOf), f(V, "Symbol"), f(Math, "Math", !0), f(i.JSON, "JSON", !0)
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(221),
        o = n(336),
        a = n(16),
        s = n(133),
        l = n(26),
        u = n(19),
        c = n(18).ArrayBuffer,
        f = n(189),
        d = o.ArrayBuffer,
        h = o.DataView,
        v = r.ABV && c.isView,
        _ = d.prototype.slice,
        p = r.VIEW;
    i(i.G + i.W + i.F * (c !== d), {
        ArrayBuffer: d
    }), i(i.S + i.F * !r.CONSTR, "ArrayBuffer", {
        isView: function (t) {
            return v && v(t) || u(t) && p in t
        }
    }), i(i.P + i.U + i.F * n(17)(function () {
        return !new d(2).slice(1, void 0).byteLength
    }), "ArrayBuffer", {
        slice: function (t, e) {
            if (void 0 !== _ && void 0 === e) return _.call(a(this), t);
            for (var n = a(this).byteLength, i = s(t, n), r = s(void 0 === e ? n : e, n), o = new(f(this, d))(l(r - i)), u = new h(this), c = new h(o), v = 0; i < r;) c.setUint8(v++, u.getUint8(i++));
            return o
        }
    }), n(147)("ArrayBuffer")
}, function (t, e, n) {
    var i = n(5);
    i(i.G + i.W + i.F * !n(221).ABV, {
        DataView: n(336).DataView
    })
}, function (t, e, n) {
    n(90)("Float32", 4, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    })
}, function (t, e, n) {
    n(90)("Float64", 8, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    })
}, function (t, e, n) {
    n(90)("Int16", 2, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    })
}, function (t, e, n) {
    n(90)("Int32", 4, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    })
}, function (t, e, n) {
    n(90)("Int8", 1, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    })
}, function (t, e, n) {
    n(90)("Uint16", 2, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    })
}, function (t, e, n) {
    n(90)("Uint32", 4, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    })
}, function (t, e, n) {
    n(90)("Uint8", 1, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    })
}, function (t, e, n) {
    n(90)("Uint8", 1, function (t) {
        return function (e, n, i) {
            return t(this, e, n, i)
        }
    }, !0)
}, function (t, e, n) {
    "use strict";
    var i, r = n(18),
        o = n(76)(0),
        a = n(53),
        s = n(97),
        l = n(409),
        u = n(400),
        c = n(19),
        f = n(135),
        d = n(135),
        h = !r.ActiveXObject && "ActiveXObject" in r,
        v = s.getWeak,
        _ = Object.isExtensible,
        p = u.ufstore,
        m = function (t) {
            return function () {
                return t(this, arguments.length > 0 ? arguments[0] : void 0)
            }
        },
        y = {
            get: function (t) {
                if (c(t)) {
                    var e = v(t);
                    return !0 === e ? p(f(this, "WeakMap")).get(t) : e ? e[this._i] : void 0
                }
            },
            set: function (t, e) {
                return u.def(f(this, "WeakMap"), t, e)
            }
        },
        g = t.exports = n(212)("WeakMap", m, y, u, !0, !0);
    d && h && (i = u.getConstructor(m, "WeakMap"), l(i.prototype, y), s.NEED = !0, o(["delete", "has", "get", "set"], function (t) {
        var e = g.prototype,
            n = e[t];
        a(e, t, function (e, r) {
            if (c(e) && !_(e)) {
                this._f || (this._f = new i);
                var o = this._f[t](e, r);
                return "set" == t ? this : o
            }
            return n.call(this, e, r)
        })
    }))
}, function (t, e, n) {
    "use strict";
    var i = n(400),
        r = n(135);
    n(212)("WeakSet", function (t) {
        return function () {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function (t) {
            return i.def(r(this, "WeakSet"), t, !0)
        }
    }, i, !1, !0)
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(652),
        o = n(45),
        a = n(26),
        s = n(75),
        l = n(397);
    i(i.P, "Array", {
        flatMap: function (t) {
            var e, n, i = o(this);
            return s(t), e = a(i.length), n = l(i, 0), r(n, i, i, e, 0, 1, t, arguments[1]), n
        }
    }), n(126)("flatMap")
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(211)(!0);
    i(i.P, "Array", {
        includes: function (t) {
            return r(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }), n(126)("includes")
}, function (t, e, n) {
    var i = n(5),
        r = n(413)(!0);
    i(i.S, "Object", {
        entries: function (t) {
            return r(t)
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(414),
        o = n(60),
        a = n(78),
        s = n(317);
    i(i.S, "Object", {
        getOwnPropertyDescriptors: function (t) {
            for (var e, n, i = o(t), l = a.f, u = r(i), c = {}, f = 0; u.length > f;) void 0 !== (n = l(i, e = u[f++])) && s(c, e, n);
            return c
        }
    })
}, function (t, e, n) {
    var i = n(5),
        r = n(413)(!1);
    i(i.S, "Object", {
        values: function (t) {
            return r(t)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(30),
        o = n(18),
        a = n(189),
        s = n(417);
    i(i.P + i.R, "Promise", {
        finally: function (t) {
            var e = a(this, r.Promise || o.Promise),
                n = "function" == typeof t;
            return this.then(n ? function (n) {
                return s(e, t()).then(function () {
                    return n
                })
            } : t, n ? function (n) {
                return s(e, t()).then(function () {
                    throw n
                })
            } : t)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(419),
        o = n(222),
        a = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);
    i(i.P + i.F * a, "String", {
        padEnd: function (t) {
            return r(this, t, arguments.length > 1 ? arguments[1] : void 0, !1)
        }
    })
}, function (t, e, n) {
    "use strict";
    var i = n(5),
        r = n(419),
        o = n(222),
        a = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);
    i(i.P + i.F * a, "String", {
        padStart: function (t) {
            return r(this, t, arguments.length > 1 ? arguments[1] : void 0, !0)
        }
    })
}, function (t, e, n) {
    "use strict";
    n(149)("trimLeft", function (t) {
        return function () {
            return t(this, 1)
        }
    }, "trimStart")
}, function (t, e, n) {
    "use strict";
    n(149)("trimRight", function (t) {
        return function () {
            return t(this, 2)
        }
    }, "trimEnd")
}, function (t, e, n) {
    n(421)("asyncIterator")
}, function (t, e, n) {
    for (var i = n(339), r = n(131), o = n(53), a = n(18), s = n(59), l = n(145), u = n(23), c = u("iterator"), f = u("toStringTag"), d = l.Array, h = {
            CSSRuleList: !0,
            CSSStyleDeclaration: !1,
            CSSValueList: !1,
            ClientRectList: !1,
            DOMRectList: !1,
            DOMStringList: !1,
            DOMTokenList: !0,
            DataTransferItemList: !1,
            FileList: !1,
            HTMLAllCollection: !1,
            HTMLCollection: !1,
            HTMLFormElement: !1,
            HTMLSelectElement: !1,
            MediaList: !0,
            MimeTypeArray: !1,
            NamedNodeMap: !1,
            NodeList: !0,
            PaintRequestList: !1,
            Plugin: !1,
            PluginArray: !1,
            SVGLengthList: !1,
            SVGNumberList: !1,
            SVGPathSegList: !1,
            SVGPointList: !1,
            SVGStringList: !1,
            SVGTransformList: !1,
            SourceBufferList: !1,
            StyleSheetList: !0,
            TextTrackCueList: !1,
            TextTrackList: !1,
            TouchList: !1
        }, v = r(h), _ = 0; _ < v.length; _++) {
        var p, m = v[_],
            y = h[m],
            g = a[m],
            x = g && g.prototype;
        if (x && (x[c] || s(x, c, d), x[f] || s(x, f, m), l[m] = d, y))
            for (p in i) x[p] || o(x, p, i[p], !0)
    }
}, function (t, e, n) {
    var i = n(5),
        r = n(335);
    i(i.G + i.B, {
        setImmediate: r.set,
        clearImmediate: r.clear
    })
}, function (t, e, n) {
    var i = n(18),
        r = n(5),
        o = n(222),
        a = [].slice,
        s = /MSIE .\./.test(o),
        l = function (t) {
            return function (e, n) {
                var i = arguments.length > 2,
                    r = !!i && a.call(arguments, 2);
                return t(i ? function () {
                    ("function" == typeof e ? e : Function(e)).apply(this, r)
                } : e, n)
            }
        };
    r(r.G + r.B + r.F * s, {
        setTimeout: l(i.setTimeout),
        setInterval: l(i.setInterval)
    })
}, function (t, e, n) {
    n(804), n(803), n(802), t.exports = n(30)
}, function (t, e, n) {
    e = t.exports = n(223)(), e.push([t.i, '.floor-control{font-size:15px;color:#646464;height:180px;width:38px;background:#fff;bottom:83px!important;right:30px!important;webkit-user-select:none;ms-user-select:none;moz-user-select:none;apple-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10}.floor-control,.floor-control:after{position:absolute;border-radius:40px}.floor-control:after{top:0;left:0;width:200%;height:200%;transform:scale(.5);transform-origin:left top;z-index:1000000;box-shadow:0 0 1px 1px rgba(0,0,0,.12)}.floor-control ul{-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:0;padding-inline-end:0;-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0}.floor-control .arr-top{width:38px;position:absolute;z-index:100;top:-2px}.floor-control .arr-bottom{width:38px;position:absolute;z-index:100;bottom:-2px}.floor-control .floor-control-wrapper{overflow:hidden;height:160px;width:100%;position:absolute;top:10px}.floor-control .floor-control-wrapper .floor-control-list{font-size:12px;list-style-type:none;margin:0}.floor-control .floor-control-wrapper .floor-control-list .floor-control-item{position:relative;display:block;text-align:center;text-decoration:none;width:38px;height:40px;line-height:40px;transition:color .3s ease-in}.floor-control .floor-control-wrapper .floor-control-list .floor-control-item:after{content:"";position:absolute;width:26px;height:26px;border-radius:30px;z-index:-10;pointer-events:none;left:0;right:0;top:0;bottom:0;margin:auto;opacity:0;transition:opacity .2s ease-out;background-color:#4875fd}.floor-control .floor-control-wrapper .floor-control-list .selected-item{color:#fff!important;opacity:1!important}.floor-control .floor-control-wrapper .floor-control-list .selected-item:after{opacity:1}.floor-control .floor-control-wrapper.freezing .floor-control-list .floor-control-item{color:#4d4d4d;opacity:.4}.floor-control-moveup{bottom:83px!important}', ""])
}, function (t, e, n) {
    e = t.exports = n(223)(), e.push([t.i, '.tmap-zoom-control{margin:20px 30px;width:40px;background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.2);border-radius:3px}.tmap-zoom-control .tmap-zoom-in{position:relative;height:40px}.tmap-zoom-control .tmap-zoom-in:before{width:16px;height:2px}.tmap-zoom-control .tmap-zoom-in:after,.tmap-zoom-control .tmap-zoom-in:before{content:"";background:#333;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.tmap-zoom-control .tmap-zoom-in:after{width:2px;height:16px}.tmap-zoom-control .tmap-zoom-spliter{height:1px;width:26px;background-color:#d9d9d9;margin:auto}.tmap-zoom-control .tmap-zoom-out{position:relative;height:40px}.tmap-zoom-control .tmap-zoom-out:after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:16px;height:2px;background:#333}', ""])
}, , , , function (t, e) {
    "function" == typeof Object.create ? t.exports = function (t, e) {
        t.super_ = e, t.prototype = Object.create(e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        })
    } : t.exports = function (t, e) {
        t.super_ = e;
        var n = function () {};
        n.prototype = e.prototype, t.prototype = new n, t.prototype.constructor = t
    }
}, function (t, e, n) {
    (function (e) {
        var n, n;
        /*!
            localForage -- Offline Storage, Improved
            Version 1.7.3
            https://localforage.github.io/localForage
            (c) 2013-2017 Mozilla, Apache License 2.0
        */
        ! function (e) {
            t.exports = e()
        }(function () {
            return function t(e, i, r) {
                function o(s, l) {
                    if (!i[s]) {
                        if (!e[s]) {
                            var u = "function" == typeof n && n;
                            if (!l && u) return n(s, !0);
                            if (a) return a(s, !0);
                            var c = new Error("Cannot find module '" + s + "'");
                            throw c.code = "MODULE_NOT_FOUND", c
                        }
                        var f = i[s] = {
                            exports: {}
                        };
                        e[s][0].call(f.exports, function (t) {
                            var n = e[s][1][t];
                            return o(n || t)
                        }, f, f.exports, t, e, i, r)
                    }
                    return i[s].exports
                }
                for (var a = "function" == typeof n && n, s = 0; s < r.length; s++) o(r[s]);
                return o
            }({
                1: [function (t, n, i) {
                    (function (t) {
                        "use strict";

                        function e() {
                            c = !0;
                            for (var t, e, n = f.length; n;) {
                                for (e = f, f = [], t = -1; ++t < n;) e[t]();
                                n = f.length
                            }
                            c = !1
                        }

                        function i(t) {
                            1 !== f.push(t) || c || r()
                        }
                        var r, o = t.MutationObserver || t.WebKitMutationObserver;
                        if (o) {
                            var a = 0,
                                s = new o(e),
                                l = t.document.createTextNode("");
                            s.observe(l, {
                                characterData: !0
                            }), r = function () {
                                l.data = a = ++a % 2
                            }
                        } else if (t.setImmediate || void 0 === t.MessageChannel) r = "document" in t && "onreadystatechange" in t.document.createElement("script") ? function () {
                            var n = t.document.createElement("script");
                            n.onreadystatechange = function () {
                                e(), n.onreadystatechange = null, n.parentNode.removeChild(n), n = null
                            }, t.document.documentElement.appendChild(n)
                        } : function () {
                            setTimeout(e, 0)
                        };
                        else {
                            var u = new t.MessageChannel;
                            u.port1.onmessage = e, r = function () {
                                u.port2.postMessage(0)
                            }
                        }
                        var c, f = [];
                        n.exports = i
                    }).call(this, void 0 !== e ? e : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                }, {}],
                2: [function (t, e, n) {
                    "use strict";

                    function i() {}

                    function r(t) {
                        if ("function" != typeof t) throw new TypeError("resolver must be a function");
                        this.state = y, this.queue = [], this.outcome = void 0, t !== i && l(this, t)
                    }

                    function o(t, e, n) {
                        this.promise = t, "function" == typeof e && (this.onFulfilled = e, this.callFulfilled = this.otherCallFulfilled), "function" == typeof n && (this.onRejected = n, this.callRejected = this.otherCallRejected)
                    }

                    function a(t, e, n) {
                        v(function () {
                            var i;
                            try {
                                i = e(n)
                            } catch (e) {
                                return _.reject(t, e)
                            }
                            i === t ? _.reject(t, new TypeError("Cannot resolve promise with itself")) : _.resolve(t, i)
                        })
                    }

                    function s(t) {
                        var e = t && t.then;
                        if (t && ("object" == typeof t || "function" == typeof t) && "function" == typeof e) return function () {
                            e.apply(t, arguments)
                        }
                    }

                    function l(t, e) {
                        function n(e) {
                            o || (o = !0, _.reject(t, e))
                        }

                        function i(e) {
                            o || (o = !0, _.resolve(t, e))
                        }

                        function r() {
                            e(i, n)
                        }
                        var o = !1,
                            a = u(r);
                        "error" === a.status && n(a.value)
                    }

                    function u(t, e) {
                        var n = {};
                        try {
                            n.value = t(e), n.status = "success"
                        } catch (t) {
                            n.status = "error", n.value = t
                        }
                        return n
                    }

                    function c(t) {
                        return t instanceof this ? t : _.resolve(new this(i), t)
                    }

                    function f(t) {
                        var e = new this(i);
                        return _.reject(e, t)
                    }

                    function d(t) {
                        var e = this;
                        if ("[object Array]" !== Object.prototype.toString.call(t)) return this.reject(new TypeError("must be an array"));
                        var n = t.length,
                            r = !1;
                        if (!n) return this.resolve([]);
                        for (var o = new Array(n), a = 0, s = -1, l = new this(i); ++s < n;) ! function (t, i) {
                            function s(t) {
                                o[i] = t, ++a !== n || r || (r = !0, _.resolve(l, o))
                            }
                            e.resolve(t).then(s, function (t) {
                                r || (r = !0, _.reject(l, t))
                            })
                        }(t[s], s);
                        return l
                    }

                    function h(t) {
                        var e = this;
                        if ("[object Array]" !== Object.prototype.toString.call(t)) return this.reject(new TypeError("must be an array"));
                        var n = t.length,
                            r = !1;
                        if (!n) return this.resolve([]);
                        for (var o = -1, a = new this(i); ++o < n;) ! function (t) {
                            e.resolve(t).then(function (t) {
                                r || (r = !0, _.resolve(a, t))
                            }, function (t) {
                                r || (r = !0, _.reject(a, t))
                            })
                        }(t[o]);
                        return a
                    }
                    var v = t(1),
                        _ = {},
                        p = ["REJECTED"],
                        m = ["FULFILLED"],
                        y = ["PENDING"];
                    e.exports = r, r.prototype.catch = function (t) {
                        return this.then(null, t)
                    }, r.prototype.then = function (t, e) {
                        if ("function" != typeof t && this.state === m || "function" != typeof e && this.state === p) return this;
                        var n = new this.constructor(i);
                        if (this.state !== y) {
                            a(n, this.state === m ? t : e, this.outcome)
                        } else this.queue.push(new o(n, t, e));
                        return n
                    }, o.prototype.callFulfilled = function (t) {
                        _.resolve(this.promise, t)
                    }, o.prototype.otherCallFulfilled = function (t) {
                        a(this.promise, this.onFulfilled, t)
                    }, o.prototype.callRejected = function (t) {
                        _.reject(this.promise, t)
                    }, o.prototype.otherCallRejected = function (t) {
                        a(this.promise, this.onRejected, t)
                    }, _.resolve = function (t, e) {
                        var n = u(s, e);
                        if ("error" === n.status) return _.reject(t, n.value);
                        var i = n.value;
                        if (i) l(t, i);
                        else {
                            t.state = m, t.outcome = e;
                            for (var r = -1, o = t.queue.length; ++r < o;) t.queue[r].callFulfilled(e)
                        }
                        return t
                    }, _.reject = function (t, e) {
                        t.state = p, t.outcome = e;
                        for (var n = -1, i = t.queue.length; ++n < i;) t.queue[n].callRejected(e);
                        return t
                    }, r.resolve = c, r.reject = f, r.all = d, r.race = h
                }, {
                    1: 1
                }],
                3: [function (t, n, i) {
                    (function (e) {
                        "use strict";
                        "function" != typeof e.Promise && (e.Promise = t(2))
                    }).call(this, void 0 !== e ? e : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                }, {
                    2: 2
                }],
                4: [function (t, e, n) {
                    "use strict";

                    function i(t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    }

                    function r(t, e) {
                        t = t || [], e = e || {};
                        try {
                            return new Blob(t, e)
                        } catch (o) {
                            if ("TypeError" !== o.name) throw o;
                            for (var n = "undefined" != typeof BlobBuilder ? BlobBuilder : "undefined" != typeof MSBlobBuilder ? MSBlobBuilder : "undefined" != typeof MozBlobBuilder ? MozBlobBuilder : WebKitBlobBuilder, i = new n, r = 0; r < t.length; r += 1) i.append(t[r]);
                            return i.getBlob(e.type)
                        }
                    }

                    function o(t, e) {
                        e && t.then(function (t) {
                            e(null, t)
                        }, function (t) {
                            e(t)
                        })
                    }

                    function a(t, e, n) {
                        "function" == typeof e && t.then(e), "function" == typeof n && t.catch(n)
                    }

                    function s(t) {
                        return "string" != typeof t && (console.warn(t + " used as a key, but it is not a string."), t = String(t)), t
                    }

                    function l() {
                        if (arguments.length && "function" == typeof arguments[arguments.length - 1]) return arguments[arguments.length - 1]
                    }

                    function u(t) {
                        for (var e = t.length, n = new ArrayBuffer(e), i = new Uint8Array(n), r = 0; r < e; r++) i[r] = t.charCodeAt(r);
                        return n
                    }

                    function c(t) {
                        return new mt(function (e) {
                            var n = t.transaction(yt, wt),
                                i = r([""]);
                            n.objectStore(yt).put(i, "key"), n.onabort = function (t) {
                                t.preventDefault(), t.stopPropagation(), e(!1)
                            }, n.oncomplete = function () {
                                var t = navigator.userAgent.match(/Chrome\/(\d+)/),
                                    n = navigator.userAgent.match(/Edge\//);
                                e(n || !t || parseInt(t[1], 10) >= 43)
                            }
                        }).catch(function () {
                            return !1
                        })
                    }

                    function f(t) {
                        return "boolean" == typeof gt ? mt.resolve(gt) : c(t).then(function (t) {
                            return gt = t
                        })
                    }

                    function d(t) {
                        var e = xt[t.name],
                            n = {};
                        n.promise = new mt(function (t, e) {
                            n.resolve = t, n.reject = e
                        }), e.deferredOperations.push(n), e.dbReady ? e.dbReady = e.dbReady.then(function () {
                            return n.promise
                        }) : e.dbReady = n.promise
                    }

                    function h(t) {
                        var e = xt[t.name],
                            n = e.deferredOperations.pop();
                        if (n) return n.resolve(), n.promise
                    }

                    function v(t, e) {
                        var n = xt[t.name],
                            i = n.deferredOperations.pop();
                        if (i) return i.reject(e), i.promise
                    }

                    function _(t, e) {
                        return new mt(function (n, i) {
                            if (xt[t.name] = xt[t.name] || A(), t.db) {
                                if (!e) return n(t.db);
                                d(t), t.db.close()
                            }
                            var r = [t.name];
                            e && r.push(t.version);
                            var o = pt.open.apply(pt, r);
                            e && (o.onupgradeneeded = function (e) {
                                var n = o.result;
                                try {
                                    n.createObjectStore(t.storeName), e.oldVersion <= 1 && n.createObjectStore(yt)
                                } catch (n) {
                                    if ("ConstraintError" !== n.name) throw n;
                                    console.warn('The database "' + t.name + '" has been upgraded from version ' + e.oldVersion + " to version " + e.newVersion + ', but the storage "' + t.storeName + '" already exists.')
                                }
                            }), o.onerror = function (t) {
                                t.preventDefault(), i(o.error)
                            }, o.onsuccess = function () {
                                n(o.result), h(t)
                            }
                        })
                    }

                    function p(t) {
                        return _(t, !1)
                    }

                    function m(t) {
                        return _(t, !0)
                    }

                    function y(t, e) {
                        if (!t.db) return !0;
                        var n = !t.db.objectStoreNames.contains(t.storeName),
                            i = t.version < t.db.version,
                            r = t.version > t.db.version;
                        if (i && (t.version !== e && console.warn('The database "' + t.name + "\" can't be downgraded from version " + t.db.version + " to version " + t.version + "."), t.version = t.db.version), r || n) {
                            if (n) {
                                var o = t.db.version + 1;
                                o > t.version && (t.version = o)
                            }
                            return !0
                        }
                        return !1
                    }

                    function g(t) {
                        return new mt(function (e, n) {
                            var i = new FileReader;
                            i.onerror = n, i.onloadend = function (n) {
                                var i = btoa(n.target.result || "");
                                e({
                                    __local_forage_encoded_blob: !0,
                                    data: i,
                                    type: t.type
                                })
                            }, i.readAsBinaryString(t)
                        })
                    }

                    function x(t) {
                        return r([u(atob(t.data))], {
                            type: t.type
                        })
                    }

                    function b(t) {
                        return t && t.__local_forage_encoded_blob
                    }

                    function S(t) {
                        var e = this,
                            n = e._initReady().then(function () {
                                var t = xt[e._dbInfo.name];
                                if (t && t.dbReady) return t.dbReady
                            });
                        return a(n, t, t), n
                    }

                    function w(t) {
                        d(t);
                        for (var e = xt[t.name], n = e.forages, i = 0; i < n.length; i++) {
                            var r = n[i];
                            r._dbInfo.db && (r._dbInfo.db.close(), r._dbInfo.db = null)
                        }
                        return t.db = null, p(t).then(function (e) {
                            return t.db = e, y(t) ? m(t) : e
                        }).then(function (i) {
                            t.db = e.db = i;
                            for (var r = 0; r < n.length; r++) n[r]._dbInfo.db = i
                        }).catch(function (e) {
                            throw v(t, e), e
                        })
                    }

                    function E(t, e, n, i) {
                        void 0 === i && (i = 1);
                        try {
                            var r = t.db.transaction(t.storeName, e);
                            n(null, r)
                        } catch (r) {
                            if (i > 0 && (!t.db || "InvalidStateError" === r.name || "NotFoundError" === r.name)) return mt.resolve().then(function () {
                                if (!t.db || "NotFoundError" === r.name && !t.db.objectStoreNames.contains(t.storeName) && t.version <= t.db.version) return t.db && (t.version = t.db.version + 1), m(t)
                            }).then(function () {
                                return w(t).then(function () {
                                    E(t, e, n, i - 1)
                                })
                            }).catch(n);
                            n(r)
                        }
                    }

                    function A() {
                        return {
                            forages: [],
                            db: null,
                            dbReady: null,
                            deferredOperations: []
                        }
                    }

                    function T(t) {
                        function e() {
                            return mt.resolve()
                        }
                        var n = this,
                            i = {
                                db: null
                            };
                        if (t)
                            for (var r in t) i[r] = t[r];
                        var o = xt[i.name];
                        o || (o = A(), xt[i.name] = o), o.forages.push(n), n._initReady || (n._initReady = n.ready, n.ready = S);
                        for (var a = [], s = 0; s < o.forages.length; s++) {
                            var l = o.forages[s];
                            l !== n && a.push(l._initReady().catch(e))
                        }
                        var u = o.forages.slice(0);
                        return mt.all(a).then(function () {
                            return i.db = o.db, p(i)
                        }).then(function (t) {
                            return i.db = t, y(i, n._defaultConfig.version) ? m(i) : t
                        }).then(function (t) {
                            i.db = o.db = t, n._dbInfo = i;
                            for (var e = 0; e < u.length; e++) {
                                var r = u[e];
                                r !== n && (r._dbInfo.db = i.db, r._dbInfo.version = i.version)
                            }
                        })
                    }

                    function k(t, e) {
                        var n = this;
                        t = s(t);
                        var i = new mt(function (e, i) {
                            n.ready().then(function () {
                                E(n._dbInfo, St, function (r, o) {
                                    if (r) return i(r);
                                    try {
                                        var a = o.objectStore(n._dbInfo.storeName),
                                            s = a.get(t);
                                        s.onsuccess = function () {
                                            var t = s.result;
                                            void 0 === t && (t = null), b(t) && (t = x(t)), e(t)
                                        }, s.onerror = function () {
                                            i(s.error)
                                        }
                                    } catch (t) {
                                        i(t)
                                    }
                                })
                            }).catch(i)
                        });
                        return o(i, e), i
                    }

                    function P(t, e) {
                        var n = this,
                            i = new mt(function (e, i) {
                                n.ready().then(function () {
                                    E(n._dbInfo, St, function (r, o) {
                                        if (r) return i(r);
                                        try {
                                            var a = o.objectStore(n._dbInfo.storeName),
                                                s = a.openCursor(),
                                                l = 1;
                                            s.onsuccess = function () {
                                                var n = s.result;
                                                if (n) {
                                                    var i = n.value;
                                                    b(i) && (i = x(i));
                                                    var r = t(i, n.key, l++);
                                                    void 0 !== r ? e(r) : n.continue()
                                                } else e()
                                            }, s.onerror = function () {
                                                i(s.error)
                                            }
                                        } catch (t) {
                                            i(t)
                                        }
                                    })
                                }).catch(i)
                            });
                        return o(i, e), i
                    }

                    function I(t, e, n) {
                        var i = this;
                        t = s(t);
                        var r = new mt(function (n, r) {
                            var o;
                            i.ready().then(function () {
                                return o = i._dbInfo, "[object Blob]" === bt.call(e) ? f(o.db).then(function (t) {
                                    return t ? e : g(e)
                                }) : e
                            }).then(function (e) {
                                E(i._dbInfo, wt, function (o, a) {
                                    if (o) return r(o);
                                    try {
                                        var s = a.objectStore(i._dbInfo.storeName);
                                        null === e && (e = void 0);
                                        var l = s.put(e, t);
                                        a.oncomplete = function () {
                                            void 0 === e && (e = null), n(e)
                                        }, a.onabort = a.onerror = function () {
                                            var t = l.error ? l.error : l.transaction.error;
                                            r(t)
                                        }
                                    } catch (t) {
                                        r(t)
                                    }
                                })
                            }).catch(r)
                        });
                        return o(r, n), r
                    }

                    function M(t, e) {
                        var n = this;
                        t = s(t);
                        var i = new mt(function (e, i) {
                            n.ready().then(function () {
                                E(n._dbInfo, wt, function (r, o) {
                                    if (r) return i(r);
                                    try {
                                        var a = o.objectStore(n._dbInfo.storeName),
                                            s = a.delete(t);
                                        o.oncomplete = function () {
                                            e()
                                        }, o.onerror = function () {
                                            i(s.error)
                                        }, o.onabort = function () {
                                            var t = s.error ? s.error : s.transaction.error;
                                            i(t)
                                        }
                                    } catch (t) {
                                        i(t)
                                    }
                                })
                            }).catch(i)
                        });
                        return o(i, e), i
                    }

                    function L(t) {
                        var e = this,
                            n = new mt(function (t, n) {
                                e.ready().then(function () {
                                    E(e._dbInfo, wt, function (i, r) {
                                        if (i) return n(i);
                                        try {
                                            var o = r.objectStore(e._dbInfo.storeName),
                                                a = o.clear();
                                            r.oncomplete = function () {
                                                t()
                                            }, r.onabort = r.onerror = function () {
                                                var t = a.error ? a.error : a.transaction.error;
                                                n(t)
                                            }
                                        } catch (t) {
                                            n(t)
                                        }
                                    })
                                }).catch(n)
                            });
                        return o(n, t), n
                    }

                    function C(t) {
                        var e = this,
                            n = new mt(function (t, n) {
                                e.ready().then(function () {
                                    E(e._dbInfo, St, function (i, r) {
                                        if (i) return n(i);
                                        try {
                                            var o = r.objectStore(e._dbInfo.storeName),
                                                a = o.count();
                                            a.onsuccess = function () {
                                                t(a.result)
                                            }, a.onerror = function () {
                                                n(a.error)
                                            }
                                        } catch (t) {
                                            n(t)
                                        }
                                    })
                                }).catch(n)
                            });
                        return o(n, t), n
                    }

                    function V(t, e) {
                        var n = this,
                            i = new mt(function (e, i) {
                                if (t < 0) return void e(null);
                                n.ready().then(function () {
                                    E(n._dbInfo, St, function (r, o) {
                                        if (r) return i(r);
                                        try {
                                            var a = o.objectStore(n._dbInfo.storeName),
                                                s = !1,
                                                l = a.openCursor();
                                            l.onsuccess = function () {
                                                var n = l.result;
                                                if (!n) return void e(null);
                                                0 === t ? e(n.key) : s ? e(n.key) : (s = !0, n.advance(t))
                                            }, l.onerror = function () {
                                                i(l.error)
                                            }
                                        } catch (t) {
                                            i(t)
                                        }
                                    })
                                }).catch(i)
                            });
                        return o(i, e), i
                    }

                    function R(t) {
                        var e = this,
                            n = new mt(function (t, n) {
                                e.ready().then(function () {
                                    E(e._dbInfo, St, function (i, r) {
                                        if (i) return n(i);
                                        try {
                                            var o = r.objectStore(e._dbInfo.storeName),
                                                a = o.openCursor(),
                                                s = [];
                                            a.onsuccess = function () {
                                                var e = a.result;
                                                if (!e) return void t(s);
                                                s.push(e.key), e.continue()
                                            }, a.onerror = function () {
                                                n(a.error)
                                            }
                                        } catch (t) {
                                            n(t)
                                        }
                                    })
                                }).catch(n)
                            });
                        return o(n, t), n
                    }

                    function O(t, e) {
                        e = l.apply(this, arguments);
                        var n = this.config();
                        t = "function" != typeof t && t || {}, t.name || (t.name = t.name || n.name, t.storeName = t.storeName || n.storeName);
                        var i, r = this;
                        if (t.name) {
                            var a = t.name === n.name && r._dbInfo.db,
                                s = a ? mt.resolve(r._dbInfo.db) : p(t).then(function (e) {
                                    var n = xt[t.name],
                                        i = n.forages;
                                    n.db = e;
                                    for (var r = 0; r < i.length; r++) i[r]._dbInfo.db = e;
                                    return e
                                });
                            i = t.storeName ? s.then(function (e) {
                                if (e.objectStoreNames.contains(t.storeName)) {
                                    var n = e.version + 1;
                                    d(t);
                                    var i = xt[t.name],
                                        r = i.forages;
                                    e.close();
                                    for (var o = 0; o < r.length; o++) {
                                        var a = r[o];
                                        a._dbInfo.db = null, a._dbInfo.version = n
                                    }
                                    return new mt(function (e, i) {
                                        var r = pt.open(t.name, n);
                                        r.onerror = function (t) {
                                            r.result.close(), i(t)
                                        }, r.onupgradeneeded = function () {
                                            r.result.deleteObjectStore(t.storeName)
                                        }, r.onsuccess = function () {
                                            var t = r.result;
                                            t.close(), e(t)
                                        }
                                    }).then(function (t) {
                                        i.db = t;
                                        for (var e = 0; e < r.length; e++) {
                                            var n = r[e];
                                            n._dbInfo.db = t, h(n._dbInfo)
                                        }
                                    }).catch(function (e) {
                                        throw (v(t, e) || mt.resolve()).catch(function () {}), e
                                    })
                                }
                            }) : s.then(function (e) {
                                d(t);
                                var n = xt[t.name],
                                    i = n.forages;
                                e.close();
                                for (var r = 0; r < i.length; r++) {
                                    i[r]._dbInfo.db = null
                                }
                                return new mt(function (e, n) {
                                    var i = pt.deleteDatabase(t.name);
                                    i.onerror = i.onblocked = function (t) {
                                        var e = i.result;
                                        e && e.close(), n(t)
                                    }, i.onsuccess = function () {
                                        var t = i.result;
                                        t && t.close(), e(t)
                                    }
                                }).then(function (t) {
                                    n.db = t;
                                    for (var e = 0; e < i.length; e++) h(i[e]._dbInfo)
                                }).catch(function (e) {
                                    throw (v(t, e) || mt.resolve()).catch(function () {}), e
                                })
                            })
                        } else i = mt.reject("Invalid arguments");
                        return o(i, e), i
                    }

                    function F(t) {
                        var e, n, i, r, o, a = .75 * t.length,
                            s = t.length,
                            l = 0;
                        "=" === t[t.length - 1] && (a--, "=" === t[t.length - 2] && a--);
                        var u = new ArrayBuffer(a),
                            c = new Uint8Array(u);
                        for (e = 0; e < s; e += 4) n = At.indexOf(t[e]), i = At.indexOf(t[e + 1]), r = At.indexOf(t[e + 2]), o = At.indexOf(t[e + 3]), c[l++] = n << 2 | i >> 4, c[l++] = (15 & i) << 4 | r >> 2, c[l++] = (3 & r) << 6 | 63 & o;
                        return u
                    }

                    function z(t) {
                        var e, n = new Uint8Array(t),
                            i = "";
                        for (e = 0; e < n.length; e += 3) i += At[n[e] >> 2], i += At[(3 & n[e]) << 4 | n[e + 1] >> 4], i += At[(15 & n[e + 1]) << 2 | n[e + 2] >> 6], i += At[63 & n[e + 2]];
                        return n.length % 3 == 2 ? i = i.substring(0, i.length - 1) + "=" : n.length % 3 == 1 && (i = i.substring(0, i.length - 2) + "=="), i
                    }

                    function N(t, e) {
                        var n = "";
                        if (t && (n = jt.call(t)), t && ("[object ArrayBuffer]" === n || t.buffer && "[object ArrayBuffer]" === jt.call(t.buffer))) {
                            var i, r = Pt;
                            t instanceof ArrayBuffer ? (i = t, r += Mt) : (i = t.buffer, "[object Int8Array]" === n ? r += Ct : "[object Uint8Array]" === n ? r += Vt : "[object Uint8ClampedArray]" === n ? r += Rt : "[object Int16Array]" === n ? r += Ot : "[object Uint16Array]" === n ? r += zt : "[object Int32Array]" === n ? r += Ft : "[object Uint32Array]" === n ? r += Nt : "[object Float32Array]" === n ? r += Dt : "[object Float64Array]" === n ? r += Bt : e(new Error("Failed to get type for BinaryArray"))), e(r + z(i))
                        } else if ("[object Blob]" === n) {
                            var o = new FileReader;
                            o.onload = function () {
                                var n = Tt + t.type + "~" + z(this.result);
                                e(Pt + Lt + n)
                            }, o.readAsArrayBuffer(t)
                        } else try {
                            e(JSON.stringify(t))
                        } catch (n) {
                            console.error("Couldn't convert value into a JSON string: ", t), e(null, n)
                        }
                    }

                    function D(t) {
                        if (t.substring(0, It) !== Pt) return JSON.parse(t);
                        var e, n = t.substring(Ut),
                            i = t.substring(It, Ut);
                        if (i === Lt && kt.test(n)) {
                            var o = n.match(kt);
                            e = o[1], n = n.substring(o[0].length)
                        }
                        var a = F(n);
                        switch (i) {
                            case Mt:
                                return a;
                            case Lt:
                                return r([a], {
                                    type: e
                                });
                            case Ct:
                                return new Int8Array(a);
                            case Vt:
                                return new Uint8Array(a);
                            case Rt:
                                return new Uint8ClampedArray(a);
                            case Ot:
                                return new Int16Array(a);
                            case zt:
                                return new Uint16Array(a);
                            case Ft:
                                return new Int32Array(a);
                            case Nt:
                                return new Uint32Array(a);
                            case Dt:
                                return new Float32Array(a);
                            case Bt:
                                return new Float64Array(a);
                            default:
                                throw new Error("Unkown type: " + i)
                        }
                    }

                    function B(t, e, n, i) {
                        t.executeSql("CREATE TABLE IF NOT EXISTS " + e.storeName + " (id INTEGER PRIMARY KEY, key unique, value)", [], n, i)
                    }

                    function U(t) {
                        var e = this,
                            n = {
                                db: null
                            };
                        if (t)
                            for (var i in t) n[i] = "string" != typeof t[i] ? t[i].toString() : t[i];
                        var r = new mt(function (t, i) {
                            try {
                                n.db = openDatabase(n.name, String(n.version), n.description, n.size)
                            } catch (t) {
                                return i(t)
                            }
                            n.db.transaction(function (r) {
                                B(r, n, function () {
                                    e._dbInfo = n, t()
                                }, function (t, e) {
                                    i(e)
                                })
                            }, i)
                        });
                        return n.serializer = Yt, r
                    }

                    function j(t, e, n, i, r, o) {
                        t.executeSql(n, i, r, function (t, a) {
                            a.code === a.SYNTAX_ERR ? t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?", [e.storeName], function (t, s) {
                                s.rows.length ? o(t, a) : B(t, e, function () {
                                    t.executeSql(n, i, r, o)
                                }, o)
                            }, o) : o(t, a)
                        }, o)
                    }

                    function Y(t, e) {
                        var n = this;
                        t = s(t);
                        var i = new mt(function (e, i) {
                            n.ready().then(function () {
                                var r = n._dbInfo;
                                r.db.transaction(function (n) {
                                    j(n, r, "SELECT * FROM " + r.storeName + " WHERE key = ? LIMIT 1", [t], function (t, n) {
                                        var i = n.rows.length ? n.rows.item(0).value : null;
                                        i && (i = r.serializer.deserialize(i)), e(i)
                                    }, function (t, e) {
                                        i(e)
                                    })
                                })
                            }).catch(i)
                        });
                        return o(i, e), i
                    }

                    function G(t, e) {
                        var n = this,
                            i = new mt(function (e, i) {
                                n.ready().then(function () {
                                    var r = n._dbInfo;
                                    r.db.transaction(function (n) {
                                        j(n, r, "SELECT * FROM " + r.storeName, [], function (n, i) {
                                            for (var o = i.rows, a = o.length, s = 0; s < a; s++) {
                                                var l = o.item(s),
                                                    u = l.value;
                                                if (u && (u = r.serializer.deserialize(u)), void 0 !== (u = t(u, l.key, s + 1))) return void e(u)
                                            }
                                            e()
                                        }, function (t, e) {
                                            i(e)
                                        })
                                    })
                                }).catch(i)
                            });
                        return o(i, e), i
                    }

                    function W(t, e, n, i) {
                        var r = this;
                        t = s(t);
                        var a = new mt(function (o, a) {
                            r.ready().then(function () {
                                void 0 === e && (e = null);
                                var s = e,
                                    l = r._dbInfo;
                                l.serializer.serialize(e, function (e, u) {
                                    u ? a(u) : l.db.transaction(function (n) {
                                        j(n, l, "INSERT OR REPLACE INTO " + l.storeName + " (key, value) VALUES (?, ?)", [t, e], function () {
                                            o(s)
                                        }, function (t, e) {
                                            a(e)
                                        })
                                    }, function (e) {
                                        if (e.code === e.QUOTA_ERR) {
                                            if (i > 0) return void o(W.apply(r, [t, s, n, i - 1]));
                                            a(e)
                                        }
                                    })
                                })
                            }).catch(a)
                        });
                        return o(a, n), a
                    }

                    function X(t, e, n) {
                        return W.apply(this, [t, e, n, 1])
                    }

                    function Z(t, e) {
                        var n = this;
                        t = s(t);
                        var i = new mt(function (e, i) {
                            n.ready().then(function () {
                                var r = n._dbInfo;
                                r.db.transaction(function (n) {
                                    j(n, r, "DELETE FROM " + r.storeName + " WHERE key = ?", [t], function () {
                                        e()
                                    }, function (t, e) {
                                        i(e)
                                    })
                                })
                            }).catch(i)
                        });
                        return o(i, e), i
                    }

                    function Q(t) {
                        var e = this,
                            n = new mt(function (t, n) {
                                e.ready().then(function () {
                                    var i = e._dbInfo;
                                    i.db.transaction(function (e) {
                                        j(e, i, "DELETE FROM " + i.storeName, [], function () {
                                            t()
                                        }, function (t, e) {
                                            n(e)
                                        })
                                    })
                                }).catch(n)
                            });
                        return o(n, t), n
                    }

                    function H(t) {
                        var e = this,
                            n = new mt(function (t, n) {
                                e.ready().then(function () {
                                    var i = e._dbInfo;
                                    i.db.transaction(function (e) {
                                        j(e, i, "SELECT COUNT(key) as c FROM " + i.storeName, [], function (e, n) {
                                            var i = n.rows.item(0).c;
                                            t(i)
                                        }, function (t, e) {
                                            n(e)
                                        })
                                    })
                                }).catch(n)
                            });
                        return o(n, t), n
                    }

                    function q(t, e) {
                        var n = this,
                            i = new mt(function (e, i) {
                                n.ready().then(function () {
                                    var r = n._dbInfo;
                                    r.db.transaction(function (n) {
                                        j(n, r, "SELECT key FROM " + r.storeName + " WHERE id = ? LIMIT 1", [t + 1], function (t, n) {
                                            var i = n.rows.length ? n.rows.item(0).key : null;
                                            e(i)
                                        }, function (t, e) {
                                            i(e)
                                        })
                                    })
                                }).catch(i)
                            });
                        return o(i, e), i
                    }

                    function J(t) {
                        var e = this,
                            n = new mt(function (t, n) {
                                e.ready().then(function () {
                                    var i = e._dbInfo;
                                    i.db.transaction(function (e) {
                                        j(e, i, "SELECT key FROM " + i.storeName, [], function (e, n) {
                                            for (var i = [], r = 0; r < n.rows.length; r++) i.push(n.rows.item(r).key);
                                            t(i)
                                        }, function (t, e) {
                                            n(e)
                                        })
                                    })
                                }).catch(n)
                            });
                        return o(n, t), n
                    }

                    function K(t) {
                        return new mt(function (e, n) {
                            t.transaction(function (i) {
                                i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'", [], function (n, i) {
                                    for (var r = [], o = 0; o < i.rows.length; o++) r.push(i.rows.item(o).name);
                                    e({
                                        db: t,
                                        storeNames: r
                                    })
                                }, function (t, e) {
                                    n(e)
                                })
                            }, function (t) {
                                n(t)
                            })
                        })
                    }

                    function $(t, e) {
                        e = l.apply(this, arguments);
                        var n = this.config();
                        t = "function" != typeof t && t || {}, t.name || (t.name = t.name || n.name, t.storeName = t.storeName || n.storeName);
                        var i, r = this;
                        return i = t.name ? new mt(function (e) {
                            var i;
                            i = t.name === n.name ? r._dbInfo.db : openDatabase(t.name, "", "", 0), e(t.storeName ? {
                                db: i,
                                storeNames: [t.storeName]
                            } : K(i))
                        }).then(function (t) {
                            return new mt(function (e, n) {
                                t.db.transaction(function (i) {
                                    for (var r = [], o = 0, a = t.storeNames.length; o < a; o++) r.push(function (t) {
                                        return new mt(function (e, n) {
                                            i.executeSql("DROP TABLE IF EXISTS " + t, [], function () {
                                                e()
                                            }, function (t, e) {
                                                n(e)
                                            })
                                        })
                                    }(t.storeNames[o]));
                                    mt.all(r).then(function () {
                                        e()
                                    }).catch(function (t) {
                                        n(t)
                                    })
                                }, function (t) {
                                    n(t)
                                })
                            })
                        }) : mt.reject("Invalid arguments"), o(i, e), i
                    }

                    function tt(t, e) {
                        var n = t.name + "/";
                        return t.storeName !== e.storeName && (n += t.storeName + "/"), n
                    }

                    function et() {
                        try {
                            return localStorage.setItem("_localforage_support_test", !0), localStorage.removeItem("_localforage_support_test"), !1
                        } catch (t) {
                            return !0
                        }
                    }

                    function nt() {
                        return !et() || localStorage.length > 0
                    }

                    function it(t) {
                        var e = this,
                            n = {};
                        if (t)
                            for (var i in t) n[i] = t[i];
                        return n.keyPrefix = tt(t, e._defaultConfig), nt() ? (e._dbInfo = n, n.serializer = Yt, mt.resolve()) : mt.reject()
                    }

                    function rt(t) {
                        var e = this,
                            n = e.ready().then(function () {
                                for (var t = e._dbInfo.keyPrefix, n = localStorage.length - 1; n >= 0; n--) {
                                    var i = localStorage.key(n);
                                    0 === i.indexOf(t) && localStorage.removeItem(i)
                                }
                            });
                        return o(n, t), n
                    }

                    function ot(t, e) {
                        var n = this;
                        t = s(t);
                        var i = n.ready().then(function () {
                            var e = n._dbInfo,
                                i = localStorage.getItem(e.keyPrefix + t);
                            return i && (i = e.serializer.deserialize(i)), i
                        });
                        return o(i, e), i
                    }

                    function at(t, e) {
                        var n = this,
                            i = n.ready().then(function () {
                                for (var e = n._dbInfo, i = e.keyPrefix, r = i.length, o = localStorage.length, a = 1, s = 0; s < o; s++) {
                                    var l = localStorage.key(s);
                                    if (0 === l.indexOf(i)) {
                                        var u = localStorage.getItem(l);
                                        if (u && (u = e.serializer.deserialize(u)), void 0 !== (u = t(u, l.substring(r), a++))) return u
                                    }
                                }
                            });
                        return o(i, e), i
                    }

                    function st(t, e) {
                        var n = this,
                            i = n.ready().then(function () {
                                var e, i = n._dbInfo;
                                try {
                                    e = localStorage.key(t)
                                } catch (t) {
                                    e = null
                                }
                                return e && (e = e.substring(i.keyPrefix.length)), e
                            });
                        return o(i, e), i
                    }

                    function lt(t) {
                        var e = this,
                            n = e.ready().then(function () {
                                for (var t = e._dbInfo, n = localStorage.length, i = [], r = 0; r < n; r++) {
                                    var o = localStorage.key(r);
                                    0 === o.indexOf(t.keyPrefix) && i.push(o.substring(t.keyPrefix.length))
                                }
                                return i
                            });
                        return o(n, t), n
                    }

                    function ut(t) {
                        var e = this,
                            n = e.keys().then(function (t) {
                                return t.length
                            });
                        return o(n, t), n
                    }

                    function ct(t, e) {
                        var n = this;
                        t = s(t);
                        var i = n.ready().then(function () {
                            var e = n._dbInfo;
                            localStorage.removeItem(e.keyPrefix + t)
                        });
                        return o(i, e), i
                    }

                    function ft(t, e, n) {
                        var i = this;
                        t = s(t);
                        var r = i.ready().then(function () {
                            void 0 === e && (e = null);
                            var n = e;
                            return new mt(function (r, o) {
                                var a = i._dbInfo;
                                a.serializer.serialize(e, function (e, i) {
                                    if (i) o(i);
                                    else try {
                                        localStorage.setItem(a.keyPrefix + t, e), r(n)
                                    } catch (t) {
                                        "QuotaExceededError" !== t.name && "NS_ERROR_DOM_QUOTA_REACHED" !== t.name || o(t), o(t)
                                    }
                                })
                            })
                        });
                        return o(r, n), r
                    }

                    function dt(t, e) {
                        if (e = l.apply(this, arguments), t = "function" != typeof t && t || {}, !t.name) {
                            var n = this.config();
                            t.name = t.name || n.name, t.storeName = t.storeName || n.storeName
                        }
                        var i, r = this;
                        return i = t.name ? new mt(function (e) {
                            e(t.storeName ? tt(t, r._defaultConfig) : t.name + "/")
                        }).then(function (t) {
                            for (var e = localStorage.length - 1; e >= 0; e--) {
                                var n = localStorage.key(e);
                                0 === n.indexOf(t) && localStorage.removeItem(n)
                            }
                        }) : mt.reject("Invalid arguments"), o(i, e), i
                    }

                    function ht(t, e) {
                        t[e] = function () {
                            var n = arguments;
                            return t.ready().then(function () {
                                return t[e].apply(t, n)
                            })
                        }
                    }

                    function vt() {
                        for (var t = 1; t < arguments.length; t++) {
                            var e = arguments[t];
                            if (e)
                                for (var n in e) e.hasOwnProperty(n) && (Qt(e[n]) ? arguments[0][n] = e[n].slice() : arguments[0][n] = e[n])
                        }
                        return arguments[0]
                    }
                    var _t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                            return typeof t
                        } : function (t) {
                            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                        },
                        pt = function () {
                            try {
                                if ("undefined" != typeof indexedDB) return indexedDB;
                                if ("undefined" != typeof webkitIndexedDB) return webkitIndexedDB;
                                if ("undefined" != typeof mozIndexedDB) return mozIndexedDB;
                                if ("undefined" != typeof OIndexedDB) return OIndexedDB;
                                if ("undefined" != typeof msIndexedDB) return msIndexedDB
                            } catch (t) {
                                return
                            }
                        }();
                    "undefined" == typeof Promise && t(3);
                    var mt = Promise,
                        yt = "local-forage-detect-blob-support",
                        gt = void 0,
                        xt = {},
                        bt = Object.prototype.toString,
                        St = "readonly",
                        wt = "readwrite",
                        Et = {
                            _driver: "asyncStorage",
                            _initStorage: T,
                            _support: function () {
                                try {
                                    if (!pt) return !1;
                                    var t = "undefined" != typeof openDatabase && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform),
                                        e = "function" == typeof fetch && -1 !== fetch.toString().indexOf("[native code");
                                    return (!t || e) && "undefined" != typeof indexedDB && "undefined" != typeof IDBKeyRange
                                } catch (t) {
                                    return !1
                                }
                            }(),
                            iterate: P,
                            getItem: k,
                            setItem: I,
                            removeItem: M,
                            clear: L,
                            length: C,
                            key: V,
                            keys: R,
                            dropInstance: O
                        },
                        At = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                        Tt = "~~local_forage_type~",
                        kt = /^~~local_forage_type~([^~]+)~/,
                        Pt = "__lfsc__:",
                        It = Pt.length,
                        Mt = "arbf",
                        Lt = "blob",
                        Ct = "si08",
                        Vt = "ui08",
                        Rt = "uic8",
                        Ot = "si16",
                        Ft = "si32",
                        zt = "ur16",
                        Nt = "ui32",
                        Dt = "fl32",
                        Bt = "fl64",
                        Ut = It + Mt.length,
                        jt = Object.prototype.toString,
                        Yt = {
                            serialize: N,
                            deserialize: D,
                            stringToBuffer: F,
                            bufferToString: z
                        },
                        Gt = {
                            _driver: "webSQLStorage",
                            _initStorage: U,
                            _support: function () {
                                return "function" == typeof openDatabase
                            }(),
                            iterate: G,
                            getItem: Y,
                            setItem: X,
                            removeItem: Z,
                            clear: Q,
                            length: H,
                            key: q,
                            keys: J,
                            dropInstance: $
                        },
                        Wt = {
                            _driver: "localStorageWrapper",
                            _initStorage: it,
                            _support: function () {
                                try {
                                    return "undefined" != typeof localStorage && "setItem" in localStorage && !!localStorage.setItem
                                } catch (t) {
                                    return !1
                                }
                            }(),
                            iterate: at,
                            getItem: ot,
                            setItem: ft,
                            removeItem: ct,
                            clear: rt,
                            length: ut,
                            key: st,
                            keys: lt,
                            dropInstance: dt
                        },
                        Xt = function (t, e) {
                            return t === e || "number" == typeof t && "number" == typeof e && isNaN(t) && isNaN(e)
                        },
                        Zt = function (t, e) {
                            for (var n = t.length, i = 0; i < n;) {
                                if (Xt(t[i], e)) return !0;
                                i++
                            }
                            return !1
                        },
                        Qt = Array.isArray || function (t) {
                            return "[object Array]" === Object.prototype.toString.call(t)
                        },
                        Ht = {},
                        qt = {},
                        Jt = {
                            INDEXEDDB: Et,
                            WEBSQL: Gt,
                            LOCALSTORAGE: Wt
                        },
                        Kt = [Jt.INDEXEDDB._driver, Jt.WEBSQL._driver, Jt.LOCALSTORAGE._driver],
                        $t = ["dropInstance"],
                        te = ["clear", "getItem", "iterate", "key", "keys", "length", "removeItem", "setItem"].concat($t),
                        ee = {
                            description: "",
                            driver: Kt.slice(),
                            name: "localforage",
                            size: 4980736,
                            storeName: "keyvaluepairs",
                            version: 1
                        },
                        ne = function () {
                            function t(e) {
                                i(this, t);
                                for (var n in Jt)
                                    if (Jt.hasOwnProperty(n)) {
                                        var r = Jt[n],
                                            o = r._driver;
                                        this[n] = o, Ht[o] || this.defineDriver(r)
                                    } this._defaultConfig = vt({}, ee), this._config = vt({}, this._defaultConfig, e), this._driverSet = null, this._initDriver = null, this._ready = !1, this._dbInfo = null, this._wrapLibraryMethodsWithReady(), this.setDriver(this._config.driver).catch(function () {})
                            }
                            return t.prototype.config = function (t) {
                                if ("object" === (void 0 === t ? "undefined" : _t(t))) {
                                    if (this._ready) return new Error("Can't call config() after localforage has been used.");
                                    for (var e in t) {
                                        if ("storeName" === e && (t[e] = t[e].replace(/\W/g, "_")), "version" === e && "number" != typeof t[e]) return new Error("Database version must be a number.");
                                        this._config[e] = t[e]
                                    }
                                    return !("driver" in t && t.driver) || this.setDriver(this._config.driver)
                                }
                                return "string" == typeof t ? this._config[t] : this._config
                            }, t.prototype.defineDriver = function (t, e, n) {
                                var i = new mt(function (e, n) {
                                    try {
                                        var i = t._driver,
                                            r = new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");
                                        if (!t._driver) return void n(r);
                                        for (var a = te.concat("_initStorage"), s = 0, l = a.length; s < l; s++) {
                                            var u = a[s];
                                            if ((!Zt($t, u) || t[u]) && "function" != typeof t[u]) return void n(r)
                                        }! function () {
                                            for (var e = 0, n = $t.length; e < n; e++) {
                                                var i = $t[e];
                                                t[i] || (t[i] = function (t) {
                                                    return function () {
                                                        var e = new Error("Method " + t + " is not implemented by the current driver"),
                                                            n = mt.reject(e);
                                                        return o(n, arguments[arguments.length - 1]), n
                                                    }
                                                }(i))
                                            }
                                        }();
                                        var c = function (n) {
                                            Ht[i] && console.info("Redefining LocalForage driver: " + i), Ht[i] = t, qt[i] = n, e()
                                        };
                                        "_support" in t ? t._support && "function" == typeof t._support ? t._support().then(c, n) : c(!!t._support) : c(!0)
                                    } catch (t) {
                                        n(t)
                                    }
                                });
                                return a(i, e, n), i
                            }, t.prototype.driver = function () {
                                return this._driver || null
                            }, t.prototype.getDriver = function (t, e, n) {
                                var i = Ht[t] ? mt.resolve(Ht[t]) : mt.reject(new Error("Driver not found."));
                                return a(i, e, n), i
                            }, t.prototype.getSerializer = function (t) {
                                var e = mt.resolve(Yt);
                                return a(e, t), e
                            }, t.prototype.ready = function (t) {
                                var e = this,
                                    n = e._driverSet.then(function () {
                                        return null === e._ready && (e._ready = e._initDriver()), e._ready
                                    });
                                return a(n, t, t), n
                            }, t.prototype.setDriver = function (t, e, n) {
                                function i() {
                                    s._config.driver = s.driver()
                                }

                                function r(t) {
                                    return s._extend(t), i(), s._ready = s._initStorage(s._config), s._ready
                                }

                                function o(t) {
                                    return function () {
                                        function e() {
                                            for (; n < t.length;) {
                                                var o = t[n];
                                                return n++, s._dbInfo = null, s._ready = null, s.getDriver(o).then(r).catch(e)
                                            }
                                            i();
                                            var a = new Error("No available storage method found.");
                                            return s._driverSet = mt.reject(a), s._driverSet
                                        }
                                        var n = 0;
                                        return e()
                                    }
                                }
                                var s = this;
                                Qt(t) || (t = [t]);
                                var l = this._getSupportedDrivers(t),
                                    u = null !== this._driverSet ? this._driverSet.catch(function () {
                                        return mt.resolve()
                                    }) : mt.resolve();
                                return this._driverSet = u.then(function () {
                                    var t = l[0];
                                    return s._dbInfo = null, s._ready = null, s.getDriver(t).then(function (t) {
                                        s._driver = t._driver, i(), s._wrapLibraryMethodsWithReady(), s._initDriver = o(l)
                                    })
                                }).catch(function () {
                                    i();
                                    var t = new Error("No available storage method found.");
                                    return s._driverSet = mt.reject(t), s._driverSet
                                }), a(this._driverSet, e, n), this._driverSet
                            }, t.prototype.supports = function (t) {
                                return !!qt[t]
                            }, t.prototype._extend = function (t) {
                                vt(this, t)
                            }, t.prototype._getSupportedDrivers = function (t) {
                                for (var e = [], n = 0, i = t.length; n < i; n++) {
                                    var r = t[n];
                                    this.supports(r) && e.push(r)
                                }
                                return e
                            }, t.prototype._wrapLibraryMethodsWithReady = function () {
                                for (var t = 0, e = te.length; t < e; t++) ht(this, te[t])
                            }, t.prototype.createInstance = function (e) {
                                return new t(e)
                            }, t
                        }(),
                        ie = new ne;
                    e.exports = ie
                }, {
                    3: 3
                }]
            }, {}, [4])(4)
        })
    }).call(e, n(432))
}, function (t, e, n) {
    "use strict";
    (function (e) {
        /*!
         * The buffer module from node.js, for the browser.
         *
         * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
         * @license  MIT
         */
        function i(t, e) {
            if (t === e) return 0;
            for (var n = t.length, i = e.length, r = 0, o = Math.min(n, i); r < o; ++r)
                if (t[r] !== e[r]) {
                    n = t[r], i = e[r];
                    break
                } return n < i ? -1 : i < n ? 1 : 0
        }

        function r(t) {
            return e.Buffer && "function" == typeof e.Buffer.isBuffer ? e.Buffer.isBuffer(t) : !(null == t || !t._isBuffer)
        }

        function o(t) {
            return Object.prototype.toString.call(t)
        }

        function a(t) {
            return !r(t) && ("function" == typeof e.ArrayBuffer && ("function" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t) : !!t && (t instanceof DataView || !!(t.buffer && t.buffer instanceof ArrayBuffer))))
        }

        function s(t) {
            if (S.isFunction(t)) {
                if (A) return t.name;
                var e = t.toString(),
                    n = e.match(k);
                return n && n[1]
            }
        }

        function l(t, e) {
            return "string" == typeof t ? t.length < e ? t : t.slice(0, e) : t
        }

        function u(t) {
            if (A || !S.isFunction(t)) return S.inspect(t);
            var e = s(t);
            return "[Function" + (e ? ": " + e : "") + "]"
        }

        function c(t) {
            return l(u(t.actual), 128) + " " + t.operator + " " + l(u(t.expected), 128)
        }

        function f(t, e, n, i, r) {
            throw new T.AssertionError({
                message: n,
                actual: t,
                expected: e,
                operator: i,
                stackStartFunction: r
            })
        }

        function d(t, e) {
            t || f(t, !0, e, "==", T.ok)
        }

        function h(t, e, n, s) {
            if (t === e) return !0;
            if (r(t) && r(e)) return 0 === i(t, e);
            if (S.isDate(t) && S.isDate(e)) return t.getTime() === e.getTime();
            if (S.isRegExp(t) && S.isRegExp(e)) return t.source === e.source && t.global === e.global && t.multiline === e.multiline && t.lastIndex === e.lastIndex && t.ignoreCase === e.ignoreCase;
            if (null !== t && "object" == typeof t || null !== e && "object" == typeof e) {
                if (a(t) && a(e) && o(t) === o(e) && !(t instanceof Float32Array || t instanceof Float64Array)) return 0 === i(new Uint8Array(t.buffer), new Uint8Array(e.buffer));
                if (r(t) !== r(e)) return !1;
                s = s || {
                    actual: [],
                    expected: []
                };
                var l = s.actual.indexOf(t);
                return -1 !== l && l === s.expected.indexOf(e) || (s.actual.push(t), s.expected.push(e), _(t, e, n, s))
            }
            return n ? t === e : t == e
        }

        function v(t) {
            return "[object Arguments]" == Object.prototype.toString.call(t)
        }

        function _(t, e, n, i) {
            if (null === t || void 0 === t || null === e || void 0 === e) return !1;
            if (S.isPrimitive(t) || S.isPrimitive(e)) return t === e;
            if (n && Object.getPrototypeOf(t) !== Object.getPrototypeOf(e)) return !1;
            var r = v(t),
                o = v(e);
            if (r && !o || !r && o) return !1;
            if (r) return t = E.call(t), e = E.call(e), h(t, e, n);
            var a, s, l = P(t),
                u = P(e);
            if (l.length !== u.length) return !1;
            for (l.sort(), u.sort(), s = l.length - 1; s >= 0; s--)
                if (l[s] !== u[s]) return !1;
            for (s = l.length - 1; s >= 0; s--)
                if (a = l[s], !h(t[a], e[a], n, i)) return !1;
            return !0
        }

        function p(t, e, n) {
            h(t, e, !0) && f(t, e, n, "notDeepStrictEqual", p)
        }

        function m(t, e) {
            if (!t || !e) return !1;
            if ("[object RegExp]" == Object.prototype.toString.call(e)) return e.test(t);
            try {
                if (t instanceof e) return !0
            } catch (t) {}
            return !Error.isPrototypeOf(e) && !0 === e.call({}, t)
        }

        function y(t) {
            var e;
            try {
                t()
            } catch (t) {
                e = t
            }
            return e
        }

        function g(t, e, n, i) {
            var r;
            if ("function" != typeof e) throw new TypeError('"block" argument must be a function');
            "string" == typeof n && (i = n, n = null), r = y(e), i = (n && n.name ? " (" + n.name + ")." : ".") + (i ? " " + i : "."), t && !r && f(r, n, "Missing expected exception" + i);
            var o = "string" == typeof i,
                a = !t && S.isError(r),
                s = !t && r && !n;
            if ((a && o && m(r, n) || s) && f(r, n, "Got unwanted exception" + i), t && r && n && !m(r, n) || !t && r) throw r
        }

        function x(t, e) {
            t || f(t, !0, e, "==", x)
        }
        var b = n(814),
            S = n(844),
            w = Object.prototype.hasOwnProperty,
            E = Array.prototype.slice,
            A = function () {
                return "foo" === function () {}.name
            }(),
            T = t.exports = d,
            k = /\s*function\s+([^\(\s]*)\s*/;
        T.AssertionError = function (t) {
            this.name = "AssertionError", this.actual = t.actual, this.expected = t.expected, this.operator = t.operator, t.message ? (this.message = t.message, this.generatedMessage = !1) : (this.message = c(this), this.generatedMessage = !0);
            var e = t.stackStartFunction || f;
            if (Error.captureStackTrace) Error.captureStackTrace(this, e);
            else {
                var n = new Error;
                if (n.stack) {
                    var i = n.stack,
                        r = s(e),
                        o = i.indexOf("\n" + r);
                    if (o >= 0) {
                        var a = i.indexOf("\n", o + 1);
                        i = i.substring(a + 1)
                    }
                    this.stack = i
                }
            }
        }, S.inherits(T.AssertionError, Error), T.fail = f, T.ok = d, T.equal = function (t, e, n) {
            t != e && f(t, e, n, "==", T.equal)
        }, T.notEqual = function (t, e, n) {
            t == e && f(t, e, n, "!=", T.notEqual)
        }, T.deepEqual = function (t, e, n) {
            h(t, e, !1) || f(t, e, n, "deepEqual", T.deepEqual)
        }, T.deepStrictEqual = function (t, e, n) {
            h(t, e, !0) || f(t, e, n, "deepStrictEqual", T.deepStrictEqual)
        }, T.notDeepEqual = function (t, e, n) {
            h(t, e, !1) && f(t, e, n, "notDeepEqual", T.notDeepEqual)
        }, T.notDeepStrictEqual = p, T.strictEqual = function (t, e, n) {
            t !== e && f(t, e, n, "===", T.strictEqual)
        }, T.notStrictEqual = function (t, e, n) {
            t === e && f(t, e, n, "!==", T.notStrictEqual)
        }, T.throws = function (t, e, n) {
            g(!0, t, e, n)
        }, T.doesNotThrow = function (t, e, n) {
            g(!1, t, e, n)
        }, T.ifError = function (t) {
            if (t) throw t
        }, T.strict = b(x, T, {
            equal: T.strictEqual,
            deepEqual: T.deepStrictEqual,
            notEqual: T.notStrictEqual,
            notDeepEqual: T.notDeepStrictEqual
        }), T.strict.strict = T.strict;
        var P = Object.keys || function (t) {
            var e = [];
            for (var n in t) w.call(t, n) && e.push(n);
            return e
        }
    }).call(e, n(432))
}, function (t, e, n) {
    "use strict";

    function i(t) {
        if (null === t || void 0 === t) throw new TypeError("Object.assign cannot be called with null or undefined");
        return Object(t)
    }
    /*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */
    var r = Object.getOwnPropertySymbols,
        o = Object.prototype.hasOwnProperty,
        a = Object.prototype.propertyIsEnumerable;
    t.exports = function () {
        try {
            if (!Object.assign) return !1;
            var t = new String("abc");
            if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
            for (var e = {}, n = 0; n < 10; n++) e["_" + String.fromCharCode(n)] = n;
            if ("0123456789" !== Object.getOwnPropertyNames(e).map(function (t) {
                    return e[t]
                }).join("")) return !1;
            var i = {};
            return "abcdefghijklmnopqrst".split("").forEach(function (t) {
                i[t] = t
            }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, i)).join("")
        } catch (t) {
            return !1
        }
    }() ? Object.assign : function (t, e) {
        for (var n, s, l = i(t), u = 1; u < arguments.length; u++) {
            n = Object(arguments[u]);
            for (var c in n) o.call(n, c) && (l[c] = n[c]);
            if (r) {
                s = r(n);
                for (var f = 0; f < s.length; f++) a.call(n, s[f]) && (l[s[f]] = n[s[f]])
            }
        }
        return l
    }
}, function (t, e, n) {
    "use strict";
    var i = n(99).assign,
        r = n(816),
        o = n(817),
        a = n(428),
        s = {};
    i(s, r, o, a), t.exports = s
}, function (t, e, n) {
    "use strict";

    function i(t) {
        if (!(this instanceof i)) return new i(t);
        this.options = l.assign({
            level: v,
            method: p,
            chunkSize: 16384,
            windowBits: 15,
            memLevel: 8,
            strategy: _,
            to: ""
        }, t || {});
        var e = this.options;
        e.raw && e.windowBits > 0 ? e.windowBits = -e.windowBits : e.gzip && e.windowBits > 0 && e.windowBits < 16 && (e.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new f, this.strm.avail_out = 0;
        var n = s.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy);
        if (n !== h) throw new Error(c[n]);
        if (e.header && s.deflateSetHeader(this.strm, e.header), e.dictionary) {
            var r;
            if (r = "string" == typeof e.dictionary ? u.string2buf(e.dictionary) : "[object ArrayBuffer]" === d.call(e.dictionary) ? new Uint8Array(e.dictionary) : e.dictionary, (n = s.deflateSetDictionary(this.strm, r)) !== h) throw new Error(c[n]);
            this._dict_set = !0
        }
    }

    function r(t, e) {
        var n = new i(e);
        if (n.push(t, !0), n.err) throw n.msg || c[n.err];
        return n.result
    }

    function o(t, e) {
        return e = e || {}, e.raw = !0, r(t, e)
    }

    function a(t, e) {
        return e = e || {}, e.gzip = !0, r(t, e)
    }
    var s = n(818),
        l = n(99),
        u = n(426),
        c = n(340),
        f = n(430),
        d = Object.prototype.toString,
        h = 0,
        v = -1,
        _ = 0,
        p = 8;
    i.prototype.push = function (t, e) {
        var n, i, r = this.strm,
            o = this.options.chunkSize;
        if (this.ended) return !1;
        i = e === ~~e ? e : !0 === e ? 4 : 0, "string" == typeof t ? r.input = u.string2buf(t) : "[object ArrayBuffer]" === d.call(t) ? r.input = new Uint8Array(t) : r.input = t, r.next_in = 0, r.avail_in = r.input.length;
        do {
            if (0 === r.avail_out && (r.output = new l.Buf8(o), r.next_out = 0, r.avail_out = o), 1 !== (n = s.deflate(r, i)) && n !== h) return this.onEnd(n), this.ended = !0, !1;
            0 !== r.avail_out && (0 !== r.avail_in || 4 !== i && 2 !== i) || ("string" === this.options.to ? this.onData(u.buf2binstring(l.shrinkBuf(r.output, r.next_out))) : this.onData(l.shrinkBuf(r.output, r.next_out)))
        } while ((r.avail_in > 0 || 0 === r.avail_out) && 1 !== n);
        return 4 === i ? (n = s.deflateEnd(this.strm), this.onEnd(n), this.ended = !0, n === h) : 2 !== i || (this.onEnd(h), r.avail_out = 0, !0)
    }, i.prototype.onData = function (t) {
        this.chunks.push(t)
    }, i.prototype.onEnd = function (t) {
        t === h && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = l.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
    }, e.Deflate = i, e.deflate = r, e.deflateRaw = o, e.gzip = a
}, function (t, e, n) {
    "use strict";

    function i(t) {
        if (!(this instanceof i)) return new i(t);
        this.options = s.assign({
            chunkSize: 16384,
            windowBits: 0,
            to: ""
        }, t || {});
        var e = this.options;
        e.raw && e.windowBits >= 0 && e.windowBits < 16 && (e.windowBits = -e.windowBits, 0 === e.windowBits && (e.windowBits = -15)), !(e.windowBits >= 0 && e.windowBits < 16) || t && t.windowBits || (e.windowBits += 32), e.windowBits > 15 && e.windowBits < 48 && 0 == (15 & e.windowBits) && (e.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new f, this.strm.avail_out = 0;
        var n = a.inflateInit2(this.strm, e.windowBits);
        if (n !== u.Z_OK) throw new Error(c[n]);
        if (this.header = new d, a.inflateGetHeader(this.strm, this.header), e.dictionary && ("string" == typeof e.dictionary ? e.dictionary = l.string2buf(e.dictionary) : "[object ArrayBuffer]" === h.call(e.dictionary) && (e.dictionary = new Uint8Array(e.dictionary)), e.raw && (n = a.inflateSetDictionary(this.strm, e.dictionary)) !== u.Z_OK)) throw new Error(c[n])
    }

    function r(t, e) {
        var n = new i(e);
        if (n.push(t, !0), n.err) throw n.msg || c[n.err];
        return n.result
    }

    function o(t, e) {
        return e = e || {}, e.raw = !0, r(t, e)
    }
    var a = n(821),
        s = n(99),
        l = n(426),
        u = n(428),
        c = n(340),
        f = n(430),
        d = n(819),
        h = Object.prototype.toString;
    i.prototype.push = function (t, e) {
        var n, i, r, o, c, f = this.strm,
            d = this.options.chunkSize,
            v = this.options.dictionary,
            _ = !1;
        if (this.ended) return !1;
        i = e === ~~e ? e : !0 === e ? u.Z_FINISH : u.Z_NO_FLUSH, "string" == typeof t ? f.input = l.binstring2buf(t) : "[object ArrayBuffer]" === h.call(t) ? f.input = new Uint8Array(t) : f.input = t, f.next_in = 0, f.avail_in = f.input.length;
        do {
            if (0 === f.avail_out && (f.output = new s.Buf8(d), f.next_out = 0, f.avail_out = d), n = a.inflate(f, u.Z_NO_FLUSH), n === u.Z_NEED_DICT && v && (n = a.inflateSetDictionary(this.strm, v)), n === u.Z_BUF_ERROR && !0 === _ && (n = u.Z_OK, _ = !1), n !== u.Z_STREAM_END && n !== u.Z_OK) return this.onEnd(n), this.ended = !0, !1;
            f.next_out && (0 !== f.avail_out && n !== u.Z_STREAM_END && (0 !== f.avail_in || i !== u.Z_FINISH && i !== u.Z_SYNC_FLUSH) || ("string" === this.options.to ? (r = l.utf8border(f.output, f.next_out), o = f.next_out - r, c = l.buf2string(f.output, r), f.next_out = o, f.avail_out = d - o, o && s.arraySet(f.output, f.output, r, o, 0), this.onData(c)) : this.onData(s.shrinkBuf(f.output, f.next_out)))), 0 === f.avail_in && 0 === f.avail_out && (_ = !0)
        } while ((f.avail_in > 0 || 0 === f.avail_out) && n !== u.Z_STREAM_END);
        return n === u.Z_STREAM_END && (i = u.Z_FINISH), i === u.Z_FINISH ? (n = a.inflateEnd(this.strm), this.onEnd(n), this.ended = !0, n === u.Z_OK) : i !== u.Z_SYNC_FLUSH || (this.onEnd(u.Z_OK), f.avail_out = 0, !0)
    }, i.prototype.onData = function (t) {
        this.chunks.push(t)
    }, i.prototype.onEnd = function (t) {
        t === u.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = s.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
    }, e.Inflate = i, e.inflate = r, e.inflateRaw = o, e.ungzip = r
}, function (t, e, n) {
    "use strict";

    function i(t, e) {
        return t.msg = R[e], e
    }

    function r(t) {
        return (t << 1) - (t > 4 ? 9 : 0)
    }

    function o(t) {
        for (var e = t.length; --e >= 0;) t[e] = 0
    }

    function a(t) {
        var e = t.state,
            n = e.pending;
        n > t.avail_out && (n = t.avail_out), 0 !== n && (M.arraySet(t.output, e.pending_buf, e.pending_out, n, t.next_out), t.next_out += n, e.pending_out += n, t.total_out += n, t.avail_out -= n, e.pending -= n, 0 === e.pending && (e.pending_out = 0))
    }

    function s(t, e) {
        L._tr_flush_block(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, e), t.block_start = t.strstart, a(t.strm)
    }

    function l(t, e) {
        t.pending_buf[t.pending++] = e
    }

    function u(t, e) {
        t.pending_buf[t.pending++] = e >>> 8 & 255, t.pending_buf[t.pending++] = 255 & e
    }

    function c(t, e, n, i) {
        var r = t.avail_in;
        return r > i && (r = i), 0 === r ? 0 : (t.avail_in -= r, M.arraySet(e, t.input, t.next_in, r, n), 1 === t.state.wrap ? t.adler = C(t.adler, e, r, n) : 2 === t.state.wrap && (t.adler = V(t.adler, e, r, n)), t.next_in += r, t.total_in += r, r)
    }

    function f(t, e) {
        var n, i, r = t.max_chain_length,
            o = t.strstart,
            a = t.prev_length,
            s = t.nice_match,
            l = t.strstart > t.w_size - ut ? t.strstart - (t.w_size - ut) : 0,
            u = t.window,
            c = t.w_mask,
            f = t.prev,
            d = t.strstart + lt,
            h = u[o + a - 1],
            v = u[o + a];
        t.prev_length >= t.good_match && (r >>= 2), s > t.lookahead && (s = t.lookahead);
        do {
            if (n = e, u[n + a] === v && u[n + a - 1] === h && u[n] === u[o] && u[++n] === u[o + 1]) {
                o += 2, n++;
                do {} while (u[++o] === u[++n] && u[++o] === u[++n] && u[++o] === u[++n] && u[++o] === u[++n] && u[++o] === u[++n] && u[++o] === u[++n] && u[++o] === u[++n] && u[++o] === u[++n] && o < d);
                if (i = lt - (d - o), o = d - lt, i > a) {
                    if (t.match_start = e, a = i, i >= s) break;
                    h = u[o + a - 1], v = u[o + a]
                }
            }
        } while ((e = f[e & c]) > l && 0 != --r);
        return a <= t.lookahead ? a : t.lookahead
    }

    function d(t) {
        var e, n, i, r, o, a = t.w_size;
        do {
            if (r = t.window_size - t.lookahead - t.strstart, t.strstart >= a + (a - ut)) {
                M.arraySet(t.window, t.window, a, a, 0), t.match_start -= a, t.strstart -= a, t.block_start -= a, n = t.hash_size, e = n;
                do {
                    i = t.head[--e], t.head[e] = i >= a ? i - a : 0
                } while (--n);
                n = a, e = n;
                do {
                    i = t.prev[--e], t.prev[e] = i >= a ? i - a : 0
                } while (--n);
                r += a
            }
            if (0 === t.strm.avail_in) break;
            if (n = c(t.strm, t.window, t.strstart + t.lookahead, r), t.lookahead += n, t.lookahead + t.insert >= st)
                for (o = t.strstart - t.insert, t.ins_h = t.window[o], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[o + 1]) & t.hash_mask; t.insert && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[o + st - 1]) & t.hash_mask, t.prev[o & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = o, o++, t.insert--, !(t.lookahead + t.insert < st)););
        } while (t.lookahead < ut && 0 !== t.strm.avail_in)
    }

    function h(t, e) {
        var n = 65535;
        for (n > t.pending_buf_size - 5 && (n = t.pending_buf_size - 5);;) {
            if (t.lookahead <= 1) {
                if (d(t), 0 === t.lookahead && e === O) return yt;
                if (0 === t.lookahead) break
            }
            t.strstart += t.lookahead, t.lookahead = 0;
            var i = t.block_start + n;
            if ((0 === t.strstart || t.strstart >= i) && (t.lookahead = t.strstart - i, t.strstart = i, s(t, !1), 0 === t.strm.avail_out)) return yt;
            if (t.strstart - t.block_start >= t.w_size - ut && (s(t, !1), 0 === t.strm.avail_out)) return yt
        }
        return t.insert = 0, e === N ? (s(t, !0), 0 === t.strm.avail_out ? xt : bt) : (t.strstart > t.block_start && (s(t, !1), t.strm.avail_out), yt)
    }

    function v(t, e) {
        for (var n, i;;) {
            if (t.lookahead < ut) {
                if (d(t), t.lookahead < ut && e === O) return yt;
                if (0 === t.lookahead) break
            }
            if (n = 0, t.lookahead >= st && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + st - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), 0 !== n && t.strstart - n <= t.w_size - ut && (t.match_length = f(t, n)), t.match_length >= st)
                if (i = L._tr_tally(t, t.strstart - t.match_start, t.match_length - st), t.lookahead -= t.match_length, t.match_length <= t.max_lazy_match && t.lookahead >= st) {
                    t.match_length--;
                    do {
                        t.strstart++, t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + st - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart
                    } while (0 != --t.match_length);
                    t.strstart++
                } else t.strstart += t.match_length, t.match_length = 0, t.ins_h = t.window[t.strstart], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + 1]) & t.hash_mask;
            else i = L._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++;
            if (i && (s(t, !1), 0 === t.strm.avail_out)) return yt
        }
        return t.insert = t.strstart < st - 1 ? t.strstart : st - 1, e === N ? (s(t, !0), 0 === t.strm.avail_out ? xt : bt) : t.last_lit && (s(t, !1), 0 === t.strm.avail_out) ? yt : gt
    }

    function _(t, e) {
        for (var n, i, r;;) {
            if (t.lookahead < ut) {
                if (d(t), t.lookahead < ut && e === O) return yt;
                if (0 === t.lookahead) break
            }
            if (n = 0, t.lookahead >= st && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + st - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), t.prev_length = t.match_length, t.prev_match = t.match_start, t.match_length = st - 1, 0 !== n && t.prev_length < t.max_lazy_match && t.strstart - n <= t.w_size - ut && (t.match_length = f(t, n), t.match_length <= 5 && (t.strategy === X || t.match_length === st && t.strstart - t.match_start > 4096) && (t.match_length = st - 1)), t.prev_length >= st && t.match_length <= t.prev_length) {
                r = t.strstart + t.lookahead - st, i = L._tr_tally(t, t.strstart - 1 - t.prev_match, t.prev_length - st), t.lookahead -= t.prev_length - 1, t.prev_length -= 2;
                do {
                    ++t.strstart <= r && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + st - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart)
                } while (0 != --t.prev_length);
                if (t.match_available = 0, t.match_length = st - 1, t.strstart++, i && (s(t, !1), 0 === t.strm.avail_out)) return yt
            } else if (t.match_available) {
                if (i = L._tr_tally(t, 0, t.window[t.strstart - 1]), i && s(t, !1), t.strstart++, t.lookahead--, 0 === t.strm.avail_out) return yt
            } else t.match_available = 1, t.strstart++, t.lookahead--
        }
        return t.match_available && (i = L._tr_tally(t, 0, t.window[t.strstart - 1]), t.match_available = 0), t.insert = t.strstart < st - 1 ? t.strstart : st - 1, e === N ? (s(t, !0), 0 === t.strm.avail_out ? xt : bt) : t.last_lit && (s(t, !1), 0 === t.strm.avail_out) ? yt : gt
    }

    function p(t, e) {
        for (var n, i, r, o, a = t.window;;) {
            if (t.lookahead <= lt) {
                if (d(t), t.lookahead <= lt && e === O) return yt;
                if (0 === t.lookahead) break
            }
            if (t.match_length = 0, t.lookahead >= st && t.strstart > 0 && (r = t.strstart - 1, (i = a[r]) === a[++r] && i === a[++r] && i === a[++r])) {
                o = t.strstart + lt;
                do {} while (i === a[++r] && i === a[++r] && i === a[++r] && i === a[++r] && i === a[++r] && i === a[++r] && i === a[++r] && i === a[++r] && r < o);
                t.match_length = lt - (o - r), t.match_length > t.lookahead && (t.match_length = t.lookahead)
            }
            if (t.match_length >= st ? (n = L._tr_tally(t, 1, t.match_length - st), t.lookahead -= t.match_length, t.strstart += t.match_length, t.match_length = 0) : (n = L._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++), n && (s(t, !1), 0 === t.strm.avail_out)) return yt
        }
        return t.insert = 0, e === N ? (s(t, !0), 0 === t.strm.avail_out ? xt : bt) : t.last_lit && (s(t, !1), 0 === t.strm.avail_out) ? yt : gt
    }

    function m(t, e) {
        for (var n;;) {
            if (0 === t.lookahead && (d(t), 0 === t.lookahead)) {
                if (e === O) return yt;
                break
            }
            if (t.match_length = 0, n = L._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++, n && (s(t, !1), 0 === t.strm.avail_out)) return yt
        }
        return t.insert = 0, e === N ? (s(t, !0), 0 === t.strm.avail_out ? xt : bt) : t.last_lit && (s(t, !1), 0 === t.strm.avail_out) ? yt : gt
    }

    function y(t, e, n, i, r) {
        this.good_length = t, this.max_lazy = e, this.nice_length = n, this.max_chain = i, this.func = r
    }

    function g(t) {
        t.window_size = 2 * t.w_size, o(t.head), t.max_lazy_match = I[t.level].max_lazy, t.good_match = I[t.level].good_length, t.nice_match = I[t.level].nice_length, t.max_chain_length = I[t.level].max_chain, t.strstart = 0, t.block_start = 0, t.lookahead = 0, t.insert = 0, t.match_length = t.prev_length = st - 1, t.match_available = 0, t.ins_h = 0
    }

    function x() {
        this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = K, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new M.Buf16(2 * ot), this.dyn_dtree = new M.Buf16(2 * (2 * it + 1)), this.bl_tree = new M.Buf16(2 * (2 * rt + 1)), o(this.dyn_ltree), o(this.dyn_dtree), o(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new M.Buf16(at + 1), this.heap = new M.Buf16(2 * nt + 1), o(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new M.Buf16(2 * nt + 1), o(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
    }

    function b(t) {
        var e;
        return t && t.state ? (t.total_in = t.total_out = 0, t.data_type = J, e = t.state, e.pending = 0, e.pending_out = 0, e.wrap < 0 && (e.wrap = -e.wrap), e.status = e.wrap ? ft : pt, t.adler = 2 === e.wrap ? 0 : 1, e.last_flush = O, L._tr_init(e), B) : i(t, j)
    }

    function S(t) {
        var e = b(t);
        return e === B && g(t.state), e
    }

    function w(t, e) {
        return t && t.state ? 2 !== t.state.wrap ? j : (t.state.gzhead = e, B) : j
    }

    function E(t, e, n, r, o, a) {
        if (!t) return j;
        var s = 1;
        if (e === W && (e = 6), r < 0 ? (s = 0, r = -r) : r > 15 && (s = 2, r -= 16), o < 1 || o > $ || n !== K || r < 8 || r > 15 || e < 0 || e > 9 || a < 0 || a > H) return i(t, j);
        8 === r && (r = 9);
        var l = new x;
        return t.state = l, l.strm = t, l.wrap = s, l.gzhead = null, l.w_bits = r, l.w_size = 1 << l.w_bits, l.w_mask = l.w_size - 1, l.hash_bits = o + 7, l.hash_size = 1 << l.hash_bits, l.hash_mask = l.hash_size - 1, l.hash_shift = ~~((l.hash_bits + st - 1) / st), l.window = new M.Buf8(2 * l.w_size), l.head = new M.Buf16(l.hash_size), l.prev = new M.Buf16(l.w_size), l.lit_bufsize = 1 << o + 6, l.pending_buf_size = 4 * l.lit_bufsize, l.pending_buf = new M.Buf8(l.pending_buf_size), l.d_buf = 1 * l.lit_bufsize, l.l_buf = 3 * l.lit_bufsize, l.level = e, l.strategy = a, l.method = n, S(t)
    }

    function A(t, e) {
        return E(t, e, K, tt, et, q)
    }

    function T(t, e) {
        var n, s, c, f;
        if (!t || !t.state || e > D || e < 0) return t ? i(t, j) : j;
        if (s = t.state, !t.output || !t.input && 0 !== t.avail_in || s.status === mt && e !== N) return i(t, 0 === t.avail_out ? G : j);
        if (s.strm = t, n = s.last_flush, s.last_flush = e, s.status === ft)
            if (2 === s.wrap) t.adler = 0, l(s, 31), l(s, 139), l(s, 8), s.gzhead ? (l(s, (s.gzhead.text ? 1 : 0) + (s.gzhead.hcrc ? 2 : 0) + (s.gzhead.extra ? 4 : 0) + (s.gzhead.name ? 8 : 0) + (s.gzhead.comment ? 16 : 0)), l(s, 255 & s.gzhead.time), l(s, s.gzhead.time >> 8 & 255), l(s, s.gzhead.time >> 16 & 255), l(s, s.gzhead.time >> 24 & 255), l(s, 9 === s.level ? 2 : s.strategy >= Z || s.level < 2 ? 4 : 0), l(s, 255 & s.gzhead.os), s.gzhead.extra && s.gzhead.extra.length && (l(s, 255 & s.gzhead.extra.length), l(s, s.gzhead.extra.length >> 8 & 255)), s.gzhead.hcrc && (t.adler = V(t.adler, s.pending_buf, s.pending, 0)), s.gzindex = 0, s.status = dt) : (l(s, 0), l(s, 0), l(s, 0), l(s, 0), l(s, 0), l(s, 9 === s.level ? 2 : s.strategy >= Z || s.level < 2 ? 4 : 0), l(s, St), s.status = pt);
            else {
                var d = K + (s.w_bits - 8 << 4) << 8,
                    h = -1;
                h = s.strategy >= Z || s.level < 2 ? 0 : s.level < 6 ? 1 : 6 === s.level ? 2 : 3, d |= h << 6, 0 !== s.strstart && (d |= ct), d += 31 - d % 31, s.status = pt, u(s, d), 0 !== s.strstart && (u(s, t.adler >>> 16), u(s, 65535 & t.adler)), t.adler = 1
            } if (s.status === dt)
            if (s.gzhead.extra) {
                for (c = s.pending; s.gzindex < (65535 & s.gzhead.extra.length) && (s.pending !== s.pending_buf_size || (s.gzhead.hcrc && s.pending > c && (t.adler = V(t.adler, s.pending_buf, s.pending - c, c)), a(t), c = s.pending, s.pending !== s.pending_buf_size));) l(s, 255 & s.gzhead.extra[s.gzindex]), s.gzindex++;
                s.gzhead.hcrc && s.pending > c && (t.adler = V(t.adler, s.pending_buf, s.pending - c, c)), s.gzindex === s.gzhead.extra.length && (s.gzindex = 0, s.status = ht)
            } else s.status = ht;
        if (s.status === ht)
            if (s.gzhead.name) {
                c = s.pending;
                do {
                    if (s.pending === s.pending_buf_size && (s.gzhead.hcrc && s.pending > c && (t.adler = V(t.adler, s.pending_buf, s.pending - c, c)), a(t), c = s.pending, s.pending === s.pending_buf_size)) {
                        f = 1;
                        break
                    }
                    f = s.gzindex < s.gzhead.name.length ? 255 & s.gzhead.name.charCodeAt(s.gzindex++) : 0, l(s, f)
                } while (0 !== f);
                s.gzhead.hcrc && s.pending > c && (t.adler = V(t.adler, s.pending_buf, s.pending - c, c)), 0 === f && (s.gzindex = 0, s.status = vt)
            } else s.status = vt;
        if (s.status === vt)
            if (s.gzhead.comment) {
                c = s.pending;
                do {
                    if (s.pending === s.pending_buf_size && (s.gzhead.hcrc && s.pending > c && (t.adler = V(t.adler, s.pending_buf, s.pending - c, c)), a(t), c = s.pending, s.pending === s.pending_buf_size)) {
                        f = 1;
                        break
                    }
                    f = s.gzindex < s.gzhead.comment.length ? 255 & s.gzhead.comment.charCodeAt(s.gzindex++) : 0, l(s, f)
                } while (0 !== f);
                s.gzhead.hcrc && s.pending > c && (t.adler = V(t.adler, s.pending_buf, s.pending - c, c)), 0 === f && (s.status = _t)
            } else s.status = _t;
        if (s.status === _t && (s.gzhead.hcrc ? (s.pending + 2 > s.pending_buf_size && a(t), s.pending + 2 <= s.pending_buf_size && (l(s, 255 & t.adler), l(s, t.adler >> 8 & 255), t.adler = 0, s.status = pt)) : s.status = pt), 0 !== s.pending) {
            if (a(t), 0 === t.avail_out) return s.last_flush = -1, B
        } else if (0 === t.avail_in && r(e) <= r(n) && e !== N) return i(t, G);
        if (s.status === mt && 0 !== t.avail_in) return i(t, G);
        if (0 !== t.avail_in || 0 !== s.lookahead || e !== O && s.status !== mt) {
            var v = s.strategy === Z ? m(s, e) : s.strategy === Q ? p(s, e) : I[s.level].func(s, e);
            if (v !== xt && v !== bt || (s.status = mt), v === yt || v === xt) return 0 === t.avail_out && (s.last_flush = -1), B;
            if (v === gt && (e === F ? L._tr_align(s) : e !== D && (L._tr_stored_block(s, 0, 0, !1), e === z && (o(s.head), 0 === s.lookahead && (s.strstart = 0, s.block_start = 0, s.insert = 0))), a(t), 0 === t.avail_out)) return s.last_flush = -1, B
        }
        return e !== N ? B : s.wrap <= 0 ? U : (2 === s.wrap ? (l(s, 255 & t.adler), l(s, t.adler >> 8 & 255), l(s, t.adler >> 16 & 255), l(s, t.adler >> 24 & 255), l(s, 255 & t.total_in), l(s, t.total_in >> 8 & 255), l(s, t.total_in >> 16 & 255), l(s, t.total_in >> 24 & 255)) : (u(s, t.adler >>> 16), u(s, 65535 & t.adler)), a(t), s.wrap > 0 && (s.wrap = -s.wrap), 0 !== s.pending ? B : U)
    }

    function k(t) {
        var e;
        return t && t.state ? (e = t.state.status) !== ft && e !== dt && e !== ht && e !== vt && e !== _t && e !== pt && e !== mt ? i(t, j) : (t.state = null, e === pt ? i(t, Y) : B) : j
    }

    function P(t, e) {
        var n, i, r, a, s, l, u, c, f = e.length;
        if (!t || !t.state) return j;
        if (n = t.state, 2 === (a = n.wrap) || 1 === a && n.status !== ft || n.lookahead) return j;
        for (1 === a && (t.adler = C(t.adler, e, f, 0)), n.wrap = 0, f >= n.w_size && (0 === a && (o(n.head), n.strstart = 0, n.block_start = 0, n.insert = 0), c = new M.Buf8(n.w_size), M.arraySet(c, e, f - n.w_size, n.w_size, 0), e = c, f = n.w_size), s = t.avail_in, l = t.next_in, u = t.input, t.avail_in = f, t.next_in = 0, t.input = e, d(n); n.lookahead >= st;) {
            i = n.strstart, r = n.lookahead - (st - 1);
            do {
                n.ins_h = (n.ins_h << n.hash_shift ^ n.window[i + st - 1]) & n.hash_mask, n.prev[i & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = i, i++
            } while (--r);
            n.strstart = i, n.lookahead = st - 1, d(n)
        }
        return n.strstart += n.lookahead, n.block_start = n.strstart, n.insert = n.lookahead, n.lookahead = 0, n.match_length = n.prev_length = st - 1, n.match_available = 0, t.next_in = l, t.input = u, t.avail_in = s, n.wrap = a, B
    }
    var I, M = n(99),
        L = n(823),
        C = n(427),
        V = n(429),
        R = n(340),
        O = 0,
        F = 1,
        z = 3,
        N = 4,
        D = 5,
        B = 0,
        U = 1,
        j = -2,
        Y = -3,
        G = -5,
        W = -1,
        X = 1,
        Z = 2,
        Q = 3,
        H = 4,
        q = 0,
        J = 2,
        K = 8,
        $ = 9,
        tt = 15,
        et = 8,
        nt = 286,
        it = 30,
        rt = 19,
        ot = 2 * nt + 1,
        at = 15,
        st = 3,
        lt = 258,
        ut = lt + st + 1,
        ct = 32,
        ft = 42,
        dt = 69,
        ht = 73,
        vt = 91,
        _t = 103,
        pt = 113,
        mt = 666,
        yt = 1,
        gt = 2,
        xt = 3,
        bt = 4,
        St = 3;
    I = [new y(0, 0, 0, 0, h), new y(4, 4, 8, 4, v), new y(4, 5, 16, 8, v), new y(4, 6, 32, 32, v), new y(4, 4, 16, 16, _), new y(8, 16, 32, 32, _), new y(8, 16, 128, 128, _), new y(8, 32, 128, 256, _), new y(32, 128, 258, 1024, _), new y(32, 258, 258, 4096, _)], e.deflateInit = A, e.deflateInit2 = E, e.deflateReset = S, e.deflateResetKeep = b, e.deflateSetHeader = w, e.deflate = T, e.deflateEnd = k, e.deflateSetDictionary = P, e.deflateInfo = "pako deflate (from Nodeca project)"
}, function (t, e, n) {
    "use strict";

    function i() {
        this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
    }
    t.exports = i
}, function (t, e, n) {
    "use strict";
    t.exports = function (t, e) {
        var n, i, r, o, a, s, l, u, c, f, d, h, v, _, p, m, y, g, x, b, S, w, E, A, T;
        n = t.state, i = t.next_in, A = t.input, r = i + (t.avail_in - 5), o = t.next_out, T = t.output, a = o - (e - t.avail_out), s = o + (t.avail_out - 257), l = n.dmax, u = n.wsize, c = n.whave, f = n.wnext, d = n.window, h = n.hold, v = n.bits, _ = n.lencode, p = n.distcode, m = (1 << n.lenbits) - 1, y = (1 << n.distbits) - 1;
        t: do {
            v < 15 && (h += A[i++] << v, v += 8, h += A[i++] << v, v += 8), g = _[h & m];
            e: for (;;) {
                if (x = g >>> 24, h >>>= x, v -= x, 0 === (x = g >>> 16 & 255)) T[o++] = 65535 & g;
                else {
                    if (!(16 & x)) {
                        if (0 == (64 & x)) {
                            g = _[(65535 & g) + (h & (1 << x) - 1)];
                            continue e
                        }
                        if (32 & x) {
                            n.mode = 12;
                            break t
                        }
                        t.msg = "invalid literal/length code", n.mode = 30;
                        break t
                    }
                    b = 65535 & g, x &= 15, x && (v < x && (h += A[i++] << v, v += 8), b += h & (1 << x) - 1, h >>>= x, v -= x), v < 15 && (h += A[i++] << v, v += 8, h += A[i++] << v, v += 8), g = p[h & y];
                    n: for (;;) {
                        if (x = g >>> 24, h >>>= x, v -= x, !(16 & (x = g >>> 16 & 255))) {
                            if (0 == (64 & x)) {
                                g = p[(65535 & g) + (h & (1 << x) - 1)];
                                continue n
                            }
                            t.msg = "invalid distance code", n.mode = 30;
                            break t
                        }
                        if (S = 65535 & g, x &= 15, v < x && (h += A[i++] << v, (v += 8) < x && (h += A[i++] << v, v += 8)), (S += h & (1 << x) - 1) > l) {
                            t.msg = "invalid distance too far back", n.mode = 30;
                            break t
                        }
                        if (h >>>= x, v -= x, x = o - a, S > x) {
                            if ((x = S - x) > c && n.sane) {
                                t.msg = "invalid distance too far back", n.mode = 30;
                                break t
                            }
                            if (w = 0, E = d, 0 === f) {
                                if (w += u - x, x < b) {
                                    b -= x;
                                    do {
                                        T[o++] = d[w++]
                                    } while (--x);
                                    w = o - S, E = T
                                }
                            } else if (f < x) {
                                if (w += u + f - x, (x -= f) < b) {
                                    b -= x;
                                    do {
                                        T[o++] = d[w++]
                                    } while (--x);
                                    if (w = 0, f < b) {
                                        x = f, b -= x;
                                        do {
                                            T[o++] = d[w++]
                                        } while (--x);
                                        w = o - S, E = T
                                    }
                                }
                            } else if (w += f - x, x < b) {
                                b -= x;
                                do {
                                    T[o++] = d[w++]
                                } while (--x);
                                w = o - S, E = T
                            }
                            for (; b > 2;) T[o++] = E[w++], T[o++] = E[w++], T[o++] = E[w++], b -= 3;
                            b && (T[o++] = E[w++], b > 1 && (T[o++] = E[w++]))
                        } else {
                            w = o - S;
                            do {
                                T[o++] = T[w++], T[o++] = T[w++], T[o++] = T[w++], b -= 3
                            } while (b > 2);
                            b && (T[o++] = T[w++], b > 1 && (T[o++] = T[w++]))
                        }
                        break
                    }
                }
                break
            }
        } while (i < r && o < s);
        b = v >> 3, i -= b, v -= b << 3, h &= (1 << v) - 1, t.next_in = i, t.next_out = o, t.avail_in = i < r ? r - i + 5 : 5 - (i - r), t.avail_out = o < s ? s - o + 257 : 257 - (o - s), n.hold = h, n.bits = v
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        return (t >>> 24 & 255) + (t >>> 8 & 65280) + ((65280 & t) << 8) + ((255 & t) << 24)
    }

    function r() {
        this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new y.Buf16(320), this.work = new y.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
    }

    function o(t) {
        var e;
        return t && t.state ? (e = t.state, t.total_in = t.total_out = e.total = 0, t.msg = "", e.wrap && (t.adler = 1 & e.wrap), e.mode = z, e.last = 0, e.havedict = 0, e.dmax = 32768, e.head = null, e.hold = 0, e.bits = 0, e.lencode = e.lendyn = new y.Buf32(_t), e.distcode = e.distdyn = new y.Buf32(pt), e.sane = 1, e.back = -1, I) : C
    }

    function a(t) {
        var e;
        return t && t.state ? (e = t.state, e.wsize = 0, e.whave = 0, e.wnext = 0, o(t)) : C
    }

    function s(t, e) {
        var n, i;
        return t && t.state ? (i = t.state, e < 0 ? (n = 0, e = -e) : (n = 1 + (e >> 4), e < 48 && (e &= 15)), e && (e < 8 || e > 15) ? C : (null !== i.window && i.wbits !== e && (i.window = null), i.wrap = n, i.wbits = e, a(t))) : C
    }

    function l(t, e) {
        var n, i;
        return t ? (i = new r, t.state = i, i.window = null, n = s(t, e), n !== I && (t.state = null), n) : C
    }

    function u(t) {
        return l(t, mt)
    }

    function c(t) {
        if (yt) {
            var e;
            for (p = new y.Buf32(512), m = new y.Buf32(32), e = 0; e < 144;) t.lens[e++] = 8;
            for (; e < 256;) t.lens[e++] = 9;
            for (; e < 280;) t.lens[e++] = 7;
            for (; e < 288;) t.lens[e++] = 8;
            for (S(E, t.lens, 0, 288, p, 0, t.work, {
                    bits: 9
                }), e = 0; e < 32;) t.lens[e++] = 5;
            S(A, t.lens, 0, 32, m, 0, t.work, {
                bits: 5
            }), yt = !1
        }
        t.lencode = p, t.lenbits = 9, t.distcode = m, t.distbits = 5
    }

    function f(t, e, n, i) {
        var r, o = t.state;
        return null === o.window && (o.wsize = 1 << o.wbits, o.wnext = 0, o.whave = 0, o.window = new y.Buf8(o.wsize)), i >= o.wsize ? (y.arraySet(o.window, e, n - o.wsize, o.wsize, 0), o.wnext = 0, o.whave = o.wsize) : (r = o.wsize - o.wnext, r > i && (r = i), y.arraySet(o.window, e, n - i, r, o.wnext), i -= r, i ? (y.arraySet(o.window, e, n - i, i, 0), o.wnext = i, o.whave = o.wsize) : (o.wnext += r, o.wnext === o.wsize && (o.wnext = 0), o.whave < o.wsize && (o.whave += r))), 0
    }

    function d(t, e) {
        var n, r, o, a, s, l, u, d, h, v, _, p, m, _t, pt, mt, yt, gt, xt, bt, St, wt, Et, At, Tt = 0,
            kt = new y.Buf8(4),
            Pt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
        if (!t || !t.state || !t.output || !t.input && 0 !== t.avail_in) return C;
        n = t.state, n.mode === Q && (n.mode = H), s = t.next_out, o = t.output, u = t.avail_out, a = t.next_in, r = t.input, l = t.avail_in, d = n.hold, h = n.bits, v = l, _ = u, wt = I;
        t: for (;;) switch (n.mode) {
            case z:
                if (0 === n.wrap) {
                    n.mode = H;
                    break
                }
                for (; h < 16;) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                if (2 & n.wrap && 35615 === d) {
                    n.check = 0, kt[0] = 255 & d, kt[1] = d >>> 8 & 255, n.check = x(n.check, kt, 2, 0), d = 0, h = 0, n.mode = N;
                    break
                }
                if (n.flags = 0, n.head && (n.head.done = !1), !(1 & n.wrap) || (((255 & d) << 8) + (d >> 8)) % 31) {
                    t.msg = "incorrect header check", n.mode = dt;
                    break
                }
                if ((15 & d) !== F) {
                    t.msg = "unknown compression method", n.mode = dt;
                    break
                }
                if (d >>>= 4, h -= 4, St = 8 + (15 & d), 0 === n.wbits) n.wbits = St;
                else if (St > n.wbits) {
                    t.msg = "invalid window size", n.mode = dt;
                    break
                }
                n.dmax = 1 << St, t.adler = n.check = 1, n.mode = 512 & d ? X : Q, d = 0, h = 0;
                break;
            case N:
                for (; h < 16;) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                if (n.flags = d, (255 & n.flags) !== F) {
                    t.msg = "unknown compression method", n.mode = dt;
                    break
                }
                if (57344 & n.flags) {
                    t.msg = "unknown header flags set", n.mode = dt;
                    break
                }
                n.head && (n.head.text = d >> 8 & 1), 512 & n.flags && (kt[0] = 255 & d, kt[1] = d >>> 8 & 255, n.check = x(n.check, kt, 2, 0)), d = 0, h = 0, n.mode = D;
            case D:
                for (; h < 32;) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                n.head && (n.head.time = d), 512 & n.flags && (kt[0] = 255 & d, kt[1] = d >>> 8 & 255, kt[2] = d >>> 16 & 255, kt[3] = d >>> 24 & 255, n.check = x(n.check, kt, 4, 0)), d = 0, h = 0, n.mode = B;
            case B:
                for (; h < 16;) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                n.head && (n.head.xflags = 255 & d, n.head.os = d >> 8), 512 & n.flags && (kt[0] = 255 & d, kt[1] = d >>> 8 & 255, n.check = x(n.check, kt, 2, 0)), d = 0, h = 0, n.mode = U;
            case U:
                if (1024 & n.flags) {
                    for (; h < 16;) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    n.length = d, n.head && (n.head.extra_len = d), 512 & n.flags && (kt[0] = 255 & d, kt[1] = d >>> 8 & 255, n.check = x(n.check, kt, 2, 0)), d = 0, h = 0
                } else n.head && (n.head.extra = null);
                n.mode = j;
            case j:
                if (1024 & n.flags && (p = n.length, p > l && (p = l), p && (n.head && (St = n.head.extra_len - n.length, n.head.extra || (n.head.extra = new Array(n.head.extra_len)), y.arraySet(n.head.extra, r, a, p, St)), 512 & n.flags && (n.check = x(n.check, r, p, a)), l -= p, a += p, n.length -= p), n.length)) break t;
                n.length = 0, n.mode = Y;
            case Y:
                if (2048 & n.flags) {
                    if (0 === l) break t;
                    p = 0;
                    do {
                        St = r[a + p++], n.head && St && n.length < 65536 && (n.head.name += String.fromCharCode(St))
                    } while (St && p < l);
                    if (512 & n.flags && (n.check = x(n.check, r, p, a)), l -= p, a += p, St) break t
                } else n.head && (n.head.name = null);
                n.length = 0, n.mode = G;
            case G:
                if (4096 & n.flags) {
                    if (0 === l) break t;
                    p = 0;
                    do {
                        St = r[a + p++], n.head && St && n.length < 65536 && (n.head.comment += String.fromCharCode(St))
                    } while (St && p < l);
                    if (512 & n.flags && (n.check = x(n.check, r, p, a)), l -= p, a += p, St) break t
                } else n.head && (n.head.comment = null);
                n.mode = W;
            case W:
                if (512 & n.flags) {
                    for (; h < 16;) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    if (d !== (65535 & n.check)) {
                        t.msg = "header crc mismatch", n.mode = dt;
                        break
                    }
                    d = 0, h = 0
                }
                n.head && (n.head.hcrc = n.flags >> 9 & 1, n.head.done = !0), t.adler = n.check = 0, n.mode = Q;
                break;
            case X:
                for (; h < 32;) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                t.adler = n.check = i(d), d = 0, h = 0, n.mode = Z;
            case Z:
                if (0 === n.havedict) return t.next_out = s, t.avail_out = u, t.next_in = a, t.avail_in = l, n.hold = d, n.bits = h, L;
                t.adler = n.check = 1, n.mode = Q;
            case Q:
                if (e === k || e === P) break t;
            case H:
                if (n.last) {
                    d >>>= 7 & h, h -= 7 & h, n.mode = ut;
                    break
                }
                for (; h < 3;) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                switch (n.last = 1 & d, d >>>= 1, h -= 1, 3 & d) {
                    case 0:
                        n.mode = q;
                        break;
                    case 1:
                        if (c(n), n.mode = nt, e === P) {
                            d >>>= 2, h -= 2;
                            break t
                        }
                        break;
                    case 2:
                        n.mode = $;
                        break;
                    case 3:
                        t.msg = "invalid block type", n.mode = dt
                }
                d >>>= 2, h -= 2;
                break;
            case q:
                for (d >>>= 7 & h, h -= 7 & h; h < 32;) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                if ((65535 & d) != (d >>> 16 ^ 65535)) {
                    t.msg = "invalid stored block lengths", n.mode = dt;
                    break
                }
                if (n.length = 65535 & d, d = 0, h = 0, n.mode = J, e === P) break t;
            case J:
                n.mode = K;
            case K:
                if (p = n.length) {
                    if (p > l && (p = l), p > u && (p = u), 0 === p) break t;
                    y.arraySet(o, r, a, p, s), l -= p, a += p, u -= p, s += p, n.length -= p;
                    break
                }
                n.mode = Q;
                break;
            case $:
                for (; h < 14;) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                if (n.nlen = 257 + (31 & d), d >>>= 5, h -= 5, n.ndist = 1 + (31 & d), d >>>= 5, h -= 5, n.ncode = 4 + (15 & d), d >>>= 4, h -= 4, n.nlen > 286 || n.ndist > 30) {
                    t.msg = "too many length or distance symbols", n.mode = dt;
                    break
                }
                n.have = 0, n.mode = tt;
            case tt:
                for (; n.have < n.ncode;) {
                    for (; h < 3;) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    n.lens[Pt[n.have++]] = 7 & d, d >>>= 3, h -= 3
                }
                for (; n.have < 19;) n.lens[Pt[n.have++]] = 0;
                if (n.lencode = n.lendyn, n.lenbits = 7, Et = {
                        bits: n.lenbits
                    }, wt = S(w, n.lens, 0, 19, n.lencode, 0, n.work, Et), n.lenbits = Et.bits, wt) {
                    t.msg = "invalid code lengths set", n.mode = dt;
                    break
                }
                n.have = 0, n.mode = et;
            case et:
                for (; n.have < n.nlen + n.ndist;) {
                    for (; Tt = n.lencode[d & (1 << n.lenbits) - 1], pt = Tt >>> 24, mt = Tt >>> 16 & 255, yt = 65535 & Tt, !(pt <= h);) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    if (yt < 16) d >>>= pt, h -= pt, n.lens[n.have++] = yt;
                    else {
                        if (16 === yt) {
                            for (At = pt + 2; h < At;) {
                                if (0 === l) break t;
                                l--, d += r[a++] << h, h += 8
                            }
                            if (d >>>= pt, h -= pt, 0 === n.have) {
                                t.msg = "invalid bit length repeat", n.mode = dt;
                                break
                            }
                            St = n.lens[n.have - 1], p = 3 + (3 & d), d >>>= 2, h -= 2
                        } else if (17 === yt) {
                            for (At = pt + 3; h < At;) {
                                if (0 === l) break t;
                                l--, d += r[a++] << h, h += 8
                            }
                            d >>>= pt, h -= pt, St = 0, p = 3 + (7 & d), d >>>= 3, h -= 3
                        } else {
                            for (At = pt + 7; h < At;) {
                                if (0 === l) break t;
                                l--, d += r[a++] << h, h += 8
                            }
                            d >>>= pt, h -= pt, St = 0, p = 11 + (127 & d), d >>>= 7, h -= 7
                        }
                        if (n.have + p > n.nlen + n.ndist) {
                            t.msg = "invalid bit length repeat", n.mode = dt;
                            break
                        }
                        for (; p--;) n.lens[n.have++] = St
                    }
                }
                if (n.mode === dt) break;
                if (0 === n.lens[256]) {
                    t.msg = "invalid code -- missing end-of-block", n.mode = dt;
                    break
                }
                if (n.lenbits = 9, Et = {
                        bits: n.lenbits
                    }, wt = S(E, n.lens, 0, n.nlen, n.lencode, 0, n.work, Et), n.lenbits = Et.bits, wt) {
                    t.msg = "invalid literal/lengths set", n.mode = dt;
                    break
                }
                if (n.distbits = 6, n.distcode = n.distdyn, Et = {
                        bits: n.distbits
                    }, wt = S(A, n.lens, n.nlen, n.ndist, n.distcode, 0, n.work, Et), n.distbits = Et.bits, wt) {
                    t.msg = "invalid distances set", n.mode = dt;
                    break
                }
                if (n.mode = nt, e === P) break t;
            case nt:
                n.mode = it;
            case it:
                if (l >= 6 && u >= 258) {
                    t.next_out = s, t.avail_out = u, t.next_in = a, t.avail_in = l, n.hold = d, n.bits = h, b(t, _), s = t.next_out, o = t.output, u = t.avail_out, a = t.next_in, r = t.input, l = t.avail_in, d = n.hold, h = n.bits, n.mode === Q && (n.back = -1);
                    break
                }
                for (n.back = 0; Tt = n.lencode[d & (1 << n.lenbits) - 1], pt = Tt >>> 24, mt = Tt >>> 16 & 255, yt = 65535 & Tt, !(pt <= h);) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                if (mt && 0 == (240 & mt)) {
                    for (gt = pt, xt = mt, bt = yt; Tt = n.lencode[bt + ((d & (1 << gt + xt) - 1) >> gt)], pt = Tt >>> 24, mt = Tt >>> 16 & 255, yt = 65535 & Tt, !(gt + pt <= h);) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    d >>>= gt, h -= gt, n.back += gt
                }
                if (d >>>= pt, h -= pt, n.back += pt, n.length = yt, 0 === mt) {
                    n.mode = lt;
                    break
                }
                if (32 & mt) {
                    n.back = -1, n.mode = Q;
                    break
                }
                if (64 & mt) {
                    t.msg = "invalid literal/length code", n.mode = dt;
                    break
                }
                n.extra = 15 & mt, n.mode = rt;
            case rt:
                if (n.extra) {
                    for (At = n.extra; h < At;) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    n.length += d & (1 << n.extra) - 1, d >>>= n.extra, h -= n.extra, n.back += n.extra
                }
                n.was = n.length, n.mode = ot;
            case ot:
                for (; Tt = n.distcode[d & (1 << n.distbits) - 1], pt = Tt >>> 24, mt = Tt >>> 16 & 255, yt = 65535 & Tt, !(pt <= h);) {
                    if (0 === l) break t;
                    l--, d += r[a++] << h, h += 8
                }
                if (0 == (240 & mt)) {
                    for (gt = pt, xt = mt, bt = yt; Tt = n.distcode[bt + ((d & (1 << gt + xt) - 1) >> gt)], pt = Tt >>> 24, mt = Tt >>> 16 & 255, yt = 65535 & Tt, !(gt + pt <= h);) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    d >>>= gt, h -= gt, n.back += gt
                }
                if (d >>>= pt, h -= pt, n.back += pt, 64 & mt) {
                    t.msg = "invalid distance code", n.mode = dt;
                    break
                }
                n.offset = yt, n.extra = 15 & mt, n.mode = at;
            case at:
                if (n.extra) {
                    for (At = n.extra; h < At;) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    n.offset += d & (1 << n.extra) - 1, d >>>= n.extra, h -= n.extra, n.back += n.extra
                }
                if (n.offset > n.dmax) {
                    t.msg = "invalid distance too far back", n.mode = dt;
                    break
                }
                n.mode = st;
            case st:
                if (0 === u) break t;
                if (p = _ - u, n.offset > p) {
                    if ((p = n.offset - p) > n.whave && n.sane) {
                        t.msg = "invalid distance too far back", n.mode = dt;
                        break
                    }
                    p > n.wnext ? (p -= n.wnext, m = n.wsize - p) : m = n.wnext - p, p > n.length && (p = n.length), _t = n.window
                } else _t = o, m = s - n.offset, p = n.length;
                p > u && (p = u), u -= p, n.length -= p;
                do {
                    o[s++] = _t[m++]
                } while (--p);
                0 === n.length && (n.mode = it);
                break;
            case lt:
                if (0 === u) break t;
                o[s++] = n.length, u--, n.mode = it;
                break;
            case ut:
                if (n.wrap) {
                    for (; h < 32;) {
                        if (0 === l) break t;
                        l--, d |= r[a++] << h, h += 8
                    }
                    if (_ -= u, t.total_out += _, n.total += _, _ && (t.adler = n.check = n.flags ? x(n.check, o, _, s - _) : g(n.check, o, _, s - _)), _ = u, (n.flags ? d : i(d)) !== n.check) {
                        t.msg = "incorrect data check", n.mode = dt;
                        break
                    }
                    d = 0, h = 0
                }
                n.mode = ct;
            case ct:
                if (n.wrap && n.flags) {
                    for (; h < 32;) {
                        if (0 === l) break t;
                        l--, d += r[a++] << h, h += 8
                    }
                    if (d !== (4294967295 & n.total)) {
                        t.msg = "incorrect length check", n.mode = dt;
                        break
                    }
                    d = 0, h = 0
                }
                n.mode = ft;
            case ft:
                wt = M;
                break t;
            case dt:
                wt = V;
                break t;
            case ht:
                return R;
            case vt:
            default:
                return C
        }
        return t.next_out = s, t.avail_out = u, t.next_in = a, t.avail_in = l, n.hold = d, n.bits = h, (n.wsize || _ !== t.avail_out && n.mode < dt && (n.mode < ut || e !== T)) && f(t, t.output, t.next_out, _ - t.avail_out) ? (n.mode = ht, R) : (v -= t.avail_in, _ -= t.avail_out, t.total_in += v, t.total_out += _, n.total += _, n.wrap && _ && (t.adler = n.check = n.flags ? x(n.check, o, _, t.next_out - _) : g(n.check, o, _, t.next_out - _)), t.data_type = n.bits + (n.last ? 64 : 0) + (n.mode === Q ? 128 : 0) + (n.mode === nt || n.mode === J ? 256 : 0), (0 === v && 0 === _ || e === T) && wt === I && (wt = O), wt)
    }

    function h(t) {
        if (!t || !t.state) return C;
        var e = t.state;
        return e.window && (e.window = null), t.state = null, I
    }

    function v(t, e) {
        var n;
        return t && t.state ? (n = t.state, 0 == (2 & n.wrap) ? C : (n.head = e, e.done = !1, I)) : C
    }

    function _(t, e) {
        var n, i, r = e.length;
        return t && t.state ? (n = t.state, 0 !== n.wrap && n.mode !== Z ? C : n.mode === Z && (i = 1, (i = g(i, e, r, 0)) !== n.check) ? V : f(t, e, r, r) ? (n.mode = ht, R) : (n.havedict = 1, I)) : C
    }
    var p, m, y = n(99),
        g = n(427),
        x = n(429),
        b = n(820),
        S = n(822),
        w = 0,
        E = 1,
        A = 2,
        T = 4,
        k = 5,
        P = 6,
        I = 0,
        M = 1,
        L = 2,
        C = -2,
        V = -3,
        R = -4,
        O = -5,
        F = 8,
        z = 1,
        N = 2,
        D = 3,
        B = 4,
        U = 5,
        j = 6,
        Y = 7,
        G = 8,
        W = 9,
        X = 10,
        Z = 11,
        Q = 12,
        H = 13,
        q = 14,
        J = 15,
        K = 16,
        $ = 17,
        tt = 18,
        et = 19,
        nt = 20,
        it = 21,
        rt = 22,
        ot = 23,
        at = 24,
        st = 25,
        lt = 26,
        ut = 27,
        ct = 28,
        ft = 29,
        dt = 30,
        ht = 31,
        vt = 32,
        _t = 852,
        pt = 592,
        mt = 15,
        yt = !0;
    e.inflateReset = a, e.inflateReset2 = s, e.inflateResetKeep = o, e.inflateInit = u, e.inflateInit2 = l, e.inflate = d, e.inflateEnd = h, e.inflateGetHeader = v, e.inflateSetDictionary = _, e.inflateInfo = "pako inflate (from Nodeca project)"
}, function (t, e, n) {
    "use strict";
    var i = n(99),
        r = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
        o = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
        a = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
        s = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
    t.exports = function (t, e, n, l, u, c, f, d) {
        var h, v, _, p, m, y, g, x, b, S = d.bits,
            w = 0,
            E = 0,
            A = 0,
            T = 0,
            k = 0,
            P = 0,
            I = 0,
            M = 0,
            L = 0,
            C = 0,
            V = null,
            R = 0,
            O = new i.Buf16(16),
            F = new i.Buf16(16),
            z = null,
            N = 0;
        for (w = 0; w <= 15; w++) O[w] = 0;
        for (E = 0; E < l; E++) O[e[n + E]]++;
        for (k = S, T = 15; T >= 1 && 0 === O[T]; T--);
        if (k > T && (k = T), 0 === T) return u[c++] = 20971520, u[c++] = 20971520, d.bits = 1, 0;
        for (A = 1; A < T && 0 === O[A]; A++);
        for (k < A && (k = A), M = 1, w = 1; w <= 15; w++)
            if (M <<= 1, (M -= O[w]) < 0) return -1;
        if (M > 0 && (0 === t || 1 !== T)) return -1;
        for (F[1] = 0, w = 1; w < 15; w++) F[w + 1] = F[w] + O[w];
        for (E = 0; E < l; E++) 0 !== e[n + E] && (f[F[e[n + E]]++] = E);
        if (0 === t ? (V = z = f, y = 19) : 1 === t ? (V = r, R -= 257, z = o, N -= 257, y = 256) : (V = a, z = s, y = -1), C = 0, E = 0, w = A, m = c, P = k, I = 0, _ = -1, L = 1 << k, p = L - 1, 1 === t && L > 852 || 2 === t && L > 592) return 1;
        for (;;) {
            g = w - I, f[E] < y ? (x = 0, b = f[E]) : f[E] > y ? (x = z[N + f[E]], b = V[R + f[E]]) : (x = 96, b = 0), h = 1 << w - I, v = 1 << P, A = v;
            do {
                v -= h, u[m + (C >> I) + v] = g << 24 | x << 16 | b | 0
            } while (0 !== v);
            for (h = 1 << w - 1; C & h;) h >>= 1;
            if (0 !== h ? (C &= h - 1, C += h) : C = 0, E++, 0 == --O[w]) {
                if (w === T) break;
                w = e[n + f[E]]
            }
            if (w > k && (C & p) !== _) {
                for (0 === I && (I = k), m += A, P = w - I, M = 1 << P; P + I < T && !((M -= O[P + I]) <= 0);) P++, M <<= 1;
                if (L += 1 << P, 1 === t && L > 852 || 2 === t && L > 592) return 1;
                _ = C & p, u[_] = k << 24 | P << 16 | m - c | 0
            }
        }
        return 0 !== C && (u[m + C] = w - I << 24 | 64 << 16 | 0), d.bits = k, 0
    }
}, function (t, e, n) {
    "use strict";

    function i(t) {
        for (var e = t.length; --e >= 0;) t[e] = 0
    }

    function r(t, e, n, i, r) {
        this.static_tree = t, this.extra_bits = e, this.extra_base = n, this.elems = i, this.max_length = r, this.has_stree = t && t.length
    }

    function o(t, e) {
        this.dyn_tree = t, this.max_code = 0, this.stat_desc = e
    }

    function a(t) {
        return t < 256 ? ot[t] : ot[256 + (t >>> 7)]
    }

    function s(t, e) {
        t.pending_buf[t.pending++] = 255 & e, t.pending_buf[t.pending++] = e >>> 8 & 255
    }

    function l(t, e, n) {
        t.bi_valid > Z - n ? (t.bi_buf |= e << t.bi_valid & 65535, s(t, t.bi_buf), t.bi_buf = e >> Z - t.bi_valid, t.bi_valid += n - Z) : (t.bi_buf |= e << t.bi_valid & 65535, t.bi_valid += n)
    }

    function u(t, e, n) {
        l(t, n[2 * e], n[2 * e + 1])
    }

    function c(t, e) {
        var n = 0;
        do {
            n |= 1 & t, t >>>= 1, n <<= 1
        } while (--e > 0);
        return n >>> 1
    }

    function f(t) {
        16 === t.bi_valid ? (s(t, t.bi_buf), t.bi_buf = 0, t.bi_valid = 0) : t.bi_valid >= 8 && (t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8, t.bi_valid -= 8)
    }

    function d(t, e) {
        var n, i, r, o, a, s, l = e.dyn_tree,
            u = e.max_code,
            c = e.stat_desc.static_tree,
            f = e.stat_desc.has_stree,
            d = e.stat_desc.extra_bits,
            h = e.stat_desc.extra_base,
            v = e.stat_desc.max_length,
            _ = 0;
        for (o = 0; o <= X; o++) t.bl_count[o] = 0;
        for (l[2 * t.heap[t.heap_max] + 1] = 0, n = t.heap_max + 1; n < W; n++) i = t.heap[n], o = l[2 * l[2 * i + 1] + 1] + 1, o > v && (o = v, _++), l[2 * i + 1] = o, i > u || (t.bl_count[o]++, a = 0, i >= h && (a = d[i - h]), s = l[2 * i], t.opt_len += s * (o + a), f && (t.static_len += s * (c[2 * i + 1] + a)));
        if (0 !== _) {
            do {
                for (o = v - 1; 0 === t.bl_count[o];) o--;
                t.bl_count[o]--, t.bl_count[o + 1] += 2, t.bl_count[v]--, _ -= 2
            } while (_ > 0);
            for (o = v; 0 !== o; o--)
                for (i = t.bl_count[o]; 0 !== i;)(r = t.heap[--n]) > u || (l[2 * r + 1] !== o && (t.opt_len += (o - l[2 * r + 1]) * l[2 * r], l[2 * r + 1] = o), i--)
        }
    }

    function h(t, e, n) {
        var i, r, o = new Array(X + 1),
            a = 0;
        for (i = 1; i <= X; i++) o[i] = a = a + n[i - 1] << 1;
        for (r = 0; r <= e; r++) {
            var s = t[2 * r + 1];
            0 !== s && (t[2 * r] = c(o[s]++, s))
        }
    }

    function v() {
        var t, e, n, i, o, a = new Array(X + 1);
        for (n = 0, i = 0; i < B - 1; i++)
            for (st[i] = n, t = 0; t < 1 << $[i]; t++) at[n++] = i;
        for (at[n - 1] = i, o = 0, i = 0; i < 16; i++)
            for (lt[i] = o, t = 0; t < 1 << tt[i]; t++) ot[o++] = i;
        for (o >>= 7; i < Y; i++)
            for (lt[i] = o << 7, t = 0; t < 1 << tt[i] - 7; t++) ot[256 + o++] = i;
        for (e = 0; e <= X; e++) a[e] = 0;
        for (t = 0; t <= 143;) it[2 * t + 1] = 8, t++, a[8]++;
        for (; t <= 255;) it[2 * t + 1] = 9, t++, a[9]++;
        for (; t <= 279;) it[2 * t + 1] = 7, t++, a[7]++;
        for (; t <= 287;) it[2 * t + 1] = 8, t++, a[8]++;
        for (h(it, j + 1, a), t = 0; t < Y; t++) rt[2 * t + 1] = 5, rt[2 * t] = c(t, 5);
        ut = new r(it, $, U + 1, j, X), ct = new r(rt, tt, 0, Y, X), ft = new r(new Array(0), et, 0, G, Q)
    }

    function _(t) {
        var e;
        for (e = 0; e < j; e++) t.dyn_ltree[2 * e] = 0;
        for (e = 0; e < Y; e++) t.dyn_dtree[2 * e] = 0;
        for (e = 0; e < G; e++) t.bl_tree[2 * e] = 0;
        t.dyn_ltree[2 * H] = 1, t.opt_len = t.static_len = 0, t.last_lit = t.matches = 0
    }

    function p(t) {
        t.bi_valid > 8 ? s(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf), t.bi_buf = 0, t.bi_valid = 0
    }

    function m(t, e, n, i) {
        p(t), i && (s(t, n), s(t, ~n)), C.arraySet(t.pending_buf, t.window, e, n, t.pending), t.pending += n
    }

    function y(t, e, n, i) {
        var r = 2 * e,
            o = 2 * n;
        return t[r] < t[o] || t[r] === t[o] && i[e] <= i[n]
    }

    function g(t, e, n) {
        for (var i = t.heap[n], r = n << 1; r <= t.heap_len && (r < t.heap_len && y(e, t.heap[r + 1], t.heap[r], t.depth) && r++, !y(e, i, t.heap[r], t.depth));) t.heap[n] = t.heap[r], n = r, r <<= 1;
        t.heap[n] = i
    }

    function x(t, e, n) {
        var i, r, o, s, c = 0;
        if (0 !== t.last_lit)
            do {
                i = t.pending_buf[t.d_buf + 2 * c] << 8 | t.pending_buf[t.d_buf + 2 * c + 1], r = t.pending_buf[t.l_buf + c], c++, 0 === i ? u(t, r, e) : (o = at[r], u(t, o + U + 1, e), s = $[o], 0 !== s && (r -= st[o], l(t, r, s)), i--, o = a(i), u(t, o, n), 0 !== (s = tt[o]) && (i -= lt[o], l(t, i, s)))
            } while (c < t.last_lit);
        u(t, H, e)
    }

    function b(t, e) {
        var n, i, r, o = e.dyn_tree,
            a = e.stat_desc.static_tree,
            s = e.stat_desc.has_stree,
            l = e.stat_desc.elems,
            u = -1;
        for (t.heap_len = 0, t.heap_max = W, n = 0; n < l; n++) 0 !== o[2 * n] ? (t.heap[++t.heap_len] = u = n, t.depth[n] = 0) : o[2 * n + 1] = 0;
        for (; t.heap_len < 2;) r = t.heap[++t.heap_len] = u < 2 ? ++u : 0, o[2 * r] = 1, t.depth[r] = 0, t.opt_len--, s && (t.static_len -= a[2 * r + 1]);
        for (e.max_code = u, n = t.heap_len >> 1; n >= 1; n--) g(t, o, n);
        r = l;
        do {
            n = t.heap[1], t.heap[1] = t.heap[t.heap_len--], g(t, o, 1), i = t.heap[1], t.heap[--t.heap_max] = n, t.heap[--t.heap_max] = i, o[2 * r] = o[2 * n] + o[2 * i], t.depth[r] = (t.depth[n] >= t.depth[i] ? t.depth[n] : t.depth[i]) + 1, o[2 * n + 1] = o[2 * i + 1] = r, t.heap[1] = r++, g(t, o, 1)
        } while (t.heap_len >= 2);
        t.heap[--t.heap_max] = t.heap[1], d(t, e), h(o, u, t.bl_count)
    }

    function S(t, e, n) {
        var i, r, o = -1,
            a = e[1],
            s = 0,
            l = 7,
            u = 4;
        for (0 === a && (l = 138, u = 3), e[2 * (n + 1) + 1] = 65535, i = 0; i <= n; i++) r = a, a = e[2 * (i + 1) + 1], ++s < l && r === a || (s < u ? t.bl_tree[2 * r] += s : 0 !== r ? (r !== o && t.bl_tree[2 * r]++, t.bl_tree[2 * q]++) : s <= 10 ? t.bl_tree[2 * J]++ : t.bl_tree[2 * K]++, s = 0, o = r, 0 === a ? (l = 138, u = 3) : r === a ? (l = 6, u = 3) : (l = 7, u = 4))
    }

    function w(t, e, n) {
        var i, r, o = -1,
            a = e[1],
            s = 0,
            c = 7,
            f = 4;
        for (0 === a && (c = 138, f = 3), i = 0; i <= n; i++)
            if (r = a, a = e[2 * (i + 1) + 1], !(++s < c && r === a)) {
                if (s < f)
                    do {
                        u(t, r, t.bl_tree)
                    } while (0 != --s);
                else 0 !== r ? (r !== o && (u(t, r, t.bl_tree), s--), u(t, q, t.bl_tree), l(t, s - 3, 2)) : s <= 10 ? (u(t, J, t.bl_tree), l(t, s - 3, 3)) : (u(t, K, t.bl_tree), l(t, s - 11, 7));
                s = 0, o = r, 0 === a ? (c = 138, f = 3) : r === a ? (c = 6, f = 3) : (c = 7, f = 4)
            }
    }

    function E(t) {
        var e;
        for (S(t, t.dyn_ltree, t.l_desc.max_code), S(t, t.dyn_dtree, t.d_desc.max_code), b(t, t.bl_desc), e = G - 1; e >= 3 && 0 === t.bl_tree[2 * nt[e] + 1]; e--);
        return t.opt_len += 3 * (e + 1) + 5 + 5 + 4, e
    }

    function A(t, e, n, i) {
        var r;
        for (l(t, e - 257, 5), l(t, n - 1, 5), l(t, i - 4, 4), r = 0; r < i; r++) l(t, t.bl_tree[2 * nt[r] + 1], 3);
        w(t, t.dyn_ltree, e - 1), w(t, t.dyn_dtree, n - 1)
    }

    function T(t) {
        var e, n = 4093624447;
        for (e = 0; e <= 31; e++, n >>>= 1)
            if (1 & n && 0 !== t.dyn_ltree[2 * e]) return R;
        if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26]) return O;
        for (e = 32; e < U; e++)
            if (0 !== t.dyn_ltree[2 * e]) return O;
        return R
    }

    function k(t) {
        dt || (v(), dt = !0), t.l_desc = new o(t.dyn_ltree, ut), t.d_desc = new o(t.dyn_dtree, ct), t.bl_desc = new o(t.bl_tree, ft), t.bi_buf = 0, t.bi_valid = 0, _(t)
    }

    function P(t, e, n, i) {
        l(t, (z << 1) + (i ? 1 : 0), 3), m(t, e, n, !0)
    }

    function I(t) {
        l(t, N << 1, 3), u(t, H, it), f(t)
    }

    function M(t, e, n, i) {
        var r, o, a = 0;
        t.level > 0 ? (t.strm.data_type === F && (t.strm.data_type = T(t)), b(t, t.l_desc), b(t, t.d_desc), a = E(t), r = t.opt_len + 3 + 7 >>> 3, (o = t.static_len + 3 + 7 >>> 3) <= r && (r = o)) : r = o = n + 5, n + 4 <= r && -1 !== e ? P(t, e, n, i) : t.strategy === V || o === r ? (l(t, (N << 1) + (i ? 1 : 0), 3), x(t, it, rt)) : (l(t, (D << 1) + (i ? 1 : 0), 3), A(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, a + 1), x(t, t.dyn_ltree, t.dyn_dtree)), _(t), i && p(t)
    }

    function L(t, e, n) {
        return t.pending_buf[t.d_buf + 2 * t.last_lit] = e >>> 8 & 255, t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & e, t.pending_buf[t.l_buf + t.last_lit] = 255 & n, t.last_lit++, 0 === e ? t.dyn_ltree[2 * n]++ : (t.matches++, e--, t.dyn_ltree[2 * (at[n] + U + 1)]++, t.dyn_dtree[2 * a(e)]++), t.last_lit === t.lit_bufsize - 1
    }
    var C = n(99),
        V = 4,
        R = 0,
        O = 1,
        F = 2,
        z = 0,
        N = 1,
        D = 2,
        B = 29,
        U = 256,
        j = U + 1 + B,
        Y = 30,
        G = 19,
        W = 2 * j + 1,
        X = 15,
        Z = 16,
        Q = 7,
        H = 256,
        q = 16,
        J = 17,
        K = 18,
        $ = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
        tt = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
        et = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
        nt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
        it = new Array(2 * (j + 2));
    i(it);
    var rt = new Array(2 * Y);
    i(rt);
    var ot = new Array(512);
    i(ot);
    var at = new Array(256);
    i(at);
    var st = new Array(B);
    i(st);
    var lt = new Array(Y);
    i(lt);
    var ut, ct, ft, dt = !1;
    e._tr_init = k, e._tr_stored_block = P, e._tr_flush_block = M, e._tr_tally = L, e._tr_align = I
}, function (t, e) {
    function n() {
        throw new Error("setTimeout has not been defined")
    }

    function i() {
        throw new Error("clearTimeout has not been defined")
    }

    function r(t) {
        if (c === setTimeout) return setTimeout(t, 0);
        if ((c === n || !c) && setTimeout) return c = setTimeout, setTimeout(t, 0);
        try {
            return c(t, 0)
        } catch (e) {
            try {
                return c.call(null, t, 0)
            } catch (e) {
                return c.call(this, t, 0)
            }
        }
    }

    function o(t) {
        if (f === clearTimeout) return clearTimeout(t);
        if ((f === i || !f) && clearTimeout) return f = clearTimeout, clearTimeout(t);
        try {
            return f(t)
        } catch (e) {
            try {
                return f.call(null, t)
            } catch (e) {
                return f.call(this, t)
            }
        }
    }

    function a() {
        _ && h && (_ = !1, h.length ? v = h.concat(v) : p = -1, v.length && s())
    }

    function s() {
        if (!_) {
            var t = r(a);
            _ = !0;
            for (var e = v.length; e;) {
                for (h = v, v = []; ++p < e;) h && h[p].run();
                p = -1, e = v.length
            }
            h = null, _ = !1, o(t)
        }
    }

    function l(t, e) {
        this.fun = t, this.array = e
    }

    function u() {}
    var c, f, d = t.exports = {};
    ! function () {
        try {
            c = "function" == typeof setTimeout ? setTimeout : n
        } catch (t) {
            c = n
        }
        try {
            f = "function" == typeof clearTimeout ? clearTimeout : i
        } catch (t) {
            f = i
        }
    }();
    var h, v = [],
        _ = !1,
        p = -1;
    d.nextTick = function (t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
        v.push(new l(t, e)), 1 !== v.length || _ || r(s)
    }, l.prototype.run = function () {
        this.fun.apply(null, this.array)
    }, d.title = "browser", d.browser = !0, d.env = {}, d.argv = [], d.version = "", d.versions = {}, d.on = u, d.addListener = u, d.once = u, d.off = u, d.removeListener = u, d.removeAllListeners = u, d.emit = u, d.prependListener = u, d.prependOnceListener = u, d.listeners = function (t) {
        return []
    }, d.binding = function (t) {
        throw new Error("process.binding is not supported")
    }, d.cwd = function () {
        return "/"
    }, d.chdir = function (t) {
        throw new Error("process.chdir is not supported")
    }, d.umask = function () {
        return 0
    }
}, function (t, e) {
    t.exports = "# WaveFront *.mtl file (generated by CINEMA 4D)\n\nnewmtl escalator3\nKa 0.79000002145767 0.79000002145767 0.79000002145767\nKd 1 1 1\nillum 7\n\nnewmtl escalator2\nKa 0.30000001192093 0.30000001192093 0.30000001192093\nKd 0.34999999403954 0.34999999403954 0.34999999403954\nillum 7\n\n"
}, function (t, e) {
    t.exports = "# WaveFront *.obj file (generated by CINEMA 4D)\n\nmtllib ./escalator.mtl\n\nv -10.38787460327148 3.49382448196411 0.05786377936602\nv -10.38787460327148 2.83549332618713 0.05786377936602\nv 8.37319946289062 3.49382448196411 15.20390701293945\nv 8.37319946289062 2.83549332618713 15.20390701293945\nv -15.11080265045166 2.83549332618713 4.95054340362549\nv -15.11080265045166 3.49382448196411 4.95054340362549\nv -17.63106727600098 3.49382448196411 2.51569700241089\nv -17.63106727600098 2.83549332618713 2.51569700241089\nv -15.63636589050293 2.83549332618713 4.89701271057129\nv -16.17062377929688 2.83549332618713 4.72479200363159\nv -16.67029190063477 2.83549332618713 4.42842483520508\nv -17.09063148498535 2.83549332618713 4.02233219146729\nv -17.39739608764648 2.83549332618713 3.53959894180298\nv -17.57565879821777 2.83549332618713 3.02344822883606\nv -15.63636589050293 3.49382448196411 4.89701271057129\nv -16.17062377929688 3.49382448196411 4.72479200363159\nv -16.67029190063477 3.49382448196411 4.42842483520508\nv -17.09063148498535 3.49382448196411 4.02233219146729\nv -17.39739608764648 3.49382448196411 3.53959894180298\nv -17.57565879821777 3.49382448196411 3.02344822883606\nv -15.11080265045166 3.49382448196411 0.05786377936602\nv -15.11080265045166 2.83549332618713 0.05786377936602\nv -17.63106727600098 3.49382448196411 2.49271011352539\nv -17.63106727600098 2.83549332618713 2.49271011352539\nv -15.63636589050293 3.49382448196411 0.11139420419931\nv -16.17062377929688 3.49382448196411 0.28361487388611\nv -16.67029190063477 3.49382448196411 0.57998245954514\nv -17.09063148498535 3.49382448196411 0.9860748052597\nv -17.39739608764648 3.49382448196411 1.4688081741333\nv -17.57565879821777 3.49382448196411 1.98495888710022\nv -15.63636589050293 2.83549332618713 0.11139420419931\nv -16.17062377929688 2.83549332618713 0.28361487388611\nv -16.67029190063477 2.83549332618713 0.57998245954514\nv -17.09063148498535 2.83549332618713 0.9860748052597\nv -17.39739608764648 2.83549332618713 1.4688081741333\nv -17.57565879821777 2.83549332618713 1.98495888710022\nv 13.17253494262695 3.49382448196411 20.09658622741699\nv 13.17253494262695 2.83549332618713 20.09658622741699\nv 15.69279861450195 2.83549332618713 17.66173934936523\nv 15.69279861450195 3.49382448196411 17.66173934936523\nv 13.69809818267822 3.49382448196411 20.04305648803711\nv 14.23235607147217 3.49382448196411 19.87083435058594\nv 14.73202419281006 3.49382448196411 19.5744686126709\nv 15.15236282348633 3.49382448196411 19.16837501525879\nv 15.45912742614746 3.49382448196411 18.68564224243164\nv 15.63739013671875 3.49382448196411 18.16949081420898\nv 13.69809818267822 2.83549332618713 20.04305648803711\nv 14.23235607147217 2.83549332618713 19.87083435058594\nv 14.73202419281006 2.83549332618713 19.5744686126709\nv 15.15236282348633 2.83549332618713 19.16837501525879\nv 15.45912742614746 2.83549332618713 18.68564224243164\nv 15.63739013671875 2.83549332618713 18.16949081420898\nv 13.17253494262695 2.83549332618713 15.20390701293945\nv 13.17253494262695 3.49382448196411 15.20390701293945\nv 15.69279861450195 2.83549332618713 17.63875389099121\nv 15.69279861450195 3.49382448196411 17.63875389099121\nv 13.69809818267822 2.83549332618713 15.25743770599365\nv 14.23235607147217 2.83549332618713 15.42965793609619\nv 14.73202419281006 2.83549332618713 15.72602558135986\nv 15.15236282348633 2.83549332618713 16.13211822509766\nv 15.45912742614746 2.83549332618713 16.6148509979248\nv 15.63739013671875 2.83549332618713 17.13100242614746\nv 13.69809818267822 3.49382448196411 15.25743770599365\nv 14.23235607147217 3.49382448196411 15.42965793609619\nv 14.73202419281006 3.49382448196411 15.72602558135986\nv 15.15236282348633 3.49382448196411 16.13211822509766\nv 15.45912742614746 3.49382448196411 16.6148509979248\nv 15.63739013671875 3.49382448196411 17.13100242614746\nv -10.38787460327148 2.83549332618713 4.22026777267456\nv -9.80783653259277 2.83549332618713 5.41881465911865\nv -9.80783653259277 3.49382448196411 5.41881465911865\nv -11.14376926422119 2.83549332618713 4.95054340362549\nv -11.14376926422119 3.49382448196411 4.95054340362549\nv -10.38787460327148 3.49382448196411 4.22026777267456\nv -10.93948745727539 2.83549332618713 4.96024227142334\nv -10.7346715927124 2.83549332618713 4.98972845077515\nv -10.53240394592285 2.83549332618713 5.03915452957153\nv -10.33578205108643 2.83549332618713 5.10807466506958\nv -10.14776611328125 2.83549332618713 5.19545078277588\nv -9.97102928161621 2.83549332618713 5.29970645904541\nv -9.97102928161621 3.49382448196411 5.29970645904541\nv -10.14776611328125 3.49382448196411 5.19545078277588\nv -10.33578205108643 3.49382448196411 5.10807466506958\nv -10.53240394592285 3.49382448196411 5.03915452957153\nv -10.7346715927124 3.49382448196411 4.98972845077515\nv -10.93948745727539 3.49382448196411 4.96024227142334\nv 8.37319946289062 2.83549332618713 19.37121200561523\nv 7.79705476760864 2.83549332618713 19.6314582824707\nv 7.79705476760864 3.49382448196411 19.6314582824707\nv 9.12402153015137 3.49382448196411 20.09658622741699\nv 9.12402153015137 2.83549332618713 20.09658622741699\nv 8.37319946289062 3.49382448196411 19.37121200561523\nv 7.95915222167969 2.83549332618713 19.7497673034668\nv 8.13470268249512 2.83549332618713 19.85332298278809\nv 8.32145690917969 2.83549332618713 19.94011306762695\nv 8.51675891876221 2.83549332618713 20.00856971740723\nv 8.71766948699951 2.83549332618713 20.05766487121582\nv 8.92111110687256 2.83549332618713 20.08695220947266\nv 8.92111110687256 3.49382448196411 20.08695220947266\nv 8.71766948699951 3.49382448196411 20.05766487121582\nv 8.51675891876221 3.49382448196411 20.00856971740723\nv 8.32145690917969 3.49382448196411 19.94011306762695\nv 8.13470268249512 3.49382448196411 19.85332298278809\nv 7.95915222167969 3.49382448196411 19.7497673034668\n# 104 vertices\n\nvn 0 0 1\nvn 0 0 0\nvn 1 0 0\nvn 0 0 -1\nvn -1 0 0\nvn 0 1 0\nvn 0.33310228586197 -0.94289070367813 0\nvn 0 -1 0\nvn -0.62815809249878 0.77808576822281 0\nvn -0.1013290733099 0.99485296010971 0\nvn -0.20520241558552 0.97871953248978 0\nvn -0.41104024648666 0.91161721944809 0\nvn -0.6065838932991 0.7950194478035 0\nvn -0.77482038736343 0.63218140602112 0\nvn -0.90074276924133 0.43435296416283 0\nvn -0.97576230764389 0.21883322298527 0\nvn -0.99409872293472 0.10847935080528 0\nvn -0.10132952034473 -0.99485290050507 0\nvn -0.20520263910294 -0.97871953248978 0\nvn -0.41104024648666 -0.91161721944809 0\nvn -0.6065838932991 -0.7950194478035 0\nvn -0.77482026815414 -0.63218152523041 0\nvn -0.90074276924133 -0.43435296416283 0\nvn -0.97576230764389 -0.21883311867714 0\nvn -0.99409866333008 -0.10847944766283 0\nvn 0.10132952034473 0.99485290050507 0\nvn 0.20520223677158 0.97871959209442 0\nvn 0.41103982925415 0.91161739826202 0\nvn 0.60658365488052 0.79501962661743 0\nvn 0.77482026815414 0.63218152523041 0\nvn 0.90074348449707 0.43435138463974 0\nvn 0.97576242685318 0.21883250772953 0\nvn 0.99409848451614 0.10848119109869 0\nvn 0.10132862627506 -0.99485301971436 0\nvn 0.20520259439945 -0.97871953248978 0\nvn 0.41104060411453 -0.91161704063416 0\nvn 0.60658323764801 -0.7950199842453 0\nvn 0.77481991052628 -0.63218206167221 0\nvn 0.90074348449707 -0.43435138463974 0\nvn 0.97576242685318 -0.21883250772953 0\nvn 0.99409848451614 -0.10848119109869 0\nvn -0.58953845500946 0.80774033069611 0\nvn -0.54946291446686 0.83551812171936 0\nvn -0.46531841158867 0.88514333963394 0\nvn -0.37656545639038 0.92638999223709 0\nvn -0.28441932797432 0.95870000123978 0\nvn -0.19015780091286 0.98175352811813 0\nvn -0.09506894648075 0.99547070264816 0\nvn -0.04742458090186 0.99887484312058 0\nvn -0.04742596670985 0.99887478351593 0\nvn -0.09506894648075 0.99547070264816 0\nvn -0.19015677273273 0.98175370693207 0\nvn -0.28441941738129 0.95869994163513 0\nvn -0.37656646966934 0.92638963460922 0\nvn -0.46531823277473 0.88514345884323 0\nvn -0.54946219921112 0.83551859855652 0\n# 56 normals\n\nvt 1 0 0\nvt 0.81572288274765 0 0\nvt 1 1 0\nvt 0 0.49765086174011 0\nvt 0 0.50234913825989 0\nvt 1 0.50234913825989 0\nvt 1 0.49765086174011 0\nvt 0 1 0\nvt 0.8346254825592 1 0\nvt 0.9365501999855 1 0\nvt 0.9365501999855 0 0\nvt 0.8346254825592 0 0\nvt 0.81572288274765 1 0\nvt 0.13769590854645 0 0\nvt 0.05349377542734 0 0\nvt 0.05349377542734 1 0\nvt 0.13769590854645 1 0\nvt 0.15374012291431 0 0\nvt 0.15374012291431 1 0\nvt 0.7953936457634 0 0\nvt 0.17420670390129 0 0\nvt 0.17420670390129 1 0\nvt 0.7953936457634 1 0\nvt 0.18427714705467 0 0\nvt 0.18427714705467 1 0\nvt 0 0 0\nvt -0.02524117194116 0 0\nvt -0.02524117194116 1 0\nvt -0.10397612303495 0 0\nvt -0.10397612303495 1 0\nvt -0.18271106481552 0 0\nvt -0.18271106481552 1 0\nvt -0.26144602894783 0 0\nvt -0.26144602894783 1 0\nvt -0.34018096327782 0 0\nvt -0.34018096327782 1 0\nvt -0.41891592741013 0 0\nvt -0.41891592741013 1 0\nvt -0.49765086174011 0 0\nvt -0.49765086174011 1 0\nvt 0.84625989198685 0 0\nvt 1.01670742034912 1 0\nvt 1.01670742034912 0 0\nvt 1.09686470031738 1 0\nvt 1.09686470031738 0 0\nvt 1.17702186107636 1 0\nvt 1.17702186107636 0 0\nvt 1.25717914104462 1 0\nvt 1.25717914104462 0 0\nvt 1.33733642101288 1 0\nvt 1.33733642101288 0 0\nvt 1.41749358177185 1 0\nvt 1.41749358177185 0 0\nvt 1.49765086174011 1 0\nvt 1.49765086174011 0 0\nvt 0.16899088025093 0 0\nvt 0.16899088025093 1 0\nvt 0.15374012291431 0.850741147995 0\nvt 0.30622574687004 0.35800528526306 0\nvt 0.45763164758682 0.31676697731018 0\nvt 0.60481113195419 0.25926399230957 0\nvt 0.74554884433746 0.18636214733124 0\nvt 0.87784332036972 0.09937715530396 0\nvt 0.15291278064251 0.38260698318481 0\nvt 0.84625989198685 0.850741147995 0\nvt 0.16377504169941 0 0\nvt 0.16377504169941 1 0\nvt 0.15855921804905 0 0\nvt 0.15855921804905 1 0\nvt 0.15334339439869 0 0\nvt 0.15334339439869 1 0\nvt 0.14812757074833 0 0\nvt 0.14812757074833 1 0\nvt 0.14291173219681 0 0\nvt 0.14291173219681 1 0\nvt 0.82902091741562 0 0\nvt 0.82902091741562 1 0\nvt 0.81572288274765 0.85174286365509 0\nvt 0.69377422332764 0.05365812778473 0\nvt 0.84708720445633 0.01328134536743 0\nvt 0.12215665727854 0.47812533378601 0\nvt 0.25445115566254 0.33536338806152 0\nvt 0.39518883824348 0.21571493148804 0\nvt 0.54236835241318 0.12133967876434 0\nvt 0.18427714705467 0.85174286365509 0\nvt 0.82341641187668 0 0\nvt 0.82341641187668 1 0\nvt 0.81781184673309 0 0\nvt 0.81781184673309 1 0\nvt 0.81220728158951 0 0\nvt 0.81220728158951 1 0\nvt 0.80660271644592 0 0\nvt 0.80660271644592 1 0\nvt 0.80099821090698 0 0\nvt 0.80099821090698 1 0\n# 95 texture coordinates\n\no 1\nusemtl escalator3\nf 4/2/2 53/2/1 57/8/1 58/26/1 59/3/1 60/1/1 61/26/1 62/1/1 55/3/1 39/26/1 52/3/1 51/1/1 50/3/1 49/3/1 48/2/1 47/1/1 38/8/1 91/2/1 87/8/1\nf 56/7/3 40/6/3 39/5/3 55/4/3\nf 3/24/2 92/3/4 90/3/4 37/8/4 41/1/4 42/3/4 43/26/4 44/3/4 45/1/4 46/8/4 40/3/4 56/1/4 68/3/4 67/3/4 66/3/4 65/3/4 64/1/4 63/1/4 54/8/4\nf 24/7/5 8/6/5 7/5/5 23/4/5\nf 91/12/6 38/11/6 37/10/6 90/9/6\nf 3/2/7 54/11/8 53/10/8 4/13/7\nf 73/17/6 6/16/6 5/15/6 72/14/6\nf 1/41/2 21/8/4 25/26/4 26/1/4 27/3/4 28/3/4 29/1/4 30/3/4 23/3/4 7/1/4 20/3/4 19/8/4 18/26/4 17/1/4 16/3/4 15/3/4 6/3/4 73/1/4 74/3/4\nf 2/19/7 22/16/8 21/15/8 1/18/7\nf 69/1/2 72/1/1 5/8/1 9/3/1 10/26/1 11/1/1 12/3/1 13/1/1 14/3/1 8/3/1 24/1/1 36/8/1 35/3/1 34/3/1 33/26/1 32/3/1 31/26/1 22/1/1 2/18/1\nf 89/23/9 71/22/9 70/21/9 88/20/9\nf 3/24/2 1/41/4 74/3/4 71/8/4 89/3/4 92/24/4\nf 4/13/7 2/19/7 1/18/7 3/2/7\nf 87/1/2 88/3/1 70/1/1 69/3/1 2/18/1 4/2/1\nf 6/16/10 15/28/11 9/27/11 5/15/10\nf 15/28/11 16/30/12 10/29/12 9/27/11\nf 16/30/12 17/32/13 11/31/13 10/29/12\nf 17/32/13 18/34/14 12/33/14 11/31/13\nf 18/34/14 19/36/15 13/35/15 12/33/14\nf 19/36/15 20/38/16 14/37/16 13/35/15\nf 20/38/16 7/40/17 8/39/17 14/37/16\nf 22/16/18 31/28/19 25/27/19 21/15/18\nf 31/28/19 32/30/20 26/29/20 25/27/19\nf 32/30/20 33/32/21 27/31/21 26/29/20\nf 33/32/21 34/34/22 28/33/22 27/31/21\nf 34/34/22 35/36/23 29/35/23 28/33/22\nf 35/36/23 36/38/24 30/37/24 29/35/23\nf 36/38/24 24/40/25 23/39/25 30/37/24\nf 38/11/26 47/43/27 41/42/27 37/10/26\nf 47/43/27 48/45/28 42/44/28 41/42/27\nf 48/45/28 49/47/29 43/46/29 42/44/28\nf 49/47/29 50/49/30 44/48/30 43/46/29\nf 50/49/30 51/51/31 45/50/31 44/48/30\nf 51/51/31 52/53/32 46/52/32 45/50/31\nf 52/53/32 39/55/33 40/54/33 46/52/32\nf 54/11/34 63/43/35 57/42/35 53/10/34\nf 63/43/35 64/45/36 58/44/36 57/42/35\nf 64/45/36 65/47/37 59/46/37 58/44/36\nf 65/47/37 66/49/38 60/48/38 59/46/37\nf 66/49/38 67/51/39 61/50/39 60/48/38\nf 67/51/39 68/53/40 62/52/40 61/50/39\nf 68/53/40 56/55/41 55/54/41 62/52/40\nf 71/22/42 81/57/43 80/56/43 70/21/42\nf 80/63/2 79/62/1 78/61/1 77/60/1 76/59/1 75/64/1 72/14/1 69/58/1 70/21/1\nf 74/65/2 73/17/4 86/64/4 85/59/4 84/60/4 83/61/4 82/62/4 81/63/4 71/22/4\nf 81/57/43 82/67/44 79/66/44 80/56/43\nf 82/67/44 83/69/45 78/68/45 79/66/44\nf 83/69/45 84/71/46 77/70/46 78/68/45\nf 84/71/46 85/73/47 76/72/47 77/70/46\nf 85/73/47 86/75/48 75/74/48 76/72/47\nf 86/75/48 73/17/49 72/14/49 75/74/48\nf 90/9/50 99/77/51 98/76/51 91/12/50\nf 87/78/1 91/12/1 98/80/1 97/79/1 96/84/1 95/83/1 94/82/1 93/81/1 88/20/1\nf 104/81/4 103/82/4 102/83/4 101/84/4 100/79/4 99/80/4 90/9/4 92/85/4 89/23/4\nf 99/77/51 100/87/52 97/86/52 98/76/51\nf 100/87/52 101/89/53 96/88/53 97/86/52\nf 101/89/53 102/91/54 95/90/54 96/88/53\nf 102/91/54 103/93/55 94/92/55 95/90/54\nf 103/93/55 104/95/56 93/94/56 94/92/55\nf 104/95/56 89/23/42 88/20/42 93/94/56\n\nv -14.80749797821045 -2.56458234786987 0.06820003688335\nv -14.80749797821045 -2.56458234786987 0.12007328867912\nv 13.05556869506836 -2.56458234786987 15.21544075012207\nv 13.05556869506836 -2.56458234786987 15.25115966796875\nv 13.05556869506836 2.8786358833313 15.21544075012207\nv 13.05556869506836 2.8786358833313 15.25115966796875\nv -14.80749797821045 2.8786358833313 0.06820003688335\nv -14.80749797821045 2.8786358833313 0.12007328867912\nv -10.3766450881958 2.8786358833313 0.12007328867912\nv -10.3766450881958 2.8786358833313 0.06820003688335\nv -10.3766450881958 -2.56458234786987 0.06820003688335\nv -10.3766450881958 -2.56458234786987 0.12007328867912\nv 8.33759689331055 2.8786358833313 15.25115966796875\nv 8.33759689331055 -2.56458234786987 15.25115966796875\nv 8.33759689331055 -2.56458234786987 15.21544075012207\nv 8.33759689331055 2.8786358833313 15.21544075012207\n# 16 vertices\n\nvn -0.33345052599907 0.94276762008667 0\nvn 0.33369651436806 -0.94268053770065 0\n# 2 normals\n\nvt 0.21950633823872 1 0\nvt 0.65553259849548 1 0\nvt 0.65553259849548 0 0\nvt 0.21950633823872 0 0\nvt 0.34446743130684 1 0\nvt 0.78049367666244 1 0\nvt 0.78049367666244 0 0\nvt 0.34446743130684 0 0\n# 8 texture coordinates\n\no 2\nusemtl escalator2\nf 115/99/1 119/98/1 118/97/1 116/96/1\nf 109/1/3 110/3/3 108/8/3 107/26/3\nf 120/103/4 114/102/4 113/101/4 117/100/4\nf 105/1/5 106/3/5 112/8/5 111/26/5\nf 116/99/57 118/98/57 117/97/57 113/96/57\nf 114/102/4 111/1/4 112/3/4 113/101/4\nf 115/96/58 105/8/8 111/26/8 114/99/58\nf 116/96/1 106/8/1 105/26/1 115/99/1\nf 113/96/57 112/8/6 106/26/6 116/99/57\nf 118/98/57 108/1/6 110/3/6 117/97/57\nf 119/98/1 107/1/1 108/3/1 118/97/1\nf 117/100/4 110/8/4 109/26/4 120/103/4\n\nusemtl escalator3\nf 114/99/58 120/98/58 119/97/58 115/96/58\nf 120/98/58 109/1/8 107/3/8 119/97/58\n\nv -10.38787460327148 -2.46053695678711 0.05786377936602\nv -10.38787460327148 -3.11886811256409 0.05786377936602\nv 8.37319946289062 -2.46053695678711 15.20390701293945\nv 8.37319946289062 -3.11886811256409 15.20390701293945\nv -15.11080265045166 -3.11886811256409 4.95054340362549\nv -15.11080265045166 -2.46053695678711 4.95054340362549\nv -17.63106727600098 -2.46053695678711 2.51569700241089\nv -17.63106727600098 -3.11886811256409 2.51569700241089\nv -15.63636589050293 -3.11886811256409 4.89701271057129\nv -16.17062377929688 -3.11886811256409 4.72479200363159\nv -16.67029190063477 -3.11886811256409 4.42842483520508\nv -17.09063148498535 -3.11886811256409 4.02233219146729\nv -17.39739608764648 -3.11886811256409 3.53959894180298\nv -17.57565879821777 -3.11886811256409 3.02344822883606\nv -15.63636589050293 -2.46053695678711 4.89701271057129\nv -16.17062377929688 -2.46053695678711 4.72479200363159\nv -16.67029190063477 -2.46053695678711 4.42842483520508\nv -17.09063148498535 -2.46053695678711 4.02233219146729\nv -17.39739608764648 -2.46053695678711 3.53959894180298\nv -17.57565879821777 -2.46053695678711 3.02344822883606\nv -15.11080265045166 -2.46053695678711 0.05786377936602\nv -15.11080265045166 -3.11886811256409 0.05786377936602\nv -17.63106727600098 -2.46053695678711 2.49271011352539\nv -17.63106727600098 -3.11886811256409 2.49271011352539\nv -15.63636589050293 -2.46053695678711 0.11139420419931\nv -16.17062377929688 -2.46053695678711 0.28361487388611\nv -16.67029190063477 -2.46053695678711 0.57998245954514\nv -17.09063148498535 -2.46053695678711 0.9860748052597\nv -17.39739608764648 -2.46053695678711 1.4688081741333\nv -17.57565879821777 -2.46053695678711 1.98495888710022\nv -15.63636589050293 -3.11886811256409 0.11139420419931\nv -16.17062377929688 -3.11886811256409 0.28361487388611\nv -16.67029190063477 -3.11886811256409 0.57998245954514\nv -17.09063148498535 -3.11886811256409 0.9860748052597\nv -17.39739608764648 -3.11886811256409 1.4688081741333\nv -17.57565879821777 -3.11886811256409 1.98495888710022\nv 13.17253494262695 -2.46053695678711 20.09658622741699\nv 13.17253494262695 -3.11886811256409 20.09658622741699\nv 15.69279861450195 -3.11886811256409 17.66173934936523\nv 15.69279861450195 -2.46053695678711 17.66173934936523\nv 13.69809818267822 -2.46053695678711 20.04305648803711\nv 14.23235607147217 -2.46053695678711 19.87083435058594\nv 14.73202419281006 -2.46053695678711 19.5744686126709\nv 15.15236282348633 -2.46053695678711 19.16837501525879\nv 15.45912742614746 -2.46053695678711 18.68564224243164\nv 15.63739013671875 -2.46053695678711 18.16949081420898\nv 13.69809818267822 -3.11886811256409 20.04305648803711\nv 14.23235607147217 -3.11886811256409 19.87083435058594\nv 14.73202419281006 -3.11886811256409 19.5744686126709\nv 15.15236282348633 -3.11886811256409 19.16837501525879\nv 15.45912742614746 -3.11886811256409 18.68564224243164\nv 15.63739013671875 -3.11886811256409 18.16949081420898\nv 13.17253494262695 -3.11886811256409 15.20390701293945\nv 13.17253494262695 -2.46053695678711 15.20390701293945\nv 15.69279861450195 -3.11886811256409 17.63875389099121\nv 15.69279861450195 -2.46053695678711 17.63875389099121\nv 13.69809818267822 -3.11886811256409 15.25743770599365\nv 14.23235607147217 -3.11886811256409 15.42965793609619\nv 14.73202419281006 -3.11886811256409 15.72602558135986\nv 15.15236282348633 -3.11886811256409 16.13211822509766\nv 15.45912742614746 -3.11886811256409 16.6148509979248\nv 15.63739013671875 -3.11886811256409 17.13100242614746\nv 13.69809818267822 -2.46053695678711 15.25743770599365\nv 14.23235607147217 -2.46053695678711 15.42965793609619\nv 14.73202419281006 -2.46053695678711 15.72602558135986\nv 15.15236282348633 -2.46053695678711 16.13211822509766\nv 15.45912742614746 -2.46053695678711 16.6148509979248\nv 15.63739013671875 -2.46053695678711 17.13100242614746\nv -10.38787460327148 -3.11886811256409 4.22026777267456\nv -9.80783653259277 -3.11886811256409 5.41881465911865\nv -9.80783653259277 -2.46053695678711 5.41881465911865\nv -11.14376926422119 -3.11886811256409 4.95054340362549\nv -11.14376926422119 -2.46053695678711 4.95054340362549\nv -10.38787460327148 -2.46053695678711 4.22026777267456\nv -10.93948745727539 -3.11886811256409 4.96024227142334\nv -10.7346715927124 -3.11886811256409 4.98972845077515\nv -10.53240394592285 -3.11886811256409 5.03915452957153\nv -10.33578205108643 -3.11886811256409 5.10807466506958\nv -10.14776611328125 -3.11886811256409 5.19545078277588\nv -9.97102928161621 -3.11886811256409 5.29970645904541\nv -9.97102928161621 -2.46053695678711 5.29970645904541\nv -10.14776611328125 -2.46053695678711 5.19545078277588\nv -10.33578205108643 -2.46053695678711 5.10807466506958\nv -10.53240394592285 -2.46053695678711 5.03915452957153\nv -10.7346715927124 -2.46053695678711 4.98972845077515\nv -10.93948745727539 -2.46053695678711 4.96024227142334\nv 8.37319946289062 -3.11886811256409 19.37121200561523\nv 7.79705476760864 -3.11886811256409 19.6314582824707\nv 7.79705476760864 -2.46053695678711 19.6314582824707\nv 9.12402153015137 -2.46053695678711 20.09658622741699\nv 9.12402153015137 -3.11886811256409 20.09658622741699\nv 8.37319946289062 -2.46053695678711 19.37121200561523\nv 7.95915222167969 -3.11886811256409 19.7497673034668\nv 8.13470268249512 -3.11886811256409 19.85332298278809\nv 8.32145690917969 -3.11886811256409 19.94011306762695\nv 8.51675891876221 -3.11886811256409 20.00856971740723\nv 8.71766948699951 -3.11886811256409 20.05766487121582\nv 8.92111110687256 -3.11886811256409 20.08695220947266\nv 8.92111110687256 -2.46053695678711 20.08695220947266\nv 8.71766948699951 -2.46053695678711 20.05766487121582\nv 8.51675891876221 -2.46053695678711 20.00856971740723\nv 8.32145690917969 -2.46053695678711 19.94011306762695\nv 8.13470268249512 -2.46053695678711 19.85332298278809\nv 7.95915222167969 -2.46053695678711 19.7497673034668\n# 104 vertices\n\n# 0 normal\n\n# 0 texture coordinate\n\no 3\nusemtl escalator3\nf 124/2/2 173/2/1 177/8/1 178/26/1 179/3/1 180/1/1 181/26/1 182/1/1 175/3/1 159/26/1 172/3/1 171/1/1 170/3/1 169/3/1 168/2/1 167/1/1 158/8/1 211/2/1 207/8/1\nf 176/7/3 160/6/3 159/5/3 175/4/3\nf 123/24/2 212/3/4 210/3/4 157/8/4 161/1/4 162/3/4 163/26/4 164/3/4 165/1/4 166/8/4 160/3/4 176/1/4 188/3/4 187/3/4 186/3/4 185/3/4 184/1/4 183/1/4 174/8/4\nf 144/7/5 128/6/5 127/5/5 143/4/5\nf 211/12/6 158/11/6 157/10/6 210/9/6\nf 123/2/7 174/11/8 173/10/8 124/13/7\nf 193/17/6 126/16/6 125/15/6 192/14/6\nf 121/41/2 141/8/4 145/26/4 146/1/4 147/3/4 148/3/4 149/1/4 150/3/4 143/3/4 127/1/4 140/3/4 139/8/4 138/26/4 137/1/4 136/3/4 135/3/4 126/3/4 193/1/4 194/3/4\nf 122/19/7 142/16/8 141/15/8 121/18/7\nf 189/1/2 192/1/1 125/8/1 129/3/1 130/26/1 131/1/1 132/3/1 133/1/1 134/3/1 128/3/1 144/1/1 156/8/1 155/3/1 154/3/1 153/26/1 152/3/1 151/26/1 142/1/1 122/18/1\nf 209/23/9 191/22/9 190/21/9 208/20/9\nf 123/24/2 121/41/4 194/3/4 191/8/4 209/3/4 212/24/4\nf 124/13/7 122/19/7 121/18/7 123/2/7\nf 207/1/2 208/3/1 190/1/1 189/3/1 122/18/1 124/2/1\nf 126/16/10 135/28/11 129/27/11 125/15/10\nf 135/28/11 136/30/12 130/29/12 129/27/11\nf 136/30/12 137/32/13 131/31/13 130/29/12\nf 137/32/13 138/34/14 132/33/14 131/31/13\nf 138/34/14 139/36/15 133/35/15 132/33/14\nf 139/36/15 140/38/16 134/37/16 133/35/15\nf 140/38/16 127/40/17 128/39/17 134/37/16\nf 142/16/18 151/28/19 145/27/19 141/15/18\nf 151/28/19 152/30/20 146/29/20 145/27/19\nf 152/30/20 153/32/21 147/31/21 146/29/20\nf 153/32/21 154/34/22 148/33/22 147/31/21\nf 154/34/22 155/36/23 149/35/23 148/33/22\nf 155/36/23 156/38/24 150/37/24 149/35/23\nf 156/38/24 144/40/25 143/39/25 150/37/24\nf 158/11/26 167/43/27 161/42/27 157/10/26\nf 167/43/27 168/45/28 162/44/28 161/42/27\nf 168/45/28 169/47/29 163/46/29 162/44/28\nf 169/47/29 170/49/30 164/48/30 163/46/29\nf 170/49/30 171/51/31 165/50/31 164/48/30\nf 171/51/31 172/53/32 166/52/32 165/50/31\nf 172/53/32 159/55/33 160/54/33 166/52/32\nf 174/11/34 183/43/35 177/42/35 173/10/34\nf 183/43/35 184/45/36 178/44/36 177/42/35\nf 184/45/36 185/47/37 179/46/37 178/44/36\nf 185/47/37 186/49/38 180/48/38 179/46/37\nf 186/49/38 187/51/39 181/50/39 180/48/38\nf 187/51/39 188/53/40 182/52/40 181/50/39\nf 188/53/40 176/55/41 175/54/41 182/52/40\nf 191/22/42 201/57/43 200/56/43 190/21/42\nf 200/63/2 199/62/1 198/61/1 197/60/1 196/59/1 195/64/1 192/14/1 189/58/1 190/21/1\nf 194/65/2 193/17/4 206/64/4 205/59/4 204/60/4 203/61/4 202/62/4 201/63/4 191/22/4\nf 201/57/43 202/67/44 199/66/44 200/56/43\nf 202/67/44 203/69/45 198/68/45 199/66/44\nf 203/69/45 204/71/46 197/70/46 198/68/45\nf 204/71/46 205/73/47 196/72/47 197/70/46\nf 205/73/47 206/75/48 195/74/48 196/72/47\nf 206/75/48 193/17/49 192/14/49 195/74/48\nf 210/9/50 219/77/51 218/76/51 211/12/50\nf 207/78/1 211/12/1 218/80/1 217/79/1 216/84/1 215/83/1 214/82/1 213/81/1 208/20/1\nf 224/81/4 223/82/4 222/83/4 221/84/4 220/79/4 219/80/4 210/9/4 212/85/4 209/23/4\nf 219/77/51 220/87/52 217/86/52 218/76/51\nf 220/87/52 221/89/53 216/88/53 217/86/52\nf 221/89/53 222/91/54 215/90/54 216/88/53\nf 222/91/54 223/93/55 214/92/55 215/90/54\nf 223/93/55 224/95/56 213/94/56 214/92/55\nf 224/95/56 209/23/42 208/20/42 213/94/56\n\n# 0 vertex\n\n# 0 normal\n\n# 0 texture coordinate\n\no 1_1\nusemtl escalator3\nf 4/2/2 53/2/1 57/8/1 58/26/1 59/3/1 60/1/1 61/26/1 62/1/1 55/3/1 39/26/1 52/3/1 51/1/1 50/3/1 49/3/1 48/2/1 47/1/1 38/8/1 91/2/1 87/8/1\nf 56/7/3 40/6/3 39/5/3 55/4/3\nf 3/24/2 92/3/4 90/3/4 37/8/4 41/1/4 42/3/4 43/26/4 44/3/4 45/1/4 46/8/4 40/3/4 56/1/4 68/3/4 67/3/4 66/3/4 65/3/4 64/1/4 63/1/4 54/8/4\nf 24/7/5 8/6/5 7/5/5 23/4/5\nf 91/12/6 38/11/6 37/10/6 90/9/6\nf 3/2/7 54/11/8 53/10/8 4/13/7\nf 73/17/6 6/16/6 5/15/6 72/14/6\nf 1/41/2 21/8/4 25/26/4 26/1/4 27/3/4 28/3/4 29/1/4 30/3/4 23/3/4 7/1/4 20/3/4 19/8/4 18/26/4 17/1/4 16/3/4 15/3/4 6/3/4 73/1/4 74/3/4\nf 2/19/7 22/16/8 21/15/8 1/18/7\nf 69/1/2 72/1/1 5/8/1 9/3/1 10/26/1 11/1/1 12/3/1 13/1/1 14/3/1 8/3/1 24/1/1 36/8/1 35/3/1 34/3/1 33/26/1 32/3/1 31/26/1 22/1/1 2/18/1\nf 89/23/9 71/22/9 70/21/9 88/20/9\nf 3/24/2 1/41/4 74/3/4 71/8/4 89/3/4 92/24/4\nf 4/13/7 2/19/7 1/18/7 3/2/7\nf 87/1/2 88/3/1 70/1/1 69/3/1 2/18/1 4/2/1\nf 6/16/10 15/28/11 9/27/11 5/15/10\nf 15/28/11 16/30/12 10/29/12 9/27/11\nf 16/30/12 17/32/13 11/31/13 10/29/12\nf 17/32/13 18/34/14 12/33/14 11/31/13\nf 18/34/14 19/36/15 13/35/15 12/33/14\nf 19/36/15 20/38/16 14/37/16 13/35/15\nf 20/38/16 7/40/17 8/39/17 14/37/16\nf 22/16/18 31/28/19 25/27/19 21/15/18\nf 31/28/19 32/30/20 26/29/20 25/27/19\nf 32/30/20 33/32/21 27/31/21 26/29/20\nf 33/32/21 34/34/22 28/33/22 27/31/21\nf 34/34/22 35/36/23 29/35/23 28/33/22\nf 35/36/23 36/38/24 30/37/24 29/35/23\nf 36/38/24 24/40/25 23/39/25 30/37/24\nf 38/11/26 47/43/27 41/42/27 37/10/26\nf 47/43/27 48/45/28 42/44/28 41/42/27\nf 48/45/28 49/47/29 43/46/29 42/44/28\nf 49/47/29 50/49/30 44/48/30 43/46/29\nf 50/49/30 51/51/31 45/50/31 44/48/30\nf 51/51/31 52/53/32 46/52/32 45/50/31\nf 52/53/32 39/55/33 40/54/33 46/52/32\nf 54/11/34 63/43/35 57/42/35 53/10/34\nf 63/43/35 64/45/36 58/44/36 57/42/35\nf 64/45/36 65/47/37 59/46/37 58/44/36\nf 65/47/37 66/49/38 60/48/38 59/46/37\nf 66/49/38 67/51/39 61/50/39 60/48/38\nf 67/51/39 68/53/40 62/52/40 61/50/39\nf 68/53/40 56/55/41 55/54/41 62/52/40\nf 71/22/42 81/57/43 80/56/43 70/21/42\nf 80/63/2 79/62/1 78/61/1 77/60/1 76/59/1 75/64/1 72/14/1 69/58/1 70/21/1\nf 74/65/2 73/17/4 86/64/4 85/59/4 84/60/4 83/61/4 82/62/4 81/63/4 71/22/4\nf 81/57/43 82/67/44 79/66/44 80/56/43\nf 82/67/44 83/69/45 78/68/45 79/66/44\nf 83/69/45 84/71/46 77/70/46 78/68/45\nf 84/71/46 85/73/47 76/72/47 77/70/46\nf 85/73/47 86/75/48 75/74/48 76/72/47\nf 86/75/48 73/17/49 72/14/49 75/74/48\nf 90/9/50 99/77/51 98/76/51 91/12/50\nf 87/78/1 91/12/1 98/80/1 97/79/1 96/84/1 95/83/1 94/82/1 93/81/1 88/20/1\nf 104/81/4 103/82/4 102/83/4 101/84/4 100/79/4 99/80/4 90/9/4 92/85/4 89/23/4\nf 99/77/51 100/87/52 97/86/52 98/76/51\nf 100/87/52 101/89/53 96/88/53 97/86/52\nf 101/89/53 102/91/54 95/90/54 96/88/53\nf 102/91/54 103/93/55 94/92/55 95/90/54\nf 103/93/55 104/95/56 93/94/56 94/92/55\nf 104/95/56 89/23/42 88/20/42 93/94/56\n\n# 0 vertex\n\n# 0 normal\n\n# 0 texture coordinate\n\no 2_1\nusemtl escalator2\nf 115/99/1 119/98/1 118/97/1 116/96/1\nf 109/1/3 110/3/3 108/8/3 107/26/3\nf 120/103/4 114/102/4 113/101/4 117/100/4\nf 105/1/5 106/3/5 112/8/5 111/26/5\nf 116/99/57 118/98/57 117/97/57 113/96/57\nf 114/102/4 111/1/4 112/3/4 113/101/4\nf 115/96/58 105/8/8 111/26/8 114/99/58\nf 116/96/1 106/8/1 105/26/1 115/99/1\nf 113/96/57 112/8/6 106/26/6 116/99/57\nf 118/98/57 108/1/6 110/3/6 117/97/57\nf 119/98/1 107/1/1 108/3/1 118/97/1\nf 117/100/4 110/8/4 109/26/4 120/103/4\n\nusemtl escalator3\nf 114/99/58 120/98/58 119/97/58 115/96/58\nf 120/98/58 109/1/8 107/3/8 119/97/58\n\n# 0 vertex\n\n# 0 normal\n\n# 0 texture coordinate\n\no 3_1\nusemtl escalator3\nf 124/2/2 173/2/1 177/8/1 178/26/1 179/3/1 180/1/1 181/26/1 182/1/1 175/3/1 159/26/1 172/3/1 171/1/1 170/3/1 169/3/1 168/2/1 167/1/1 158/8/1 211/2/1 207/8/1\nf 176/7/3 160/6/3 159/5/3 175/4/3\nf 123/24/2 212/3/4 210/3/4 157/8/4 161/1/4 162/3/4 163/26/4 164/3/4 165/1/4 166/8/4 160/3/4 176/1/4 188/3/4 187/3/4 186/3/4 185/3/4 184/1/4 183/1/4 174/8/4\nf 144/7/5 128/6/5 127/5/5 143/4/5\nf 211/12/6 158/11/6 157/10/6 210/9/6\nf 123/2/7 174/11/8 173/10/8 124/13/7\nf 193/17/6 126/16/6 125/15/6 192/14/6\nf 121/41/2 141/8/4 145/26/4 146/1/4 147/3/4 148/3/4 149/1/4 150/3/4 143/3/4 127/1/4 140/3/4 139/8/4 138/26/4 137/1/4 136/3/4 135/3/4 126/3/4 193/1/4 194/3/4\nf 122/19/7 142/16/8 141/15/8 121/18/7\nf 189/1/2 192/1/1 125/8/1 129/3/1 130/26/1 131/1/1 132/3/1 133/1/1 134/3/1 128/3/1 144/1/1 156/8/1 155/3/1 154/3/1 153/26/1 152/3/1 151/26/1 142/1/1 122/18/1\nf 209/23/9 191/22/9 190/21/9 208/20/9\nf 123/24/2 121/41/4 194/3/4 191/8/4 209/3/4 212/24/4\nf 124/13/7 122/19/7 121/18/7 123/2/7\nf 207/1/2 208/3/1 190/1/1 189/3/1 122/18/1 124/2/1\nf 126/16/10 135/28/11 129/27/11 125/15/10\nf 135/28/11 136/30/12 130/29/12 129/27/11\nf 136/30/12 137/32/13 131/31/13 130/29/12\nf 137/32/13 138/34/14 132/33/14 131/31/13\nf 138/34/14 139/36/15 133/35/15 132/33/14\nf 139/36/15 140/38/16 134/37/16 133/35/15\nf 140/38/16 127/40/17 128/39/17 134/37/16\nf 142/16/18 151/28/19 145/27/19 141/15/18\nf 151/28/19 152/30/20 146/29/20 145/27/19\nf 152/30/20 153/32/21 147/31/21 146/29/20\nf 153/32/21 154/34/22 148/33/22 147/31/21\nf 154/34/22 155/36/23 149/35/23 148/33/22\nf 155/36/23 156/38/24 150/37/24 149/35/23\nf 156/38/24 144/40/25 143/39/25 150/37/24\nf 158/11/26 167/43/27 161/42/27 157/10/26\nf 167/43/27 168/45/28 162/44/28 161/42/27\nf 168/45/28 169/47/29 163/46/29 162/44/28\nf 169/47/29 170/49/30 164/48/30 163/46/29\nf 170/49/30 171/51/31 165/50/31 164/48/30\nf 171/51/31 172/53/32 166/52/32 165/50/31\nf 172/53/32 159/55/33 160/54/33 166/52/32\nf 174/11/34 183/43/35 177/42/35 173/10/34\nf 183/43/35 184/45/36 178/44/36 177/42/35\nf 184/45/36 185/47/37 179/46/37 178/44/36\nf 185/47/37 186/49/38 180/48/38 179/46/37\nf 186/49/38 187/51/39 181/50/39 180/48/38\nf 187/51/39 188/53/40 182/52/40 181/50/39\nf 188/53/40 176/55/41 175/54/41 182/52/40\nf 191/22/42 201/57/43 200/56/43 190/21/42\nf 200/63/2 199/62/1 198/61/1 197/60/1 196/59/1 195/64/1 192/14/1 189/58/1 190/21/1\nf 194/65/2 193/17/4 206/64/4 205/59/4 204/60/4 203/61/4 202/62/4 201/63/4 191/22/4\nf 201/57/43 202/67/44 199/66/44 200/56/43\nf 202/67/44 203/69/45 198/68/45 199/66/44\nf 203/69/45 204/71/46 197/70/46 198/68/45\nf 204/71/46 205/73/47 196/72/47 197/70/46\nf 205/73/47 206/75/48 195/74/48 196/72/47\nf 206/75/48 193/17/49 192/14/49 195/74/48\nf 210/9/50 219/77/51 218/76/51 211/12/50\nf 207/78/1 211/12/1 218/80/1 217/79/1 216/84/1 215/83/1 214/82/1 213/81/1 208/20/1\nf 224/81/4 223/82/4 222/83/4 221/84/4 220/79/4 219/80/4 210/9/4 212/85/4 209/23/4\nf 219/77/51 220/87/52 217/86/52 218/76/51\nf 220/87/52 221/89/53 216/88/53 217/86/52\nf 221/89/53 222/91/54 215/90/54 216/88/53\nf 222/91/54 223/93/55 214/92/55 215/90/54\nf 223/93/55 224/95/56 213/94/56 214/92/55\nf 224/95/56 209/23/42 208/20/42 213/94/56\n\n"
}, function (t, e, n) {
    var i = function (t) {
        "use strict";

        function e(t, e, n, r) {
            var o = e && e.prototype instanceof i ? e : i,
                a = Object.create(o.prototype),
                s = new d(r || []);
            return a._invoke = l(t, n, s), a
        }

        function n(t, e, n) {
            try {
                return {
                    type: "normal",
                    arg: t.call(e, n)
                }
            } catch (t) {
                return {
                    type: "throw",
                    arg: t
                }
            }
        }

        function i() {}

        function r() {}

        function o() {}

        function a(t) {
            ["next", "throw", "return"].forEach(function (e) {
                t[e] = function (t) {
                    return this._invoke(e, t)
                }
            })
        }

        function s(t, e) {
            function i(r, o, a, s) {
                var l = n(t[r], t, o);
                if ("throw" !== l.type) {
                    var u = l.arg,
                        c = u.value;
                    return c && "object" == typeof c && m.call(c, "__await") ? e.resolve(c.__await).then(function (t) {
                        i("next", t, a, s)
                    }, function (t) {
                        i("throw", t, a, s)
                    }) : e.resolve(c).then(function (t) {
                        u.value = t, a(u)
                    }, function (t) {
                        return i("throw", t, a, s)
                    })
                }
                s(l.arg)
            }

            function r(t, n) {
                function r() {
                    return new e(function (e, r) {
                        i(t, n, e, r)
                    })
                }
                return o = o ? o.then(r, r) : r()
            }
            var o;
            this._invoke = r
        }

        function l(t, e, i) {
            var r = S;
            return function (o, a) {
                if (r === E) throw new Error("Generator is already running");
                if (r === A) {
                    if ("throw" === o) throw a;
                    return v()
                }
                for (i.method = o, i.arg = a;;) {
                    var s = i.delegate;
                    if (s) {
                        var l = u(s, i);
                        if (l) {
                            if (l === T) continue;
                            return l
                        }
                    }
                    if ("next" === i.method) i.sent = i._sent = i.arg;
                    else if ("throw" === i.method) {
                        if (r === S) throw r = A, i.arg;
                        i.dispatchException(i.arg)
                    } else "return" === i.method && i.abrupt("return", i.arg);
                    r = E;
                    var c = n(t, e, i);
                    if ("normal" === c.type) {
                        if (r = i.done ? A : w, c.arg === T) continue;
                        return {
                            value: c.arg,
                            done: i.done
                        }
                    }
                    "throw" === c.type && (r = A, i.method = "throw", i.arg = c.arg)
                }
            }
        }

        function u(t, e) {
            var i = t.iterator[e.method];
            if (i === _) {
                if (e.delegate = null, "throw" === e.method) {
                    if (t.iterator.return && (e.method = "return", e.arg = _, u(t, e), "throw" === e.method)) return T;
                    e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return T
            }
            var r = n(i, t.iterator, e.arg);
            if ("throw" === r.type) return e.method = "throw", e.arg = r.arg, e.delegate = null, T;
            var o = r.arg;
            return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = _), e.delegate = null, T) : o : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, T)
        }

        function c(t) {
            var e = {
                tryLoc: t[0]
            };
            1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
        }

        function f(t) {
            var e = t.completion || {};
            e.type = "normal", delete e.arg, t.completion = e
        }

        function d(t) {
            this.tryEntries = [{
                tryLoc: "root"
            }], t.forEach(c, this), this.reset(!0)
        }

        function h(t) {
            if (t) {
                var e = t[g];
                if (e) return e.call(t);
                if ("function" == typeof t.next) return t;
                if (!isNaN(t.length)) {
                    var n = -1,
                        i = function e() {
                            for (; ++n < t.length;)
                                if (m.call(t, n)) return e.value = t[n], e.done = !1, e;
                            return e.value = _, e.done = !0, e
                        };
                    return i.next = i
                }
            }
            return {
                next: v
            }
        }

        function v() {
            return {
                value: _,
                done: !0
            }
        }
        var _, p = Object.prototype,
            m = p.hasOwnProperty,
            y = "function" == typeof Symbol ? Symbol : {},
            g = y.iterator || "@@iterator",
            x = y.asyncIterator || "@@asyncIterator",
            b = y.toStringTag || "@@toStringTag";
        t.wrap = e;
        var S = "suspendedStart",
            w = "suspendedYield",
            E = "executing",
            A = "completed",
            T = {},
            k = {};
        k[g] = function () {
            return this
        };
        var P = Object.getPrototypeOf,
            I = P && P(P(h([])));
        I && I !== p && m.call(I, g) && (k = I);
        var M = o.prototype = i.prototype = Object.create(k);
        return r.prototype = M.constructor = o, o.constructor = r, o[b] = r.displayName = "GeneratorFunction", t.isGeneratorFunction = function (t) {
            var e = "function" == typeof t && t.constructor;
            return !!e && (e === r || "GeneratorFunction" === (e.displayName || e.name))
        }, t.mark = function (t) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t, o) : (t.__proto__ = o, b in t || (t[b] = "GeneratorFunction")), t.prototype = Object.create(M), t
        }, t.awrap = function (t) {
            return {
                __await: t
            }
        }, a(s.prototype), s.prototype[x] = function () {
            return this
        }, t.AsyncIterator = s, t.async = function (n, i, r, o, a) {
            void 0 === a && (a = Promise);
            var l = new s(e(n, i, r, o), a);
            return t.isGeneratorFunction(i) ? l : l.next().then(function (t) {
                return t.done ? t.value : l.next()
            })
        }, a(M), M[b] = "Generator", M[g] = function () {
            return this
        }, M.toString = function () {
            return "[object Generator]"
        }, t.keys = function (t) {
            var e = [];
            for (var n in t) e.push(n);
            return e.reverse(),
                function n() {
                    for (; e.length;) {
                        var i = e.pop();
                        if (i in t) return n.value = i, n.done = !1, n
                    }
                    return n.done = !0, n
                }
        }, t.values = h, d.prototype = {
            constructor: d,
            reset: function (t) {
                if (this.prev = 0, this.next = 0, this.sent = this._sent = _, this.done = !1, this.delegate = null, this.method = "next", this.arg = _, this.tryEntries.forEach(f), !t)
                    for (var e in this) "t" === e.charAt(0) && m.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = _)
            },
            stop: function () {
                this.done = !0;
                var t = this.tryEntries[0],
                    e = t.completion;
                if ("throw" === e.type) throw e.arg;
                return this.rval
            },
            dispatchException: function (t) {
                function e(e, i) {
                    return o.type = "throw", o.arg = t, n.next = e, i && (n.method = "next", n.arg = _), !!i
                }
                if (this.done) throw t;
                for (var n = this, i = this.tryEntries.length - 1; i >= 0; --i) {
                    var r = this.tryEntries[i],
                        o = r.completion;
                    if ("root" === r.tryLoc) return e("end");
                    if (r.tryLoc <= this.prev) {
                        var a = m.call(r, "catchLoc"),
                            s = m.call(r, "finallyLoc");
                        if (a && s) {
                            if (this.prev < r.catchLoc) return e(r.catchLoc, !0);
                            if (this.prev < r.finallyLoc) return e(r.finallyLoc)
                        } else if (a) {
                            if (this.prev < r.catchLoc) return e(r.catchLoc, !0)
                        } else {
                            if (!s) throw new Error("try statement without catch or finally");
                            if (this.prev < r.finallyLoc) return e(r.finallyLoc)
                        }
                    }
                }
            },
            abrupt: function (t, e) {
                for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                    var i = this.tryEntries[n];
                    if (i.tryLoc <= this.prev && m.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                        var r = i;
                        break
                    }
                }
                r && ("break" === t || "continue" === t) && r.tryLoc <= e && e <= r.finallyLoc && (r = null);
                var o = r ? r.completion : {};
                return o.type = t, o.arg = e, r ? (this.method = "next", this.next = r.finallyLoc, T) : this.complete(o)
            },
            complete: function (t, e) {
                if ("throw" === t.type) throw t.arg;
                return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), T
            },
            finish: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), f(n), T
                }
            },
            catch: function (t) {
                for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.tryLoc === t) {
                        var i = n.completion;
                        if ("throw" === i.type) {
                            var r = i.arg;
                            f(n)
                        }
                        return r
                    }
                }
                throw new Error("illegal catch attempt")
            },
            delegateYield: function (t, e, n) {
                return this.delegate = {
                    iterator: h(t),
                    resultName: e,
                    nextLoc: n
                }, "next" === this.method && (this.arg = _), T
            }
        }, t
    }(t.exports);
    try {
        regeneratorRuntime = i
    } catch (t) {
        Function("r", "regeneratorRuntime = r")(i)
    }
}, function (t, e) {
    t.exports = '<div class="floor-control indoor-control">  <img class="arr-top" src="">  <img class="arr-bottom" src="">  <div class="floor-control-wrapper">    <ul class="floor-control-list transition-animate">      <%Array.prototype.forEach.call(obj.floors, function(fl, idx){%>      <li class="floor-control-item marked-pseudo-background-color" data-index="<%= idx%>" data-floor="<%= fl%>"><%= fl%></li>      <%});%>    </ul>  </div></div>'
}, function (t, e) {
    t.exports = '<div class="tmap-zoom-control">    <div class="tmap-zoom-in"></div>    <div class="tmap-zoom-spliter"></div>    <div class="tmap-zoom-out"></div></div>'
}, , function (t, e, n) {
    var i = n(806);
    "string" == typeof i && (i = [
        [t.i, i, ""]
    ]);
    n(224)(i, {});
    i.locals && (t.exports = i.locals)
}, function (t, e, n) {
    var i = n(807);
    "string" == typeof i && (i = [
        [t.i, i, ""]
    ]);
    n(224)(i, {});
    i.locals && (t.exports = i.locals)
}, , function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAAgCAYAAAD+Fz2gAAABmElEQVR4AeTVMYrqUBjH0VtZzizBFbiEWYRby7osRRVEFE1SCqqJQvQ8biOveLxp7oXJ5JRJuh//LyElfKI2XDU+wk+GqeGahj5AYXiK0BcYYWY4ZhiFPsEYlUzu97vX6+U78ZvMSoxDH2GCk8SaprFcLu12u/8GOB6Pttut5/MpkxMmoc/whVZCj8fDer02n8/t93v/UpZlfB9DattWBg2+wlv/I51Sn7jVahUjOBwO/lZVVXxusVi43W4yOPU2zjfnrpJQXEZcSIwRz1lU13XuOCUm4TfCGLMc/6MYZbPZvONcr1cZzDAOvxlGKKQTlxKjvONcLhcZFBiFocAUtUTiYuKSzuezxGpMwxDhEwU6CXRdJ6EOBT7C0OFPe3RMwyAUBkD4X3GBBFhYkYMJEhyghPUJwAIbEwYw8IY2vaFbhybta8Nwl3wKrkHCVUpo4iVHtVhwx7+7YUEbb3NUjRE7ft2OEXV8lLM6TFiR8W0ZKyZ0UTRnVegxYEbChgMn8tOJAxsSZgzoUUXBzMzMzMzMzMzMzMzsAXLnMf6Zx2aAAAAAAElFTkSuQmCC"
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAAgCAYAAAD+Fz2gAAACU0lEQVR4AezRIQ4AIBADQeD4/5uxDQnucDPJyqoOLgAAAADAbI0vh6yoov2ostg2HeaYPOO0Xw6wcwRRGK8dlDGLGHUbFrFRxGZju4pdI3ZSxmlY27bPWOTWm7v3db5gk2O18z9+Z+zM+94vb2berGvXri1yHGdHGIb74jg+Wq/Xr4jIK/X4DqCqHhEffM/v+Bv/w//yGnXtdo7BsboC+ztNoNRqta1RFB0WkZtMPv5fEcfimBz7z2FNwCRQMpnMKpXAAyLyEZrFOTgX52yB1QpqAqZarW5US9Jl5g1Tr4aa+xJjGHdQrUvZrEqlsoF7BQZEjIUxMbbWpW+squbBgwdL4zg+yZxg8FRXsZ24e/fukjGopvblzHGc3QAKSFFhGEKDCoy107I3knDOnj27gFWDlGVZFt68eQPDMKBDjJmxjxakZjizPn/+vEpEniBl2bYNwnn9+jX4ME0TOtRoNJ7SA720QBp+OPl8fp2I5JGyVC+TwPnx4wf4ys+sKB2iB3oZckjNcKrV6g4AqWfMcZwETrlchhKXuAQSK0uTrGKxuFN5m90EaQjhzKYRAAFSluu6ePv2LQhDzdH0W7VanQpI/hBCaq4cteSs11E5vu8ncAqFAjqpUqkkkDzP01ZJ9Dgky10znOfPn68RkQI0KIoifPz4EblcDr3EZS+TyUCnuCfR64BDaoZz8ODBRTzxaO72MSiiV3oeXEjNTeicMAxPYcxEz/Te1CcNWPUwsNnqFLUXYyp6Zw6YiyQvg7S0Xb58eYWIFDGmovfz588vT3Op+wWhHSH6nVaMlQAAAABJRU5ErkJggg=="
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAACnklEQVR4AWJwL/ABNGcOPnMFURSv7ai2+Vc07KyS2oxq22ZcI6gdVGGtsLaj6rMxvaf5brL69OYskpzsXZ33m7mjd58n5RgzNNPnWys6l+Hz3ZPXTxnGFIj+iJ7LZ7dEJ0Qzc4PBDl6vU6sf548c2TXTmF2ijwJha6Fy0WP53zI7cmRrOiBMpYe2V/SQddRv6dUFds6cxhRAafVYMf0Fc7K+iPdwz4DW2rpishlmCVRpls83r7aASGlTad15mCRDcq2jdtashjUGxMwMM0gaZI0A5Ycrkw0XpvlVAmYZM0J+VObR/E2Gz3cKQux1TEZPnIhxJz/44bX1WJDVC7HL7MYSFAMoXyx1HENz1AuxixfWyQjADL+/jZj+dTRdoqaIXRdz3XG0xSucZ6HPt1YBERNm9TJ4aXqfOBqiB7eGDZdthBn9+D8gThrYzAk9uE8BERMAy8GG9M4imEEHFBAxwxNsGNAnGGbwUUCmJ8xukczOKiBikuctpOM5KcVXFRAxyfM5zP6wWquArKyADYAFJLM7YT14l+RZgCXhE8nsqQIiZniCDem4R0rxCwVETPK8xzycflBAxAxPsDH2TdXvrFCoD4SYBLgWW90wDiBfKA4gJYSJwheKA+HHrT0E01fZgcAACDEBcFf4gbW7fFjoYpjl882FF4R7Xdf1D2UWBdQ073Zs8SW7bl09CLHj5NgOpkjAkSPbOR77oXeQo8ev8AKTAur6NSUNJsfY6m7c96YQcHO1lQXp3voZPt/1FPTceRSsalY8Gj++VTIhsaWhcFCr8ht6MgnpLkMtyKmAiYkjJhkJgPuBWhCjBKxL0B7XxRyqWMqWIqX0Ijp2HIB62LvLRU9QwUCZJWFV/nDhFBTxGMKYz/EeQ+De1uUxxD/5bqFw0Zjc3QAAAABJRU5ErkJggg=="
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAAAsCAYAAAA+RMe5AAAcnElEQVR4AezYA5QkyRYG4Bjbtm0Wxmq9t972sN1jW2vbtnd7bKswts1q22fm33vjZPZmu2qse85XSGdG/BXRLfKrdgtRUjcd+g4TMP+PzfHn4qKvpl+7Zku12bKLtEWk7rp0NLWqKSRVbB+ZKnb4Ez8N/zw/55BO666SN8RO/75id1BZIu6Zxx7LtWAhiupnYiTZrZ+BG/pZQL+5wEprLOJjbLDZwhEe/h8biY2IxuLzJlQxh0DsGAlh8qd3B5kDQOeHfLf4HxFmv3Fi08jSRNx1jz2m/aKbgFqGGVhsnA0YKBD6GWQ60GMq0HvWDay0xCAu+hpopMglISIGi89ROEzBoJHD8WBoWQMh9gRzSDaLDSOaEXFXPfaY+sE4FTUpCFbjXA6Dxgx298PBZDgsAcfFNr+mRNxNACoRoahKJpEwxW/kac36ykQ84oqS/mQo8VUYlOXiQSNf3N1RTD8NYWoo8qYJh7XgcCyR4Qi5beGg923CNKkMEfYCYCQzyAIyPx+8bjJpR4SiFfmH2Mg3pCT5BXlXAFlCwslS4qGESBSiSgHrSpFyt0kJIuxQXO3UGn1JESI0ShNnMkzZxod0V9a9iNx14/r165OIsBeAisRFPcddxOdzIpWygkGh8DTMVgNwm8JxO0eOvXwcv4lE2AOAO0mH/RVNDCSAxBCcOHECSr1Mzh04cADu7u7S5MmTkZmZCaokgv379yM1NRVKXSDPEZGH8uR7Ekn+yhGQMuQjcpJcJpdu0WVylLxGShNRgHnIu2ZptuGQfIfclUm8yf5Lly5h/Pjx0pQpUxATIx/lViLsVJ/swr2tXUlJSbVF/4UoTh3ebJTBcCwcqyx3aeSwBvL7abFpdHkiCgNgU3x8PIKCguDh4QEvL688Pf/885g2bRoyMjJAZSM4ffo0QkNDodfrcfToUdnwbNWqVWjVqhXatGkDX19f0K8buM6cOQOdTgcXFxe8/vrrSExMBNURUpwIjQpkCcHx48eh1DrNCONKcPLkSZhMJlgslltiNpvlsZSaXMgUaP/Vq1cxceJETJgwQQY/KioKVDtzTBejDx8+jLFjx8rt5syZoz67v8kBXteuXTu0bdsWXbp0weXLnE1YHAjGQoLPPvuMz8HXc9fw+b7++mso9YUwzEAH/QxkEO70joejsJHjvAlV7QmHJRDCFFBwOLb7DbBjtChKDnCH5cbp0KEDOnbsmKf27dujf//+aidAWlqaDBJ3fl4XHBycFYAffviBG10unzRpEtR69913uSPI5YMHD0ZCQgKoVhChUZEsI/j555/5urSNsFFZP5xgzJgxaN26NTp16nRL+HqGDBmClJQUKFNDkY9i5BiHlffhe+T9L1y4AKrdmu2qkdiNGzeiZcuW8p779OmD5ORkKPd24MiRI+jatau8P/5huXLlCqjMDgTjl/T0dAwYMEBtg7uGzqd9XmmCAhFonONYKBwNx9Lz5rzDwUGwBsnPXf5+Dg1Weuf/r95dQRyMH+wMxr6zZ8+iZ8+esqG6deumDQQ3PC/jBpQPIzo6GmqFhYXxNryffN+6dSu4Xnzxxaxfw48++ghcERERGDhwIDp37swPV4ZHqcM01TIQwQCMJvj+++/5mLy9fP/qq6+g1CoyXQ0GjUw3HQi+J/Xe+NpoWmBPMI7y1JH34/vm53bx4kVQ7coRjJjNmzfzj408/qBBg9RgLL1NwfiZg+Hs7MzPSG03fu75UcN80/j4fB4+n5ubm3o/aUI3Hcvlv2an38VwmGUgUHHDcPh87oTVIa2Q7lQF7p850brAgkaWTCIKkjMY3Ei9e/fG0qVLZSdnP/30EzegfBjaYBw6dAj8i+jk5JQ12gQGBvK0hEcS2fF42dtvvy2XzZs3jxtGHstgMGDJkiW8XJ1erNf88TqecBB4f7m9GrwvvvgCSsURvPrqq3jqqad4mqeSf9eo0z9vb294enpq12u34xGQj6123Ac6GHyckJAQvPbaa1ryGf3b3llASXGse3yexZUNcXdXnHiCO8QTnGtxwR9xdyCec+IJEnf3ABcnDg+P4n6TFXbne/U7t/65ld6e3umZ3et1zv/MbE9Nd0/V969Pqxdcd911xhzcfvvtdsstt3AsX+hczC/XihKjFGJMbTo4FRkKN6u+m2L1plxiu75yul1xQ3ObdeYuZi2c/3nyVjbv1J1sy1fPRCvkIgXaBGQSECUGPxhhkYlTKTs+IIacRDvrrLOMVaRBgwYICaBPuBID3nNMmkfQZMq2/xKhC+zzN6U1dD7uASHDplbLZrMWNkw5JmvOnDkEBPBPGE+RL2wck2b7eycG19yyJmJwnXfeecdyNcaCBeuhhx4yfKRCGgsm4xUlBhGpyXkRI9EHSc5zLFq+wr5ftsJWTB5vM67uZj922sYgQ1Xrelbe1r1vsZVd978NLPNxn0RigJQaQ8SQU4zJ8nkuYjDI++yzT1TdhqRAqHOpZcwsJlMRrS8CYigv8jofPP7449XIMXz4cEW65vlI2PUe8/CBMIv0e0aMGGG+PRb0G+XAKpqWGOCrHMQIne96BRJjXBBx6uIwkvnxwQ6c9h2SiPHmm6wnxkW6+JDycQ6fGLbnwIH4Y5ieYUAkn7bQ4XdELl944YX0xCjWIV+0bDmEsEUT3rXVV5xjZe23s+zJm1tlmxIIAWy9e7+mfX3bb1Rny3wSJUWf2ibGy3yWixisPFdddZVde+21AoKGUy0tgVbhWNinWn98D9fGa8Ij5HhNTrg0DITq2bOnIRQxjvvr3B/mIP3pi8PvW6Og3/EpibEhQukFdjarb0AMOd+f+j71fWh5RQpi6BwQ4EMv3KZQOJEz3+7Kgxio+018n6GGnfruu8Z1dD2igkQY+/fvnxNE0hh33wZjvuZHjEGFkyIkB6Hf5yb9bEunfWSrr+zuCFDfKk7e1MpFiADmfIsx5x9omfd7JWiLWiXG9HhixDeE/LjjjjMJ8fTp09PkRi6MSZJtprDtqFGjDB+lV69etmrVKvkZx0f6v8X9EQHi+kxiQIxjg36tUxDjAG8mEYIpk3kZozFofM7NPcPrBx98EEeMFyFRDo1hWA2vvfaa4Q907tzZuA4hbmrtWP3zIMYarzGYP5s6darmJDRjczrnwt57720EN3y7Jk9iFAcR6TB3rhMv+tFG9RxoFZ12sIqT4gkBKhxKW21lxz7QStqizohBXsMn735mxRIxcLSJt0+ePLlaLmDSpEmGBmFQmWz6fvTRR3yWCPIQixYtMp9k3MHf0wYe/+3Nklfp8Pbbb0M+EamlhKSOiTHSOPFbb9mLL75o4O677zYRo2HDhkZQgONE6Uhg0rRSh8RYvXq1tEIpWkeBBQR/2LBhhiZs1qxZGArmuxyTX5BIjNdfx/o02Ug2evRotKf8O5EMv7AadJw+CnZAbE/2VmixOiFGqFUauPdHDayyYf0ete86HOAuu7EjRD0IkBNVLbe0+b9tZCXv/d4Ro2edEePYY481JpfMLGByRYw2bdpACvoy2BwTmMBwVWKQdSwJ2LzKU+BJI8VTve8w1wPvXEuy2m8Qjr8SMZ7EnyFfgI2ulTUMJEiQ99xzTxJ5scRQ3ob8DxG9W2+9lePhORT65jjvJaRpiWEzZ840fECOhdfgb3wNSEmCkfsA9CfQoXA9vwVzyjdKfbYnXlGnGuOIAWatL1pob592hnuzqVW12SqREEJFi83t+zEP2rPzJ1nJhD8Qyq11YmhgmIjmzZsDQquKLkEMNINsfalgESIqKECrVU41vscee9j9999vagg2JhhlJcKMGTNsypQpHJdv8VYOYryRQIxmQb+TUxDjcYiBAPJbNEZRcJwxQWuqEe5WyJmVm9IPwssSUl4jgQqOszgRamYVT60xpN1IwilYIcIpVI4mCBvnxmxTzqhdu3a2bNky86UyO3pU1JnGOMKR8Kyrl9k33RqYtdigBjKU/IUUTlus7tvEYPqqxcvt1YUTreSPucjRp2hiMJiyNXkvYjAJrC7XX3+9IQBXX3218Z6BFDk4BwLAZ4CVK0wMde3a1fiOPmeF/eSTT0yNlQstEtEsIhSrsCIvwxxewMLyRMHAXkFUKiTGnXfeab5N8n3A1JQaA4dVvzEnOBe/CXIifKy6CLzGhfEUuaIEQzAJSBByxbTEZFUQIS0xGCOIwbjjq0gbSIMz12PGjDHC3ZTyQFa+r2uxEKHBKysruzhwrV3rjBg42i2uyNq3yyvNxr9sZV12d4m6LXKTAgTaYsETI2z+jy6cu3gReQ5HjkkiR61qDF5xcEnmACJLIkac8z1+/HhjAvkugwYpwka0BTMCgZDvQZ4h0sq9sFaREcdkoa8gIWJFJjGohiDjc7C6ARzYadOmcT98D0FEUDEJcV7VDweXcgYImg8xrlJdGIsCpgcCEvgYCKRMEwSawkAEM5dW4BXyYm7KxwhrtVbh20EENHYhxEBjtG/f3nDG1Z577jnulWuLINTH8bshkMZY38kSidK16pQYR15i9ub0rKlVfjnFys48yMpbbJZMCkee1X2b2qyZs+wHNzi/JAGXJJCjSOebVVeN6Elc5ptGsSCqWSt6t27dFDEyNUVGMA/k1EEUQplBY99GC4aFlYwJpD+QAGlFJsmkxopMX4ggIEz0DZ1NfSZwvvfee4+sfD7EqO9zIJ/5RGRljnBtqYor+/TpAymraQWy7TfffDMaEo3CsWhUCs99W4f3mIMCicEcKYBCm+awSPOAOSzNJx9EvwXy+Dbf4RBdq05MKUyowy42G/JY1qKtav7XVtbzSCs/ebNYE4r3Va22sG+fud8W/LAYFVstQ/7aL+ToWVvEUPTkC2xMhCAkBp8xICNHjjQdl5lE4ujKK680IiwhMLs6dOigvjIv6BtqjwWEBFHvkIvrsLrzOdflu1FiXHDBBWiRWO0iyIQIwWrOqpoPMQRFyxIy3zB9AG/OOecc7gsSSvhx3hVRU0lNTLhW+ZyiiFEFeYMy90ppPKJn9A/JEGo+5unzzz+34LtvwnPC4oUl+BJI0WiA2QnDsvb9cottld/Ns7JeDQNylJhes603s4+7dbAx7/5gK5b9IELEkmMbaY7iiSEBYRWfGuYxGFQElbAiA6TjvNaU6Q4nQ3Y2x7nuI488Yr5dhZvhK1BfgphEcbhuHDGoDSLeHo3FJzn7YK+99kLbpSSGyJFIjHNVXDlu3DgVWUbPT79ZmF4xxJhQLDHU+Iy5e+qppzCZ0OwSahWHct1wbngPQRhXcim639Acqz2NcehFZg+9nbWkVvXtXCvvcURgVpG3qGc/uWTfaf3GWaPBllxbtUTkOBdyFEsM1Up9xAQiBJFwraIlDBKOt8ykWERXbyaIiIsmh9UbreJbq4ggPuKcv1zEwElEwMlvAOxjYvdcQ2YbWoU+aAj1Q4DQvhTG1WatFEK9r4NUIEWWaRN8Kgl5B3MoJIY+TyIGv23hwoU2ZMgQo1CSeVKkS4sW12NhQ/CxBvCzmD80nBYs+gNMXrYNkFxFg9eaxmjQ36zzDVlb97PV2KrmfWVlZxxgcsit9cb20Bn97eBLzTjPMUOTCw/XOHK8vnCyyFEwMVD5ZL7V0BAhMbBTWVUQOgQa55uJ428qWRFW8iAhXn31VeU+cAqxfxlkIjGs+GHsv0M0VBolxiuvvCJn/VVv068NYJFwbVgrVRr0K1NUqg6KCEt8jdJq/Ih8S0IIEHBuH21bjNnFuEY+n5REDPwmyMiYauERMTBHqZRlfiKNcxMyJ2Ko78hvRAOzp4QwPfNYO8TAt3h+QtbybZVfTLKyTrtYtuUmNrNjQ2t+/mJrOCBNVW5Ijp4gk4DYsnNWW0qTqWIFVKCGeQzyCahmJoD2zDPPmEwUklZBy+qNBIRBZgVXg4DPPvusjR07Voda10AMJkdCXt9vWqoX4H1W2hx5jPZBv1PrkBhgi7RFhMyBGqsztWgIqbQsGi5JY4gYjDWmouZr6NChaEuicpCChY73updodTILHb4f3+X6aBK0uohRfBHhUZeZnXZL1krLLVXLfvySreuws3Xv+64d1r96yBfN8cqEVbZs6eJEzbHjxPNBJglx4Vqg6leAMIfhWq4RNrZ20kcbleIa1bA6H1nuHI0s93Z5EqNMlaYRvJmQ4Ds66NeyjolRUigxODfjzHH5bR07djTGgW0qNZWdE1K+5557jGQo+Rc19tlzXq5J7RTnJCw/aNAgxggTlMWOMZCPAhn4jL0tkAptXVwRoSJRL/wxa2nbn8rNLrvmCzvkwqpYAh7iznvufWW2dMliWwIZYrByyXL77PvZIJOAtAk+BlZm1mQiKOQCNDGEQNkPfMUVV0TBIEo1E8rUcUwxNs1oMt5gwtMTo25LQlIQY5LXFFsVozGIVqnERmYNWtm3znk63yoXf8LhFIexaAOVtQTFgloEeSWxqjxGmQ9+aOMGxCze+cYn6Hpj1n4qs1TtywUVdtZNa+2Qi6qsccx5D7/ErPfIcpv/7RJbKo2RA8uWLAWZJIgY7PlmglV+wK49nFxw7733huFaDQaDNpNkWhiVyrF1UmHa6PZLaSQ98GAWgvePSAzGD99FTxzhMTjkDgogBuFSLSJk22Vmasw3SCIGQQZfBXyiw6aBWYfda8wlznT37t0JmjBO4ZwoWqffIoIzbjdgaRFlK5gYaAsiUU99mM1fS5RW2b2v/GRNL1lnh19YGXNOT4oR5bbguyW2fJkIUCMySfDVq18y0az4/GA2+fCDY5xviKHE0edoW0KB2J9MbgqISHoVMWamJMb2fwNi/GeOjUqUVyDUGh9UyIoE5/tzNIPsd34b5NLKzGeUaiD4QQK0hHvIcz+G+lLG/2zcbkeug4OP6YUJReSJJ7dwbe498riibYpO8OEst74qa6vWWWLTzb41tdS6XrvWDj63zBpeFn9OSNErmRQ4VIUQYyNseyaUSfarlLaCPsMEIgQBMZTZrpDzrChUniCqJceyGGKU+mxsU4fzHQ4ukhjY3UpsvpZADMZrdkgMQqIEK7DX+Zv8BFGlhP0YCPkU8hQ8KIJEKSu5J9RX+Elee073Gfd2un4KYmjR2BSSIuwkHakUIHcDCSAD5IMc+CKRVsUejForCZG2GP5yzdpiwldl9pvh6+yw8362Iy+uynm+fEgBWLUgR0pibIbKx8lCUEGXLl3MtxHRBB91TiSaWGUQAAaWz/OEstw8BAH1XQgxFK5lJqeFJVk+2vR6IcRIcKKFPRz6+7IQ00ISmpAiAGPCmMYRA5/Mb6vtTfApZrNWt4CAff2OvXscHuQRUn4R2DwFMZjf75hfNFMQVJHvyFhhVmFeEUghtyOzbhnmVNHEQIjxC5q7zxcszqkjDEKce/c6O+KCnwyzqfEAfb9wTcFEERHiB7ECpCAGIc81VGMqssTK4tuVUWIowUf4UEKRJxR2JFHF5qSCiSEHkyQkBYeYc0FZ+Ut5EuMEBxx/+ijgoBD02tB/cdfv6IWWRYGoGjVhnD8uwy6NsSSBGM/6c+/m0MDjKIedgvvrrvAp2psVnfe+XZtSY3xH6b7KUxj3wOEWqeUfkgPRGK9jHIomhgS5/8PVtUV5RdbemVZm/e78MyEOCwiRqCmG42hDikU5SYGaZAJw9EJy5EmMvTE3cfA0SMF2xt9HiRG/HyMvhE/cK5gYTCBmBzvo0F44i6z6EvwUxNhHBYvcl8ohiJRJ+IJttm8g0IQ1yURH95gocoTgDR48WCYRDsPyCDH0aNKxnLcG3OxAdTPmK+YtyTcVcL7n+zyRQIzQP8B0M2QFhx/y87sZF34TJiChW0xJ/EyiVhAjcp5wo1L6x+cceanZODSpb8vXVNpT7/9sp92AyVRqhxNtEiESIFIs+FaaIpkUbCEFATlUYp1Jgn9AAIImQQ832nSK7PlmghhckkZspk8NShXwUaLEyDcqFW6E0gpNNte3Y1IQYwNSBph2Kv2WRmN1lbXra5/GoeUUnFDoWnsrEFiegUUCzrelvvDuB6poPTG4J367SHN9DZiMhqBKwJdz4Msoh/RRDcRAWrv6wj80Yy//6M8fLEeD+Ny/HHF+r9/a3NGf5zTM1ySN8XLTIblDtKfeYlZWYfblwvV245if7OQhf7KDzyt3JedZ9cuLFD3RFClJEZKDCXGTXuGQSYKPcSPoWtXDh5qh3j9LfhhCQQ2nU2XZCJwiMp8S9cmHGDJ9WN0gtW/NUxADYL9b3759uRet/mgiiv9Uer8egcL3UNkL50RzsO8kktDk/gnT7sL5FdYV6bh/HgWEENbQMJ2oZRJp+S1hqc6LuYhBgq+OWvJzpRoPtj65HtGJf3HSFWa9h2et8aXldsj56xVlyg+DoqRYlJYUAisyzH/IIZMAPbkbv0LPp6UQLbSzv4gQQ5PziXcUT82B32JB8rADykcwzwQEkdVPVbZoISpovVOaqYkYWkF79OhBzF1hyO8JUaZwvsHhmAcyDYF8BZ6XFZhVVWhg6sOo7WLh8CuqVmfuu00kxwBGI7ja+SeC4OiyLyMJXEcJV2lIEqO+DYvxMYCeRIgWrW0kP4mw4SA7KOmhzphJmFONC9kLfmlxmiIAJc+sZsc5ZJJAIR6CzmrEj2XyFyxYYD5U+N+sehFihJGVTALqM2DstkPIEOYQnE/7Ith26duZMed5AmJwXbQZ99CvX7+4TU5HpgzXCnxomEIyz+RvsCVUxMBvQAsHuYAv/d6LPRLGoLu0I5ot+rTGGiBSSBClnSpx1gt8di2om2fXnvq0/ZcT4nH6NwC1hcNrjxQUgfH6f65wbFOHTA4o0rCWwjNKAZg8bFof/bjXD/5MzAEGBSHGQfPEeLoGYnDuMh4pE9kvAWSO6HGbcig3jjnPg3rqYe/evSG8+ldQki4hCfA2xMBXUFVoUNh4XKSvojbvqxiSMmsIiFOPY+rbKF8ascY7zm3y+B8ayjh/hTbk4WXhfpE8wb0wTmFJyD3h086JWP3Nn3aOxuCGnCB3bTpU4dXiIPOpx521QgpA1IjX8xwySTCzMxyMiBT/4+Lcc881SkFoQTz9c0KU7GGmKpbaJuzfPDQG0YzllDNzfipoBSaZXERQjPihQpUxIAAQZuLLPFkOzvWUEDQgJKIEHsc4+E3Nc3ynBKKrqhX/gjL44Cl8Lcj8KgSaBk5wG5LT0D5sAhv6vxp5gGJAlZsrI79ZcH7C6SwumKj0/2uB64XFoPdyM3/+T60DbUzyvxpLLjDUMZGiBp+C2HgaUrzv+m7kkEmA/k0Yox5t04LEzhVWvRFzPD0PwRjghaI8But8IeKFepxkAnr4HX13ihAJuCTh+av1E75HaPZsIlD+/tRm+T3YmSKwvzf3Sq2wRlb0/Jh/hbaLd/j/lm0C4/PLTTW9xOq5sO3HzYcVqjlEigppikRSYFPnQQrs4C+dubGrQyYPKMl0Kv63R0dW0EjR3InB52fhtKYQinpcIwY7KE9Qy0B4enoN8Jx/vA621AEpzrG7L0vvJC1RS9jVn/csSJgH6NdYxYA5wALWWv/k8q8IrtdCGuxXN9VoiJU4UozF3wAQJA0pujtSzPtGpChIU+CQEYESKd504bpdHTL/xr/x10TswSaD7XSnPcY3HWTrCeWS52g6KMDgX6PBAMo8Km3h98tt1YqlLktNIq4aqLlB+BH4KHBCee4r76vc++kO/Vxx3v84ZP6Nf+OvjdwfnGr/5YT+CJfnONdpjg9cInBu40E2u/HAX8NV3s5ucVXV7Jnzls5esWzx7MWLq8Npitk0pylmO2JUgzOr5rrXCQ6XOW3RyGWiN3DI/K3wb/wb/w9jMCXV4M1/FQAAAABJRU5ErkJggg=="
}, function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAAAsCAQAAACUTQ8yAAAUiUlEQVR4Ae3cBZRUV6Lo/d/e51RVKw5BEoLFFQLRycT9Tua6u7u7u7u7u437TGQkTjzECJYgIWh7VZ2z92e9Ft1YgGvfe29+taxc/nVcginyQte6w2qzZSdjt4e8x3r7+bRTF7JJ/T7Pl04s31EfzF3ByWiaExcXxTP+0rskn/YfjHGWnxy78tHwbHdYW3Jyol5zrGleWsV/8/OGHEuhdLhaBUpNM+3VcY5vMhMbvN/zBg3Ypy35r1QIsvoYtw26zsX6ZE96v3FHFxROVZIIGc7y57tO/2B3a46i4ORlCefHW8vBd/gJw44ULXWLlRoyk4LaTu/3skFf6loX+2vv9msTZ3crmprD4fv9gCXWe4+H7FQzKVos22sC0G+mpjdX26VrupkudJ6G5CkvOABmW22VQmW9zT6n/rHuREYrx/f5XtnhCotd7EzZqQje8JhtIdPrT3Zd8y+dfRr+Y7rO8HmNwb/xMyqHm+ev6otHuiGbptnsebH+o+Kt7tgTOmnxmJdc/rGJjaLzXJnLV8eXb60XFjN7wiu+3dMyCG72kzo+6s/tFCz1Dd7qdLXjC4b8nn8w4pDCj6ev6IachFYK/+BH0Ofn6s+ucs4hNCfChxWb7ny608YtYc4+NxpzuAv9XlrV6ThFjSLuCD9ZCj537KoPdfdr+I9q2Ob++q7PCR/wkMMtyqu3DD8gmCpbXr1lRfGz43FT+lSOvrS3Z22eeMN20QqC5S/W/2p5vW703FXNz/CyMQS3+vHxxQfq074tzvML9vrizlftGh3rBMeXDQ4s+uG4y/skJs23bqcNEx3R1Y2Zl2nquMxlW+uXurWma8q+K23fm140IbuWpMeY6Zqur85+fmizwqnIel0zt+f7SvN9+XpbcsN/hqan0tn9Z3+Jp4ybKpiv87oXNU1Vya7oNsp91QeMKX04353bOkrZoMJo/YiWzRY7tzamRuFOP3+w/2OdTa46cPXnhCV+2rLRsQ/Vr4mOr7a0/sLmwDr3GWbSDIN70lNGNF2aZzLDHgv1b0/rdQ1anfsqKSiVkgDZ4XqtGmk/4wWFU9OxOvWcGV3bXvFMFf1nSR6vXGWJwyUKpVKQJAmlQoS8xFKlbKs93cqEIDtNiK94HbOdrxlcbyF63DUy46PdF4z5ZHhg3Do/rUMQj3spNZSSOulTOCTLUaGhFCAjyVGpoRCcgCCafI8oOCQIguMJGhqaIql0x456WHSqakkpMCnalQ7MmfVWGx1V5VxrtFSe9jQoHKh36hMlo+53mmFR9qp96QFR0rRTe2zp6p6b/LXajmaeqVLq+BSday52ZlHP1VWAwKTskGFtBEj+82WgttwSBZO6uvocW7DfBjWgtGa/CQ0nL0uyuVbabruSSR0H61mX+XNHlc2wVDPl+Cog2ONewxKSl2xUC0oPoCsojLjPIvOrniv8k1F/17z5msWxflCh61Ny/ZbBwXRnSgWy0LZXxoDZOSOHkLrxvTb6T5IRFWYYsNu4KZLl1im7KchCWb7gHnOss1ThCDnVZbnJC1NizKnb6ZSGh5al8ZLGivH+8A8hO6TWyRY4jtT0u/nL9JqUVCoBZDWgQgBZpSIDXvEDvT957YqhtAGVT0nhrWOtR3Vkhau3978zdwWXxVsmPGxUMLNcFwtHV8kOybrIji2Y43RXu965BjztF6w3RSGm+LPxgJZrfd5zE3scsNVXmWm6EJqj8V4XFSvUJpWyk5TVBq2MF5dLR+LTereu2KpkUpDVNB1fjUnZgLNMCIhGbUa2Qp/MpGyeVvSGCfCgH2386B0XFvUzOau8kbtzG5Vvw9nOz4N1nQSZlj/2CH4wr3M0SwxapSUDsh6X2qNfclQhm+kPndfpjKaDaSKvuLT5wz5PNt2u8Y29X+lLNg5tEVC4XzRdX75j0I22m6J0UirBrLC6PD/PGXKfvzXqj59vdKvSqQsW9ywOAsgbxl8WnOYz9Q5IDsk4u3uJx8GjjR9u/cZtK0J6Jp/jrqLxin8HpWCqEgRHilb7UeeZq12MAmVtpXc4WH+06Dokq01KhoqhFXvHdnnFHmO+p55/tmiayFW932Xd5oP3h1Elxm1gUgAMuKUuh4RTjJFVFoaLi4vywCbv9X4v4SuHl77QLpyMoFFbGxsBFHYYnQCicU+AQZu0RpKpkjPW9f1ceJu55so63t+8+5ZFM+Marc317/oYFE5Y03dOrNnU7u4rbVEjed7M8TQ+uzjzAjNyAmR9FpUJoieN2FHvF0WllkB0uOibRrobhx8JOzVQaEogoiujdnEoJ9LT8axTiFHL5oUrGufVfS/6Jx+2E5Te9lw1KjhxwX4v1K2r6+4boqS03jMiyMhKbLFFFkzV8aWdlSv9upXmSJjQ2yqvbRhL7wvvdHTZsUSLhjrvzmOCqCFIPibruKQ+c5GQOxAVeW//q4NP1R0BjwoKLbXCse0af7c9ag1k/W7XA0pb3CNLlnhL9lL8K7960jEq/dYU6/LAi/7JOxxg0i3t815MlYYTV9pml9ilI4BaVwQFAmpkhQySDLoyOd25tdiXAshZ3WyfUzYvQ6+mWpYdkvXpUciOpg6aaoFJTQQNshgRjPk3VR6pJxBQSio9Ftin61hG7dAQVUrBiO2uoxQPdDbJ6HOTntrf2y6eZIzaKtdb/Lq/9W92O6Tps3b0vtZpODldbRAF1M7SJwomPI2sz9laeNq4IFhouRq1WUGu6+fq5xRMiuZafE71S+XVallhfqiBnDT8rAnMUDiqIAgyICBiX/VKtUGNZAeiAJhtuWVhcd7vndqOJSgEKy33KSOyhxxwc7XfB70uyG6ylPd7n9M5qRiVy9xeFHt9redNd5ErH6uSwsnIBs0QgjxsCJXzXYIJ70dWuMSNshDm5Y9pq3Sc5QxZrkLHg/mGbpwQEREwkc3Mb99dpgzSPlkQjNvTreZBzv3Z4SqPzFnxFWWdG/WzHjah9DlmBaGb3mebAIiiArWsdreFuRzR3w6OI5jlmnBR1dAoPmlYbYOtgiFws4tz+IQf0+GkYlTOdYdOqgebn7/xF7VNseqLX5uxqR2dnMo5btBMOXzC/SAK5VD1IS8jWWqttkw+zw5PKrzhPe62pIiv+oim2Ge2KOiYkAUIw+Hd9Q4FICB7znMk4LMdoeOXi945lygsnhFjJugP87pGRmd3c6UUEMy1OKwKe9KjxlGEcp8f9PX5Kl3HkCzwlWmwtt8bq9fOGn+fgxhBULnamhj3uN8cB6STiFEbdIPgXVn59i9fNegnjTDpYjc/1m0rnawsFR7Mq3MDorad1cdsF9CU3CsBkiAr7fEvLq3POXPeNzcfb4xdM/eyHHKsXqwfNCY4XAAE2XEN+14NZ/u9sFQXQvSa9+bvzRO9Sm1Jn88Nc5lY38oZUNshOo6ov9C106qxRbvHt4sCaoWsdNDLafHcWT9no0/apH3CMVhrfvORzkty/rf67s8eLP2oEcBX7Jz5Ujs4JYUHXBgaUNjgE0aUaoXaNluYFJTIGHOfp9LbJlZcEP56YPlAj4blM2aFhElBlgAFyEiAcLwJWHRI0ikaF7ZbtudnJQh2254vUzEpOq6gWw83R5bv62y1QVshCwYNofScDc7MZ0+cfuacs/o6XpdPKEa2wOUOdh4QBRvzu6rPurs/+xFjuMSNT1QTSqckuVCZQfSaEYXaIrtlpSaTso5s0ByvKO13gK73eVKPpX7cVRIgDPbe1hlPAiG96mG1YJV1oQ7AaekpxxAcEnRt6N16xSzFSJCPujk1m1A7pmC7TxjKB+sxQURhlfPMs92ztiHaapPBevb4rHDJglY6oRi1y7UaH+0OKdGwKb+j+uy7+zp+VNdXb5/9bLt0KgrNyvWxETMQ1Ga4zut2C1a6PlQhC0J6yhMqs3yW9R73hgxN2bip48fgjca/nX6b09Vq/UX9CJgXVkSjCnRSn+BENLzia9zmS8NMtSNlA9U3lReFKjuWgzbKgkIyzzlWmqe/EBZVq+zwlM2ShjEjtuW+fIkTiFFZ6AI7us8JgNIr+Z3153xua8iT+aYHOuMaTl602bsVzZxeV0iSAVdbbUH4y5z1WBUXdL0myJY+GnNumK+/5+qJC7xinhzCARAdErS9099rYYWfqk+ToA5qP+EpfE392QonIpiwwVmyY+l1957Gc2lEoYLkMFEp6bfcKgvsMOaguu5TxllhVl6e9tnkJa+LksyJxChcqlk8Uk/9yRtezu+r3/bFjc99vvFyLp2Kwh57SCZ1XaPVjY2Dea+kaX7KsV4C0Ws5a5lPm9nWiCGut9mRgtoO0FLlwKRgl80YceIyCsdWHIh/mWqF2kLN4FnJFNmga8OZYZ6y0zBePmmHpiAaTDPMMM8ZrnJ5PlC8lLfpyfnNY2SzXGp7/byGQ2otg7nRPNC6r64VTk1QiJIkgbIV32Xd5jPqOmp7QAhKCIZR2WBzzpJFrog9L6uOO+aPposgOFGFM/Rqyo4p51FRVrpcf/Rx2TSLLTkY2vZ4n4Xpa6uJti6CYbvQdbOritZDpy05bTD3hMaWN49RW61ZPFR3lYAaS1xvRTlSvccepZPUSjJqS52jWaZqo1eAynlmbU5djHvRIQU6tiKq7bE69ZwvSv6L5NoSf670YW3HFPTq0bAmXtoqPuVvZcFUKfyW+7z2ev9p39vrPP3aurq6Kl1tidLfetLaek15U1gsHTdGNsOFdtWbFSCrzbXWGo3GK9177FI6SUFP0kWy2OUh7jJ3PLx86O2aY1qCo6vUggjJ0VVOSIZ4rI1LRT5Q7p85s5yzRO2QINY62pJMHGy9vY4WlDPHPOTHDDtMEnd4TXna59VfMza+ztWlmDpDDhh10B4LQhg1Ypf3lk+4WeC4MWqrzIgPplENNQatdamB5r7Og91ndBVOQY9cCSjUZXxn+pLcCxS0hDtMOLqO5zwmOo7gbJ/lNH8oOY6gUmf9SiYVLtQMGZJ77MudfHOakx0SjHl9VWugrjJzYt7Y+tQ5Kw3ZZodH7XM0EfPd+Eb6iFpv1dJr0Cx9TrNOozCRviBusE8Ljhsja7nQwfSsqDLHeS432BjufqKz3pBC4RQEA0kHWUsMuiaVNqX983IqcnSkpN/ZdsmOI5vjB51R9xa93qt2pGBSRyebqwEKX2SNteaN1jWSF2WzRFOFwn7vmLtw7moDcn6m/rXyU8711S5zkbtFe73fvY7UMKubdhoVEDT1aGhqidWannPv8k4f401jJAstix9NI+a5zAUGGwe693Sfs0+pdIqiWSmPC7KW6JDCi56tC0dXm+dMteMJWWvrisfqBe1r7/S42pEmKFEYM1q5wkw7NXyjr889W4rHqu25K6ChRnaEx8a/pXeWkjBUblOble44EDtomB3jMvfIDte2pyfMNIGAyjCgY0k+u1vM4QRiZKt184jbrdaMu9MD3Q2GBQ1OXTC7zhPI+oRoikrbsWN0vJmNPpl2pxFrg6bC0WwJaU6R0bUtL8vFN/t5w27b3/ev9VB3AgHQ65ywOEimKuTe7bYDokHrJhofGtuukH1ZmD/LDNl0wZBn5l7/JbkdRozaa8iIIcPaghKSILxJjNocy+rG6Ntnyi94Jm0xoVD6Dwrm13lMUOoJxiWTkiVyKEyXs0mDoimCw2SPybLsONYXnTMbn0DpGUvaZ90abnCvJRP1rhyRFFoGrI7n66/ssMkZzVCoZOOV5X7HVNm8bnvYmEItkTVMEVnmy7Av/uHALQNnzC0ksozasGF9Gtk8X2K2bIpSME2y0ozmXq/kJ+3VOelRUxYVdEwXLO3mIQxoRlt0TOq6NKyt1IJDOnrbRcoQ7LdDRAEdR8hq9BkIupKj2RqeXnjN6ek1pYM+ZE84uznvduNktZZ+S8KFxaoYhmzzCe9VumZWiGh7Jg305nUOs7HeqxAUWnQcFEyqdGL8QSCTQpZMMWAAneD7oEzd2iRK+4qBmKfecMC7643FiOIUR02FZrDbdD2WTuSDoplahW26gkm54cOeFk0irYy3PNC/Kwew324NbQs0Cy9JpqklMyx2Ybmq4b12iI7mg31XXBnfoVYY8iEH3VbHcb0t85wdL2jM6Xjdy+6Z3Lo/2/5FRaM7LlnvOT3ZNLVRSVBZrCd7SVcAShsNC7U3V0NhSDJJ6fHZb+1RCYBgoyQqnaqmmYX1prsoN/bmLJujL05fjx8aHvHXpvpJC3cefEkEQUPXoIv1tKv7ywyCmCQdM53uwvLcEA94ym8cc4z6Dp+x8i1r2k+olEqlVMcnB++8qXtOc3DC8+me+KT7dAH7bR64cmVYnwvBhAmHC4JKaa1mdJ8oAMGrtjoZQSkASh9YfMNgtVdhkkLh1CUL46x9Pm66z27n5yRdi/T3eNAcoVap1dAQJYcUcq1SgCw51xXOnOk3ywdkMOz12XGBS5xbLCriJh/yAZuMuoCsVgkSQQB0/Hzrd25deWb7PrsltZy9PPDxtQs96kNejDtN9/suuumcWK1XObraQle7uBkf9Q6lTkAlO1lZFx1Q+kRr00Ur7qkK/zmiNaUHbTfdbmFRXoDlpVdtsyfkpd4imSsWhmRTxJ0O3lheUZtUhgXFQPZH/lQC7PXgwrvvagzExhYf8U92GAP71DOcoxYsivY6CMg2+JHip8+/YMHY7vS6hULwhH/Q6w1DjrTVT7R+5/r5q6qd2o5mnsVxfk94zI8Z0/TyQHN1e67gVGT9eqOXQw6+dOwn/6Xemkv/cR1r413t8LUeMt1F/qbTF7LQ6Phl/yD7i+qKnIllscl3e8ZU83yzz9Mng2DMev/kfmMO6XOX623393ZPuT2mX3FnJ2ZB0dv4uG8w6pAlbvClzqgalE/4Mh3Hc5Hvcm1KtaNpFF71Dv/uNXC2X0/n112nqIhxmx/77zqMLLrARQqVp72ki37nOw/7PWC/ZLqmOUqTTBg1IZsuaqp1TdfjRpcrVLb6pI2mi3otdoHdnjbizfSabbVZgsNlL9poRAUIZrjQSsmpiHZ51IH/+gMsP+1//tDjT/vf5KD8T8eAT5+u4n/U/wXa0/2K2qv7yQAAAABJRU5ErkJggg=="
}, , , , function (t, e) {
    t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAA/klEQVQ4EaWTuw3CMBRFYyToSM0AMALZgZ6Ghg3okaAECepskCWQWIEqNQxATwdFODfKx0qcWAJLV3nfYzu2g8AzsiwL0blQ6CnvTwOJ0BWlhWRHfV3GlaRpRHyD1q48sQTFxph3M98CAptRdELTZnHDf+Bvgd7teAUEJFsr0sqGdlGP/SEXowRwprocCGyCfUBzBX8YN3r2QJ8G2AJnh8Y/gOyWF85RwNSOOuy8sIh7Jx44AHZIW1mylYskGynWObpW2PrZJcF3eC6g8zqUwPIL2Hm9mlvWhV2xvXvZ2PUtalbk1VMPHQryPqm6o23RXz3RAEcP/79HzxxiiPUFozyFRV/aE1IAAAAASUVORK5CYII="
}, function (t, e) {
    t.exports = function (t) {
        return t && "object" == typeof t && "function" == typeof t.copy && "function" == typeof t.fill && "function" == typeof t.readUInt8
    }
}, function (t, e, n) {
    (function (t) {
        function i(t, n) {
            var i = {
                seen: [],
                stylize: o
            };
            return arguments.length >= 3 && (i.depth = arguments[2]), arguments.length >= 4 && (i.colors = arguments[3]), v(n) ? i.showHidden = n : n && e._extend(i, n), x(i.showHidden) && (i.showHidden = !1), x(i.depth) && (i.depth = 2), x(i.colors) && (i.colors = !1), x(i.customInspect) && (i.customInspect = !0), i.colors && (i.stylize = r), s(i, t, i.depth)
        }

        function r(t, e) {
            var n = i.styles[e];
            return n ? "[" + i.colors[n][0] + "m" + t + "[" + i.colors[n][1] + "m" : t
        }

        function o(t, e) {
            return t
        }

        function a(t) {
            var e = {};
            return t.forEach(function (t, n) {
                e[t] = !0
            }), e
        }

        function s(t, n, i) {
            if (t.customInspect && n && A(n.inspect) && n.inspect !== e.inspect && (!n.constructor || n.constructor.prototype !== n)) {
                var r = n.inspect(i, t);
                return y(r) || (r = s(t, r, i)), r
            }
            var o = l(t, n);
            if (o) return o;
            var v = Object.keys(n),
                _ = a(v);
            if (t.showHidden && (v = Object.getOwnPropertyNames(n)), E(n) && (v.indexOf("message") >= 0 || v.indexOf("description") >= 0)) return u(n);
            if (0 === v.length) {
                if (A(n)) {
                    var p = n.name ? ": " + n.name : "";
                    return t.stylize("[Function" + p + "]", "special")
                }
                if (b(n)) return t.stylize(RegExp.prototype.toString.call(n), "regexp");
                if (w(n)) return t.stylize(Date.prototype.toString.call(n), "date");
                if (E(n)) return u(n)
            }
            var m = "",
                g = !1,
                x = ["{", "}"];
            if (h(n) && (g = !0, x = ["[", "]"]), A(n)) {
                m = " [Function" + (n.name ? ": " + n.name : "") + "]"
            }
            if (b(n) && (m = " " + RegExp.prototype.toString.call(n)), w(n) && (m = " " + Date.prototype.toUTCString.call(n)), E(n) && (m = " " + u(n)), 0 === v.length && (!g || 0 == n.length)) return x[0] + m + x[1];
            if (i < 0) return b(n) ? t.stylize(RegExp.prototype.toString.call(n), "regexp") : t.stylize("[Object]", "special");
            t.seen.push(n);
            var S;
            return S = g ? c(t, n, i, _, v) : v.map(function (e) {
                return f(t, n, i, _, e, g)
            }), t.seen.pop(), d(S, m, x)
        }

        function l(t, e) {
            if (x(e)) return t.stylize("undefined", "undefined");
            if (y(e)) {
                var n = "'" + JSON.stringify(e).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
                return t.stylize(n, "string")
            }
            return m(e) ? t.stylize("" + e, "number") : v(e) ? t.stylize("" + e, "boolean") : _(e) ? t.stylize("null", "null") : void 0
        }

        function u(t) {
            return "[" + Error.prototype.toString.call(t) + "]"
        }

        function c(t, e, n, i, r) {
            for (var o = [], a = 0, s = e.length; a < s; ++a) M(e, String(a)) ? o.push(f(t, e, n, i, String(a), !0)) : o.push("");
            return r.forEach(function (r) {
                r.match(/^\d+$/) || o.push(f(t, e, n, i, r, !0))
            }), o
        }

        function f(t, e, n, i, r, o) {
            var a, l, u;
            if (u = Object.getOwnPropertyDescriptor(e, r) || {
                    value: e[r]
                }, u.get ? l = u.set ? t.stylize("[Getter/Setter]", "special") : t.stylize("[Getter]", "special") : u.set && (l = t.stylize("[Setter]", "special")), M(i, r) || (a = "[" + r + "]"), l || (t.seen.indexOf(u.value) < 0 ? (l = _(n) ? s(t, u.value, null) : s(t, u.value, n - 1), l.indexOf("\n") > -1 && (l = o ? l.split("\n").map(function (t) {
                    return "  " + t
                }).join("\n").substr(2) : "\n" + l.split("\n").map(function (t) {
                    return "   " + t
                }).join("\n"))) : l = t.stylize("[Circular]", "special")), x(a)) {
                if (o && r.match(/^\d+$/)) return l;
                a = JSON.stringify("" + r), a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (a = a.substr(1, a.length - 2), a = t.stylize(a, "name")) : (a = a.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), a = t.stylize(a, "string"))
            }
            return a + ": " + l
        }

        function d(t, e, n) {
            var i = 0;
            return t.reduce(function (t, e) {
                return i++, e.indexOf("\n") >= 0 && i++, t + e.replace(/\u001b\[\d\d?m/g, "").length + 1
            }, 0) > 60 ? n[0] + ("" === e ? "" : e + "\n ") + " " + t.join(",\n  ") + " " + n[1] : n[0] + e + " " + t.join(", ") + " " + n[1]
        }

        function h(t) {
            return Array.isArray(t)
        }

        function v(t) {
            return "boolean" == typeof t
        }

        function _(t) {
            return null === t
        }

        function p(t) {
            return null == t
        }

        function m(t) {
            return "number" == typeof t
        }

        function y(t) {
            return "string" == typeof t
        }

        function g(t) {
            return "symbol" == typeof t
        }

        function x(t) {
            return void 0 === t
        }

        function b(t) {
            return S(t) && "[object RegExp]" === k(t)
        }

        function S(t) {
            return "object" == typeof t && null !== t
        }

        function w(t) {
            return S(t) && "[object Date]" === k(t)
        }

        function E(t) {
            return S(t) && ("[object Error]" === k(t) || t instanceof Error)
        }

        function A(t) {
            return "function" == typeof t
        }

        function T(t) {
            return null === t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || "symbol" == typeof t || void 0 === t
        }

        function k(t) {
            return Object.prototype.toString.call(t)
        }

        function P(t) {
            return t < 10 ? "0" + t.toString(10) : t.toString(10)
        }

        function I() {
            var t = new Date,
                e = [P(t.getHours()), P(t.getMinutes()), P(t.getSeconds())].join(":");
            return [t.getDate(), z[t.getMonth()], e].join(" ")
        }

        function M(t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }

        function L(t, e) {
            if (!t) {
                var n = new Error("Promise was rejected with a falsy value");
                n.reason = t, t = n
            }
            return e(t)
        }

        function C(e) {
            function n() {
                for (var n = [], i = 0; i < arguments.length; i++) n.push(arguments[i]);
                var r = n.pop();
                if ("function" != typeof r) throw new TypeError("The last argument must be of type Function");
                var o = this,
                    a = function () {
                        return r.apply(o, arguments)
                    };
                e.apply(this, n).then(function (e) {
                    t.nextTick(a, null, e)
                }, function (e) {
                    t.nextTick(L, e, a)
                })
            }
            if ("function" != typeof e) throw new TypeError('The "original" argument must be of type Function');
            return Object.setPrototypeOf(n, Object.getPrototypeOf(e)), Object.defineProperties(n, V(e)), n
        }
        var V = Object.getOwnPropertyDescriptors || function (t) {
                for (var e = Object.keys(t), n = {}, i = 0; i < e.length; i++) n[e[i]] = Object.getOwnPropertyDescriptor(t, e[i]);
                return n
            },
            R = /%[sdj%]/g;
        e.format = function (t) {
            if (!y(t)) {
                for (var e = [], n = 0; n < arguments.length; n++) e.push(i(arguments[n]));
                return e.join(" ")
            }
            for (var n = 1, r = arguments, o = r.length, a = String(t).replace(R, function (t) {
                    if ("%%" === t) return "%";
                    if (n >= o) return t;
                    switch (t) {
                        case "%s":
                            return String(r[n++]);
                        case "%d":
                            return Number(r[n++]);
                        case "%j":
                            try {
                                return JSON.stringify(r[n++])
                            } catch (t) {
                                return "[Circular]"
                            }
                            default:
                                return t
                    }
                }), s = r[n]; n < o; s = r[++n]) _(s) || !S(s) ? a += " " + s : a += " " + i(s);
            return a
        }, e.deprecate = function (n, i) {
            function r() {
                if (!o) {
                    if (t.throwDeprecation) throw new Error(i);
                    t.traceDeprecation ? console.trace(i) : console.error(i), o = !0
                }
                return n.apply(this, arguments)
            }
            if (void 0 !== t && !0 === t.noDeprecation) return n;
            if (void 0 === t) return function () {
                return e.deprecate(n, i).apply(this, arguments)
            };
            var o = !1;
            return r
        };
        var O, F = {};
        e.debuglog = function (n) {
            if (x(O) && (O = t.env.NODE_DEBUG || ""), n = n.toUpperCase(), !F[n])
                if (new RegExp("\\b" + n + "\\b", "i").test(O)) {
                    var i = t.pid;
                    F[n] = function () {
                        var t = e.format.apply(e, arguments);
                        console.error("%s %d: %s", n, i, t)
                    }
                } else F[n] = function () {};
            return F[n]
        }, e.inspect = i, i.colors = {
            bold: [1, 22],
            italic: [3, 23],
            underline: [4, 24],
            inverse: [7, 27],
            white: [37, 39],
            grey: [90, 39],
            black: [30, 39],
            blue: [34, 39],
            cyan: [36, 39],
            green: [32, 39],
            magenta: [35, 39],
            red: [31, 39],
            yellow: [33, 39]
        }, i.styles = {
            special: "cyan",
            number: "yellow",
            boolean: "yellow",
            undefined: "grey",
            null: "bold",
            string: "green",
            date: "magenta",
            regexp: "red"
        }, e.isArray = h, e.isBoolean = v, e.isNull = _, e.isNullOrUndefined = p, e.isNumber = m, e.isString = y, e.isSymbol = g, e.isUndefined = x, e.isRegExp = b, e.isObject = S, e.isDate = w, e.isError = E, e.isFunction = A, e.isPrimitive = T, e.isBuffer = n(843);
        var z = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        e.log = function () {
            console.log("%s - %s", I(), e.format.apply(e, arguments))
        }, e.inherits = n(811), e._extend = function (t, e) {
            if (!e || !S(e)) return t;
            for (var n = Object.keys(e), i = n.length; i--;) t[n[i]] = e[n[i]];
            return t
        };
        var N = "undefined" != typeof Symbol ? Symbol("util.promisify.custom") : void 0;
        e.promisify = function (t) {
            function e() {
                for (var e, n, i = new Promise(function (t, i) {
                        e = t, n = i
                    }), r = [], o = 0; o < arguments.length; o++) r.push(arguments[o]);
                r.push(function (t, i) {
                    t ? n(t) : e(i)
                });
                try {
                    t.apply(this, r)
                } catch (t) {
                    n(t)
                }
                return i
            }
            if ("function" != typeof t) throw new TypeError('The "original" argument must be of type Function');
            if (N && t[N]) {
                var e = t[N];
                if ("function" != typeof e) throw new TypeError('The "util.promisify.custom" argument must be of type Function');
                return Object.defineProperty(e, N, {
                    value: e,
                    enumerable: !1,
                    writable: !1,
                    configurable: !0
                }), e
            }
            return Object.setPrototypeOf(e, Object.getPrototypeOf(t)), N && Object.defineProperty(e, N, {
                value: e,
                enumerable: !1,
                writable: !1,
                configurable: !0
            }), Object.defineProperties(e, V(t))
        }, e.promisify.custom = N, e.callbackify = C
    }).call(e, n(824))
}]);
